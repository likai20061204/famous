{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/famous/components/Align.js","work.js","node_modules/famous/components/Camera.js","node_modules/famous/components/GestureHandler.js","node_modules/famous/components/Position.js","node_modules/famous/core/Chan.js","node_modules/famous/core/Channel.js","node_modules/famous/core/Clock.js","node_modules/famous/core/Commands.js","node_modules/famous/core/CrossCall.js","node_modules/famous/core/Dispatch.js","node_modules/famous/core/Event.js","node_modules/famous/core/FamousEngine.js","node_modules/famous/core/Node.js","node_modules/famous/core/Path.js","node_modules/famous/core/PathStore.js","node_modules/famous/core/Scene.js","node_modules/famous/core/Size.js","node_modules/famous/core/SizeSystem.js","node_modules/famous/core/Transform.js","node_modules/famous/core/TransformSystem.js","node_modules/famous/dom-renderables/DOMElement.js","node_modules/famous/dom-renderers/DOMRenderer.js","node_modules/famous/dom-renderers/ElementCache.js","node_modules/famous/dom-renderers/Math.js","node_modules/famous/dom-renderers/VoidElements.js","node_modules/famous/dom-renderers/events/CompositionEvent.js","node_modules/famous/dom-renderers/events/Event.js","node_modules/famous/dom-renderers/events/EventMap.js","node_modules/famous/dom-renderers/events/FocusEvent.js","node_modules/famous/dom-renderers/events/InputEvent.js","node_modules/famous/dom-renderers/events/KeyboardEvent.js","node_modules/famous/dom-renderers/events/MouseEvent.js","node_modules/famous/dom-renderers/events/ScrollEvent.js","node_modules/famous/dom-renderers/events/TouchEvent.js","node_modules/famous/dom-renderers/events/UIEvent.js","node_modules/famous/dom-renderers/events/WheelEvent.js","node_modules/famous/math/Vec2.js","node_modules/famous/polyfills/animationFrame.js","node_modules/famous/polyfills/index.js","node_modules/famous/render-loops/RequestAnimationFrameLoop.js","node_modules/famous/renderers/Compositor.js","node_modules/famous/renderers/Context.js","node_modules/famous/renderers/UIManager.js","node_modules/famous/renderers/inject-css.js","node_modules/famous/transitions/Curves.js","node_modules/famous/transitions/Transitionable.js","node_modules/famous/utilities/CallbackStore.js","node_modules/famous/utilities/Registry.js","node_modules/famous/utilities/clone.js","node_modules/famous/utilities/keyValueToArrays.js","node_modules/famous/utilities/vendorPrefix.js","node_modules/famous/webgl-renderers/Buffer.js","node_modules/famous/webgl-renderers/BufferRegistry.js","node_modules/famous/webgl-renderers/Debug.js","node_modules/famous/webgl-renderers/Program.js","node_modules/famous/webgl-renderers/Texture.js","node_modules/famous/webgl-renderers/TextureManager.js","node_modules/famous/webgl-renderers/WebGLRenderer.js","node_modules/famous/webgl-renderers/compileMaterial.js","node_modules/famous/webgl-renderers/createCheckerboard.js","node_modules/famous/webgl-renderers/radixSort.js","node_modules/famous/webgl-shaders/index.js","source/node_modules/Ajax.js","source/node_modules/App.js","source/node_modules/Dialogs.js","source/node_modules/GoogleAnalytics.js","source/node_modules/IconItem.js","source/node_modules/IconText.js","source/node_modules/ListView.js","source/node_modules/Page.js","source/node_modules/Router.js","source/node_modules/StorageModel.js","source/node_modules/Tips.js","source/node_modules/blank.js","source/node_modules/button.js","source/node_modules/config.json","source/node_modules/inputCustom.js","source/node_modules/model/SignModel.js","source/node_modules/model/VersionModel.js","source/node_modules/model/incrementModel.js","source/node_modules/model/messageModel.js","source/node_modules/model/myInfoModel.js","source/node_modules/navbar.js","source/node_modules/pages.js","source/node_modules/twoBtnNav.js","source/pages/apply/adApply.js","source/pages/apply/shopChoose.js","source/pages/conService/apply_hall.js","source/pages/conService/apply_wl.js","source/pages/conService/apply_yard.js","source/pages/home/code.js","source/pages/home/find.js","source/pages/home/index.js","source/pages/home/listItem.js","source/pages/home/message.js","source/pages/home/message1.js","source/pages/home/myinfo.js","source/pages/home/personalCenter.js","source/pages/messages/notice.js","source/pages/messages/noticeDetail.js","source/pages/orderPage/orderPage.js","source/pages/record/adRecord.js","source/pages/record/businessRecord.js","source/pages/record/orderRecord.js","source/pages/record/record_hall.js","source/pages/record/record_yard.js","source/pages/record/repairRecord.js","source/pages/service/card.js","source/pages/service/index.js","source/pages/service/licence.js","source/pages/service/repair.js","source/pages/setting/about_us.js","source/pages/setting/company_intro.js","source/pages/setting/index.js","source/pages/setting/merchantGrade.js","source/pages/sign/confirmPwd.js","source/pages/sign/login.js","source/pages/sign/resetPwd.js","source/work.js"],"names":[],"mappings":"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,GAAA,CACA,QAAA,QAAA,OAAA,CAAA,IAAA,CAAA,IAAA,GAAA,CACA,IAAA,CAAA,EAAA,GAAA,CAEA,IAAA,CAAA,EAAA,CAAA,CAEA,GAAA,EAAA,CAAA,CAAA,CAAA,GAAA,EAAA,CAAA,CAAA,CAAA,GAAA,EAAA,EAAA,CAAA,CAAA,GAAA,EAAA,EAAA,CAAA,CAEA,IAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CACA,QAAA,QAAA,OAAA,CAAA,IAAA,CAAA,IAAA,GAAA,CACA,IAAA,CAAA,EAAA,GAAA,CAEA,IAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CACA,QAAA,QAAA,OAAA,CAAA,IAAA,CAAA,IAAA,GAAA,CACA,IAAA,CAAA,EAAA,GAAA,CAEA,IAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CACA,QAAA,QAAA,OAAA,CAAA,IAAA,EAAA,IAAA,GAAA,CACA,IAAA,EAAA,EAAA,GAAA,CAEA,IAAA,EAAA,EAAA,CAAA,CAEA,GAAA,EAAA,EAAA,CAAA,CAAA,GAAA,EAAA,EAAA,CAAA,CAAA,GAAA,EAAA,EAAA,CAAA,CAAA,GAAA,EAAA,EAAA,CAAA,CAEA,IAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CACA,QAAA,QAAA,OAAA,CAAA,CAAA,EAAA,IAAA,EAAA,CAAA,KAAA,EAAA,GAAA,CAAA,CACA,IAAA,EAAA,EAAA,GAAA,CAEA,IAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CACA,QAAA,QAAA,OAAA,CAAA,CAAA,EAAA,IAAA,EAAA,CAAA,KAAA,EAAA,GAAA,CAAA,CACA,IAAA,EAAA,EAAA,GAAA,CAEA,IAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CACA,QAAA,QAAA,OAAA,CAAA,IAAA,EAAA,IAAA,GAAA,CACA,IAAA,EAAA,EAAA,GAAA,CAEA,IAAA,EAAA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","file":"work.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\r\n * The MIT License (MIT)\r\n * \r\n * Copyright (c) 2015 Famous Industries Inc.\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Position = require('./Position');\r\n\r\n/**\r\n * Align is a component designed to allow for smooth tweening\r\n * of the alignment of a node relative to its parent.\r\n *\r\n * @class Align\r\n * @augments Position\r\n *\r\n * @param {Node} node Node that the Align component will be attached to\r\n */\r\nfunction Align(node) {\r\n    Position.call(this, node);\r\n\r\n    var initial = node.getAlign();\r\n\r\n    this._x.set(initial[0]);\r\n    this._y.set(initial[1]);\r\n    this._z.set(initial[2]);\r\n}\r\n\r\n/**\r\n * Return the name of the Align component\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the component\r\n */\r\nAlign.prototype.toString = function toString() {\r\n    return 'Align';\r\n};\r\n\r\nAlign.prototype = Object.create(Position.prototype);\r\nAlign.prototype.constructor = Align;\r\n\r\n/**\r\n * When the node this component is attached to updates, update the value\r\n * of the Node's align.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nAlign.prototype.update = function update() {\r\n    this._node.setAlign(this._x.get(), this._y.get(), this._z.get());\r\n    this._checkUpdate();\r\n};\r\n\r\nAlign.prototype.onUpdate = Align.prototype.update;\r\n\r\nmodule.exports = Align;\r\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n * \r\n * Copyright (c) 2015 Famous Industries Inc.\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Position = require('./Position');\r\n\r\n/**\r\n * Align is a component designed to allow for smooth tweening\r\n * of the alignment of a node relative to its parent.\r\n *\r\n * @class Align\r\n * @augments Position\r\n *\r\n * @param {Node} node Node that the Align component will be attached to\r\n */\r\nfunction Align(node) {\r\n    Position.call(this, node);\r\n\r\n    var initial = node.getAlign();\r\n\r\n    this._x.set(initial[0]);\r\n    this._y.set(initial[1]);\r\n    this._z.set(initial[2]);\r\n}\r\n\r\n/**\r\n * Return the name of the Align component\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the component\r\n */\r\nAlign.prototype.toString = function toString() {\r\n    return 'Align';\r\n};\r\n\r\nAlign.prototype = Object.create(Position.prototype);\r\nAlign.prototype.constructor = Align;\r\n\r\n/**\r\n * When the node this component is attached to updates, update the value\r\n * of the Node's align.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nAlign.prototype.update = function update() {\r\n    this._node.setAlign(this._x.get(), this._y.get(), this._z.get());\r\n    this._checkUpdate();\r\n};\r\n\r\nAlign.prototype.onUpdate = Align.prototype.update;\r\n\r\nmodule.exports = Align;\r\n\n},{\"./Position\":4}],2:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Commands = require('../core/Commands');\r\n\r\n/**\r\n * Camera is a component that is responsible for sending information to the renderer about where\r\n * the camera is in the scene.  This allows the user to set the type of projection, the focal depth,\r\n * and other properties to adjust the way the scenes are rendered.\r\n *\r\n * @class Camera\r\n *\r\n * @param {Node} node to which the instance of Camera will be a component of\r\n */\r\nfunction Camera(node) {\r\n    this._node = node;\r\n    this._projectionType = Camera.ORTHOGRAPHIC_PROJECTION;\r\n    this._focalDepth = 0;\r\n    this._near = 0;\r\n    this._far = 0;\r\n    this._requestingUpdate = false;\r\n    this._id = node.addComponent(this);\r\n    this._viewTransform = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\r\n    this._viewDirty = false;\r\n    this._perspectiveDirty = false;\r\n    this.setFlat();\r\n}\r\n\r\nCamera.FRUSTUM_PROJECTION = 0;\r\nCamera.PINHOLE_PROJECTION = 1;\r\nCamera.ORTHOGRAPHIC_PROJECTION = 2;\r\n\r\n/**\r\n * @method\r\n *\r\n * @return {String} Name of the component\r\n */\r\nCamera.prototype.toString = function toString() {\r\n    return 'Camera';\r\n};\r\n\r\n/**\r\n * Gets object containing serialized data for the component\r\n *\r\n * @method\r\n *\r\n * @return {Object} the state of the component\r\n */\r\nCamera.prototype.getValue = function getValue() {\r\n    return {\r\n        component: this.toString(),\r\n        projectionType: this._projectionType,\r\n        focalDepth: this._focalDepth,\r\n        near: this._near,\r\n        far: this._far\r\n    };\r\n};\r\n\r\n/**\r\n * Set the components state based on some serialized data\r\n *\r\n * @method\r\n *\r\n * @param {Object} state an object defining what the state of the component should be\r\n *\r\n * @return {Boolean} status of the set\r\n */\r\nCamera.prototype.setValue = function setValue(state) {\r\n    if (this.toString() === state.component) {\r\n        this.set(state.projectionType, state.focalDepth, state.near, state.far);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * Set the internals of the component\r\n *\r\n * @method\r\n *\r\n * @param {Number} type an id corresponding to the type of projection to use\r\n * @param {Number} depth the depth for the pinhole projection model\r\n * @param {Number} near the distance of the near clipping plane for a frustum projection\r\n * @param {Number} far the distance of the far clipping plane for a frustum projection\r\n *\r\n * @return {Boolean} status of the set\r\n */\r\nCamera.prototype.set = function set(type, depth, near, far) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n    this._projectionType = type;\r\n    this._focalDepth = depth;\r\n    this._near = near;\r\n    this._far = far;\r\n};\r\n\r\n/**\r\n * Set the camera depth for a pinhole projection model\r\n *\r\n * @method\r\n *\r\n * @param {Number} depth the distance between the Camera and the origin\r\n *\r\n * @return {Camera} this\r\n */\r\nCamera.prototype.setDepth = function setDepth(depth) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n    this._perspectiveDirty = true;\r\n    this._projectionType = Camera.PINHOLE_PROJECTION;\r\n    this._focalDepth = depth;\r\n    this._near = 0;\r\n    this._far = 0;\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets object containing serialized data for the component\r\n *\r\n * @method\r\n *\r\n * @param {Number} near distance from the near clipping plane to the camera\r\n * @param {Number} far distance from the far clipping plane to the camera\r\n *\r\n * @return {Camera} this\r\n */\r\nCamera.prototype.setFrustum = function setFrustum(near, far) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    this._perspectiveDirty = true;\r\n    this._projectionType = Camera.FRUSTUM_PROJECTION;\r\n    this._focalDepth = 0;\r\n    this._near = near;\r\n    this._far = far;\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Set the Camera to have orthographic projection\r\n *\r\n * @method\r\n *\r\n * @return {Camera} this\r\n */\r\nCamera.prototype.setFlat = function setFlat() {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    this._perspectiveDirty = true;\r\n    this._projectionType = Camera.ORTHOGRAPHIC_PROJECTION;\r\n    this._focalDepth = 0;\r\n    this._near = 0;\r\n    this._far = 0;\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * When the node this component is attached to updates, the Camera will\r\n * send new camera information to the Compositor to update the rendering\r\n * of the scene.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCamera.prototype.onUpdate = function onUpdate() {\r\n    this._requestingUpdate = false;\r\n\r\n    var path = this._node.getLocation();\r\n\r\n    this._node\r\n        .sendDrawCommand(Commands.WITH)\r\n        .sendDrawCommand(path);\r\n\r\n    if (this._perspectiveDirty) {\r\n        this._perspectiveDirty = false;\r\n\r\n        switch (this._projectionType) {\r\n            case Camera.FRUSTUM_PROJECTION:\r\n                this._node.sendDrawCommand(Commands.FRUSTRUM_PROJECTION);\r\n                this._node.sendDrawCommand(this._near);\r\n                this._node.sendDrawCommand(this._far);\r\n                break;\r\n            case Camera.PINHOLE_PROJECTION:\r\n                this._node.sendDrawCommand(Commands.PINHOLE_PROJECTION);\r\n                this._node.sendDrawCommand(this._focalDepth);\r\n                break;\r\n            case Camera.ORTHOGRAPHIC_PROJECTION:\r\n                this._node.sendDrawCommand(Commands.ORTHOGRAPHIC_PROJECTION);\r\n                break;\r\n        }\r\n    }\r\n\r\n    if (this._viewDirty) {\r\n        this._viewDirty = false;\r\n\r\n        this._node.sendDrawCommand(Commands.CHANGE_VIEW_TRANSFORM);\r\n        this._node.sendDrawCommand(this._viewTransform[0]);\r\n        this._node.sendDrawCommand(this._viewTransform[1]);\r\n        this._node.sendDrawCommand(this._viewTransform[2]);\r\n        this._node.sendDrawCommand(this._viewTransform[3]);\r\n\r\n        this._node.sendDrawCommand(this._viewTransform[4]);\r\n        this._node.sendDrawCommand(this._viewTransform[5]);\r\n        this._node.sendDrawCommand(this._viewTransform[6]);\r\n        this._node.sendDrawCommand(this._viewTransform[7]);\r\n\r\n        this._node.sendDrawCommand(this._viewTransform[8]);\r\n        this._node.sendDrawCommand(this._viewTransform[9]);\r\n        this._node.sendDrawCommand(this._viewTransform[10]);\r\n        this._node.sendDrawCommand(this._viewTransform[11]);\r\n\r\n        this._node.sendDrawCommand(this._viewTransform[12]);\r\n        this._node.sendDrawCommand(this._viewTransform[13]);\r\n        this._node.sendDrawCommand(this._viewTransform[14]);\r\n        this._node.sendDrawCommand(this._viewTransform[15]);\r\n    }\r\n};\r\n\r\n/**\r\n * When the transform of the node this component is attached to\r\n * changes, have the Camera update its projection matrix and\r\n * if needed, flag to node to update.\r\n *\r\n * @method\r\n *\r\n * @param {Array} transform an array denoting the transform matrix of the node\r\n *\r\n * @return {Camera} this\r\n */\r\nCamera.prototype.onTransformChange = function onTransformChange(transform) {\r\n    var a = transform;\r\n    this._viewDirty = true;\r\n\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\r\n    a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\r\n    a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\r\n    a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\r\n\r\n    b00 = a00 * a11 - a01 * a10,\r\n    b01 = a00 * a12 - a02 * a10,\r\n    b02 = a00 * a13 - a03 * a10,\r\n    b03 = a01 * a12 - a02 * a11,\r\n    b04 = a01 * a13 - a03 * a11,\r\n    b05 = a02 * a13 - a03 * a12,\r\n    b06 = a20 * a31 - a21 * a30,\r\n    b07 = a20 * a32 - a22 * a30,\r\n    b08 = a20 * a33 - a23 * a30,\r\n    b09 = a21 * a32 - a22 * a31,\r\n    b10 = a21 * a33 - a23 * a31,\r\n    b11 = a22 * a33 - a23 * a32,\r\n\r\n    det = 1/(b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06);\r\n\r\n    this._viewTransform[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n    this._viewTransform[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n    this._viewTransform[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n    this._viewTransform[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\r\n    this._viewTransform[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n    this._viewTransform[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n    this._viewTransform[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n    this._viewTransform[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\r\n    this._viewTransform[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n    this._viewTransform[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n    this._viewTransform[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n    this._viewTransform[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\r\n    this._viewTransform[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\r\n    this._viewTransform[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\r\n    this._viewTransform[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\r\n    this._viewTransform[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\r\n};\r\n\r\nmodule.exports = Camera;\r\n\n},{\"../core/Commands\":8}],3:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar CallbackStore = require('../utilities/CallbackStore');\r\nvar Vec2 = require('../math/Vec2');\r\n\r\nvar VEC_REGISTER = new Vec2();\r\n\r\nvar gestures = {drag: true, tap: true, rotate: true, pinch: true};\r\n\r\n/**\r\n * Component to manage gesture events. Will track 'pinch', 'rotate', 'tap', and 'drag' events, on an\r\n * as-requested basis.\r\n *\r\n * @class GestureHandler\r\n *\r\n * @param {Node} node The node with which to register the handler.\r\n * @param {Array} events An array of event objects specifying .event and .callback properties.\r\n */\r\nfunction GestureHandler(node, events) {\r\n    this.node = node;\r\n    this.id = node.addComponent(this);\r\n\r\n    this._events = new CallbackStore();\r\n\r\n    this.last1 = new Vec2();\r\n    this.last2 = new Vec2();\r\n\r\n    this.delta1 = new Vec2();\r\n    this.delta2 = new Vec2();\r\n\r\n    this.velocity1 = new Vec2();\r\n    this.velocity2 = new Vec2();\r\n\r\n    this.dist = 0;\r\n    this.diff12 = new Vec2();\r\n\r\n    this.center = new Vec2();\r\n    this.centerDelta = new Vec2();\r\n    this.centerVelocity = new Vec2();\r\n\r\n    this.pointer1 = {\r\n        position: this.last1,\r\n        delta: this.delta1,\r\n        velocity: this.velocity1\r\n    };\r\n\r\n    this.pointer2 = {\r\n        position: this.last2,\r\n        delta: this.delta2,\r\n        velocity: this.velocity2\r\n    };\r\n\r\n    this.event = {\r\n        status: null,\r\n        time: 0,\r\n        pointers: [],\r\n        center: this.center,\r\n        centerDelta: this.centerDelta,\r\n        centerVelocity: this.centerVelocity,\r\n        points: 0,\r\n        current: 0\r\n    };\r\n\r\n    this.trackedPointerIDs = [-1, -1];\r\n    this.timeOfPointer = 0;\r\n    this.multiTap = 0;\r\n\r\n    this.mice = [];\r\n\r\n    this.gestures = [];\r\n    this.options = {};\r\n    this.trackedGestures = {};\r\n\r\n    var i;\r\n    var len;\r\n\r\n    if (events) {\r\n        for (i = 0, len = events.length; i < len; i++) {\r\n            this.on(events[i], events[i].callback);\r\n        }\r\n    }\r\n\r\n    node.addUIEvent('touchstart');\r\n    node.addUIEvent('mousedown');\r\n    node.addUIEvent('touchmove');\r\n    node.addUIEvent('mousemove');\r\n    node.addUIEvent('touchend');\r\n    node.addUIEvent('mouseup');\r\n    node.addUIEvent('mouseleave');\r\n}\r\n\r\n\r\n/**\r\n * onReceive fires when the node this component is attached to gets an event.\r\n *\r\n * @method\r\n *\r\n * @param {String} ev name of the event\r\n * @param {Object} payload data associated with the event\r\n *\r\n * @return {undefined} undefined\r\n */\r\nGestureHandler.prototype.onReceive = function onReceive (ev, payload) {\r\n    switch(ev) {\r\n        case 'touchstart':\r\n        case 'mousedown':\r\n            _processPointerStart.call(this, payload);\r\n            break;\r\n        case 'touchmove':\r\n        case 'mousemove':\r\n            _processPointerMove.call(this, payload);\r\n            break;\r\n        case 'touchend':\r\n        case 'mouseup':\r\n            _processPointerEnd.call(this, payload);\r\n            break;\r\n        case 'mouseleave':\r\n            _processMouseLeave.call(this, payload);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n};\r\n\r\n/**\r\n * Return the name of the GestureHandler component\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the component\r\n */\r\nGestureHandler.prototype.toString = function toString() {\r\n    return 'GestureHandler';\r\n};\r\n\r\n/**\r\n * Register a callback to be invoked on an event.\r\n *\r\n * @method\r\n *\r\n * @param {Object|String} ev The event object or event name.\r\n * @param {Function} cb The callback\r\n *\r\n * @return {undefined} undefined\r\n */\r\nGestureHandler.prototype.on = function on(ev, cb) {\r\n    var gesture = ev.event || ev;\r\n    if (gestures[gesture]) {\r\n        this.trackedGestures[gesture] = true;\r\n        this.gestures.push(gesture);\r\n        if (ev.event) this.options[gesture] = ev;\r\n        this._events.on(gesture, cb);\r\n    }\r\n};\r\n\r\n/**\r\n * Trigger gestures in the order they were requested, if they occurred.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nGestureHandler.prototype.triggerGestures = function() {\r\n    var payload = this.event;\r\n    for (var i = 0, len = this.gestures.length; i < len; i++) {\r\n        var gesture = this.gestures[i];\r\n        switch (gesture) {\r\n            case 'rotate':\r\n            case 'pinch':\r\n                if (payload.points === 2) this.trigger(gesture, payload);\r\n                break;\r\n            case 'tap':\r\n                if (payload.status === 'start') {\r\n                    if (this.options.tap) {\r\n                        var pts = this.options.tap.points || 1;\r\n                        if(this.multiTap >= pts && payload.points >= pts) this.trigger(gesture, payload);\r\n                    }\r\n                    else this.trigger(gesture, payload);\r\n                }\r\n                break;\r\n            default:\r\n                this.trigger(gesture, payload);\r\n                break;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Trigger the callback associated with an event, passing in a payload.\r\n *\r\n * @method trigger\r\n *\r\n * @param {String} ev The event name\r\n * @param {Object} payload The event payload\r\n *\r\n * @return {undefined} undefined\r\n */\r\nGestureHandler.prototype.trigger = function trigger (ev, payload) {\r\n    this._events.trigger(ev, payload);\r\n};\r\n\r\n/**\r\n * Process up to the first two touch/mouse move events. Exit out if the first two points are already being tracked.\r\n *\r\n * @method _processPointerStart\r\n * @private\r\n *\r\n * @param {Object} e The event object\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction _processPointerStart(e) {\r\n    var t;\r\n    if (!e.targetTouches) {\r\n        this.mice[0] = e;\r\n        t = this.mice;\r\n        e.identifier = 1;\r\n    }\r\n    else t = e.targetTouches;\r\n\r\n    if (t[0] && t[1] && this.trackedPointerIDs[0] === t[0].identifier && this.trackedPointerIDs[1] === t[1].identifier) {\r\n        return;\r\n    }\r\n\r\n    this.event.time = Date.now();\r\n\r\n    var threshold;\r\n    var id;\r\n\r\n    if (this.trackedPointerIDs[0] !== t[0].identifier) {\r\n        if (this.trackedGestures.tap) {\r\n            threshold = (this.options.tap && this.options.tap.threshold) || 250;\r\n            if (this.event.time - this.timeOfPointer < threshold) this.event.taps++;\r\n            else this.event.taps = 1;\r\n            this.timeOfPointer = this.event.time;\r\n            this.multiTap = 1;\r\n        }\r\n        this.event.current = 1;\r\n        this.event.points = 1;\r\n        id = t[0].identifier;\r\n        this.trackedPointerIDs[0] = id;\r\n\r\n        this.last1.set(t[0].pageX, t[0].pageY);\r\n        this.velocity1.clear();\r\n        this.delta1.clear();\r\n        this.event.pointers.push(this.pointer1);\r\n    }\r\n    if (t[1] && this.trackedPointerIDs[1] !== t[1].identifier) {\r\n        if (this.trackedGestures.tap) {\r\n            threshold = (this.options.tap && this.options.tap.threshold) || 250;\r\n            if (this.event.time - this.timeOfPointer < threshold) this.multiTap = 2;\r\n        }\r\n        this.event.current = 2;\r\n        this.event.points = 2;\r\n        id = t[1].identifier;\r\n        this.trackedPointerIDs[1] = id;\r\n\r\n        this.last2.set(t[1].pageX, t[1].pageY);\r\n        this.velocity2.clear();\r\n        this.delta2.clear();\r\n\r\n        Vec2.add(this.last1, this.last2, this.center).scale(0.5);\r\n        this.centerDelta.clear();\r\n        this.centerVelocity.clear();\r\n\r\n        Vec2.subtract(this.last2, this.last1, this.diff12);\r\n        this.dist = this.diff12.length();\r\n\r\n        if (this.trackedGestures.pinch) {\r\n            this.event.scale = this.event.scale || 1;\r\n            this.event.scaleDelta = 0;\r\n            this.event.scaleVelocity = 0;\r\n        }\r\n        if (this.trackedGestures.rotate) {\r\n            this.event.rotation = this.event.rotation || 0;\r\n            this.event.rotationDelta = 0;\r\n            this.event.rotationVelocity = 0;\r\n        }\r\n        this.event.pointers.push(this.pointer2);\r\n    }\r\n\r\n    this.event.status = 'start';\r\n    if (this.event.points === 1) {\r\n        this.center.copy(this.last1);\r\n        this.centerDelta.clear();\r\n        this.centerVelocity.clear();\r\n        if (this.trackedGestures.pinch) {\r\n            this.event.scale = 1;\r\n            this.event.scaleDelta = 0;\r\n            this.event.scaleVelocity = 0;\r\n        }\r\n        if (this.trackedGestures.rotate) {\r\n            this.event.rotation = 0;\r\n            this.event.rotationDelta = 0;\r\n            this.event.rotationVelocity = 0;\r\n        }\r\n    }\r\n    this.triggerGestures();\r\n}\r\n\r\n/**\r\n * Process up to the first two touch/mouse move events.\r\n *\r\n * @method _processPointerMove\r\n * @private\r\n *\r\n * @param {Object} e The event object.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction _processPointerMove(e) {\r\n    var t;\r\n    if (!e.targetTouches) {\r\n        if (!this.event.current) return;\r\n        this.mice[0] = e;\r\n        t = this.mice;\r\n        e.identifier = 1;\r\n    }\r\n    else t = e.targetTouches;\r\n\r\n    var time = Date.now();\r\n    var dt = time - this.event.time;\r\n    if (dt === 0) return;\r\n    var invDt = 1000 / dt;\r\n    this.event.time = time;\r\n\r\n    this.event.current = 1;\r\n    this.event.points = 1;\r\n    if (this.trackedPointerIDs[0] === t[0].identifier) {\r\n        VEC_REGISTER.set(t[0].pageX, t[0].pageY);\r\n        Vec2.subtract(VEC_REGISTER, this.last1, this.delta1);\r\n        Vec2.scale(this.delta1, invDt, this.velocity1);\r\n        this.last1.copy(VEC_REGISTER);\r\n\r\n    }\r\n    if (t[1]) {\r\n        this.event.current = 2;\r\n        this.event.points = 2;\r\n        VEC_REGISTER.set(t[1].pageX, t[1].pageY);\r\n        Vec2.subtract(VEC_REGISTER, this.last2, this.delta2);\r\n        Vec2.scale(this.delta2, invDt, this.velocity2);\r\n        this.last2.copy(VEC_REGISTER);\r\n\r\n        Vec2.add(this.last1, this.last2, VEC_REGISTER).scale(0.5);\r\n        Vec2.subtract(VEC_REGISTER, this.center, this.centerDelta);\r\n        Vec2.add(this.velocity1, this.velocity2, this.centerVelocity).scale(0.5);\r\n        this.center.copy(VEC_REGISTER);\r\n\r\n        Vec2.subtract(this.last2, this.last1, VEC_REGISTER);\r\n\r\n        if (this.trackedGestures.rotate) {\r\n            var dot = VEC_REGISTER.dot(this.diff12);\r\n            var cross = VEC_REGISTER.cross(this.diff12);\r\n            var theta = -Math.atan2(cross, dot);\r\n            this.event.rotation += theta;\r\n            this.event.rotationDelta = theta;\r\n            this.event.rotationVelocity = theta * invDt;\r\n        }\r\n\r\n        var dist = VEC_REGISTER.length();\r\n        var scale = dist / this.dist;\r\n        this.diff12.copy(VEC_REGISTER);\r\n        this.dist = dist;\r\n\r\n        if (this.trackedGestures.pinch) {\r\n            this.event.scale *= scale;\r\n            scale -= 1.0;\r\n            this.event.scaleDelta = scale;\r\n            this.event.scaleVelocity = scale * invDt;\r\n        }\r\n    }\r\n\r\n    this.event.status = 'move';\r\n    if (this.event.points === 1) {\r\n        this.center.copy(this.last1);\r\n        this.centerDelta.copy(this.delta1);\r\n        this.centerVelocity.copy(this.velocity1);\r\n        if (this.trackedGestures.pinch) {\r\n            this.event.scale = 1;\r\n            this.event.scaleDelta = 0;\r\n            this.event.scaleVelocity = 0;\r\n        }\r\n        if (this.trackedGestures.rotate) {\r\n            this.event.rotation = 0;\r\n            this.event.rotationDelta = 0;\r\n            this.event.rotationVelocity = 0;\r\n        }\r\n    }\r\n    this.triggerGestures();\r\n}\r\n\r\n/**\r\n * Process up to the first two touch/mouse end events. Exit out if the two points being tracked are still active.\r\n *\r\n * @method _processPointerEnd\r\n * @private\r\n *\r\n * @param {Object} e The event object\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction _processPointerEnd(e) {\r\n    var t;\r\n    if (!e.targetTouches) {\r\n        if (!this.event.current) return;\r\n        this.mice.pop();\r\n        t = this.mice;\r\n    }\r\n    else t = e.targetTouches;\r\n\r\n    if (t[0] && t[1] && this.trackedPointerIDs[0] === t[0].identifier && this.trackedPointerIDs[1] === t[1].identifier) {\r\n            return;\r\n    }\r\n\r\n    var id;\r\n\r\n    this.event.status = 'end';\r\n    if (!t[0]) {\r\n        this.event.current = 0;\r\n        this.trackedPointerIDs[0] = -1;\r\n        this.trackedPointerIDs[1] = -1;\r\n        this.triggerGestures();\r\n        this.event.pointers.pop();\r\n        this.event.pointers.pop();\r\n        return;\r\n    }\r\n    else if(this.trackedPointerIDs[0] !== t[0].identifier) {\r\n        this.trackedPointerIDs[0] = -1;\r\n        id = t[0].identifier;\r\n        this.trackedPointerIDs[0] = id;\r\n\r\n        this.last1.set(t[0].pageX, t[0].pageY);\r\n        this.velocity1.clear();\r\n        this.delta1.clear();\r\n    }\r\n    if (!t[1]) {\r\n        this.event.current = 1;\r\n        this.trackedPointerIDs[1] = -1;\r\n        this.triggerGestures();\r\n        this.event.points = 1;\r\n        this.event.pointers.pop();\r\n    }\r\n    else if (this.trackedPointerIDs[1] !== t[1].identifier) {\r\n        this.trackedPointerIDs[1] = -1;\r\n        this.event.points = 2;\r\n        id = t[1].identifier;\r\n        this.trackedPointerIDs[1] = id;\r\n\r\n        this.last2.set(t[1].pageX, t[1].pageY);\r\n        this.velocity2.clear();\r\n        this.delta2.clear();\r\n\r\n        Vec2.add(this.last1, this.last2, this.center).scale(0.5);\r\n        this.centerDelta.clear();\r\n        this.centerVelocity.clear();\r\n\r\n        Vec2.subtract(this.last2, this.last1, this.diff12);\r\n        this.dist = this.diff12.length();\r\n    }\r\n}\r\n\r\n/**\r\n * Treats a mouseleave event as a gesture end.\r\n *\r\n * @method _processMouseLeave\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction _processMouseLeave() {\r\n    if (this.event.current) {\r\n        this.event.status = 'end';\r\n        this.event.current = 0;\r\n        this.trackedPointerIDs[0] = -1;\r\n        this.triggerGestures();\r\n        this.event.pointers.pop();\r\n    }\r\n}\r\n\r\nmodule.exports = GestureHandler;\r\n\n},{\"../math/Vec2\":37,\"../utilities/CallbackStore\":47}],4:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n * \r\n * Copyright (c) 2015 Famous Industries Inc.\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Transitionable = require('../transitions/Transitionable');\r\n\r\n/**\r\n * The Position component serves as a way to tween to translation of a Node.\r\n *  It is also the base class for the other core components that interact\r\n * with the Vec3 properties on the Node\r\n *\r\n * @class Position\r\n *\r\n * @param {Node} node Node that the Position component will be attached to\r\n */\r\nfunction Position(node) {\r\n    this._node = node;\r\n    this._id = node.addComponent(this);\r\n  \r\n    this._requestingUpdate = false;\r\n    \r\n    var initialPosition = node.getPosition();\r\n\r\n    this._x = new Transitionable(initialPosition[0]);\r\n    this._y = new Transitionable(initialPosition[1]);\r\n    this._z = new Transitionable(initialPosition[2]);\r\n}\r\n\r\n/**\r\n * Return the name of the Position component\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the component\r\n */\r\nPosition.prototype.toString = function toString() {\r\n    return 'Position';\r\n};\r\n\r\n/**\r\n * Gets object containing stringified constructor, and corresponding dimensional values\r\n *\r\n * @method\r\n *\r\n * @return {Object} the internal state of the component\r\n */\r\nPosition.prototype.getValue = function getValue() {\r\n    return {\r\n        component: this.toString(),\r\n        x: this._x.get(),\r\n        y: this._y.get(),\r\n        z: this._z.get()\r\n    };\r\n};\r\n\r\n/**\r\n * Set the translation of the Node\r\n *\r\n * @method\r\n *\r\n * @param {Object} state Object -- component: stringified constructor, x: number, y: number, z: number\r\n *\r\n * @return {Boolean} status of the set\r\n */\r\nPosition.prototype.setValue = function setValue(state) {\r\n    if (this.toString() === state.component) {\r\n        this.set(state.x, state.y, state.z);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * Getter for X translation\r\n *\r\n * @method\r\n *\r\n * @return {Number} the Node's translation along its x-axis\r\n */\r\nPosition.prototype.getX = function getX() {\r\n    return this._x.get();\r\n};\r\n\r\n/**\r\n * Getter for Y translation\r\n *\r\n * @method\r\n *\r\n * @return {Number} the Node's translation along its Y-axis\r\n */\r\nPosition.prototype.getY = function getY() {\r\n    return this._y.get();\r\n};\r\n\r\n/**\r\n * Getter for z translation\r\n *\r\n * @method\r\n *\r\n * @return {Number} the Node's translation along its z-axis\r\n */\r\nPosition.prototype.getZ = function getZ() {\r\n    return this._z.get();\r\n};\r\n\r\n/**\r\n * Whether or not the Position is currently changing\r\n *\r\n * @method\r\n *\r\n * @return {Boolean} whether or not the Position is changing the Node's position\r\n */\r\nPosition.prototype.isActive = function isActive() {\r\n    return this._x.isActive() || this._y.isActive() || this._z.isActive();\r\n};\r\n\r\n/**\r\n * Decide whether the component needs to be updated on the next tick.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nPosition.prototype._checkUpdate = function _checkUpdate() {\r\n    if (this.isActive()) this._node.requestUpdateOnNextTick(this._id);\r\n    else this._requestingUpdate = false;\r\n};\r\n\r\n/**\r\n * When the node this component is attached to updates, update the value\r\n * of the Node's position\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nPosition.prototype.update = function update () {\r\n    this._node.setPosition(this._x.get(), this._y.get(), this._z.get());\r\n    this._checkUpdate();\r\n};\r\n\r\nPosition.prototype.onUpdate = Position.prototype.update;\r\n\r\n/** \r\n * Setter for X position\r\n *\r\n * @method\r\n * \r\n * @param {Number} val used to set x coordinate\r\n * @param {Object} transition options for the transition\r\n * @param {Function} callback function to execute after setting X \r\n *\r\n * @return {Position} this\r\n */\r\nPosition.prototype.setX = function setX(val, transition, callback) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    this._x.set(val, transition, callback);\r\n    return this;\r\n};\r\n\r\n/** \r\n * Setter for Y position\r\n *\r\n * @method\r\n * \r\n * @param {Number} val used to set y coordinate\r\n * @param {Object} transition options for the transition\r\n * @param {Function} callback function to execute after setting Y \r\n *\r\n * @return {Position} this\r\n */\r\nPosition.prototype.setY = function setY(val, transition, callback) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    this._y.set(val, transition, callback);\r\n    return this;\r\n};\r\n\r\n/** \r\n * Setter for Z position\r\n *\r\n * @method\r\n * \r\n * @param {Number} val used to set z coordinate\r\n * @param {Object} transition options for the transition\r\n * @param {Function} callback function to execute after setting Z \r\n *\r\n * @return {Position} this\r\n */\r\nPosition.prototype.setZ = function setZ(val, transition, callback) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    this._z.set(val, transition, callback);\r\n    return this;\r\n};\r\n\r\n\r\n/** \r\n * Setter for X, Y, and Z positions\r\n *\r\n * @method\r\n * \r\n * @param {Number} x used to set x coordinate\r\n * @param {Number} y used to set y coordinate\r\n * @param {Number} z used to set z coordinate\r\n * @param {Object} transition options for the transition\r\n * @param {Function} callback function to execute after setting X \r\n *\r\n * @return {Position} this\r\n */\r\nPosition.prototype.set = function set(x, y, z, transition, callback) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    var xCallback;\r\n    var yCallback;\r\n    var zCallback;\r\n\r\n    if (z != null) {\r\n        zCallback = callback;\r\n    }\r\n    else if (y != null) {\r\n        yCallback = callback;\r\n    }\r\n    else if (x != null) {\r\n        xCallback = callback;\r\n    }\r\n\r\n    if (x != null) this._x.set(x, transition, xCallback);\r\n    if (y != null) this._y.set(y, transition, yCallback);\r\n    if (z != null) this._z.set(z, transition, zCallback);\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Stops transition of Position component\r\n *\r\n * @method\r\n *\r\n * @return {Position} this\r\n */\r\nPosition.prototype.halt = function halt() {\r\n    this._x.halt();\r\n    this._y.halt();\r\n    this._z.halt();\r\n    return this;\r\n};\r\n\r\nmodule.exports = Position;\r\n\n},{\"../transitions/Transitionable\":46}],5:[function(require,module,exports){\n'use strict';\r\nvar Commands = require(\"./Commands\");\r\n\r\n/**\r\n * webworker\r\n *\r\n * @class Chan\r\n * @constructor\r\n * @return {undefined} undefined\r\n */\r\nfunction Chan () {\r\n\tthis.running = false;\r\n\tthis._funList={};\r\n\tthis._CallList={};\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @method\r\n *\r\n * @param {channel} \r\n */\r\nChan.prototype.setChannel = function( ch ) {\r\n\tthis._channel = ch;\r\n\tthis.start();\r\n};\r\n\r\nChan.prototype.start = function () {\r\n\tthis._running = true;\r\n}\r\n\r\nChan.prototype.stop = function(){\r\n\tthis._running = false;\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @method\r\n *\r\n * @param {function} \r\n * @param {function} \r\n */\r\nChan.prototype.add = function( fun, call , param ){ \r\n    var id = new Date();\r\n        id = \"id\"+id.getTime()+ Math.ceil((Math.random()*10000));\r\n\r\n    this._funList[id] = call;\r\n    this._push({id: id, args: param, fun: fun.toString()});\r\n\r\n}\r\n\r\n/**\r\n *channel \r\n *\r\n * @method\r\n *\r\n * @param {object} obj.id obj.res obj.fun\r\n */\r\nChan.prototype._push = function( arg ){\r\n\tif( !this._running)return;\r\n\r\n    var CROSS_THREAD_MESSAGE = [Commands.ENGINE, Commands.CROSS_THREAD, arg];\r\n    if( this._channel.sendMessage)\r\n        this._channel.sendMessage(CROSS_THREAD_MESSAGE);\r\n    else\r\n    \tthis._channel.postMessage(CROSS_THREAD_MESSAGE);\r\n}\r\n\r\n/**\r\n *channel.onMessage \r\n *\r\n * @method\r\n *\r\n * @param {object} obj.id obj.res obj.fun\r\n */\r\nChan.prototype.callback = function ( arg ) {\r\n    \r\n\tif(!arg.hasOwnProperty(\"res\")){\r\n\t\tnew funCaller(this, arg).exec();\r\n     \r\n\t}else if(this._funList[arg.id]){\r\n\r\n\t\tthis._funList[arg.id]( arg.res );\r\n\t\tthis._funList[arg.id] = null;\r\n\r\n\t\tdelete this._funList[arg.id];\r\n\t}\r\n}\r\n\r\nfunction funCaller  (ch, arg) {\r\n\t\r\n\tthis.chan = ch \r\n\tthis.fun = arg.fun;\r\n\tthis.id = arg.id;\r\n\r\n\tif( !Array.isArray(arg.args) )\r\n\t\targ.args = [];\r\n\tthis.arg = arg.args;\r\n}\r\n\r\n\r\nfunCaller.prototype.exec = function  (argument) {\r\n\tvar self = this;\r\n    //Function  \r\n    this.fun = eval(\"(\"+this.fun+\")\");\r\n\r\n    var res = this.fun.apply(this, this.arg);\r\n\r\n\tif( typeof res != \"undefined\")\r\n\t\tself._call(res);\r\n}\r\n\r\nfunCaller.prototype._call = function ( arg ) {\r\n\r\n\tthis.chan._push({id:this.id, res:arg});\r\n}\r\n\r\n\r\nmodule.exports =  new Chan();\n},{\"./Commands\":8}],6:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Channels are being used for interacting with the UI Thread when running in\r\n * a Web Worker or with the UIManager/ Compositor when running in single\r\n * threaded mode (no Web Worker).\r\n *\r\n * @class Channel\r\n * @constructor\r\n */\r\nfunction Channel() {\r\n    if (typeof self !== 'undefined' && self.window !== self) {\r\n        this._enterWorkerMode();\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Called during construction. Subscribes for `message` event and routes all\r\n * future `sendMessage` messages to the Main Thread (\"UI Thread\").\r\n *\r\n * Primarily used for testing.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nChannel.prototype._enterWorkerMode = function _enterWorkerMode() {\r\n    this._workerMode = true;\r\n    var _this = this;\r\n    self.addEventListener('message', function onmessage(ev) {\r\n        _this.onMessage(ev.data);\r\n    });\r\n};\r\n\r\n/**\r\n * Meant to be overridden by `Famous`.\r\n * Assigned method will be invoked for every received message.\r\n *\r\n * @type {Function}\r\n * @override\r\n *\r\n * @return {undefined} undefined\r\n */\r\nChannel.prototype.onMessage = null;\r\n\r\n/**\r\n * Sends a message to the UIManager.\r\n *\r\n * @param  {Any}    message Arbitrary message object.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nChannel.prototype.sendMessage = function sendMessage (message) {\r\n    if (this._workerMode) {\r\n        self.postMessage(message);\r\n    }\r\n    else {\r\n        this.onmessage(message);\r\n    }\r\n};\r\n\r\n/**\r\n * Meant to be overriden by the UIManager when running in the UI Thread.\r\n * Used for preserving API compatibility with Web Workers.\r\n * When running in Web Worker mode, this property won't be mutated.\r\n *\r\n * Assigned method will be invoked for every message posted by `famous-core`.\r\n *\r\n * @type {Function}\r\n * @override\r\n */\r\nChannel.prototype.onmessage = null;\r\n\r\n/**\r\n * Sends a message to the manager of this channel (the `Famous` singleton) by\r\n * invoking `onMessage`.\r\n * Used for preserving API compatibility with Web Workers.\r\n *\r\n * @private\r\n * @alias onMessage\r\n *\r\n * @param {Any} message a message to send over the channel\r\n *\r\n * @return {undefined} undefined\r\n */\r\nChannel.prototype.postMessage = function postMessage(message) {\r\n    return this.onMessage(message);\r\n};\r\n\r\nmodule.exports = Channel;\r\n\n},{}],7:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Equivalent of an Engine in the Worker Thread. Used to synchronize and manage\r\n * time across different Threads.\r\n *\r\n * @class  Clock\r\n * @constructor\r\n * @private\r\n */\r\nfunction Clock () {\r\n    this._time = 0;\r\n    this._frame = 0;\r\n    this._timerQueue = [];\r\n    this._updatingIndex = 0;\r\n\r\n    this._scale = 1;\r\n    this._scaledTime = this._time;\r\n}\r\n\r\n/**\r\n * Sets the scale at which the clock time is passing.\r\n * Useful for slow-motion or fast-forward effects.\r\n *\r\n * `1` means no time scaling (\"realtime\"),\r\n * `2` means the clock time is passing twice as fast,\r\n * `0.5` means the clock time is passing two times slower than the \"actual\"\r\n * time at which the Clock is being updated via `.step`.\r\n *\r\n * Initally the clock time is not being scaled (factor `1`).\r\n *\r\n * @method  setScale\r\n * @chainable\r\n *\r\n * @param {Number} scale    The scale at which the clock time is passing.\r\n *\r\n * @return {Clock} this\r\n */\r\nClock.prototype.setScale = function setScale (scale) {\r\n    this._scale = scale;\r\n    return this;\r\n};\r\n\r\n/**\r\n * @method  getScale\r\n *\r\n * @return {Number} scale    The scale at which the clock time is passing.\r\n */\r\nClock.prototype.getScale = function getScale () {\r\n    return this._scale;\r\n};\r\n\r\n/**\r\n * Updates the internal clock time.\r\n *\r\n * @method  step\r\n * @chainable\r\n *\r\n * @param  {Number} time high resolution timestamp used for invoking the\r\n *                       `update` method on all registered objects\r\n * @return {Clock}       this\r\n */\r\nClock.prototype.step = function step (time) {\r\n    this._frame++;\r\n\r\n    this._scaledTime = this._scaledTime + (time - this._time)*this._scale;\r\n    this._time = time;\r\n\r\n    for (var i = 0; i < this._timerQueue.length; i++) {\r\n        if (this._timerQueue[i](this._scaledTime)) {\r\n            this._timerQueue.splice(i, 1);\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns the internal clock time.\r\n *\r\n * @method  now\r\n *\r\n * @return  {Number} time high resolution timestamp used for invoking the\r\n *                       `update` method on all registered objects\r\n */\r\nClock.prototype.now = function now () {\r\n    return this._scaledTime;\r\n};\r\n\r\n/**\r\n * Returns the internal clock time.\r\n *\r\n * @method  getTime\r\n * @deprecated Use #now instead\r\n *\r\n * @return  {Number} time high resolution timestamp used for invoking the\r\n *                       `update` method on all registered objects\r\n */\r\nClock.prototype.getTime = Clock.prototype.now;\r\n\r\n/**\r\n * Returns the number of frames elapsed so far.\r\n *\r\n * @method getFrame\r\n *\r\n * @return {Number} frames\r\n */\r\nClock.prototype.getFrame = function getFrame () {\r\n    return this._frame;\r\n};\r\n\r\n/**\r\n * Wraps a function to be invoked after a certain amount of time.\r\n * After a set duration has passed, it executes the function and\r\n * removes it as a listener to 'prerender'.\r\n *\r\n * @method setTimeout\r\n *\r\n * @param {Function} callback function to be run after a specified duration\r\n * @param {Number} delay milliseconds from now to execute the function\r\n *\r\n * @return {Function} timer function used for Clock#clearTimer\r\n */\r\nClock.prototype.setTimeout = function (callback, delay) {\r\n    var params = Array.prototype.slice.call(arguments, 2);\r\n    var startedAt = this._time;\r\n    var timer = function(time) {\r\n        if (time - startedAt >= delay) {\r\n            callback.apply(null, params);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    this._timerQueue.push(timer);\r\n    return timer;\r\n};\r\n\r\n\r\n/**\r\n * Wraps a function to be invoked after a certain amount of time.\r\n *  After a set duration has passed, it executes the function and\r\n *  resets the execution time.\r\n *\r\n * @method setInterval\r\n *\r\n * @param {Function} callback function to be run after a specified duration\r\n * @param {Number} delay interval to execute function in milliseconds\r\n *\r\n * @return {Function} timer function used for Clock#clearTimer\r\n */\r\nClock.prototype.setInterval = function setInterval(callback, delay) {\r\n    var params = Array.prototype.slice.call(arguments, 2);\r\n    var startedAt = this._time;\r\n    var timer = function(time) {\r\n        if (time - startedAt >= delay) {\r\n            callback.apply(null, params);\r\n            startedAt = time;\r\n        }\r\n        return false;\r\n    };\r\n    this._timerQueue.push(timer);\r\n    return timer;\r\n};\r\n\r\n/**\r\n * Removes previously via `Clock#setTimeout` or `Clock#setInterval`\r\n * registered callback function\r\n *\r\n * @method clearTimer\r\n * @chainable\r\n *\r\n * @param  {Function} timer  previously by `Clock#setTimeout` or\r\n *                              `Clock#setInterval` returned callback function\r\n * @return {Clock}              this\r\n */\r\nClock.prototype.clearTimer = function (timer) {\r\n    var index = this._timerQueue.indexOf(timer);\r\n    if (index !== -1) {\r\n        this._timerQueue.splice(index, 1);\r\n    }\r\n    return this;\r\n};\r\n\r\nmodule.exports = Clock;\r\n\r\n\n},{}],8:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * An enumeration of the commands in our command queue.\r\n */\r\nvar Commands = {\r\n    INIT_DOM: 0,\r\n    DOM_RENDER_SIZE: 1,\r\n    CHANGE_TRANSFORM: 2,\r\n    CHANGE_SIZE: 3,\r\n    CHANGE_PROPERTY: 4,\r\n    CHANGE_CONTENT: 5,\r\n    CHANGE_ATTRIBUTE: 6,\r\n    ADD_CLASS: 7,\r\n    REMOVE_CLASS: 8,\r\n    SUBSCRIBE: 9,\r\n    GL_SET_DRAW_OPTIONS: 10,\r\n    GL_AMBIENT_LIGHT: 11,\r\n    GL_LIGHT_POSITION: 12,\r\n    GL_LIGHT_COLOR: 13,\r\n    MATERIAL_INPUT: 14,\r\n    GL_SET_GEOMETRY: 15,\r\n    GL_UNIFORMS: 16,\r\n    GL_BUFFER_DATA: 17,\r\n    GL_CUTOUT_STATE: 18,\r\n    GL_MESH_VISIBILITY: 19,\r\n    GL_REMOVE_MESH: 20,\r\n    PINHOLE_PROJECTION: 21,\r\n    ORTHOGRAPHIC_PROJECTION: 22,\r\n    CHANGE_VIEW_TRANSFORM: 23,\r\n    WITH: 24,\r\n    FRAME: 25,\r\n    ENGINE: 26,\r\n    START: 27,\r\n    STOP: 28,\r\n    TIME: 29,\r\n    TRIGGER: 30,\r\n    NEED_SIZE_FOR: 31,\r\n    DOM: 32,\r\n    READY: 33,\r\n    ALLOW_DEFAULT: 34,\r\n    PREVENT_DEFAULT: 35,\r\n    UNSUBSCRIBE: 36,\r\n    CROSS_THREAD:37,\r\n    prettyPrint: function (buffer, start, count) {\r\n        var callback;\r\n        start = start ? start : 0;\r\n        var data = {\r\n            i: start,\r\n            result: ''\r\n        };\r\n        for (var len = count ? count + start : buffer.length ; data.i < len ; data.i++) {\r\n            callback = commandPrinters[buffer[data.i]];\r\n            if (!callback) throw new Error('PARSE ERROR: no command registered for: ' + buffer[data.i]);\r\n            callback(buffer, data);\r\n        }\r\n        return data.result;\r\n    }\r\n};\r\n\r\nvar commandPrinters = [];\r\n\r\ncommandPrinters[Commands.INIT_DOM] = function init_dom (buffer, data) {\r\n    data.result += data.i + '. INIT_DOM\\n    tagName: ' + buffer[++data.i] + '\\n\\n';\r\n}; \r\n\r\ncommandPrinters[Commands.DOM_RENDER_SIZE] = function dom_render_size (buffer, data) {\r\n    data.result += data.i + '. DOM_RENDER_SIZE\\n    selector: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.CHANGE_TRANSFORM] = function change_transform (buffer, data) {\r\n    data.result += data.i + '. CHANGE_TRANSFORM\\n    val: [';\r\n    for (var j = 0 ; j < 16 ; j++) data.result += buffer[++data.i] + (j < 15 ? ', ' : '');\r\n    data.result += ']\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.CHANGE_SIZE] = function change_size (buffer, data) {\r\n    data.result += data.i + '. CHANGE_SIZE\\n    x: ' + buffer[++data.i] + ', y: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.CHANGE_PROPERTY] = function change_property (buffer, data) {\r\n    data.result += data.i + '. CHANGE_PROPERTY\\n    key: ' + buffer[++data.i] + ', value: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.CHANGE_CONTENT] = function change_content (buffer, data) {\r\n    data.result += data.i + '. CHANGE_CONTENT\\n    content: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.CHANGE_ATTRIBUTE] = function change_attribute (buffer, data) {\r\n    data.result += data.i + '. CHANGE_ATTRIBUTE\\n    key: ' + buffer[++data.i] + ', value: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.ADD_CLASS] = function add_class (buffer, data) {\r\n    data.result += data.i + '. ADD_CLASS\\n    className: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.REMOVE_CLASS] = function remove_class (buffer, data) {\r\n    data.result += data.i + '. REMOVE_CLASS\\n    className: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.SUBSCRIBE] = function subscribe (buffer, data) {\r\n    data.result += data.i + '. SUBSCRIBE\\n    event: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_SET_DRAW_OPTIONS] = function gl_set_draw_options (buffer, data) {\r\n    data.result += data.i + '. GL_SET_DRAW_OPTIONS\\n    options: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_AMBIENT_LIGHT] = function gl_ambient_light (buffer, data) {\r\n    data.result += data.i + '. GL_AMBIENT_LIGHT\\n    r: ' + buffer[++data.i] + 'g: ' + buffer[++data.i] + 'b: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_LIGHT_POSITION] = function gl_light_position (buffer, data) {\r\n    data.result += data.i + '. GL_LIGHT_POSITION\\n    x: ' + buffer[++data.i] + 'y: ' + buffer[++data.i] + 'z: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_LIGHT_COLOR] = function gl_light_color (buffer, data) {\r\n    data.result += data.i + '. GL_LIGHT_COLOR\\n    r: ' + buffer[++data.i] + 'g: ' + buffer[++data.i] + 'b: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.MATERIAL_INPUT] = function material_input (buffer, data) {\r\n    data.result += data.i + '. MATERIAL_INPUT\\n    key: ' + buffer[++data.i] + ', value: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_SET_GEOMETRY] = function gl_set_geometry (buffer, data) {\r\n    data.result += data.i + '. GL_SET_GEOMETRY\\n   x: ' + buffer[++data.i] + ', y: ' + buffer[++data.i] + ', z: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_UNIFORMS] = function gl_uniforms (buffer, data) {\r\n    data.result += data.i + '. GL_UNIFORMS\\n    key: ' + buffer[++data.i] + ', value: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_BUFFER_DATA] = function gl_buffer_data (buffer, data) {\r\n    data.result += data.i + '. GL_BUFFER_DATA\\n    data: ';\r\n    for (var i = 0; i < 5 ; i++) data.result += buffer[++data.i] + ', ';\r\n    data.result += '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_CUTOUT_STATE] = function gl_cutout_state (buffer, data) {\r\n    data.result += data.i + '. GL_CUTOUT_STATE\\n    state: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_MESH_VISIBILITY] = function gl_mesh_visibility (buffer, data) {\r\n    data.result += data.i + '. GL_MESH_VISIBILITY\\n    visibility: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_REMOVE_MESH] = function gl_remove_mesh (buffer, data) {\r\n    data.result += data.i + '. GL_REMOVE_MESH\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.PINHOLE_PROJECTION] = function pinhole_projection (buffer, data) {\r\n    data.result += data.i + '. PINHOLE_PROJECTION\\n    depth: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.ORTHOGRAPHIC_PROJECTION] = function orthographic_projection (buffer, data) {\r\n    data.result += data.i + '. ORTHOGRAPHIC_PROJECTION\\n';\r\n};\r\n\r\ncommandPrinters[Commands.CHANGE_VIEW_TRANSFORM] = function change_view_transform (buffer, data) {\r\n    data.result += data.i + '. CHANGE_VIEW_TRANSFORM\\n   value: [';\r\n    for (var i = 0; i < 16 ; i++) data.result += buffer[++data.i] + (i < 15 ? ', ' : '');\r\n    data.result += ']\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.PREVENT_DEFAULT] = function prevent_default (buffer, data) {\r\n    data.result += data.i + '. PREVENT_DEFAULT\\n    value: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.ALLOW_DEFAULT] = function allow_default (buffer, data) {\r\n    data.result += data.i + '. ALLOW_DEFAULT\\n    value: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.READY] = function ready (buffer, data) {\r\n    data.result += data.i + '. READY\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.WITH] = function w (buffer, data) {\r\n    data.result += data.i + '. **WITH**\\n     path: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.TIME] = function time (buffer, data) {\r\n    data.result += data.i + '. TIME\\n     ms: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.NEED_SIZE_FOR] = function need_size_for (buffer, data) {\r\n    data.result += data.i + '. NEED_SIZE_FOR\\n    selector: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\nmodule.exports = Commands;\r\n\r\n\n},{}],9:[function(require,module,exports){\n'use strict';\r\n\r\n\r\nvar Chan = require(\"./Chan\");\r\n/**\r\n *CrossCall \r\n *worker windowdocument \r\n *\r\n * @method\r\n *\r\n * @param {function}   {id:32, text:\"I`m Tester\"}\r\n */\r\nfunction CrossCall( fun , param){\r\n    this._fun = fun;\r\n    this._param = param;\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @method\r\n *\r\n * @param {function}  {id:32, text:\"I`m Tester\"}\r\n */\r\nCrossCall.prototype.setFun = function ( fun , param) {\r\n\tif( typeof fun !==\"function\" ) return;\r\n\tthis._fun  = fun;\r\n    this._param = param;\r\n\treturn this;\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @method\r\n *\r\n * @param {function} _fun\r\n */\r\nCrossCall.prototype.exec = function( fun ) {\r\n\r\n\t\tChan.add( this._fun, fun , this._param);\r\n};\r\n\r\nmodule.exports = CrossCall;\n},{\"./Chan\":5}],10:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Event = require('./Event');\r\nvar PathUtils = require('./Path');\r\n\r\n/**\r\n * The Dispatch class is used to propogate events down the\r\n * scene graph.\r\n *\r\n * @class Dispatch\r\n * @param {Scene} context The context on which it operates\r\n * @constructor\r\n */\r\nfunction Dispatch () {\r\n    this._nodes = {}; // a container for constant time lookup of nodes\r\n\r\n    this._queue = []; // The queue is used for two purposes\r\n                      // 1. It is used to list indicies in the\r\n                      //    Nodes path which are then used to lookup\r\n                      //    a node in the scene graph.\r\n                      // 2. It is used to assist dispatching\r\n                      //    such that it is possible to do a breadth first\r\n                      //    traversal of the scene graph.\r\n}\r\n\r\n/**\r\n * Protected method that sets the updater for the dispatch. The updater will\r\n * almost certainly be the FamousEngine class.\r\n *\r\n * @method\r\n * @protected\r\n *\r\n * @param {FamousEngine} updater The updater which will be passed through the scene graph\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDispatch.prototype._setUpdater = function _setUpdater (updater) {\r\n    this._updater = updater;\r\n\r\n    for (var key in this._nodes) this._nodes[key]._setUpdater(updater);\r\n};\r\n\r\n/**\r\n * Enque the children of a node within the dispatcher. Does not clear\r\n * the dispatchers queue first.\r\n *\r\n * @method addChildrenToQueue\r\n * @return {void}\r\n *\r\n * @param {Node} node from which to add children to the queue\r\n */\r\nDispatch.prototype.addChildrenToQueue = function addChildrenToQueue (node) {\r\n    var children = node.getChildren();\r\n    var child;\r\n    for (var i = 0, len = children.length ; i < len ; i++) {\r\n        child = children[i];\r\n        if (child) this._queue.push(child);\r\n    }\r\n};\r\n\r\n/**\r\n * Returns the next item in the Dispatch's queue.\r\n *\r\n * @method next\r\n * @return {Node} next node in the queue\r\n */\r\nDispatch.prototype.next = function next () {\r\n    return this._queue.shift();\r\n};\r\n\r\n/**\r\n * Returns the next node in the queue, but also adds its children to\r\n * the end of the queue. Continually calling this method will result\r\n * in a breadth first traversal of the render tree.\r\n *\r\n * @method breadthFirstNext\r\n * @return {Node | undefined} the next node in the traversal if one exists\r\n */\r\nDispatch.prototype.breadthFirstNext = function breadthFirstNext () {\r\n    var child = this._queue.shift();\r\n    if (!child) return void 0;\r\n    this.addChildrenToQueue(child);\r\n    return child;\r\n};\r\n\r\n/**\r\n * Calls the onMount method for the node at a given path and\r\n * properly registers all of that nodes children to their proper\r\n * paths. Throws if that path doesn't have a node registered as\r\n * a parent or if there is no node registered at that path.\r\n *\r\n * @method mount\r\n *\r\n * @param {String} path at which to begin mounting\r\n * @param {Node} node the node that was mounted\r\n *\r\n * @return {void}\r\n */\r\nDispatch.prototype.mount = function mount (path, node) {\r\n    if (!node) throw new Error('Dispatch: no node passed to mount at: ' + path);\r\n    if (this._nodes[path])\r\n        throw new Error('Dispatch: there is a node already registered at: ' + path);\r\n\r\n    node._setUpdater(this._updater);\r\n    this._nodes[path] = node;\r\n    var parentPath = PathUtils.parent(path);\r\n\r\n    // scenes are their own parents\r\n    var parent = !parentPath ? node : this._nodes[parentPath];\r\n\r\n    if (!parent)\r\n        throw new Error(\r\n                'Parent to path: ' + path +\r\n                ' doesn\\'t exist at expected path: ' + parentPath\r\n        );\r\n\r\n    var children = node.getChildren();\r\n    var components = node.getComponents();\r\n    var i;\r\n    var len;\r\n\r\n    if (parent.isMounted()) node._setMounted(true, path);\r\n    if (parent.isShown()) node._setShown(true);\r\n\r\n    if (parent.isMounted()) {\r\n        node._setParent(parent);\r\n        if (node.onMount) node.onMount(path);\r\n\r\n        for (i = 0, len = components.length ; i < len ; i++)\r\n            if (components[i] && components[i].onMount)\r\n                components[i].onMount(node, i);\r\n\r\n        for (i = 0, len = children.length ; i < len ; i++)\r\n            if (children[i] && children[i].mount) children[i].mount(path + '/' + i);\r\n            else if (children[i]) this.mount(path + '/' + i, children[i]);\r\n    }\r\n\r\n    if (parent.isShown()) {\r\n        if (node.onShow) node.onShow();\r\n        for (i = 0, len = components.length ; i < len ; i++)\r\n            if (components[i] && components[i].onShow)\r\n                components[i].onShow();\r\n    }\r\n};\r\n\r\n/**\r\n * Calls the onDismount method for the node at a given path\r\n * and deregisters all of that nodes children. Throws if there\r\n * is no node registered at that path.\r\n *\r\n * @method dismount\r\n * @return {void}\r\n *\r\n * @param {String} path at which to begin dismounting\r\n */\r\nDispatch.prototype.dismount = function dismount (path) {\r\n    var node = this._nodes[path];\r\n\r\n    if (!node)\r\n        throw new Error(\r\n                'No node registered to path: ' + path\r\n        );\r\n\r\n    var children = node.getRawChildren();\r\n    var components = node.getComponents();\r\n    var i;\r\n    var len;\r\n\r\n    if (node.isShown()) {\r\n        node._setShown(false);\r\n        if (node.onHide) node.onHide();\r\n        for (i = 0, len = components.length ; i < len ; i++)\r\n            if (components[i] && components[i].onHide)\r\n                components[i].onHide();\r\n    }\r\n\r\n    if (node.isMounted()) {\r\n        if (node.onDismount) node.onDismount(path);\r\n\r\n        for (i = 0, len = children.length ; i < len ; i++)\r\n            if (children[i] && children[i].dismount) children[i].dismount();\r\n            else if (children[i]) this.dismount(path + '/' + i);\r\n\r\n        for (i = 0, len = components.length ; i < len ; i++)\r\n            if (components[i] && components[i].onDismount)\r\n                components[i].onDismount();\r\n\r\n        node._setMounted(false);\r\n        node._setParent(null);\r\n    }\r\n\r\n    this._nodes[path] = null;\r\n};\r\n\r\n/**\r\n * Returns a the node registered to the given path, or none\r\n * if no node exists at that path.\r\n *\r\n * @method getNode\r\n * @return {Node | void} node at the given path\r\n *\r\n * @param {String} path at which to look up the node\r\n */\r\nDispatch.prototype.getNode = function getNode (path) {\r\n    return this._nodes[path];\r\n};\r\n\r\n/**\r\n * Issues the onShow method to the node registered at the given path,\r\n * and shows the entire subtree below that node. Throws if no node\r\n * is registered to this path.\r\n *\r\n * @method show\r\n * @return {void}\r\n *\r\n * @param {String} path the path of the node to show\r\n */\r\nDispatch.prototype.show = function show (path) {\r\n    var node = this._nodes[path];\r\n\r\n    if (!node)\r\n        throw new Error(\r\n                'No node registered to path: ' + path\r\n        );\r\n\r\n    if (node.onShow) node.onShow();\r\n\r\n    var components = node.getComponents();\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onShow)\r\n            components[i].onShow();\r\n\r\n\r\n    this.addChildrenToQueue(node);\r\n    var child;\r\n\r\n    while ((child = this.breadthFirstNext()))\r\n        this.show(child.getLocation());\r\n\r\n};\r\n\r\n/**\r\n * Issues the onHide method to the node registered at the given path,\r\n * and hides the entire subtree below that node. Throws if no node\r\n * is registered to this path.\r\n *\r\n * @method hide\r\n * @return {void}\r\n *\r\n * @param {String} path the path of the node to hide\r\n */\r\nDispatch.prototype.hide = function hide (path) {\r\n    var node = this._nodes[path];\r\n\r\n    if (!node)\r\n        throw new Error(\r\n                'No node registered to path: ' + path\r\n        );\r\n\r\n    if (node.onHide) node.onHide();\r\n\r\n    var components = node.getComponents();\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onHide)\r\n            components[i].onHide();\r\n\r\n\r\n    this.addChildrenToQueue(node);\r\n    var child;\r\n\r\n    while ((child = this.breadthFirstNext()))\r\n        this.hide(child.getLocation());\r\n\r\n};\r\n\r\n/**\r\n * lookupNode takes a path and returns the node at the location specified\r\n * by the path, if one exists. If not, it returns undefined.\r\n *\r\n * @param {String} location The location of the node specified by its path\r\n *\r\n * @return {Node | undefined} The node at the requested path\r\n */\r\nDispatch.prototype.lookupNode = function lookupNode (location) {\r\n    if (!location) throw new Error('lookupNode must be called with a path');\r\n\r\n    this._queue.length = 0;\r\n    var path = this._queue;\r\n\r\n    _splitTo(location, path);\r\n\r\n    for (var i = 0, len = path.length ; i < len ; i++)\r\n        path[i] = this._nodes[path[i]];\r\n\r\n    return path[path.length - 1];\r\n};\r\n\r\n/**\r\n * dispatch takes an event name and a payload and dispatches it to the\r\n * entire scene graph below the node that the dispatcher is on. The nodes\r\n * receive the events in a breadth first traversal, meaning that parents\r\n * have the opportunity to react to the event before children.\r\n *\r\n * @param {String} path path of the node to send the event to\r\n * @param {String} event name of the event\r\n * @param {Any} payload data associated with the event\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDispatch.prototype.dispatch = function dispatch (path, event, payload) {\r\n    if (!path) throw new Error('dispatch requires a path as it\\'s first argument');\r\n    if (!event) throw new Error('dispatch requires an event name as it\\'s second argument');\r\n\r\n    var node = this._nodes[path];\r\n    \r\n    if (!node) return;\r\n\r\n    this.addChildrenToQueue(node);\r\n    var child;\r\n\r\n    while ((child = this.breadthFirstNext()))\r\n        if (child && child.onReceive)\r\n            child.onReceive(event, payload);\r\n\r\n};\r\n\r\n/**\r\n * dispatchUIevent takes a path, an event name, and a payload and dispatches them in\r\n * a manner anologous to DOM bubbling. It first traverses down to the node specified at\r\n * the path. That node receives the event first, and then every ancestor receives the event\r\n * until the context.\r\n *\r\n * @param {String} path the path of the node\r\n * @param {String} event the event name\r\n * @param {Any} payload the payload\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDispatch.prototype.dispatchUIEvent = function dispatchUIEvent (path, event, payload) {\r\n    if (!path) throw new Error('dispatchUIEvent needs a valid path to dispatch to');\r\n    if (!event) throw new Error('dispatchUIEvent needs an event name as its second argument');\r\n    var node;\r\n\r\n    Event.call(payload);\r\n    node = this.getNode(path);\r\n    if (node) {\r\n        var parent;\r\n        var components;\r\n        var i;\r\n        var len;\r\n\r\n        payload.node = node;\r\n\r\n        while (node) {\r\n            if (node.onReceive) node.onReceive(event, payload);\r\n            components = node.getComponents();\r\n\r\n            for (i = 0, len = components.length ; i < len ; i++)\r\n                if (components[i] && components[i].onReceive)\r\n                    components[i].onReceive(event, payload);\r\n\r\n            if (payload.propagationStopped) break;\r\n            parent = node.getParent();\r\n            if (parent === node) return;\r\n            node = parent;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * _splitTo is a private method which takes a path and splits it at every '/'\r\n * pushing the result into the supplied array. This is a destructive change.\r\n *\r\n * @private\r\n * @param {String} string the specified path\r\n * @param {Array} target the array to which the result should be written\r\n *\r\n * @return {Array} the target after having been written to\r\n */\r\nfunction _splitTo (string, target) {\r\n    target.length = 0; // clears the array first.\r\n    var last = 0;\r\n    var i;\r\n    var len = string.length;\r\n\r\n    for (i = 0 ; i < len ; i++) {\r\n        if (string[i] === '/') {\r\n            target.push(string.substring(last, i));\r\n            last = i + 1;\r\n        }\r\n    }\r\n\r\n    if (i - last > 0) target.push(string.substring(last, i));\r\n\r\n    return target;\r\n}\r\n\r\nmodule.exports = new Dispatch();\r\n\n},{\"./Event\":11,\"./Path\":14}],11:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n * \r\n * Copyright (c) 2015 Famous Industries Inc.\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * The Event class adds the stopPropagation functionality\r\n * to the UIEvents within the scene graph.\r\n *\r\n * @constructor Event\r\n */\r\nfunction Event () {\r\n    this.propagationStopped = false;\r\n    this.stopPropagation = stopPropagation;\r\n}\r\n\r\n/**\r\n * stopPropagation ends the bubbling of the event in the\r\n * scene graph.\r\n *\r\n * @method stopPropagation\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction stopPropagation () {\r\n    this.propagationStopped = true;\r\n}\r\n\r\nmodule.exports = Event;\r\n\r\n\n},{}],12:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Clock = require('./Clock');\r\nvar Scene = require('./Scene');\r\nvar Channel = require('./Channel');\r\nvar Chan = require('./Chan');\r\nvar Dispatch = require('./Dispatch');\r\nvar UIManager = require('../renderers/UIManager');\r\nvar Compositor = require('../renderers/Compositor');\r\nvar RequestAnimationFrameLoop = require('../render-loops/RequestAnimationFrameLoop');\r\nvar TransformSystem = require('./TransformSystem');\r\nvar SizeSystem = require('./SizeSystem');\r\nvar Commands = require('./Commands');\r\n\r\nvar ENGINE_START = [Commands.ENGINE, Commands.START];\r\nvar ENGINE_STOP = [Commands.ENGINE, Commands.STOP];\r\nvar TIME_UPDATE = [Commands.TIME, null];\r\n\r\n/**\r\n * Famous has two responsibilities, one to act as the highest level\r\n * updater and another to send messages over to the renderers. It is\r\n * a singleton.\r\n *\r\n * @class FamousEngine\r\n * @constructor\r\n */\r\nfunction FamousEngine() {\r\n    var _this = this;\r\n\r\n    Dispatch._setUpdater(this);\r\n\r\n    this._updateQueue = []; // The updateQueue is a place where nodes\r\n                            // can place themselves in order to be\r\n                            // updated on the frame.\r\n\r\n    this._nextUpdateQueue = []; // the nextUpdateQueue is used to queue\r\n                                // updates for the next tick.\r\n                                // this prevents infinite loops where during\r\n                                // an update a node continuously puts itself\r\n                                // back in the update queue.\r\n\r\n    this._scenes = {}; // a hash of all of the scenes's that the FamousEngine\r\n                         // is responsible for.\r\n\r\n    this._messages = TIME_UPDATE;   // a queue of all of the draw commands to\r\n                                    // send to the the renderers this frame.\r\n\r\n    this._inUpdate = false; // when the famous is updating this is true.\r\n                            // all requests for updates will get put in the\r\n                            // nextUpdateQueue\r\n\r\n    this._clock = new Clock(); // a clock to keep track of time for the scene\r\n                               // graph.\r\n\r\n\r\n    this._channel = new Channel();\r\n    this._channel.onMessage = function (message) {\r\n        _this.handleMessage(message);\r\n    };\r\n    Chan.setChannel(this._channel);\r\n}\r\n\r\n\r\n/**\r\n * An init script that initializes the FamousEngine with options\r\n * or default parameters.\r\n *\r\n * @method\r\n *\r\n * @param {Object} options a set of options containing a compositor and a render loop\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.init = function init(options) {\r\n    if (typeof window === 'undefined') {\r\n        throw new Error(\r\n            'FamousEngine#init needs to have access to the global window object. ' +\r\n            'Instantiate Compositor and UIManager manually in the UI thread.'\r\n        );\r\n    }\r\n    this.compositor = options && options.compositor || new Compositor();\r\n    this.renderLoop = options && options.renderLoop || new RequestAnimationFrameLoop();\r\n    this.uiManager = new UIManager(this.getChannel(), this.compositor, this.renderLoop);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the channel that the engine will use to communicate to\r\n * the renderers.\r\n *\r\n * @method\r\n *\r\n * @param {Channel} channel     The channel to be used for communicating with\r\n *                              the `UIManager`/ `Compositor`.\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.setChannel = function setChannel(channel) {\r\n    this._channel = channel;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns the channel that the engine is currently using\r\n * to communicate with the renderers.\r\n *\r\n * @method\r\n *\r\n * @return {Channel} channel    The channel to be used for communicating with\r\n *                              the `UIManager`/ `Compositor`.\r\n */\r\nFamousEngine.prototype.getChannel = function getChannel () {\r\n    return this._channel;\r\n};\r\n\r\n/**\r\n * _update is the body of the update loop. The frame consists of\r\n * pulling in appending the nextUpdateQueue to the currentUpdate queue\r\n * then moving through the updateQueue and calling onUpdate with the current\r\n * time on all nodes. While _update is called _inUpdate is set to true and\r\n * all requests to be placed in the update queue will be forwarded to the\r\n * nextUpdateQueue.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nFamousEngine.prototype._update = function _update () {\r\n    this._inUpdate = true;\r\n    var time = this._clock.now();\r\n    var nextQueue = this._nextUpdateQueue;\r\n    var queue = this._updateQueue;\r\n    var item;\r\n\r\n    this._messages[1] = time;\r\n\r\n    SizeSystem.update();\r\n    TransformSystem.update();\r\n\r\n    while (nextQueue.length) queue.unshift(nextQueue.pop());\r\n\r\n    while (queue.length) {\r\n        item = queue.shift();\r\n        if (item && item.update) item.update(time);\r\n        if (item && item.onUpdate) item.onUpdate(time);\r\n    }\r\n\r\n    this._inUpdate = false;\r\n};\r\n\r\n/**\r\n * requestUpdates takes a class that has an onUpdate method and puts it\r\n * into the updateQueue to be updated at the next frame.\r\n * If FamousEngine is currently in an update, requestUpdate\r\n * passes its argument to requestUpdateOnNextTick.\r\n *\r\n * @method\r\n *\r\n * @param {Object} requester an object with an onUpdate method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nFamousEngine.prototype.requestUpdate = function requestUpdate (requester) {\r\n    if (!requester)\r\n        throw new Error(\r\n            'requestUpdate must be called with a class to be updated'\r\n        );\r\n\r\n    if (this._inUpdate) this.requestUpdateOnNextTick(requester);\r\n    else this._updateQueue.push(requester);\r\n};\r\n\r\n/**\r\n * requestUpdateOnNextTick is requests an update on the next frame.\r\n * If FamousEngine is not currently in an update than it is functionally equivalent\r\n * to requestUpdate. This method should be used to prevent infinite loops where\r\n * a class is updated on the frame but needs to be updated again next frame.\r\n *\r\n * @method\r\n *\r\n * @param {Object} requester an object with an onUpdate method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nFamousEngine.prototype.requestUpdateOnNextTick = function requestUpdateOnNextTick (requester) {\r\n    this._nextUpdateQueue.push(requester);\r\n};\r\n\r\n/**\r\n * postMessage sends a message queue into FamousEngine to be processed.\r\n * These messages will be interpreted and sent into the scene graph\r\n * as events if necessary.\r\n *\r\n * @method\r\n *\r\n * @param {Array} messages an array of commands.\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.handleMessage = function handleMessage (messages) {\r\n    if (!messages)\r\n        throw new Error(\r\n            'onMessage must be called with an array of messages'\r\n        );\r\n\r\n    var command;\r\n\r\n    while (messages.length > 0) {\r\n        command = messages.shift();\r\n        switch (command) {\r\n            case Commands.WITH:\r\n                this.handleWith(messages);\r\n                break;\r\n            case Commands.FRAME:\r\n                this.handleFrame(messages);\r\n                break;\r\n            case Commands.ENGINE:\r\n\r\n                Chan.callback(messages[1]);\r\n                messages.length = 0;\r\n                break;\r\n            default:\r\n                throw new Error('received unknown command: ' + command);\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * handleWith is a method that takes an array of messages following the\r\n * WITH command. It'll then issue the next commands to the path specified\r\n * by the WITH command.\r\n *\r\n * @method\r\n *\r\n * @param {Array} messages array of messages.\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.handleWith = function handleWith (messages) {\r\n    var path = messages.shift();\r\n    var command = messages.shift();\r\n    switch (command) {\r\n        case Commands.TRIGGER: // the TRIGGER command sends a UIEvent to the specified path\r\n            var type = messages.shift();\r\n            var ev = messages.shift();\r\n            Dispatch.dispatchUIEvent(path, type, ev);\r\n            break;\r\n        default:\r\n            throw new Error('received unknown command: ' + command);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * handleFrame is called when the renderers issue a FRAME command to\r\n * FamousEngine. FamousEngine will then step updating the scene graph to the current time.\r\n *\r\n * @method\r\n *\r\n * @param {Array} messages array of messages.\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.handleFrame = function handleFrame (messages) {\r\n    if (!messages) throw new Error('handleFrame must be called with an array of messages');\r\n    if (!messages.length) throw new Error('FRAME must be sent with a time');\r\n\r\n    this.step(messages.shift());\r\n    return this;\r\n};\r\n\r\n/**\r\n * step updates the clock and the scene graph and then sends the draw commands\r\n * that accumulated in the update to the renderers.\r\n *\r\n * @method\r\n *\r\n * @param {Number} time current engine time\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.step = function step (time) {\r\n    if (time == null) throw new Error('step must be called with a time');\r\n\r\n    this._clock.step(time);\r\n    this._update();\r\n\r\n    if (this._messages.length) {\r\n        this._channel.sendMessage(this._messages);\r\n        while (this._messages.length > 2) this._messages.pop();\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * returns the context of a particular path. The context is looked up by the selector\r\n * portion of the path and is listed from the start of the string to the first\r\n * '/'.\r\n *\r\n * @method\r\n *\r\n * @param {String} selector the path to look up the context for.\r\n *\r\n * @return {Context | Undefined} the context if found, else undefined.\r\n */\r\nFamousEngine.prototype.getContext = function getContext (selector) {\r\n    if (!selector) throw new Error('getContext must be called with a selector');\r\n\r\n    var index = selector.indexOf('/');\r\n    selector = index === -1 ? selector : selector.substring(0, index);\r\n\r\n    return this._scenes[selector];\r\n};\r\n\r\n/**\r\n * Returns the instance of clock used by the FamousEngine.\r\n *\r\n * @method\r\n *\r\n * @return {Clock} FamousEngine's clock\r\n */\r\nFamousEngine.prototype.getClock = function getClock () {\r\n    return this._clock;\r\n};\r\n\r\n/**\r\n * Enqueues a message to be transfered to the renderers.\r\n *\r\n * @method\r\n *\r\n * @param {Any} command Draw Command\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.message = function message (command) {\r\n    this._messages.push(command);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Creates a scene under which a scene graph could be built.\r\n *\r\n * @method\r\n *\r\n * @param {String} selector a dom selector for where the scene should be placed\r\n *\r\n * @return {Scene} a new instance of Scene.\r\n */\r\nFamousEngine.prototype.createScene = function createScene (selector) {\r\n    selector = selector || 'body';\r\n\r\n    if (this._scenes[selector]) this._scenes[selector].dismount();\r\n    this._scenes[selector] = new Scene(selector, this);\r\n    return this._scenes[selector];\r\n};\r\n\r\n/**\r\n * Introduce an already instantiated scene to the engine.\r\n *\r\n * @method\r\n *\r\n * @param {Scene} scene the scene to reintroduce to the engine\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.addScene = function addScene (scene) {\r\n    var selector = scene._selector;\r\n\r\n    var current = this._scenes[selector];\r\n    if (current && current !== scene) current.dismount();\r\n    if (!scene.isMounted()) scene.mount(scene.getSelector());\r\n    this._scenes[selector] = scene;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Remove a scene.\r\n *\r\n * @method\r\n *\r\n * @param {Scene} scene the scene to remove from the engine\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.removeScene = function removeScene (scene) {\r\n    var selector = scene._selector;\r\n\r\n    var current = this._scenes[selector];\r\n    if (current && current === scene) {\r\n        if (scene.isMounted()) scene.dismount();\r\n        delete this._scenes[selector];\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Starts the engine running in the Main-Thread.\r\n * This effects **every** updateable managed by the Engine.\r\n *\r\n * @method\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.startRenderLoop = function startRenderLoop() {\r\n    this._channel.sendMessage(ENGINE_START);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Stops the engine running in the Main-Thread.\r\n * This effects **every** updateable managed by the Engine.\r\n *\r\n * @method\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.stopRenderLoop = function stopRenderLoop() {\r\n    this._channel.sendMessage(ENGINE_STOP);\r\n    return this;\r\n};\r\n\r\n/**\r\n * @method\r\n * @deprecated Use {@link FamousEngine#startRenderLoop} instead!\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.startEngine = function startEngine() {\r\n    console.warn(\r\n        'FamousEngine.startEngine is deprecated! Use ' +\r\n        'FamousEngine.startRenderLoop instead!'\r\n    );\r\n    return this.startRenderLoop();\r\n};\r\n\r\n/**\r\n * @method\r\n * @deprecated Use {@link FamousEngine#stopRenderLoop} instead!\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.stopEngine = function stopEngine() {\r\n    console.warn(\r\n        'FamousEngine.stopEngine is deprecated! Use ' +\r\n        'FamousEngine.stopRenderLoop instead!'\r\n    );\r\n    return this.stopRenderLoop();\r\n};\r\n\r\nmodule.exports = new FamousEngine();\r\n\n},{\"../render-loops/RequestAnimationFrameLoop\":40,\"../renderers/Compositor\":41,\"../renderers/UIManager\":43,\"./Chan\":5,\"./Channel\":6,\"./Clock\":7,\"./Commands\":8,\"./Dispatch\":10,\"./Scene\":16,\"./SizeSystem\":18,\"./TransformSystem\":20}],13:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n/*jshint -W079 */\r\n\r\n'use strict';\r\n\r\nvar SizeSystem = require('./SizeSystem');\r\nvar Dispatch = require('./Dispatch');\r\nvar TransformSystem = require('./TransformSystem');\r\nvar Size = require('./Size');\r\nvar Transform = require('./Transform');\r\n\r\n/**\r\n * Nodes define hierarchy and geometrical transformations. They can be moved\r\n * (translated), scaled and rotated.\r\n *\r\n * A Node is either mounted or unmounted. Unmounted nodes are detached from the\r\n * scene graph. Unmounted nodes have no parent node, while each mounted node has\r\n * exactly one parent. Nodes have an arbitrary number of children, which can be\r\n * dynamically added using {@link Node#addChild}.\r\n *\r\n * Each Node has an arbitrary number of `components`. Those components can\r\n * send `draw` commands to the renderer or mutate the node itself, in which case\r\n * they define behavior in the most explicit way. Components that send `draw`\r\n * commands are considered `renderables`. From the node's perspective, there is\r\n * no distinction between nodes that send draw commands and nodes that define\r\n * behavior.\r\n *\r\n * Because of the fact that Nodes themself are very unopinioted (they don't\r\n * \"render\" to anything), they are often being subclassed in order to add e.g.\r\n * components at initialization to them. Because of this flexibility, they might\r\n * as well have been called `Entities`.\r\n *\r\n * @example\r\n * // create three detached (unmounted) nodes\r\n * var parent = new Node();\r\n * var child1 = new Node();\r\n * var child2 = new Node();\r\n *\r\n * // build an unmounted subtree (parent is still detached)\r\n * parent.addChild(child1);\r\n * parent.addChild(child2);\r\n *\r\n * // mount parent by adding it to the context\r\n * var context = Famous.createContext(\"body\");\r\n * context.addChild(parent);\r\n *\r\n * @class Node\r\n * @constructor\r\n */\r\nfunction Node () {\r\n    this._requestingUpdate = false;\r\n    this._inUpdate = false;\r\n    this._mounted = false;\r\n    this._shown = true;\r\n    this._showInEngine = true;\r\n    this._updater = null;\r\n    this._opacity = 1;\r\n    this._UIEvents = [];\r\n\r\n    this._updateQueue = [];\r\n    this._nextUpdateQueue = [];\r\n\r\n    this._freedComponentIndicies = [];\r\n    this._components = [];\r\n\r\n    this._freedChildIndicies = [];\r\n    this._children = [];\r\n\r\n    this._fullChildren = [];\r\n\r\n    this._parent = null;\r\n\r\n    this._id = null;\r\n\r\n    this._transformID = null;\r\n    this._sizeID = null;\r\n\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS) this._init();\r\n}\r\n\r\nNode.RELATIVE_SIZE = 0;\r\nNode.ABSOLUTE_SIZE = 1;\r\nNode.RENDER_SIZE = 2;\r\nNode.DEFAULT_SIZE = 0;\r\nNode.NO_DEFAULT_COMPONENTS = false;\r\n\r\n/**\r\n * Protected method. Initializes a node with a default Transform and Size component\r\n *\r\n * @method\r\n * @protected\r\n *\r\n * @return {undefined} undefined\r\n */\r\nNode.prototype._init = function _init () {\r\n    this._transformID = this.addComponent(new Transform());\r\n    this._sizeID = this.addComponent(new Size());\r\n};\r\n\r\n/**\r\n * Protected method. Sets the parent of this node such that it can be looked up.\r\n *\r\n * @method\r\n *\r\n * @param {Node} parent The node to set as the parent of this\r\n *\r\n * @return {undefined} undefined;\r\n */\r\nNode.prototype._setParent = function _setParent (parent) {\r\n    if (this._parent && this._parent.getChildren().indexOf(this) !== -1) {\r\n        this._parent.removeChild(this);\r\n    }\r\n    this._parent = parent;\r\n};\r\n\r\n/**\r\n * Protected method. Sets the mount state of the node. Should only be called\r\n * by the dispatch\r\n *\r\n * @method\r\n *\r\n * @param {Boolean} mounted whether or not the Node is mounted.\r\n * @param {String} path The path that the node will be mounted to\r\n *\r\n * @return {undefined} undefined\r\n */\r\nNode.prototype._setMounted = function _setMounted (mounted, path) {\r\n    this._mounted = mounted;\r\n    this._id = path ? path : null;\r\n};\r\n\r\n/**\r\n * Protected method, sets whether or not the Node is shown. Should only\r\n * be called by the dispatch\r\n *\r\n * @method\r\n *\r\n * @param {Boolean} shown whether or not the node is shown\r\n *\r\n * @return {undefined} undefined\r\n */\r\nNode.prototype._setShown = function _setShown (shown) {\r\n    this._shown = shown;\r\n};\r\n\r\n/**\r\n * Protected method. Sets the updater of the node.\r\n *\r\n * @method\r\n *\r\n * @param {FamousEngine} updater the Updater of the node.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nNode.prototype._setUpdater = function _setUpdater (updater) {\r\n    this._updater = updater;\r\n    if (this._requestingUpdate) this._updater.requestUpdate(this);\r\n};\r\n\r\n/**\r\n * Determine the node's location in the scene graph hierarchy.\r\n * A location of `body/0/1` can be interpreted as the following scene graph\r\n * hierarchy (ignoring siblings of ancestors and additional child nodes):\r\n *\r\n * `Context:body` -> `Node:0` -> `Node:1`, where `Node:1` is the node the\r\n * `getLocation` method has been invoked on.\r\n *\r\n * @method getLocation\r\n *\r\n * @return {String} location (path), e.g. `body/0/1`\r\n */\r\nNode.prototype.getLocation = function getLocation () {\r\n    return this._id;\r\n};\r\n\r\n/**\r\n * @alias getId\r\n *\r\n * @return {String} the path of the Node\r\n */\r\nNode.prototype.getId = Node.prototype.getLocation;\r\n\r\n/**\r\n * Dispatches the event using the Dispatch. All descendent nodes will\r\n * receive the dispatched event.\r\n *\r\n * @method emit\r\n *\r\n * @param  {String} event   Event type.\r\n * @param  {Object} payload Event object to be dispatched.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.emit = function emit (event, payload) {\r\n    Dispatch.dispatch(this.getLocation(), event, payload);\r\n    return this;\r\n};\r\n\r\n// THIS WILL BE DEPRECATED\r\nNode.prototype.sendDrawCommand = function sendDrawCommand (message) {\r\n    this._updater.message(message);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Recursively serializes the Node, including all previously added components.\r\n *\r\n * @method getValue\r\n *\r\n * @return {Object}     Serialized representation of the node, including\r\n *                      components.\r\n */\r\nNode.prototype.getValue = function getValue () {\r\n    var numberOfChildren = this._children.length;\r\n    var numberOfComponents = this._components.length;\r\n    var i = 0;\r\n\r\n    var value = {\r\n        location: this.getId(),\r\n        spec: {\r\n            location: this.getId(),\r\n            showState: {\r\n                mounted: this.isMounted(),\r\n                shown: this.isShown(),\r\n                opacity: this.getOpacity() || null\r\n            },\r\n            offsets: {\r\n                mountPoint: [0, 0, 0],\r\n                align: [0, 0, 0],\r\n                origin: [0, 0, 0]\r\n            },\r\n            vectors: {\r\n                position: [0, 0, 0],\r\n                rotation: [0, 0, 0, 1],\r\n                scale: [1, 1, 1]\r\n            },\r\n            size: {\r\n                sizeMode: [0, 0, 0],\r\n                proportional: [1, 1, 1],\r\n                differential: [0, 0, 0],\r\n                absolute: [0, 0, 0],\r\n                render: [0, 0, 0]\r\n            }\r\n        },\r\n        UIEvents: this._UIEvents,\r\n        components: [],\r\n        children: []\r\n    };\r\n\r\n    if (value.location) {\r\n        var transform = TransformSystem.get(this.getId());\r\n        var size = SizeSystem.get(this.getId());\r\n\r\n        for (i = 0 ; i < 3 ; i++) {\r\n            value.spec.offsets.mountPoint[i] = transform.offsets.mountPoint[i];\r\n            value.spec.offsets.align[i] = transform.offsets.align[i];\r\n            value.spec.offsets.origin[i] = transform.offsets.origin[i];\r\n            value.spec.vectors.position[i] = transform.vectors.position[i];\r\n            value.spec.vectors.rotation[i] = transform.vectors.rotation[i];\r\n            value.spec.vectors.scale[i] = transform.vectors.scale[i];\r\n            value.spec.size.sizeMode[i] = size.sizeMode[i];\r\n            value.spec.size.proportional[i] = size.proportionalSize[i];\r\n            value.spec.size.differential[i] = size.differentialSize[i];\r\n            value.spec.size.absolute[i] = size.absoluteSize[i];\r\n            value.spec.size.render[i] = size.renderSize[i];\r\n        }\r\n\r\n        value.spec.vectors.rotation[3] = transform.vectors.rotation[3];\r\n    }\r\n\r\n    for (i = 0; i < numberOfChildren ; i++)\r\n        if (this._children[i] && this._children[i].getValue)\r\n            value.children.push(this._children[i].getValue());\r\n\r\n    for (i = 0 ; i < numberOfComponents ; i++)\r\n        if (this._components[i] && this._components[i].getValue)\r\n            value.components.push(this._components[i].getValue());\r\n\r\n    return value;\r\n};\r\n\r\n/**\r\n * Similar to {@link Node#getValue}, but returns the actual \"computed\" value. E.g.\r\n * a proportional size of 0.5 might resolve into a \"computed\" size of 200px\r\n * (assuming the parent has a width of 400px).\r\n *\r\n * @method getComputedValue\r\n *\r\n * @return {Object}     Serialized representation of the node, including\r\n *                      children, excluding components.\r\n */\r\nNode.prototype.getComputedValue = function getComputedValue () {\r\n    console.warn('Node.getComputedValue is depricated. Use Node.getValue instead');\r\n    var numberOfChildren = this._children.length;\r\n\r\n    var value = {\r\n        location: this.getId(),\r\n        computedValues: {\r\n            transform: this.isMounted() ? TransformSystem.get(this.getLocation()).getLocalTransform() : null,\r\n            size: this.isMounted() ? SizeSystem.get(this.getLocation()).get() : null\r\n        },\r\n        children: []\r\n    };\r\n\r\n    for (var i = 0 ; i < numberOfChildren ; i++)\r\n        if (this._children[i] && this._children[i].getComputedValue)\r\n            value.children.push(this._children[i].getComputedValue());\r\n\r\n    return value;\r\n};\r\n\r\n/**\r\n * Retrieves all children of the current node.\r\n *\r\n * @method getChildren\r\n *\r\n * @return {Array.<Node>}   An array of children.\r\n */\r\nNode.prototype.getChildren = function getChildren () {\r\n    return this._fullChildren;\r\n};\r\n\r\n/**\r\n * Method used internally to retrieve the children of a node. Each index in the\r\n * returned array represents a path fragment.\r\n *\r\n * @method getRawChildren\r\n * @private\r\n *\r\n * @return {Array}  An array of children. Might contain `null` elements.\r\n */\r\nNode.prototype.getRawChildren = function getRawChildren() {\r\n    return this._children;\r\n};\r\n\r\n/**\r\n * Retrieves the parent of the current node. Unmounted nodes do not have a\r\n * parent node.\r\n *\r\n * @method getParent\r\n *\r\n * @return {Node}       Parent node.\r\n */\r\nNode.prototype.getParent = function getParent () {\r\n    return this._parent;\r\n};\r\n\r\n/**\r\n * Schedules the {@link Node#update} function of the node to be invoked on the\r\n * next frame (if no update during this frame has been scheduled already).\r\n * If the node is currently being updated (which means one of the requesters\r\n * invoked requestsUpdate while being updated itself), an update will be\r\n * scheduled on the next frame.\r\n *\r\n * @method requestUpdate\r\n *\r\n * @param  {Object} requester   If the requester has an `onUpdate` method, it\r\n *                              will be invoked during the next update phase of\r\n *                              the node.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.requestUpdate = function requestUpdate (requester) {\r\n    if (this._inUpdate || !this.isMounted())\r\n        return this.requestUpdateOnNextTick(requester);\r\n    if (this._updateQueue.indexOf(requester) === -1) {\r\n        this._updateQueue.push(requester);\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Schedules an update on the next tick. Similarily to\r\n * {@link Node#requestUpdate}, `requestUpdateOnNextTick` schedules the node's\r\n * `onUpdate` function to be invoked on the frame after the next invocation on\r\n * the node's onUpdate function.\r\n *\r\n * @method requestUpdateOnNextTick\r\n *\r\n * @param  {Object} requester   If the requester has an `onUpdate` method, it\r\n *                              will be invoked during the next update phase of\r\n *                              the node.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.requestUpdateOnNextTick = function requestUpdateOnNextTick (requester) {\r\n    if (this._nextUpdateQueue.indexOf(requester) === -1)\r\n        this._nextUpdateQueue.push(requester);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Checks if the node is mounted. Unmounted nodes are detached from the scene\r\n * graph.\r\n *\r\n * @method isMounted\r\n *\r\n * @return {Boolean}    Boolean indicating whether the node is mounted or not.\r\n */\r\nNode.prototype.isMounted = function isMounted () {\r\n    return this._mounted;\r\n};\r\n\r\n/**\r\n * Checks if the node is being rendered. A node is being rendererd when it is\r\n * mounted to a parent node **and** shown.\r\n *\r\n * @method isRendered\r\n *\r\n * @return {Boolean}    Boolean indicating whether the node is rendered or not.\r\n */\r\nNode.prototype.isRendered = function isRendered () {\r\n    return this._mounted && this._shown;\r\n};\r\n\r\n/**\r\n * Checks if the node is visible (\"shown\").\r\n *\r\n * @method isShown\r\n *\r\n * @return {Boolean}    Boolean indicating whether the node is visible\r\n *                      (\"shown\") or not.\r\n */\r\nNode.prototype.isShown = function isShown () {\r\n    return this._shown;\r\n};\r\n\r\n/**\r\n * Determines the node's relative opacity.\r\n * The opacity needs to be within [0, 1], where 0 indicates a completely\r\n * transparent, therefore invisible node, whereas an opacity of 1 means the\r\n * node is completely solid.\r\n *\r\n * @method getOpacity\r\n *\r\n * @return {Number}         Relative opacity of the node.\r\n */\r\nNode.prototype.getOpacity = function getOpacity () {\r\n    return this._opacity;\r\n};\r\n\r\n/**\r\n * Determines the node's previously set mount point.\r\n *\r\n * @method getMountPoint\r\n *\r\n * @return {Float32Array}   An array representing the mount point.\r\n */\r\nNode.prototype.getMountPoint = function getMountPoint () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._transformID).getMountPoint();\r\n    else if (this.isMounted())\r\n        return TransformSystem.get(this.getLocation()).getMountPoint();\r\n    else throw new Error('This node does not have access to a transform component');\r\n};\r\n\r\n/**\r\n * Determines the node's previously set align.\r\n *\r\n * @method getAlign\r\n *\r\n * @return {Float32Array}   An array representing the align.\r\n */\r\nNode.prototype.getAlign = function getAlign () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._transformID).getAlign();\r\n    else if (this.isMounted())\r\n        return TransformSystem.get(this.getLocation()).getAlign();\r\n    else throw new Error('This node does not have access to a transform component');\r\n};\r\n\r\n/**\r\n * Determines the node's previously set origin.\r\n *\r\n * @method getOrigin\r\n *\r\n * @return {Float32Array}   An array representing the origin.\r\n */\r\nNode.prototype.getOrigin = function getOrigin () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._transformID).getOrigin();\r\n    else if (this.isMounted())\r\n        return TransformSystem.get(this.getLocation()).getOrigin();\r\n    else throw new Error('This node does not have access to a transform component');\r\n};\r\n\r\n/**\r\n * Determines the node's previously set position.\r\n *\r\n * @method getPosition\r\n *\r\n * @return {Float32Array}   An array representing the position.\r\n */\r\nNode.prototype.getPosition = function getPosition () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._transformID).getPosition();\r\n    else if (this.isMounted())\r\n        return TransformSystem.get(this.getLocation()).getPosition();\r\n    else throw new Error('This node does not have access to a transform component');\r\n};\r\n\r\n/**\r\n * Returns the node's current rotation\r\n *\r\n * @method getRotation\r\n *\r\n * @return {Float32Array} an array of four values, showing the rotation as a quaternion\r\n */\r\nNode.prototype.getRotation = function getRotation () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._transformID).getRotation();\r\n    else if (this.isMounted())\r\n        return TransformSystem.get(this.getLocation()).getRotation();\r\n    else throw new Error('This node does not have access to a transform component');\r\n};\r\n\r\n/**\r\n * Returns the scale of the node\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} an array showing the current scale vector\r\n */\r\nNode.prototype.getScale = function getScale () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._transformID).getScale();\r\n    else if (this.isMounted())\r\n        return TransformSystem.get(this.getLocation()).getScale();\r\n    else throw new Error('This node does not have access to a transform component');\r\n};\r\n\r\n/**\r\n * Returns the current size mode of the node\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} an array of numbers showing the current size mode\r\n */\r\nNode.prototype.getSizeMode = function getSizeMode () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._sizeID).getSizeMode();\r\n    else if (this.isMounted())\r\n        return SizeSystem.get(this.getLocation()).getSizeMode();\r\n    else throw new Error('This node does not have access to a size component');\r\n};\r\n\r\n/**\r\n * Returns the current proportional size\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} a vector 3 showing the current proportional size\r\n */\r\nNode.prototype.getProportionalSize = function getProportionalSize () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._sizeID).getProportional();\r\n    else if (this.isMounted())\r\n        return SizeSystem.get(this.getLocation()).getProportional();\r\n    else throw new Error('This node does not have access to a size component');\r\n};\r\n\r\n/**\r\n * Returns the differential size of the node\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} a vector 3 showing the current differential size\r\n */\r\nNode.prototype.getDifferentialSize = function getDifferentialSize () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._sizeID).getDifferential();\r\n    else if (this.isMounted())\r\n        return SizeSystem.get(this.getLocation()).getDifferential();\r\n    else throw new Error('This node does not have access to a size component');\r\n};\r\n\r\n/**\r\n * Returns the absolute size of the node\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} a vector 3 showing the current absolute size of the node\r\n */\r\nNode.prototype.getAbsoluteSize = function getAbsoluteSize () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._sizeID).getAbsolute();\r\n    else if (this.isMounted())\r\n        return SizeSystem.get(this.getLocation()).getAbsolute();\r\n    else throw new Error('This node does not have access to a size component');\r\n};\r\n\r\n/**\r\n * Returns the current Render Size of the node. Note that the render size\r\n * is asynchronous (will always be one frame behind) and needs to be explicitely\r\n * calculated by setting the proper size mode.\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} a vector 3 showing the current render size\r\n */\r\nNode.prototype.getRenderSize = function getRenderSize () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._sizeID).getRender();\r\n    else if (this.isMounted())\r\n        return SizeSystem.get(this.getLocation()).getRender();\r\n    else throw new Error('This node does not have access to a size component');\r\n};\r\n\r\n/**\r\n * Returns the external size of the node\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} a vector 3 of the final calculated side of the node\r\n */\r\nNode.prototype.getSize = function getSize () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._sizeID).get();\r\n    else if (this.isMounted())\r\n        return SizeSystem.get(this.getLocation()).get();\r\n    else throw new Error('This node does not have access to a size component');\r\n};\r\n\r\n/**\r\n * Returns the current world transform of the node\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} a 16 value transform\r\n */\r\nNode.prototype.getTransform = function getTransform () {\r\n    return TransformSystem.get(this.getLocation());\r\n};\r\n\r\n/**\r\n * Get the list of the UI Events that are currently associated with this node\r\n *\r\n * @method\r\n *\r\n * @return {Array} an array of strings representing the current subscribed UI event of this node\r\n */\r\nNode.prototype.getUIEvents = function getUIEvents () {\r\n    return this._UIEvents;\r\n};\r\n\r\n/**\r\n * Adds a new child to this node. If this method is called with no argument it will\r\n * create a new node, however it can also be called with an existing node which it will\r\n * append to the node that this method is being called on. Returns the new or passed in node.\r\n *\r\n * @method\r\n *\r\n * @param {Node | void} child the node to appended or no node to create a new node.\r\n *\r\n * @return {Node} the appended node.\r\n */\r\nNode.prototype.addChild = function addChild (child) {\r\n    var index = child ? this._children.indexOf(child) : -1;\r\n    child = child ? child : new Node();\r\n\r\n    if (index === -1) {\r\n        index = this._freedChildIndicies.length ?\r\n                this._freedChildIndicies.pop() : this._children.length;\r\n\r\n        this._children[index] = child;\r\n        this._fullChildren.push(child);\r\n    }\r\n\r\n    if (this.isMounted())\r\n        child.mount(this.getLocation() + '/' + index);\r\n\r\n    return child;\r\n};\r\n\r\n/**\r\n * Removes a child node from another node. The passed in node must be\r\n * a child of the node that this method is called upon.\r\n *\r\n * @method\r\n *\r\n * @param {Node} child node to be removed\r\n *\r\n * @return {Boolean} whether or not the node was successfully removed\r\n */\r\nNode.prototype.removeChild = function removeChild (child) {\r\n    var index = this._children.indexOf(child);\r\n\r\n    if (index > - 1) {\r\n        this._freedChildIndicies.push(index);\r\n\r\n        this._children[index] = null;\r\n\r\n        if (child.isMounted()) child.dismount();\r\n\r\n        var fullChildrenIndex = this._fullChildren.indexOf(child);\r\n        var len = this._fullChildren.length;\r\n        var i = 0;\r\n\r\n        for (i = fullChildrenIndex; i < len-1; i++)\r\n            this._fullChildren[i] = this._fullChildren[i + 1];\r\n\r\n        this._fullChildren.pop();\r\n\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n};\r\n\r\n/**\r\n * Each component can only be added once per node.\r\n *\r\n * @method addComponent\r\n *\r\n * @param {Object} component    A component to be added.\r\n * @return {Number} index       The index at which the component has been\r\n *                              registered. Indices aren't necessarily\r\n *                              consecutive.\r\n */\r\nNode.prototype.addComponent = function addComponent (component) {\r\n    var index = this._components.indexOf(component);\r\n    if (index === -1) {\r\n        index = this._freedComponentIndicies.length ? this._freedComponentIndicies.pop() : this._components.length;\r\n        this._components[index] = component;\r\n\r\n        if (this.isMounted() && component.onMount)\r\n            component.onMount(this, index);\r\n\r\n        if (this.isShown() && component.onShow)\r\n            component.onShow();\r\n    }\r\n\r\n    return index;\r\n};\r\n\r\n/**\r\n * @method  getComponent\r\n *\r\n * @param  {Number} index   Index at which the component has been registered\r\n *                          (using `Node#addComponent`).\r\n * @return {*}              The component registered at the passed in index (if\r\n *                          any).\r\n */\r\nNode.prototype.getComponent = function getComponent (index) {\r\n    return this._components[index];\r\n};\r\n\r\n/**\r\n * Removes a previously via {@link Node#addComponent} added component.\r\n *\r\n * @method removeComponent\r\n *\r\n * @param  {Object} component   An component that has previously been added\r\n *                              using {@link Node#addComponent}.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.removeComponent = function removeComponent (component) {\r\n    var index = this._components.indexOf(component);\r\n    if (index !== -1) {\r\n        this._freedComponentIndicies.push(index);\r\n        if (this.isShown() && component.onHide)\r\n            component.onHide();\r\n\r\n        if (this.isMounted() && component.onDismount)\r\n            component.onDismount();\r\n\r\n        this._components[index] = null;\r\n    }\r\n    return component;\r\n};\r\n\r\n/**\r\n * Removes a node's subscription to a particular UIEvent. All components\r\n * on the node will have the opportunity to remove all listeners depending\r\n * on this event.\r\n *\r\n * @method\r\n *\r\n * @param {String} eventName the name of the event\r\n *\r\n * @return {undefined} undefined\r\n */\r\nNode.prototype.removeUIEvent = function removeUIEvent (eventName) {\r\n    var UIEvents = this.getUIEvents();\r\n    var components = this._components;\r\n    var component;\r\n\r\n    var index = UIEvents.indexOf(eventName);\r\n    if (index !== -1) {\r\n        UIEvents.splice(index, 1);\r\n        for (var i = 0, len = components.length ; i < len ; i++) {\r\n            component = components[i];\r\n            if (component && component.onRemoveUIEvent) component.onRemoveUIEvent(eventName);\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Subscribes a node to a UI Event. All components on the node\r\n * will have the opportunity to begin listening to that event\r\n * and alerting the scene graph.\r\n *\r\n * @method\r\n *\r\n * @param {String} eventName the name of the event\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.addUIEvent = function addUIEvent (eventName) {\r\n    var UIEvents = this.getUIEvents();\r\n    var components = this._components;\r\n    var component;\r\n\r\n    var added = UIEvents.indexOf(eventName) !== -1;\r\n    if (!added) {\r\n        UIEvents.push(eventName);\r\n        for (var i = 0, len = components.length ; i < len ; i++) {\r\n            component = components[i];\r\n            if (component && component.onAddUIEvent) component.onAddUIEvent(eventName);\r\n        }\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Private method for the Node to request an update for itself.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Boolean} force whether or not to force the update\r\n *\r\n * @return {undefined} undefined\r\n */\r\nNode.prototype._requestUpdate = function _requestUpdate (force) {\r\n    if (force || !this._requestingUpdate) {\r\n        if (this._updater)\r\n            this._updater.requestUpdate(this);\r\n        this._requestingUpdate = true;\r\n    }\r\n};\r\n\r\n/**\r\n * Private method to set an optional value in an array, and\r\n * request an update if this changes the value of the array.\r\n *\r\n * @method\r\n *\r\n * @param {Array} vec the array to insert the value into\r\n * @param {Number} index the index at which to insert the value\r\n * @param {Any} val the value to potentially insert (if not null or undefined)\r\n *\r\n * @return {Boolean} whether or not a new value was inserted.\r\n */\r\nNode.prototype._vecOptionalSet = function _vecOptionalSet (vec, index, val) {\r\n    if (val != null && vec[index] !== val) {\r\n        vec[index] = val;\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * Shows the node, which is to say, calls onShow on all of the\r\n * node's components. Renderable components can then issue the\r\n * draw commands necessary to be shown.\r\n *\r\n * @method\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.show = function show () {\r\n    Dispatch.show(this.getLocation());\r\n    this._shown = true;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Hides the node, which is to say, calls onHide on all of the\r\n * node's components. Renderable components can then issue\r\n * the draw commands necessary to be hidden\r\n *\r\n * @method\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.hide = function hide () {\r\n    Dispatch.hide(this.getLocation());\r\n    this._shown = false;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the showInEngine value of the node. \r\n *\r\n * @method\r\n *\r\n * @param {Boolean} Bool showInEngine value.\r\n *\r\n * @return {Node} this\r\n * @return {Boolean} this.showInEngine\r\n */\r\nNode.prototype.showInEngine = function(Bool){\r\n    if(typeof Bool != \"boolean\") return this._showInEngine;\r\n    this._showInEngine = Bool;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the align value of the node. Will call onAlignChange\r\n * on all of the Node's components.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x Align value in the x dimension.\r\n * @param {Number} y Align value in the y dimension.\r\n * @param {Number} z Align value in the z dimension.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setAlign = function setAlign (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._transformID).setAlign(x, y, z);\r\n    else if (this.isMounted())\r\n        TransformSystem.get(this.getLocation()).setAlign(x, y, z);\r\n    else throw new Error('This node does not have access to a transform component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the mount point value of the node. Will call onMountPointChange\r\n * on all of the node's components.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x MountPoint value in x dimension\r\n * @param {Number} y MountPoint value in y dimension\r\n * @param {Number} z MountPoint value in z dimension\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setMountPoint = function setMountPoint (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._transformID).setMountPoint(x, y, z);\r\n    else if (this.isMounted())\r\n        TransformSystem.get(this.getLocation()).setMountPoint(x, y, z);\r\n    else throw new Error('This node does not have access to a transform component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the origin value of the node. Will call onOriginChange\r\n * on all of the node's components.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x Origin value in x dimension\r\n * @param {Number} y Origin value in y dimension\r\n * @param {Number} z Origin value in z dimension\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setOrigin = function setOrigin (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._transformID).setOrigin(x, y, z);\r\n    else if (this.isMounted())\r\n        TransformSystem.get(this.getLocation()).setOrigin(x, y, z);\r\n    else throw new Error('This node does not have access to a transform component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the position of the node. Will call onPositionChange\r\n * on all of the node's components.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x Position in x\r\n * @param {Number} y Position in y\r\n * @param {Number} z Position in z\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setPosition = function setPosition (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._transformID).setPosition(x, y, z);\r\n    else if (this.isMounted())\r\n        TransformSystem.get(this.getLocation()).setPosition(x, y, z);\r\n    else throw new Error('This node does not have access to a transform component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the rotation of the node. Will call onRotationChange\r\n * on all of the node's components. This method takes either\r\n * Euler angles or a quaternion. If the fourth argument is undefined\r\n * Euler angles are assumed.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x Either the rotation around the x axis or the magnitude in x of the axis of rotation.\r\n * @param {Number} y Either the rotation around the y axis or the magnitude in y of the axis of rotation.\r\n * @param {Number} z Either the rotation around the z axis or the magnitude in z of the axis of rotation.\r\n * @param {Number|undefined} w the amount of rotation around the axis of rotation, if a quaternion is specified.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setRotation = function setRotation (x, y, z, w) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._transformID).setRotation(x, y, z, w);\r\n    else if (this.isMounted())\r\n        TransformSystem.get(this.getLocation()).setRotation(x, y, z, w);\r\n    else throw new Error('This node does not have access to a transform component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the scale of the node. The default value is 1 in all dimensions.\r\n * The node's components will have onScaleChanged called on them.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x Scale value in x\r\n * @param {Number} y Scale value in y\r\n * @param {Number} z Scale value in z\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setScale = function setScale (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._transformID).setScale(x, y, z);\r\n    else if (this.isMounted())\r\n        TransformSystem.get(this.getLocation()).setScale(x, y, z);\r\n    else throw new Error('This node does not have access to a transform component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the value of the opacity of this node. All of the node's\r\n * components will have onOpacityChange called on them/\r\n *\r\n * @method\r\n *\r\n * @param {Number} val Value of the opacity. 1 is the default.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setOpacity = function setOpacity (val) {\r\n    if (val !== this._opacity) {\r\n        this._opacity = val;\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n\r\n        var i = 0;\r\n        var list = this._components;\r\n        var len = list.length;\r\n        var item;\r\n        for (; i < len ; i++) {\r\n            item = list[i];\r\n            if (item && item.onOpacityChange) item.onOpacityChange(val);\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the size mode being used for determining the node's final width, height\r\n * and depth.\r\n * Size modes are a way to define the way the node's size is being calculated.\r\n * Size modes are enums set on the {@link Size} constructor (and aliased on\r\n * the Node).\r\n *\r\n * @example\r\n * node.setSizeMode(Node.RELATIVE_SIZE, Node.ABSOLUTE_SIZE, Node.ABSOLUTE_SIZE);\r\n * // Instead of null, any proportional height or depth can be passed in, since\r\n * // it would be ignored in any case.\r\n * node.setProportionalSize(0.5, null, null);\r\n * node.setAbsoluteSize(null, 100, 200);\r\n *\r\n * @method setSizeMode\r\n *\r\n * @param {SizeMode} x    The size mode being used for determining the size in\r\n *                        x direction (\"width\").\r\n * @param {SizeMode} y    The size mode being used for determining the size in\r\n *                        y direction (\"height\").\r\n * @param {SizeMode} z    The size mode being used for determining the size in\r\n *                        z direction (\"depth\").\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setSizeMode = function setSizeMode (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._sizeID).setSizeMode(x, y, z);\r\n    else if (this.isMounted())\r\n        SizeSystem.get(this.getLocation()).setSizeMode(x, y, z);\r\n    else throw new Error('This node does not have access to a size component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * A proportional size defines the node's dimensions relative to its parents\r\n * final size.\r\n * Proportional sizes need to be within the range of [0, 1].\r\n *\r\n * @method setProportionalSize\r\n *\r\n * @param {Number} x    x-Size in pixels (\"width\").\r\n * @param {Number} y    y-Size in pixels (\"height\").\r\n * @param {Number} z    z-Size in pixels (\"depth\").\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setProportionalSize = function setProportionalSize (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._sizeID).setProportional(x, y, z);\r\n    else if (this.isMounted())\r\n        SizeSystem.get(this.getLocation()).setProportional(x, y, z);\r\n    else throw new Error('This node does not have access to a size component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Differential sizing can be used to add or subtract an absolute size from an\r\n * otherwise proportionally sized node.\r\n * E.g. a differential width of `-10` and a proportional width of `0.5` is\r\n * being interpreted as setting the node's size to 50% of its parent's width\r\n * *minus* 10 pixels.\r\n *\r\n * @method setDifferentialSize\r\n *\r\n * @param {Number} x    x-Size to be added to the relatively sized node in\r\n *                      pixels (\"width\").\r\n * @param {Number} y    y-Size to be added to the relatively sized node in\r\n *                      pixels (\"height\").\r\n * @param {Number} z    z-Size to be added to the relatively sized node in\r\n *                      pixels (\"depth\").\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setDifferentialSize = function setDifferentialSize (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._sizeID).setDifferential(x, y, z);\r\n    else if (this.isMounted())\r\n        SizeSystem.get(this.getLocation()).setDifferential(x, y, z);\r\n    else throw new Error('This node does not have access to a size component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the node's size in pixels, independent of its parent.\r\n *\r\n * @method setAbsoluteSize\r\n *\r\n * @param {Number} x x-Size in pixels (\"width\").\r\n * @param {Number} y y-Size in pixels (\"height\").\r\n * @param {Number} z z-Size in pixels (\"depth\").\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setAbsoluteSize = function setAbsoluteSize (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._sizeID).setAbsolute(x, y, z);\r\n    else if (this.isMounted())\r\n        SizeSystem.get(this.getLocation()).setAbsolute(x, y, z);\r\n    else throw new Error('This node does not have access to a size component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Method for getting the current frame. Will be deprecated.\r\n *\r\n * @method\r\n *\r\n * @return {Number} current frame\r\n */\r\nNode.prototype.getFrame = function getFrame () {\r\n    return this._updater.getFrame();\r\n};\r\n\r\n/**\r\n * returns an array of the components currently attached to this\r\n * node.\r\n *\r\n * @method getComponents\r\n *\r\n * @return {Array} list of components.\r\n */\r\nNode.prototype.getComponents = function getComponents () {\r\n    return this._components;\r\n};\r\n\r\n/**\r\n * Enters the node's update phase while updating its own spec and updating its components.\r\n *\r\n * @method update\r\n *\r\n * @param  {Number} time    high-resolution timestamp, usually retrieved using\r\n *                          requestAnimationFrame\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.update = function update (time){\r\n    this._inUpdate = true;\r\n    var nextQueue = this._nextUpdateQueue;\r\n    var queue = this._updateQueue;\r\n    var item;\r\n\r\n    while (nextQueue.length) queue.unshift(nextQueue.pop());\r\n\r\n    while (queue.length) {\r\n        item = this._components[queue.shift()];\r\n        if (item && item.onUpdate) item.onUpdate(time);\r\n    }\r\n\r\n    this._inUpdate = false;\r\n    this._requestingUpdate = false;\r\n\r\n    if (!this.isMounted()) {\r\n        // last update\r\n        this._parent = null;\r\n        this._id = null;\r\n    }\r\n    else if (this._nextUpdateQueue.length) {\r\n        this._updater.requestUpdateOnNextTick(this);\r\n        this._requestingUpdate = true;\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Mounts the node and therefore its subtree by setting it as a child of the\r\n * passed in parent.\r\n *\r\n * @method mount\r\n *\r\n * @param  {String} path unique path of node (e.g. `body/0/1`)\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.mount = function mount (path) {\r\n    if (this.isMounted())\r\n        throw new Error('Node is already mounted at: ' + this.getLocation());\r\n\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS){\r\n        TransformSystem.registerTransformAtPath(path, this.getComponent(this._transformID));\r\n        SizeSystem.registerSizeAtPath(path, this.getComponent(this._sizeID));\r\n    }\r\n    else {\r\n        TransformSystem.registerTransformAtPath(path);\r\n        SizeSystem.registerSizeAtPath(path);\r\n    }\r\n    Dispatch.mount(path, this);\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n    return this;\r\n\r\n};\r\n\r\n/**\r\n * Dismounts (detaches) the node from the scene graph by removing it as a\r\n * child of its parent.\r\n *\r\n * @method\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.dismount = function dismount () {\r\n    if (!this.isMounted())\r\n        throw new Error('Node is not mounted');\r\n\r\n    var path = this.getLocation();\r\n\r\n    TransformSystem.deregisterTransformAtPath(path);\r\n    SizeSystem.deregisterSizeAtPath(path);\r\n    Dispatch.dismount(path);\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\nmodule.exports = Node;\r\n\n},{\"./Dispatch\":10,\"./Size\":17,\"./SizeSystem\":18,\"./Transform\":19,\"./TransformSystem\":20}],14:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * A collection of utilities for handling paths.\r\n *\r\n * @namespace\r\n */\r\nvar Path = {\r\n\r\n    /**\r\n     * determines if the passed in path has a trailing slash. Paths of the form\r\n     * 'body/0/1/' return true, while paths of the form 'body/0/1' return false.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} path the path\r\n     *\r\n     * @return {Boolean} whether or not the path has a trailing slash\r\n     */\r\n    hasTrailingSlash: function hasTrailingSlash (path) {\r\n        return path[path.length - 1] === '/';\r\n    },\r\n\r\n    /**\r\n     * Returns the depth in the tree this path represents. Essentially counts\r\n     * the slashes ignoring a trailing slash.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} path the path\r\n     *\r\n     * @return {Number} the depth in the tree that this path represents\r\n     */\r\n    depth: function depth (path) {\r\n        var count = 0;\r\n        var length = path.length;\r\n        var len = this.hasTrailingSlash(path) ? length - 1 : length;\r\n        var i = 0;\r\n        for (; i < len ; i++) count += path[i] === '/' ? 1 : 0;\r\n        return count;\r\n    },\r\n\r\n    /**\r\n     * Gets the position of this path in relation to its siblings.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} path the path\r\n     *\r\n     * @return {Number} the index of this path in relation to its siblings.\r\n     */\r\n    index: function index (path) {\r\n        var length = path.length;\r\n        var len = this.hasTrailingSlash(path) ? length - 1 : length;\r\n        while (len--) if (path[len] === '/') break;\r\n        var result = parseInt(path.substring(len + 1));\r\n        return isNaN(result) ? 0 : result;\r\n    },\r\n\r\n    /**\r\n     * Gets the position of the path at a particular breadth in relationship\r\n     * to its siblings\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} path the path\r\n     * @param {Number} depth the breadth at which to find the index\r\n     *\r\n     * @return {Number} index at the particular depth\r\n     */\r\n    indexAtDepth: function indexAtDepth (path, depth) {\r\n        var i = 0;\r\n        var len = path.length;\r\n        var index = 0;\r\n        for (; i < len ; i++) {\r\n            if (path[i] === '/') index++;\r\n            if (index === depth) {\r\n                path = path.substring(i ? i + 1 : i);\r\n                index = path.indexOf('/');\r\n                path = index === -1 ? path : path.substring(0, index);\r\n                index = parseInt(path);\r\n                return isNaN(index) ? path : index;\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * returns the path of the passed in path's parent.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} path the path\r\n     *\r\n     * @return {String} the path of the passed in path's parent\r\n     */\r\n    parent: function parent (path) {\r\n        return path.substring(0, path.lastIndexOf('/', path.length - 2));\r\n    },\r\n\r\n    /**\r\n     * Determines whether or not the first argument path is the direct child\r\n     * of the second argument path.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} child the path that may be a child\r\n     * @param {String} parent the path that may be a parent\r\n     *\r\n     * @return {Boolean} whether or not the first argument path is a child of the second argument path\r\n     */\r\n    isChildOf: function isChildOf (child, parent) {\r\n        return this.isDescendentOf(child, parent) && this.depth(child) === this.depth(parent) + 1;\r\n    },\r\n\r\n    /**\r\n     * Returns true if the first argument path is a descendent of the second argument path.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} child potential descendent path\r\n     * @param {String} parent potential ancestor path\r\n     *\r\n     * @return {Boolean} whether or not the path is a descendent\r\n     */\r\n    isDescendentOf: function isDescendentOf(child, parent) {\r\n        if (child === parent) return false;\r\n        child = this.hasTrailingSlash(child) ? child : child + '/';\r\n        parent = this.hasTrailingSlash(parent) ? parent : parent + '/';\r\n        return this.depth(parent) < this.depth(child) && child.indexOf(parent) === 0;\r\n    },\r\n\r\n    /**\r\n     * returns the selector portion of the path.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} path the path\r\n     *\r\n     * @return {String} the selector portion of the path.\r\n     */\r\n    getSelector: function getSelector(path) {\r\n        var index = path.indexOf('/');\r\n        return index === -1 ? path : path.substring(0, index);\r\n    }\r\n\r\n};\r\n\r\nmodule.exports = Path;\r\n\n},{}],15:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n/*jshint -W079 */\r\n\r\n'use strict';\r\n\r\nvar PathUtils = require('./Path');\r\n\r\n/**\r\n * A class that can be used to associate any item with a path.\r\n * Items and paths are kept in flat arrays for easy iteration\r\n * and a memo is used to provide constant time lookup.\r\n *\r\n * @class\r\n *\r\n */\r\nfunction PathStore () {\r\n    this.items = [];\r\n    this.paths = [];\r\n    this.memo = {};\r\n}\r\n\r\n/**\r\n * Associates an item with the given path. Errors if an item\r\n * already exists at the given path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to insert the item\r\n * @param {Any} item The item to associate with the given path.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nPathStore.prototype.insert = function(path, item){\r\n    var parent = PathUtils.parent(path);\r\n    var paths = this.paths;\r\n    var index = paths.indexOf(path);\r\n    var i = paths.length;\r\n    if (index !== -1)\r\n        throw new Error('item already exists at path: ' + path);\r\n    if (i){\r\n        // The item will be inserted at a point in the array\r\n        // such that it is within its own breadth in the tree\r\n        // that the paths represent\r\n        while(!this.memo.hasOwnProperty(parent) ){\r\n            parent = PathUtils.parent(parent);\r\n        }\r\n\r\n        parent = paths.indexOf(parent);\r\n        index = 1+parent;\r\n        while( index <i && PathUtils.isDescendentOf(paths[index], paths[parent]) )\r\n            index++;\r\n        i = index;\r\n    }\r\n    // insert the items in the path\r\n    paths.splice(i, 0, path);\r\n    this.items.splice(i, 0, item);\r\n\r\n    // store the relationship between path and index in the memo\r\n    this.memo[path] = i;\r\n\r\n    // all items behind the inserted item are now no longer\r\n    // accurately stored in the memo. Thus the memo must be cleared for\r\n    // these items.\r\n    for (var len = this.paths.length ; i < len ; i++)\r\n        this.memo[this.paths[i]] = null;\r\n}\r\n\r\n/**\r\n * Removes the the item from the store at the given path.\r\n * Errors if no item exists at the given path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to remove the item.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nPathStore.prototype.remove = function remove (path) {\r\n    var paths = this.paths;\r\n    var index = this.memo[path] ? this.memo[path] : paths.indexOf(path);\r\n    if (index === -1)\r\n        throw new Error('Cannot remove. No item exists at path: ' + path);\r\n\r\n    paths.splice(index, 1);\r\n    this.items.splice(index, 1);\r\n\r\n    this.memo[path] = null;\r\n\r\n    for (var len = this.paths.length ; index < len ; index++)\r\n        this.memo[this.paths[index]] = null;\r\n};\r\n\r\n/**\r\n * Returns the item stored at the current path. Returns undefined\r\n * if no item is stored at that path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path to lookup the item for\r\n *\r\n * @return {Any | undefined} the item stored or undefined\r\n */\r\nPathStore.prototype.get = function get (path) {\r\n    if (this.memo[path]) return this.items[this.memo[path]];\r\n\r\n    var index = this.paths.indexOf(path);\r\n\r\n    if (index === -1) return void 0;\r\n\r\n    this.memo[path] = index;\r\n\r\n    return this.items[index];\r\n};\r\n\r\n/**\r\n * Returns an array of the items currently stored in this\r\n * PathStore.\r\n *\r\n * @method\r\n *\r\n * @return {Array} items currently stored\r\n */\r\nPathStore.prototype.getItems = function getItems () {\r\n    return this.items;\r\n};\r\n\r\n/**\r\n * Returns an array of the paths currently stored in this\r\n * PathStore.\r\n *\r\n * @method\r\n *\r\n * @return {Array} paths currently stored\r\n */\r\nPathStore.prototype.getPaths = function getPaths () {\r\n    return this.paths;\r\n};\r\n\r\nmodule.exports = PathStore;\r\n\n},{\"./Path\":14}],16:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n/*jshint -W079 */\r\n\r\n'use strict';\r\n\r\nvar Node = require('./Node');\r\nvar Dispatch = require('./Dispatch');\r\nvar Commands = require('./Commands');\r\nvar TransformSystem = require('./TransformSystem');\r\nvar SizeSystem = require('./SizeSystem');\r\n\r\n/**\r\n * Scene is the bottom of the scene graph. It is its own\r\n * parent and provides the global updater to the scene graph.\r\n *\r\n * @class Scene\r\n * @constructor\r\n * @extends Node\r\n *\r\n * @param {String} selector a string which is a dom selector\r\n *                 signifying which dom element the context\r\n *                 should be set upon\r\n * @param {Famous} updater a class which conforms to Famous' interface\r\n *                 it needs to be able to send methods to\r\n *                 the renderers and update nodes in the scene graph\r\n */\r\nfunction Scene (selector, updater) {\r\n    if (!selector) throw new Error('Scene needs to be created with a DOM selector');\r\n    if (!updater) throw new Error('Scene needs to be created with a class like Famous');\r\n\r\n    Node.call(this);         // Scene inherits from node\r\n\r\n    this._globalUpdater = updater; // The updater that will both\r\n                                   // send messages to the renderers\r\n                                   // and update dirty nodes\r\n\r\n    this._selector = selector; // reference to the DOM selector\r\n                               // that represents the element\r\n                               // in the dom that this context\r\n                               // inhabits\r\n\r\n    this.mount(selector); // Mount the context to itself\r\n                          // (it is its own parent)\r\n\r\n    this._globalUpdater                  // message a request for the dom\r\n        .message(Commands.NEED_SIZE_FOR)  // size of the context so that\r\n        .message(selector);               // the scene graph has a total size\r\n\r\n    this.show(); // the context begins shown (it's already present in the dom)\r\n}\r\n\r\n// Scene inherits from node\r\nScene.prototype = Object.create(Node.prototype);\r\nScene.prototype.constructor = Scene;\r\nScene.NO_DEFAULT_COMPONENTS = true;\r\n\r\n/**\r\n * Scene getUpdater function returns the passed in updater\r\n *\r\n * @return {Famous} the updater for this Scene\r\n */\r\nScene.prototype.getUpdater = function getUpdater () {\r\n    return this._updater;\r\n};\r\n\r\n/**\r\n * Returns the selector that the context was instantiated with\r\n *\r\n * @return {String} dom selector\r\n */\r\nScene.prototype.getSelector = function getSelector () {\r\n    return this._selector;\r\n};\r\n\r\n/**\r\n * Returns the dispatcher of the context. Used to send events\r\n * to the nodes in the scene graph.\r\n *\r\n * @return {Dispatch} the Scene's Dispatch\r\n * @deprecated\r\n */\r\nScene.prototype.getDispatch = function getDispatch () {\r\n    console.warn('Scene#getDispatch is deprecated, require the dispatch directly');\r\n    return Dispatch;\r\n};\r\n\r\n/**\r\n * Receives an event. If the event is 'CONTEXT_RESIZE' it sets the size of the scene\r\n * graph to the payload, which must be an array of numbers of at least\r\n * length three representing the pixel size in 3 dimensions.\r\n *\r\n * @param {String} event the name of the event being received\r\n * @param {*} payload the object being sent\r\n *\r\n * @return {undefined} undefined\r\n */\r\nScene.prototype.onReceive = function onReceive (event, payload) {\r\n    // TODO: In the future the dom element that the context is attached to\r\n    // should have a representation as a component. It would be render sized\r\n    // and the context would receive its size the same way that any render size\r\n    // component receives its size.\r\n    if (event === 'CONTEXT_RESIZE') {\r\n        if (payload.length < 2)\r\n            throw new Error(\r\n                    'CONTEXT_RESIZE\\'s payload needs to be at least a pair' +\r\n                    ' of pixel sizes'\r\n            );\r\n\r\n        this.setSizeMode('absolute', 'absolute', 'absolute');\r\n        this.setAbsoluteSize(payload[0],\r\n                             payload[1],\r\n                             payload[2] ? payload[2] : 0);\r\n\r\n        this._updater.message(Commands.WITH).message(this._selector).message(Commands.READY);\r\n    }\r\n};\r\n\r\n\r\nScene.prototype.mount = function mount (path) {\r\n    if (this.isMounted())\r\n        throw new Error('Scene is already mounted at: ' + this.getLocation());\r\n    Dispatch.mount(path, this);\r\n    this._id = path;\r\n    this._mounted = true;\r\n    this._parent = this;\r\n    TransformSystem.registerTransformAtPath(path);\r\n    SizeSystem.registerSizeAtPath(path);\r\n};\r\n\r\nmodule.exports = Scene;\r\n\n},{\"./Commands\":8,\"./Dispatch\":10,\"./Node\":13,\"./SizeSystem\":18,\"./TransformSystem\":20}],17:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar ONES = [1, 1, 1];\r\nvar ZEROS = [0, 0, 0];\r\n\r\n/**\r\n * The Size class is responsible for processing Size from a node\r\n * @constructor Size\r\n *\r\n * @param {Size} parent the parent size\r\n */\r\nfunction Size (parent) {\r\n\r\n    this.finalSize = new Float32Array(3);\r\n    this.sizeChanged = false;\r\n\r\n    this.sizeMode = new Uint8Array(3);\r\n    this.sizeModeChanged = false;\r\n\r\n    this.absoluteSize = new Float32Array(3);\r\n    this.absoluteSizeChanged = false;\r\n\r\n    this.proportionalSize = new Float32Array(ONES);\r\n    this.proportionalSizeChanged = false;\r\n\r\n    this.differentialSize = new Float32Array(3);\r\n    this.differentialSizeChanged = false;\r\n\r\n    this.renderSize = new Float32Array(3);\r\n    this.renderSizeChanged = false;\r\n\r\n    this.parent = parent != null ? parent : null;\r\n}\r\n\r\n// an enumeration of the different types of size modes\r\nSize.RELATIVE = 0;\r\nSize.ABSOLUTE = 1;\r\nSize.RENDER = 2;\r\nSize.DEFAULT = Size.RELATIVE;\r\n\r\n/**\r\n * Private method which sets a value within an array\r\n * and report if the value has changed.\r\n *\r\n * @method\r\n *\r\n * @param {Array} vec The array to set the value in\r\n * @param {Number} index The index at which to set the value\r\n * @param {Any} val If the val is undefined or null, or if the value\r\n *                  is the same as what is already there, then nothing\r\n *                  is set.\r\n *\r\n * @return {Boolean} returns true if anything changed\r\n */\r\nfunction _vecOptionalSet (vec, index, val) {\r\n    if (val != null && vec[index] !== val) {\r\n        vec[index] = val;\r\n        return true;\r\n    } else return false;\r\n}\r\n\r\n/**\r\n * Private method which sets three values within an array of three\r\n * using _vecOptionalSet. Returns whether anything has changed.\r\n *\r\n * @method\r\n *\r\n * @param {Array} vec The array to set the values of\r\n * @param {Any} x The first value to set within the array\r\n * @param {Any} y The second value to set within the array\r\n * @param {Any} z The third value to set within the array\r\n *\r\n * @return {Boolean} whether anything has changed\r\n */\r\nfunction setVec (vec, x, y, z) {\r\n    var propagate = false;\r\n\r\n    propagate = _vecOptionalSet(vec, 0, x) || propagate;\r\n    propagate = _vecOptionalSet(vec, 1, y) || propagate;\r\n    propagate = _vecOptionalSet(vec, 2, z) || propagate;\r\n\r\n    return propagate;\r\n}\r\n\r\n/**\r\n * Private method to allow for polymorphism in the size mode such that strings\r\n * or the numbers from the enumeration can be used.\r\n *\r\n * @method\r\n *\r\n * @param {String|Number} val The Size mode to resolve.\r\n *\r\n * @return {Number} the resolved size mode from the enumeration.\r\n */\r\nfunction resolveSizeMode (val) {\r\n    if (val.constructor === String) {\r\n        switch (val.toLowerCase()) {\r\n            case 'relative':\r\n            case 'default': return Size.RELATIVE;\r\n            case 'absolute': return Size.ABSOLUTE;\r\n            case 'render': return Size.RENDER;\r\n            default: throw new Error('unknown size mode: ' + val);\r\n        }\r\n    }\r\n    else if (val < 0 || val > Size.RENDER) throw new Error('unknown size mode: ' + val);\r\n    return val;\r\n}\r\n\r\n/**\r\n * Sets the parent of this size.\r\n *\r\n * @method\r\n *\r\n * @param {Size} parent The parent size component\r\n *\r\n * @return {Size} this\r\n */\r\nSize.prototype.setParent = function setParent (parent) {\r\n    this.parent = parent;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets the parent of this size.\r\n *\r\n * @method\r\n *\r\n * @returns {Size|undefined} the parent if one exists\r\n */\r\nSize.prototype.getParent = function getParent () {\r\n    return this.parent;\r\n};\r\n\r\n/**\r\n * Gets the size mode of this size representation\r\n *\r\n * @method\r\n *\r\n * @param {Number} x the size mode to use for the width\r\n * @param {Number} y the size mode to use for the height\r\n * @param {Number} z the size mode to use for the depth\r\n *\r\n * @return {array} array of size modes\r\n */\r\nSize.prototype.setSizeMode = function setSizeMode (x, y, z) {\r\n    if (x != null) x = resolveSizeMode(x);\r\n    if (y != null) y = resolveSizeMode(y);\r\n    if (z != null) z = resolveSizeMode(z);\r\n    this.sizeModeChanged = setVec(this.sizeMode, x, y, z);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns the size mode of this component.\r\n *\r\n * @method\r\n *\r\n * @return {Array} the current size mode of the this.\r\n */\r\nSize.prototype.getSizeMode = function getSizeMode () {\r\n    return this.sizeMode;\r\n};\r\n\r\n/**\r\n * Sets the absolute size of this size representation.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The x dimension of the absolute size\r\n * @param {Number} y The y dimension of the absolute size\r\n * @param {Number} z The z dimension of the absolute size\r\n *\r\n * @return {Size} this\r\n */\r\nSize.prototype.setAbsolute = function setAbsolute (x, y, z) {\r\n    this.absoluteSizeChanged = setVec(this.absoluteSize, x, y, z);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets the absolute size of this size representation\r\n *\r\n * @method\r\n *\r\n * @return {array} array of absolute size\r\n */\r\nSize.prototype.getAbsolute = function getAbsolute () {\r\n    return this.absoluteSize;\r\n};\r\n\r\n/**\r\n * Sets the proportional size of this size representation.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The x dimension of the proportional size\r\n * @param {Number} y The y dimension of the proportional size\r\n * @param {Number} z The z dimension of the proportional size\r\n *\r\n * @return {Size} this\r\n */\r\nSize.prototype.setProportional = function setProportional (x, y, z) {\r\n    this.proportionalSizeChanged = setVec(this.proportionalSize, x, y, z);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets the propotional size of this size representation\r\n *\r\n * @method\r\n *\r\n * @return {array} array of proportional size\r\n */\r\nSize.prototype.getProportional = function getProportional () {\r\n    return this.proportionalSize;\r\n};\r\n\r\n/**\r\n * Sets the differential size of this size representation.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The x dimension of the differential size\r\n * @param {Number} y The y dimension of the differential size\r\n * @param {Number} z The z dimension of the differential size\r\n *\r\n * @return {Size} this\r\n */\r\nSize.prototype.setDifferential = function setDifferential (x, y, z) {\r\n    this.differentialSizeChanged = setVec(this.differentialSize, x, y, z);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets the differential size of this size representation\r\n *\r\n * @method\r\n *\r\n * @return {array} array of differential size\r\n */\r\nSize.prototype.getDifferential = function getDifferential () {\r\n    return this.differentialSize;\r\n};\r\n\r\n/**\r\n * Sets the size of this size representation.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The x dimension of the size\r\n * @param {Number} y The y dimension of the size\r\n * @param {Number} z The z dimension of the size\r\n *\r\n * @return {Size} this\r\n */\r\nSize.prototype.get = function get () {\r\n    return this.finalSize;\r\n};\r\n\r\n/**\r\n * fromSpecWithParent takes the parent node's size, the target node's spec,\r\n * and a target array to write to. Using the node's size mode it calculates\r\n * a final size for the node from the node's spec. Returns whether or not\r\n * the final size has changed from its last value.\r\n *\r\n * @method\r\n *\r\n * @param {Array} components the node's components\r\n *\r\n * @return {Boolean} true if the size of the node has changed.\r\n */\r\nSize.prototype.fromComponents = function fromComponents (components) {\r\n    var mode = this.sizeMode;\r\n    var target = this.finalSize;\r\n    var parentSize = this.parent ? this.parent.get() : ZEROS;\r\n    var prev;\r\n    var changed = false;\r\n    var len = components.length;\r\n    var j;\r\n    for (var i = 0 ; i < 3 ; i++) {\r\n        prev = target[i];\r\n        switch (mode[i]) {\r\n            case Size.RELATIVE:\r\n                target[i] = parentSize[i] * this.proportionalSize[i] + this.differentialSize[i];\r\n                break;\r\n            case Size.ABSOLUTE:\r\n                target[i] = this.absoluteSize[i];\r\n                break;\r\n            case Size.RENDER:\r\n                var candidate;\r\n                var component;\r\n                for (j = 0; j < len ; j++) {\r\n                    component = components[j];\r\n                    if (component && component.getRenderSize) {\r\n                        candidate = component.getRenderSize()[i];\r\n                        target[i] = target[i] < candidate || target[i] === 0 ? candidate : target[i];\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        changed = changed || prev !== target[i];\r\n    }\r\n    this.sizeChanged = changed;\r\n    return changed;\r\n};\r\n\r\nmodule.exports = Size;\r\n\r\n\n},{}],18:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n * \r\n * Copyright (c) 2015 Famous Industries Inc.\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar PathStore = require('./PathStore');\r\nvar Size = require('./Size');\r\nvar Dispatch = require('./Dispatch');\r\nvar PathUtils = require('./Path');\r\n\r\n/**\r\n * The size system is used to calculate size throughout the scene graph.\r\n * It holds size components and operates upon them.\r\n *\r\n * @constructor\r\n */\r\nfunction SizeSystem () {\r\n    this.pathStore = new PathStore();\r\n}\r\n\r\n/**\r\n * Registers a size component to a give path. A size component can be passed as the second argument\r\n * or a default one will be created. Throws if no size component has been added at the parent path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to register the size component\r\n * @param {Size | undefined} size The size component to be registered or undefined.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nSizeSystem.prototype.registerSizeAtPath = function registerSizeAtPath (path, size) {\r\n    if (!PathUtils.depth(path)) return this.pathStore.insert(path, size ? size : new Size());\r\n\r\n    var parent = this.pathStore.get(PathUtils.parent(path));\r\n\r\n    if (!parent) throw new Error(\r\n            'No parent size registered at expected path: ' + PathUtils.parent(path)\r\n    );\r\n\r\n    if (size) size.setParent(parent);\r\n\r\n    this.pathStore.insert(path, size ? size : new Size(parent));\r\n};\r\n\r\n/**\r\n * Removes the size component from the given path. Will throw if no component is at that\r\n * path\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to remove the size.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nSizeSystem.prototype.deregisterSizeAtPath = function deregisterSizeAtPath(path) {\r\n    this.pathStore.remove(path);\r\n};\r\n\r\n/**\r\n * Returns the size component stored at a given path. Returns undefined if no\r\n * size component is registered to that path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to get the size component.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nSizeSystem.prototype.get = function get (path) {\r\n    return this.pathStore.get(path);\r\n};\r\n\r\n/**\r\n * Updates the sizes in the scene graph. Called internally by the famous engine.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nSizeSystem.prototype.update = function update () {\r\n    var sizes = this.pathStore.getItems();\r\n    var paths = this.pathStore.getPaths();\r\n    var node;\r\n    var size;\r\n    var i;\r\n    var len;\r\n    var components;\r\n    var j;\r\n\r\n    for (i = 0, len = sizes.length ; i < len ; i++) {\r\n        node = Dispatch.getNode(paths[i]);\r\n        components = node.getComponents();\r\n        if (!node) continue;\r\n        if (!node.showInEngine()){\r\n            j = i+1;\r\n            while(j<len && PathUtils.isDescendentOf(paths[j], paths[i]))\r\n                j++;\r\n            i = j-1;\r\n            continue;\r\n        }\r\n        size = sizes[i];\r\n        if (size.sizeModeChanged) sizeModeChanged(node, components, size);\r\n        if (size.absoluteSizeChanged) absoluteSizeChanged(node, components, size);\r\n        if (size.proportionalSizeChanged) proportionalSizeChanged(node, components, size);\r\n        if (size.differentialSizeChanged) differentialSizeChanged(node, components, size);\r\n        if (size.renderSizeChanged) renderSizeChanged(node, components, size);\r\n        if (size.fromComponents(components)) sizeChanged(node, components, size);\r\n    }\r\n};\r\n\r\n// private methods\r\n\r\n/**\r\n * Private method to alert the node and components that size mode changed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node Node to potentially call sizeModeChanged on\r\n * @param {Array} components a list of the nodes' components\r\n * @param {Size} size the size class for the Node\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction sizeModeChanged (node, components, size) {\r\n    var sizeMode = size.getSizeMode();\r\n    var x = sizeMode[0];\r\n    var y = sizeMode[1];\r\n    var z = sizeMode[2];\r\n    if (node.onSizeModeChange) node.onSizeModeChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onSizeModeChange)\r\n            components[i].onSizeModeChange(x, y, z);\r\n    size.sizeModeChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to alert the node and components that absoluteSize changed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node Node to potentially call onAbsoluteSizeChange on\r\n * @param {Array} components a list of the nodes' components\r\n * @param {Size} size the size class for the Node\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction absoluteSizeChanged (node, components, size) {\r\n    var absoluteSize = size.getAbsolute();\r\n    var x = absoluteSize[0];\r\n    var y = absoluteSize[1];\r\n    var z = absoluteSize[2];\r\n    if (node.onAbsoluteSizeChange) node.onAbsoluteSizeChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onAbsoluteSizeChange)\r\n            components[i].onAbsoluteSizeChange(x, y, z);\r\n    size.absoluteSizeChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to alert the node and components that the proportional size changed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node Node to potentially call onProportionalSizeChange on\r\n * @param {Array} components a list of the nodes' components\r\n * @param {Size} size the size class for the Node\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction proportionalSizeChanged (node, components, size) {\r\n    var proportionalSize = size.getProportional();\r\n    var x = proportionalSize[0];\r\n    var y = proportionalSize[1];\r\n    var z = proportionalSize[2];\r\n    if (node.onProportionalSizeChange) node.onProportionalSizeChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onProportionalSizeChange)\r\n            components[i].onProportionalSizeChange(x, y, z);\r\n    size.proportionalSizeChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to alert the node and components that differential size changed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node Node to potentially call onDifferentialSize on\r\n * @param {Array} components a list of the nodes' components\r\n * @param {Size} size the size class for the Node\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction differentialSizeChanged (node, components, size) {\r\n    var differentialSize = size.getDifferential();\r\n    var x = differentialSize[0];\r\n    var y = differentialSize[1];\r\n    var z = differentialSize[2];\r\n    if (node.onDifferentialSizeChange) node.onDifferentialSizeChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onDifferentialSizeChange)\r\n            components[i].onDifferentialSizeChange(x, y, z);\r\n    size.differentialSizeChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to alert the node and components that render size changed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node Node to potentially call onRenderSizeChange on\r\n * @param {Array} components a list of the nodes' components\r\n * @param {Size} size the size class for the Node\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction renderSizeChanged (node, components, size) {\r\n    var renderSize = size.getRenderSize();\r\n    var x = renderSize[0];\r\n    var y = renderSize[1];\r\n    var z = renderSize[2];\r\n    if (node.onRenderSizeChange) node.onRenderSizeChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onRenderSizeChange)\r\n            components[i].onRenderSizeChange(x, y, z);\r\n    size.renderSizeChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to alert the node and components that the size changed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node Node to potentially call onSizeChange on\r\n * @param {Array} components a list of the nodes' components\r\n * @param {Size} size the size class for the Node\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction sizeChanged (node, components, size) {\r\n    var finalSize = size.get();\r\n    var x = finalSize[0];\r\n    var y = finalSize[1];\r\n    var z = finalSize[2];\r\n    if (node.onSizeChange) node.onSizeChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onSizeChange)\r\n            components[i].onSizeChange(x, y, z);\r\n    size.sizeChanged = false;\r\n}\r\n\r\nmodule.exports = new SizeSystem();\r\n\n},{\"./Dispatch\":10,\"./Path\":14,\"./PathStore\":15,\"./Size\":17}],19:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar QUAT = [0, 0, 0, 1];\r\nvar ONES = [1, 1, 1];\r\n\r\n/**\r\n * The transform class is responsible for calculating the transform of a particular\r\n * node from the data on the node and its parent\r\n *\r\n * @constructor Transform\r\n *\r\n * @param {Transform} parent the parent Transform\r\n */\r\nfunction Transform (parent) {\r\n    this.local = new Float32Array(Transform.IDENT);\r\n    this.global = new Float32Array(Transform.IDENT);\r\n    this.offsets = {\r\n        align: new Float32Array(3),\r\n        alignChanged: false,\r\n        mountPoint: new Float32Array(3),\r\n        mountPointChanged: false,\r\n        origin: new Float32Array(3),\r\n        originChanged: false\r\n    };\r\n    this.vectors = {\r\n        position: new Float32Array(3),\r\n        positionChanged: false,\r\n        rotation: new Float32Array(QUAT),\r\n        rotationChanged: false,\r\n        scale: new Float32Array(ONES),\r\n        scaleChanged: false\r\n    };\r\n    this._lastEulerVals = [0, 0, 0];\r\n    this._lastEuler = false;\r\n    this.parent = parent ? parent : null;\r\n    this.breakPoint = false;\r\n    this.calculatingWorldMatrix = false;\r\n}\r\n\r\nTransform.IDENT = [ 1, 0, 0, 0,\r\n                    0, 1, 0, 0,\r\n                    0, 0, 1, 0,\r\n                    0, 0, 0, 1 ];\r\n\r\nTransform.WORLD_CHANGED = 1;\r\nTransform.LOCAL_CHANGED = 2;\r\n\r\n/**\r\n * resets the transform state such that it no longer has a parent\r\n * and is not a breakpoint.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.reset = function reset () {\r\n    this.parent = null;\r\n    this.breakPoint = false;\r\n    this.calculatingWorldMatrix = false;\r\n};\r\n\r\n/**\r\n * sets the parent of this transform.\r\n *\r\n * @method\r\n *\r\n * @param {Transform} parent The transform class that parents this class\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setParent = function setParent (parent) {\r\n    this.parent = parent;\r\n};\r\n\r\n/**\r\n * returns the parent of this transform\r\n *\r\n * @method\r\n *\r\n * @return {Transform | null} the parent of this transform if one exists\r\n */\r\nTransform.prototype.getParent = function getParent () {\r\n    return this.parent;\r\n};\r\n\r\n/**\r\n * Makes this transform a breakpoint. This will cause it to calculate\r\n * both a local (relative to the nearest ancestor breakpoint) and a world\r\n * matrix (relative to the scene).\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setBreakPoint = function setBreakPoint () {\r\n    this.breakPoint = true;\r\n    this.calculatingWorldMatrix = true;\r\n};\r\n\r\n/**\r\n * Set this node to calculate the world matrix.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setCalculateWorldMatrix = function setCalculateWorldMatrix () {\r\n    this.calculatingWorldMatrix = true;\r\n};\r\n\r\n/**\r\n * returns whether or not this transform is a breakpoint.\r\n *\r\n * @method\r\n *\r\n * @return {Boolean} true if this transform is a breakpoint\r\n */\r\nTransform.prototype.isBreakPoint = function isBreakPoint () {\r\n    return this.breakPoint;\r\n};\r\n\r\n/**\r\n * returns the local transform\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} local transform\r\n */\r\nTransform.prototype.getLocalTransform = function getLocalTransform () {\r\n    return this.local;\r\n};\r\n\r\n/**\r\n * returns the world transform. Requires that this transform is a breakpoint.\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} world transform.\r\n */\r\nTransform.prototype.getWorldTransform = function getWorldTransform () {\r\n    if (!this.isBreakPoint() && !this.calculatingWorldMatrix)\r\n        throw new Error('This transform is not calculating world transforms');\r\n    return this.global;\r\n};\r\n\r\n/**\r\n * Takes a node and calculates the proper transform from it.\r\n *\r\n * @method\r\n *\r\n * @param {Node} node the node to calculate the transform from\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.calculate = function calculate (node) {\r\n    if (!this.parent || this.parent.isBreakPoint())\r\n        return fromNode(node, this);\r\n    else return fromNodeWithParent(node, this);\r\n};\r\n\r\n/**\r\n * A private method to potentially set a value within an\r\n * array. Will set the value if a value was given\r\n * for the third argument and if that value is different\r\n * than the value that is currently in the array at the given index.\r\n * Returns true if a value was set and false if not.\r\n *\r\n * @method\r\n *\r\n * @param {Array} vec The array to set the value within\r\n * @param {Number} index The index at which to set the value\r\n * @param {Any} val The value to potentially set in the array\r\n *\r\n * @return {Boolean} whether or not a value was set\r\n */\r\nfunction _vecOptionalSet (vec, index, val) {\r\n    if (val != null && vec[index] !== val) {\r\n        vec[index] = val;\r\n        return true;\r\n    } else return false;\r\n}\r\n\r\n/**\r\n * private method to set values within an array.\r\n * Returns whether or not the array has been changed.\r\n *\r\n * @method\r\n *\r\n * @param {Array} vec The vector to be operated upon\r\n * @param {Number | null | undefined} x The x value of the vector\r\n * @param {Number | null | undefined} y The y value of the vector\r\n * @param {Number | null | undefined} z The z value of the vector\r\n * @param {Number | null | undefined} w the w value of the vector\r\n *\r\n * @return {Boolean} whether or not the array was changed\r\n */\r\nfunction setVec (vec, x, y, z, w) {\r\n    var propagate = false;\r\n\r\n    propagate = _vecOptionalSet(vec, 0, x) || propagate;\r\n    propagate = _vecOptionalSet(vec, 1, y) || propagate;\r\n    propagate = _vecOptionalSet(vec, 2, z) || propagate;\r\n    if (w != null)\r\n        propagate = _vecOptionalSet(vec, 3, w) || propagate;\r\n\r\n    return propagate;\r\n}\r\n\r\n/**\r\n * Gets the position component of the transform\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} the position component of the transform\r\n */\r\nTransform.prototype.getPosition = function getPosition () {\r\n    return this.vectors.position;\r\n};\r\n\r\n/**\r\n * Sets the position component of the transform.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The x dimension of the position\r\n * @param {Number} y The y dimension of the position\r\n * @param {Number} z The z dimension of the position\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setPosition = function setPosition (x, y, z) {\r\n    this.vectors.positionChanged = setVec(this.vectors.position, x, y, z);\r\n};\r\n\r\n/**\r\n * Gets the rotation component of the transform. Will return a quaternion.\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} the quaternion representation of the transform's rotation\r\n */\r\nTransform.prototype.getRotation = function getRotation () {\r\n    return this.vectors.rotation;\r\n};\r\n\r\n/**\r\n * Sets the rotation component of the transform. Can take either Euler\r\n * angles or a quaternion.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The rotation about the x axis or the extent in the x dimension\r\n * @param {Number} y The rotation about the y axis or the extent in the y dimension\r\n * @param {Number} z The rotation about the z axis or the extent in the z dimension\r\n * @param {Number} w The rotation about the proceeding vector\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setRotation = function setRotation (x, y, z, w) {\r\n    var quat = this.vectors.rotation;\r\n    var qx, qy, qz, qw;\r\n\r\n    if (w != null) {\r\n        qx = x;\r\n        qy = y;\r\n        qz = z;\r\n        qw = w;\r\n        this._lastEulerVals[0] = null;\r\n        this._lastEulerVals[1] = null;\r\n        this._lastEulerVals[2] = null;\r\n        this._lastEuler = false;\r\n    }\r\n    else {\r\n        if (x == null || y == null || z == null) {\r\n            if (this._lastEuler) {\r\n                x = x == null ? this._lastEulerVals[0] : x;\r\n                y = y == null ? this._lastEulerVals[1] : y;\r\n                z = z == null ? this._lastEulerVals[2] : z;\r\n            }\r\n            else {\r\n                var sp = -2 * (quat[1] * quat[2] - quat[3] * quat[0]);\r\n\r\n                if (Math.abs(sp) > 0.99999) {\r\n                    y = y == null ? Math.PI * 0.5 * sp : y;\r\n                    x = x == null ? Math.atan2(-quat[0] * quat[2] + quat[3] * quat[1], 0.5 - quat[1] * quat[1] - quat[2] * quat[2]) : x;\r\n                    z = z == null ? 0 : z;\r\n                }\r\n                else {\r\n                    y = y == null ? Math.asin(sp) : y;\r\n                    x = x == null ? Math.atan2(quat[0] * quat[2] + quat[3] * quat[1], 0.5 - quat[0] * quat[0] - quat[1] * quat[1]) : x;\r\n                    z = z == null ? Math.atan2(quat[0] * quat[1] + quat[3] * quat[2], 0.5 - quat[0] * quat[0] - quat[2] * quat[2]) : z;\r\n                }\r\n            }\r\n        }\r\n\r\n        var hx = x * 0.5;\r\n        var hy = y * 0.5;\r\n        var hz = z * 0.5;\r\n\r\n        var sx = Math.sin(hx);\r\n        var sy = Math.sin(hy);\r\n        var sz = Math.sin(hz);\r\n        var cx = Math.cos(hx);\r\n        var cy = Math.cos(hy);\r\n        var cz = Math.cos(hz);\r\n\r\n        var sysz = sy * sz;\r\n        var cysz = cy * sz;\r\n        var sycz = sy * cz;\r\n        var cycz = cy * cz;\r\n\r\n        qx = sx * cycz + cx * sysz;\r\n        qy = cx * sycz - sx * cysz;\r\n        qz = cx * cysz + sx * sycz;\r\n        qw = cx * cycz - sx * sysz;\r\n\r\n        this._lastEuler = true;\r\n        this._lastEulerVals[0] = x;\r\n        this._lastEulerVals[1] = y;\r\n        this._lastEulerVals[2] = z;\r\n    }\r\n\r\n    this.vectors.rotationChanged = setVec(quat, qx, qy, qz, qw);\r\n};\r\n\r\n/**\r\n * Gets the scale component of the transform\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} the scale component of the transform\r\n */\r\nTransform.prototype.getScale = function getScale () {\r\n    return this.vectors.scale;\r\n};\r\n\r\n/**\r\n * Sets the scale component of the transform.\r\n *\r\n * @method\r\n *\r\n * @param {Number | null | undefined} x The x dimension of the scale\r\n * @param {Number | null | undefined} y The y dimension of the scale\r\n * @param {Number | null | undefined} z The z dimension of the scale\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setScale = function setScale (x, y, z) {\r\n    this.vectors.scaleChanged = setVec(this.vectors.scale, x, y, z);\r\n};\r\n\r\n/**\r\n * Gets the align value of the transform\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} the align value of the transform\r\n */\r\nTransform.prototype.getAlign = function getAlign () {\r\n    return this.offsets.align;\r\n};\r\n\r\n/**\r\n * Sets the align value of the transform.\r\n *\r\n * @method\r\n *\r\n * @param {Number | null | undefined} x The x dimension of the align\r\n * @param {Number | null | undefined} y The y dimension of the align\r\n * @param {Number | null | undefined} z The z dimension of the align\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setAlign = function setAlign (x, y, z) {\r\n    this.offsets.alignChanged = setVec(this.offsets.align, x, y, z != null ? z - 0.5 : z);\r\n};\r\n\r\n/**\r\n * Gets the mount point value of the transform.\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} the mount point of the transform\r\n */\r\nTransform.prototype.getMountPoint = function getMountPoint () {\r\n    return this.offsets.mountPoint;\r\n};\r\n\r\n/**\r\n * Sets the mount point value of the transform.\r\n *\r\n * @method\r\n *\r\n * @param {Number | null | undefined} x the x dimension of the mount point\r\n * @param {Number | null | undefined} y the y dimension of the mount point\r\n * @param {Number | null | undefined} z the z dimension of the mount point\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setMountPoint = function setMountPoint (x, y, z) {\r\n    this.offsets.mountPointChanged = setVec(this.offsets.mountPoint, x, y, z != null ? z - 0.5 : z);\r\n};\r\n\r\n/**\r\n * Gets the origin of the transform.\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} the origin\r\n */\r\nTransform.prototype.getOrigin = function getOrigin () {\r\n    return this.offsets.origin;\r\n};\r\n\r\n/**\r\n * Sets the origin of the transform.\r\n *\r\n * @method\r\n *\r\n * @param {Number | null | undefined} x the x dimension of the origin\r\n * @param {Number | null | undefined} y the y dimension of the origin\r\n * @param {Number | null | undefined} z the z dimension of the origin\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setOrigin = function setOrigin (x, y, z) {\r\n    this.offsets.originChanged = setVec(this.offsets.origin, x, y, z != null ? z - 0.5 : z);\r\n};\r\n\r\n/**\r\n * Calculates the world for this particular transform.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.calculateWorldMatrix = function calculateWorldMatrix () {\r\n    var nearestBreakPoint = this.parent;\r\n\r\n    while (nearestBreakPoint && !nearestBreakPoint.isBreakPoint())\r\n        nearestBreakPoint = nearestBreakPoint.parent;\r\n\r\n    if (nearestBreakPoint) return multiply(this.global, nearestBreakPoint.getWorldTransform(), this.local);\r\n    else {\r\n        for (var i = 0; i < 16 ; i++) this.global[i] = this.local[i];\r\n        return false;\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Private function. Creates a transformation matrix from a Node's spec.\r\n *\r\n * @param {Node} node the node to create a transform for\r\n * @param {Transform} transform transform to apply\r\n *\r\n * @return {Boolean} whether or not the target array was changed\r\n */\r\nfunction fromNode (node, transform) {\r\n    var target = transform.getLocalTransform();\r\n    var mySize = node.getSize();\r\n    var vectors = transform.vectors;\r\n    var offsets = transform.offsets;\r\n    var parentSize = node.getParent().getSize();\r\n    var changed = 0;\r\n\r\n    var t00         = target[0];\r\n    var t01         = target[1];\r\n    var t02         = target[2];\r\n    var t10         = target[4];\r\n    var t11         = target[5];\r\n    var t12         = target[6];\r\n    var t20         = target[8];\r\n    var t21         = target[9];\r\n    var t22         = target[10];\r\n    var t30         = target[12];\r\n    var t31         = target[13];\r\n    var t32         = target[14];\r\n    var posX        = vectors.position[0];\r\n    var posY        = vectors.position[1];\r\n    var posZ        = vectors.position[2];\r\n    var rotX        = vectors.rotation[0];\r\n    var rotY        = vectors.rotation[1];\r\n    var rotZ        = vectors.rotation[2];\r\n    var rotW        = vectors.rotation[3];\r\n    var scaleX      = vectors.scale[0];\r\n    var scaleY      = vectors.scale[1];\r\n    var scaleZ      = vectors.scale[2];\r\n    var alignX      = offsets.align[0] * parentSize[0];\r\n    var alignY      = offsets.align[1] * parentSize[1];\r\n    var alignZ      = offsets.align[2] * parentSize[2];\r\n    var mountPointX = offsets.mountPoint[0] * mySize[0];\r\n    var mountPointY = offsets.mountPoint[1] * mySize[1];\r\n    var mountPointZ = offsets.mountPoint[2] * mySize[2];\r\n    var originX     = offsets.origin[0] * mySize[0];\r\n    var originY     = offsets.origin[1] * mySize[1];\r\n    var originZ     = offsets.origin[2] * mySize[2];\r\n\r\n    var wx = rotW * rotX;\r\n    var wy = rotW * rotY;\r\n    var wz = rotW * rotZ;\r\n    var xx = rotX * rotX;\r\n    var yy = rotY * rotY;\r\n    var zz = rotZ * rotZ;\r\n    var xy = rotX * rotY;\r\n    var xz = rotX * rotZ;\r\n    var yz = rotY * rotZ;\r\n\r\n    target[0] = (1 - 2 * (yy + zz)) * scaleX;\r\n    target[1] = (2 * (xy + wz)) * scaleX;\r\n    target[2] = (2 * (xz - wy)) * scaleX;\r\n    target[3] = 0;\r\n    target[4] = (2 * (xy - wz)) * scaleY;\r\n    target[5] = (1 - 2 * (xx + zz)) * scaleY;\r\n    target[6] = (2 * (yz + wx)) * scaleY;\r\n    target[7] = 0;\r\n    target[8] = (2 * (xz + wy)) * scaleZ;\r\n    target[9] = (2 * (yz - wx)) * scaleZ;\r\n    target[10] = (1 - 2 * (xx + yy)) * scaleZ;\r\n    target[11] = 0;\r\n    target[12] = alignX + posX - mountPointX + originX -\r\n                 (target[0] * originX + target[4] * originY + target[8] * originZ);\r\n    target[13] = alignY + posY - mountPointY + originY -\r\n                 (target[1] * originX + target[5] * originY + target[9] * originZ);\r\n    target[14] = alignZ + posZ - mountPointZ + originZ -\r\n                 (target[2] * originX + target[6] * originY + target[10] * originZ);\r\n    target[15] = 1;\r\n\r\n    if (transform.calculatingWorldMatrix && transform.calculateWorldMatrix())\r\n        changed |= Transform.WORLD_CHANGED;\r\n\r\n    if (t00 !== target[0] ||\r\n        t01 !== target[1] ||\r\n        t02 !== target[2] ||\r\n        t10 !== target[4] ||\r\n        t11 !== target[5] ||\r\n        t12 !== target[6] ||\r\n        t20 !== target[8] ||\r\n        t21 !== target[9] ||\r\n        t22 !== target[10] ||\r\n        t30 !== target[12] ||\r\n        t31 !== target[13] ||\r\n        t32 !== target[14]) changed |= Transform.LOCAL_CHANGED;\r\n\r\n    return changed;\r\n}\r\n\r\n/**\r\n * Private function. Uses the parent transform, the node's spec, the node's size, and the parent's size\r\n * to calculate a final transform for the node. Returns true if the transform has changed.\r\n *\r\n * @private\r\n *\r\n * @param {Node} node the node to create a transform for\r\n * @param {Transform} transform transform to apply\r\n *\r\n * @return {Boolean} whether or not the transform changed\r\n */\r\nfunction fromNodeWithParent (node, transform) {\r\n    var target = transform.getLocalTransform();\r\n    var parentMatrix = transform.parent.getLocalTransform();\r\n    var mySize = node.getSize();\r\n    var vectors = transform.vectors;\r\n    var offsets = transform.offsets;\r\n    var parentSize = node.getParent().getSize();\r\n    var changed = false;\r\n\r\n    // local cache of everything\r\n    var t00         = target[0];\r\n    var t01         = target[1];\r\n    var t02         = target[2];\r\n    var t10         = target[4];\r\n    var t11         = target[5];\r\n    var t12         = target[6];\r\n    var t20         = target[8];\r\n    var t21         = target[9];\r\n    var t22         = target[10];\r\n    var t30         = target[12];\r\n    var t31         = target[13];\r\n    var t32         = target[14];\r\n    var p00         = parentMatrix[0];\r\n    var p01         = parentMatrix[1];\r\n    var p02         = parentMatrix[2];\r\n    var p10         = parentMatrix[4];\r\n    var p11         = parentMatrix[5];\r\n    var p12         = parentMatrix[6];\r\n    var p20         = parentMatrix[8];\r\n    var p21         = parentMatrix[9];\r\n    var p22         = parentMatrix[10];\r\n    var p30         = parentMatrix[12];\r\n    var p31         = parentMatrix[13];\r\n    var p32         = parentMatrix[14];\r\n    var posX        = vectors.position[0];\r\n    var posY        = vectors.position[1];\r\n    var posZ        = vectors.position[2];\r\n    var rotX        = vectors.rotation[0];\r\n    var rotY        = vectors.rotation[1];\r\n    var rotZ        = vectors.rotation[2];\r\n    var rotW        = vectors.rotation[3];\r\n    var scaleX      = vectors.scale[0];\r\n    var scaleY      = vectors.scale[1];\r\n    var scaleZ      = vectors.scale[2];\r\n    var alignX      = offsets.align[0] * parentSize[0];\r\n    var alignY      = offsets.align[1] * parentSize[1];\r\n    var alignZ      = offsets.align[2] * parentSize[2];\r\n    var mountPointX = offsets.mountPoint[0] * mySize[0];\r\n    var mountPointY = offsets.mountPoint[1] * mySize[1];\r\n    var mountPointZ = offsets.mountPoint[2] * mySize[2];\r\n    var originX     = offsets.origin[0] * mySize[0];\r\n    var originY     = offsets.origin[1] * mySize[1];\r\n    var originZ     = offsets.origin[2] * mySize[2];\r\n\r\n    var wx = rotW * rotX;\r\n    var wy = rotW * rotY;\r\n    var wz = rotW * rotZ;\r\n    var xx = rotX * rotX;\r\n    var yy = rotY * rotY;\r\n    var zz = rotZ * rotZ;\r\n    var xy = rotX * rotY;\r\n    var xz = rotX * rotZ;\r\n    var yz = rotY * rotZ;\r\n\r\n    var rs0 = (1 - 2 * (yy + zz)) * scaleX;\r\n    var rs1 = (2 * (xy + wz)) * scaleX;\r\n    var rs2 = (2 * (xz - wy)) * scaleX;\r\n    var rs3 = (2 * (xy - wz)) * scaleY;\r\n    var rs4 = (1 - 2 * (xx + zz)) * scaleY;\r\n    var rs5 = (2 * (yz + wx)) * scaleY;\r\n    var rs6 = (2 * (xz + wy)) * scaleZ;\r\n    var rs7 = (2 * (yz - wx)) * scaleZ;\r\n    var rs8 = (1 - 2 * (xx + yy)) * scaleZ;\r\n\r\n    var tx = alignX + posX - mountPointX + originX - (rs0 * originX + rs3 * originY + rs6 * originZ);\r\n    var ty = alignY + posY - mountPointY + originY - (rs1 * originX + rs4 * originY + rs7 * originZ);\r\n    var tz = alignZ + posZ - mountPointZ + originZ - (rs2 * originX + rs5 * originY + rs8 * originZ);\r\n\r\n    target[0] = p00 * rs0 + p10 * rs1 + p20 * rs2;\r\n    target[1] = p01 * rs0 + p11 * rs1 + p21 * rs2;\r\n    target[2] = p02 * rs0 + p12 * rs1 + p22 * rs2;\r\n    target[3] = 0;\r\n    target[4] = p00 * rs3 + p10 * rs4 + p20 * rs5;\r\n    target[5] = p01 * rs3 + p11 * rs4 + p21 * rs5;\r\n    target[6] = p02 * rs3 + p12 * rs4 + p22 * rs5;\r\n    target[7] = 0;\r\n    target[8] = p00 * rs6 + p10 * rs7 + p20 * rs8;\r\n    target[9] = p01 * rs6 + p11 * rs7 + p21 * rs8;\r\n    target[10] = p02 * rs6 + p12 * rs7 + p22 * rs8;\r\n    target[11] = 0;\r\n    target[12] = p00 * tx + p10 * ty + p20 * tz + p30;\r\n    target[13] = p01 * tx + p11 * ty + p21 * tz + p31;\r\n    target[14] = p02 * tx + p12 * ty + p22 * tz + p32;\r\n    target[15] = 1;\r\n\r\n    if (transform.calculatingWorldMatrix && transform.calculateWorldMatrix())\r\n        changed |= Transform.WORLD_CHANGED;\r\n\r\n    if (t00 !== target[0] ||\r\n        t01 !== target[1] ||\r\n        t02 !== target[2] ||\r\n        t10 !== target[4] ||\r\n        t11 !== target[5] ||\r\n        t12 !== target[6] ||\r\n        t20 !== target[8] ||\r\n        t21 !== target[9] ||\r\n        t22 !== target[10] ||\r\n        t30 !== target[12] ||\r\n        t31 !== target[13] ||\r\n        t32 !== target[14]) changed |= Transform.LOCAL_CHANGED;\r\n\r\n    return changed;\r\n}\r\n\r\n/**\r\n * private method to multiply two transforms.\r\n *\r\n * @method\r\n *\r\n * @param {Array} out The array to write the result to\r\n * @param {Array} a the left hand transform\r\n * @param {Array} b the right hand transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction multiply (out, a, b) {\r\n    var a00 = a[0], a01 = a[1], a02 = a[2],\r\n        a10 = a[4], a11 = a[5], a12 = a[6],\r\n        a20 = a[8], a21 = a[9], a22 = a[10],\r\n        a30 = a[12], a31 = a[13], a32 = a[14];\r\n\r\n    var changed = false;\r\n    var res;\r\n\r\n    // Cache only the current line of the second matrix\r\n    var b0  = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\r\n\r\n    res = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    changed = changed ? changed : out[0] !== res;\r\n    out[0] = res;\r\n\r\n    res = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    changed = changed ? changed : out[1] !== res;\r\n    out[1] = res;\r\n\r\n    res = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    changed = changed ? changed : out[2] !== res;\r\n    out[2] = res;\r\n\r\n    out[3] = 0;\r\n\r\n    b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\r\n\r\n    res = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    changed = changed ? changed : out[4] !== res;\r\n    out[4] = res;\r\n\r\n    res = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    changed = changed ? changed : out[5] !== res;\r\n    out[5] = res;\r\n\r\n    res = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    changed = changed ? changed : out[6] !== res;\r\n    out[6] = res;\r\n\r\n    out[7] = 0;\r\n\r\n    b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\r\n\r\n    res = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    changed = changed ? changed : out[8] !== res;\r\n    out[8] = res;\r\n\r\n    res = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    changed = changed ? changed : out[9] !== res;\r\n    out[9] = res;\r\n\r\n    res = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    changed = changed ? changed : out[10] !== res;\r\n    out[10] = res;\r\n\r\n    out[11] = 0;\r\n\r\n    b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\r\n\r\n    res = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    changed = changed ? changed : (0|out[12]) !== (0|res);\r\n    out[12] = res;\r\n\r\n    res = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    changed = changed ? changed : (0|out[13]) !== (0|res);\r\n    out[13] = res;\r\n\r\n    res = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    changed = changed ? changed : out[14] !== res;\r\n    out[14] = res;\r\n\r\n    out[15] = 1;\r\n\r\n    return changed;\r\n}\r\n\r\nmodule.exports = Transform;\r\n\n},{}],20:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n * \r\n * Copyright (c) 2015 Famous Industries Inc.\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar PathUtils = require('./Path');\r\nvar Transform = require('./Transform');\r\nvar Dispatch = require('./Dispatch');\r\nvar PathStore = require('./PathStore');\r\n\r\n/**\r\n * The transform class is responsible for calculating the transform of a particular\r\n * node from the data on the node and its parent\r\n *\r\n * @constructor {TransformSystem}\r\n */\r\nfunction TransformSystem () {\r\n    this.pathStore = new PathStore();\r\n}\r\n\r\n/**\r\n * registers a new Transform for the given path. This transform will be updated\r\n * when the TransformSystem updates.\r\n *\r\n * @method registerTransformAtPath\r\n * @return {undefined} undefined\r\n *\r\n * @param {String} path for the transform to be registered to.\r\n * @param {Transform | undefined} transform optional transform to register.\r\n */\r\nTransformSystem.prototype.registerTransformAtPath = function registerTransformAtPath (path, transform) {\r\n    if (!PathUtils.depth(path))\r\n        return this.pathStore.insert(path, transform ? transform : new Transform());\r\n\r\n    var parent = this.pathStore.get(PathUtils.parent(path));\r\n\r\n    if (!parent) throw new Error(\r\n            'No parent transform registered at expected path: ' + PathUtils.parent(path)\r\n    );\r\n\r\n    if (transform) transform.setParent(parent);\r\n\r\n    this.pathStore.insert(path, transform ? transform : new Transform(parent));\r\n};\r\n\r\n/**\r\n * deregisters a transform registered at the given path.\r\n *\r\n * @method deregisterTransformAtPath\r\n * @return {void}\r\n *\r\n * @param {String} path at which to register the transform\r\n */\r\nTransformSystem.prototype.deregisterTransformAtPath = function deregisterTransformAtPath (path) {\r\n    this.pathStore.remove(path);\r\n};\r\n\r\n/**\r\n * Method which will make the transform currently stored at the given path a breakpoint.\r\n * A transform being a breakpoint means that both a local and world transform will be calculated\r\n * for that point. The local transform being the concatinated transform of all ancestor transforms up\r\n * until the nearest breakpoint, and the world being the concatinated transform of all ancestor transforms.\r\n * This method throws if no transform is at the provided path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to turn the transform into a breakpoint\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransformSystem.prototype.makeBreakPointAt = function makeBreakPointAt (path) {\r\n    var transform = this.pathStore.get(path);\r\n    if (!transform) throw new Error('No transform Registered at path: ' + path);\r\n    transform.setBreakPoint();\r\n};\r\n\r\n/**\r\n * Method that will make the transform at this location calculate a world matrix.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to make the transform calculate a world matrix\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransformSystem.prototype.makeCalculateWorldMatrixAt = function makeCalculateWorldMatrixAt (path) {\r\n        var transform = this.pathStore.get(path);\r\n        if (!transform) throw new Error('No transform Registered at path: ' + path);\r\n        transform.setCalculateWorldMatrix();\r\n};\r\n\r\n/**\r\n * Returns the instance of the transform class associated with the given path,\r\n * or undefined if no transform is associated.\r\n *\r\n * @method\r\n * \r\n * @param {String} path The path to lookup\r\n *\r\n * @return {Transform | undefined} the transform at that path is available, else undefined.\r\n */\r\nTransformSystem.prototype.get = function get (path) {\r\n    return this.pathStore.get(path);\r\n};\r\n\r\n/**\r\n * update is called when the transform system requires an update.\r\n * It traverses the transform array and evaluates the necessary transforms\r\n * in the scene graph with the information from the corresponding node\r\n * in the scene graph\r\n *\r\n * @method update\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransformSystem.prototype.update = function update () {\r\n    var transforms = this.pathStore.getItems();\r\n    var paths = this.pathStore.getPaths();\r\n    var transform;\r\n    var changed;\r\n    var node;\r\n    var vectors;\r\n    var offsets;\r\n    var components;\r\n    var j;\r\n\r\n    for (var i = 0, len = transforms.length ; i < len ; i++) {\r\n        node = Dispatch.getNode(paths[i]);\r\n        if (!node) continue;\r\n        if (!node.showInEngine()){\r\n            j = i+1;\r\n            while(j<len && PathUtils.isDescendentOf(paths[j], paths[i]))\r\n                j++;\r\n            i = j-1;\r\n            continue;\r\n        }\r\n        components = node.getComponents();\r\n        transform = transforms[i];\r\n        vectors = transform.vectors;\r\n        offsets = transform.offsets;\r\n        if (offsets.alignChanged) alignChanged(node, components, offsets);\r\n        if (offsets.mountPointChanged) mountPointChanged(node, components, offsets);\r\n        if (offsets.originChanged) originChanged(node, components, offsets);\r\n        if (vectors.positionChanged) positionChanged(node, components, vectors);\r\n        if (vectors.rotationChanged) rotationChanged(node, components, vectors);\r\n        if (vectors.scaleChanged) scaleChanged(node, components, vectors);\r\n        if (changed = transform.calculate(node)) {\r\n            transformChanged(node, components, transform);\r\n            if (changed & Transform.LOCAL_CHANGED) localTransformChanged(node, components, transform.getLocalTransform());\r\n            if (changed & Transform.WORLD_CHANGED) worldTransformChanged(node, components, transform.getWorldTransform());\r\n        }\r\n    }\r\n};\r\n\r\n// private methods\r\n\r\n/**\r\n * Private method to call when align changes. Triggers 'onAlignChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to call onAlignChange if necessary\r\n * @param {Array} components the components on which to call onAlignChange if necessary\r\n * @param {Object} offsets the set of offsets from the transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction alignChanged (node, components, offsets) {\r\n    var x = offsets.align[0];\r\n    var y = offsets.align[1];\r\n    var z = offsets.align[2];\r\n    if (node.onAlignChange) node.onAlignChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onAlignChange)\r\n            components[i].onAlignChange(x, y, z);\r\n    offsets.alignChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to call when MountPoint changes. Triggers 'onMountPointChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Object} offsets the set of offsets from the transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction mountPointChanged (node, components, offsets) {\r\n    var x = offsets.mountPoint[0];\r\n    var y = offsets.mountPoint[1];\r\n    var z = offsets.mountPoint[2];\r\n    if (node.onMountPointChange) node.onMountPointChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onMountPointChange)\r\n            components[i].onMountPointChange(x, y, z);\r\n    offsets.mountPointChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to call when Origin changes. Triggers 'onOriginChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Object} offsets the set of offsets from the transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction originChanged (node, components, offsets) {\r\n    var x = offsets.origin[0];\r\n    var y = offsets.origin[1];\r\n    var z = offsets.origin[2];\r\n    if (node.onOriginChange) node.onOriginChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onOriginChange)\r\n            components[i].onOriginChange(x, y, z);\r\n    offsets.originChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to call when Position changes. Triggers 'onPositionChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Object} vectors the set of vectors from the transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction positionChanged (node, components, vectors) {\r\n    var x = vectors.position[0];\r\n    var y = vectors.position[1];\r\n    var z = vectors.position[2];\r\n    if (node.onPositionChange) node.onPositionChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onPositionChange)\r\n            components[i].onPositionChange(x, y, z);\r\n    vectors.positionChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to call when Rotation changes. Triggers 'onRotationChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Object} vectors the set of vectors from the transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction rotationChanged (node, components, vectors) {\r\n    var x = vectors.rotation[0];\r\n    var y = vectors.rotation[1];\r\n    var z = vectors.rotation[2];\r\n    var w = vectors.rotation[3];\r\n    if (node.onRotationChange) node.onRotationChange(x, y, z, w);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onRotationChange)\r\n            components[i].onRotationChange(x, y, z, w);\r\n    vectors.rotationChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to call when Scale changes. Triggers 'onScaleChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Object} vectors the set of vectors from the transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction scaleChanged (node, components, vectors) {\r\n    var x = vectors.scale[0];\r\n    var y = vectors.scale[1];\r\n    var z = vectors.scale[2];\r\n    if (node.onScaleChange) node.onScaleChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onScaleChange)\r\n            components[i].onScaleChange(x, y, z);\r\n    vectors.scaleChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to call when either the Local or World Transform changes.\r\n * Triggers 'onTransformChange' methods on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Transform} transform the transform class that changed\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction transformChanged (node, components, transform) {\r\n    if (node.onTransformChange) node.onTransformChange(transform);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onTransformChange)\r\n            components[i].onTransformChange(transform);\r\n}\r\n\r\n/**\r\n * Private method to call when the local transform changes. Triggers 'onLocalTransformChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Array} transform the local transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction localTransformChanged (node, components, transform) {\r\n    if (node.onLocalTransformChange) node.onLocalTransformChange(transform);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onLocalTransformChange)\r\n            components[i].onLocalTransformChange(transform);\r\n}\r\n\r\n/**\r\n * Private method to call when the world transform changes. Triggers 'onWorldTransformChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Array} transform the world transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction worldTransformChanged (node, components, transform) {\r\n    if (node.onWorldTransformChange) node.onWorldTransformChange(transform);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onWorldTransformChange)\r\n            components[i].onWorldTransformChange(transform);\r\n}\r\n\r\nmodule.exports = new TransformSystem();\r\n\n},{\"./Dispatch\":10,\"./Path\":14,\"./PathStore\":15,\"./Transform\":19}],21:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar CallbackStore = require('../utilities/CallbackStore');\r\nvar TransformSystem = require('../core/TransformSystem');\r\nvar Commands = require('../core/Commands');\r\nvar Size = require('../core/Size');\r\n\r\n/**\r\n * A DOMElement is a component that can be added to a Node with the\r\n * purpose of sending draw commands to the renderer. Renderables send draw commands\r\n * to through their Nodes to the Compositor where they are acted upon.\r\n *\r\n * @class DOMElement\r\n *\r\n * @param {Node} node                   The Node to which the `DOMElement`\r\n *                                      renderable should be attached to.\r\n * @param {Object} options              Initial options used for instantiating\r\n *                                      the Node.\r\n * @param {Object} options.properties   CSS properties that should be added to\r\n *                                      the actual DOMElement on the initial draw.\r\n * @param {Object} options.attributes   Element attributes that should be added to\r\n *                                      the actual DOMElement.\r\n * @param {String} options.id           String to be applied as 'id' of the actual\r\n *                                      DOMElement.\r\n * @param {String} options.content      String to be applied as the content of the\r\n *                                      actual DOMElement.\r\n * @param {Boolean} options.cutout      Specifies the presence of a 'cutout' in the\r\n *                                      WebGL canvas over this element which allows\r\n *                                      for DOM and WebGL layering.  On by default.\r\n */\r\nfunction DOMElement(node, options) {\r\n    if (!node) throw new Error('DOMElement must be instantiated on a node');\r\n\r\n    this._changeQueue = [];\r\n\r\n    this._requestingUpdate = false;\r\n    this._renderSized = false;\r\n    this._requestRenderSize = false;\r\n\r\n    this._UIEvents = node.getUIEvents().slice(0);\r\n    this._classes = ['famous-dom-element'];\r\n    this._requestingEventListeners = [];\r\n    this._styles = {};\r\n\r\n    this._attributes = {};\r\n    this._content = '';\r\n\r\n    this._tagName = options && options.tagName ? options.tagName : 'div';\r\n    this._renderSize = [0, 0, 0];\r\n\r\n    this._node = node;\r\n\r\n    if (node) node.addComponent(this);\r\n\r\n    this._callbacks = new CallbackStore();\r\n\r\n    this.setProperty('display', node.isShown() ? 'block' : 'none');\r\n    this.onOpacityChange(node.getOpacity());\r\n\r\n    if (!options) return;\r\n\r\n    var i;\r\n    var key;\r\n\r\n    if (options.classes)\r\n        for (i = 0; i < options.classes.length; i++)\r\n            this.addClass(options.classes[i]);\r\n\r\n    if (options.attributes)\r\n        for (key in options.attributes)\r\n            this.setAttribute(key, options.attributes[key]);\r\n\r\n    if (options.properties)\r\n        for (key in options.properties)\r\n            this.setProperty(key, options.properties[key]);\r\n\r\n    if (options.id) this.setId(options.id);\r\n    if (options.content) this.setContent(options.content);\r\n    if (options.cutout === false) this.setCutoutState(options.cutout);\r\n}\r\n\r\n/**\r\n * Serializes the state of the DOMElement.\r\n *\r\n * @method\r\n *\r\n * @return {Object} serialized interal state\r\n */\r\nDOMElement.prototype.getValue = function getValue() {\r\n    return {\r\n        classes: this._classes,\r\n        styles: this._styles,\r\n        attributes: this._attributes,\r\n        content: this._content,\r\n        id: this._attributes.id,\r\n        tagName: this._tagName\r\n    };\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as an update occurs. This allows\r\n * the DOMElement renderable to dynamically react to state changes on the Node.\r\n *\r\n * This flushes the internal draw command queue by sending individual commands\r\n * to the node using `sendDrawCommand`.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onUpdate = function onUpdate () {\r\n    var node = this._node;\r\n    var queue = this._changeQueue;\r\n    var len = queue.length;\r\n\r\n    if (len && node) {\r\n        node.sendDrawCommand(Commands.WITH);\r\n        node.sendDrawCommand(node.getLocation());\r\n\r\n        while (len--) node.sendDrawCommand(queue.shift());\r\n        if (this._requestRenderSize) {\r\n            node.sendDrawCommand(Commands.DOM_RENDER_SIZE);\r\n            node.sendDrawCommand(node.getLocation());\r\n            this._requestRenderSize = false;\r\n        }\r\n\r\n    }\r\n\r\n    this._requestingUpdate = false;\r\n};\r\n\r\n/**\r\n * Method to be invoked by the Node as soon as the node (or any of its\r\n * ancestors) is being mounted.\r\n *\r\n * @method onMount\r\n *\r\n * @param {Node} node      Parent node to which the component should be added.\r\n * @param {String} id      Path at which the component (or node) is being\r\n *                          attached. The path is being set on the actual\r\n *                          DOMElement as a `data-fa-path`-attribute.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onMount = function onMount(node, id) {\r\n    this._node = node;\r\n    this._id = id;\r\n    this._UIEvents = node.getUIEvents().slice(0);\r\n    TransformSystem.makeBreakPointAt(node.getLocation());\r\n    this.onSizeModeChange.apply(this, node.getSizeMode());\r\n    this.draw();\r\n    this.setAttribute('data-fa-path', node.getLocation());\r\n};\r\n\r\n/**\r\n * Method to be invoked by the Node as soon as the node is being dismounted\r\n * either directly or by dismounting one of its ancestors.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onDismount = function onDismount() {\r\n    this.setProperty('display', 'none');\r\n    this.setAttribute('data-fa-path', '');\r\n    this.setCutoutState(false);\r\n\r\n    this.onUpdate();\r\n    this._initialized = false;\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as the DOMElement is being shown.\r\n * This results into the DOMElement setting the `display` property to `block`\r\n * and therefore visually showing the corresponding DOMElement (again).\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onShow = function onShow() {\r\n    this.setProperty('display', 'block');\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as the DOMElement is being hidden.\r\n * This results into the DOMElement setting the `display` property to `none`\r\n * and therefore visually hiding the corresponding DOMElement (again).\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onHide = function onHide() {\r\n    this.setProperty('display', 'none');\r\n};\r\n\r\n/**\r\n * Enables or disables WebGL 'cutout' for this element, which affects\r\n * how the element is layered with WebGL objects in the scene.\r\n *\r\n * @method\r\n *\r\n * @param {Boolean} usesCutout  The presence of a WebGL 'cutout' for this element.\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.setCutoutState = function setCutoutState (usesCutout) {\r\n    if (this._initialized)\r\n        this._changeQueue.push(Commands.GL_CUTOUT_STATE, usesCutout);\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n    return this;\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as the transform matrix associated\r\n * with the node changes. The DOMElement will react to transform changes by sending\r\n * `CHANGE_TRANSFORM` commands to the `DOMRenderer`.\r\n *\r\n * @method\r\n *\r\n * @param {Float32Array} transform The final transform matrix\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onTransformChange = function onTransformChange (transform) {\r\n    this._changeQueue.push(Commands.CHANGE_TRANSFORM);\r\n    transform = transform.getLocalTransform();\r\n\r\n    for (var i = 0, len = transform.length ; i < len ; i++)\r\n        this._changeQueue.push(transform[i]);\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as its computed size changes.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x width of the Node the DOMElement is attached to\r\n * @param {Number} y height of the Node the DOMElement is attached to\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.onSizeChange = function onSizeChange(x, y) {\r\n    var sizeMode = this._node.getSizeMode();\r\n    var sizedX = sizeMode[0] !== Size.RENDER;\r\n    var sizedY = sizeMode[1] !== Size.RENDER;\r\n    if (this._initialized)\r\n        this._changeQueue.push(Commands.CHANGE_SIZE,\r\n            sizedX ? x : sizedX,\r\n            sizedY ? y : sizedY);\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n    return this;\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as its opacity changes\r\n *\r\n * @method\r\n *\r\n * @param {Number} opacity The new opacity, as a scalar from 0 to 1\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.onOpacityChange = function onOpacityChange(opacity) {\r\n    return this.setProperty('opacity', opacity);\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as a new UIEvent is being added.\r\n * This results into an `ADD_EVENT_LISTENER` command being sent.\r\n *\r\n * @param {String} uiEvent uiEvent to be subscribed to (e.g. `click`)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onAddUIEvent = function onAddUIEvent(uiEvent) {\r\n    if (this._UIEvents.indexOf(uiEvent) === -1) {\r\n        this._subscribe(uiEvent);\r\n        this._UIEvents.push(uiEvent);\r\n    }\r\n    else if (this._inDraw) {\r\n        this._subscribe(uiEvent);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as a UIEvent is removed from\r\n * the node.  This results into an `UNSUBSCRIBE` command being sent.\r\n *\r\n * @param {String} UIEvent UIEvent to be removed (e.g. `mousedown`)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onRemoveUIEvent = function onRemoveUIEvent(UIEvent) {\r\n    var index = this._UIEvents.indexOf(UIEvent);\r\n    if (index !== -1) {\r\n        this._unsubscribe(UIEvent);\r\n        this._UIEvents.splice(index, 1);\r\n    }\r\n    else if (this._inDraw) {\r\n        this._unsubscribe(UIEvent);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Appends an `SUBSCRIBE` command to the command queue.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {String} uiEvent Event type (e.g. `click`)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype._subscribe = function _subscribe (uiEvent) {\r\n    if (this._initialized) {\r\n        this._changeQueue.push(Commands.SUBSCRIBE, uiEvent);\r\n    }\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\n/**\r\n * When running in a worker, the browser's default action for specific events\r\n * can't be prevented on a case by case basis (via `e.preventDefault()`).\r\n * Instead this function should be used to register an event to be prevented by\r\n * default.\r\n *\r\n * @method\r\n *\r\n * @param  {String} uiEvent     UI Event (e.g. wheel) for which to prevent the\r\n *                              browser's default action (e.g. form submission,\r\n *                              scrolling)\r\n * @return {undefined}          undefined\r\n */\r\nDOMElement.prototype.preventDefault = function preventDefault (uiEvent) {\r\n    if (this._initialized) {\r\n        this._changeQueue.push(Commands.PREVENT_DEFAULT, uiEvent);\r\n    }\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\n/**\r\n * Opposite of {@link DOMElement#preventDefault}. No longer prevent the\r\n * browser's default action on subsequent events of this type.\r\n *\r\n * @method\r\n *\r\n * @param  {type} uiEvent       UI Event previously registered using\r\n *                              {@link DOMElement#preventDefault}.\r\n * @return {undefined}          undefined\r\n */\r\nDOMElement.prototype.allowDefault = function allowDefault (uiEvent) {\r\n    if (this._initialized) {\r\n        this._changeQueue.push(Commands.ALLOW_DEFAULT, uiEvent);\r\n    }\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\n/**\r\n * Appends an `UNSUBSCRIBE` command to the command queue.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {String} UIEvent Event type (e.g. `click`)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype._unsubscribe = function _unsubscribe (UIEvent) {\r\n    if (this._initialized) {\r\n        this._changeQueue.push(Commands.UNSUBSCRIBE, UIEvent);\r\n    }\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as the underlying size mode\r\n * changes. This results into the size being fetched from the node in\r\n * order to update the actual, rendered size.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x the sizing mode in use for determining size in the x direction\r\n * @param {Number} y the sizing mode in use for determining size in the y direction\r\n * @param {Number} z the sizing mode in use for determining size in the z direction\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onSizeModeChange = function onSizeModeChange(x, y, z) {\r\n    if (x === Size.RENDER || y === Size.RENDER || z === Size.RENDER) {\r\n        this._renderSized = true;\r\n        this._requestRenderSize = true;\r\n    }\r\n    var size = this._node.getSize();\r\n    this.onSizeChange(size[0], size[1]);\r\n};\r\n\r\n/**\r\n * Method to be retrieve the rendered size of the DOM element that is\r\n * drawn for this node.\r\n *\r\n * @method\r\n *\r\n * @return {Array} size of the rendered DOM element in pixels\r\n */\r\nDOMElement.prototype.getRenderSize = function getRenderSize() {\r\n    return this._renderSize;\r\n};\r\n\r\n/**\r\n * Method to have the component request an update from its Node\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype._requestUpdate = function _requestUpdate() {\r\n    if (!this._requestingUpdate && this._id) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n};\r\n\r\n/**\r\n * Initializes the DOMElement by sending the `INIT_DOM` command. This creates\r\n * or reallocates a new Element in the actual DOM hierarchy.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.init = function init () {\r\n    this._changeQueue.push(Commands.INIT_DOM, this._tagName);\r\n    this._initialized = true;\r\n    this.onTransformChange(TransformSystem.get(this._node.getLocation()));\r\n    var size = this._node.getSize();\r\n    this.onSizeChange(size[0], size[1]);\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\n/**\r\n * Sets the id attribute of the DOMElement.\r\n *\r\n * @method\r\n *\r\n * @param {String} id New id to be set\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.setId = function setId (id) {\r\n    this.setAttribute('id', id);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Adds a new class to the internal class list of the underlying Element in the\r\n * DOM.\r\n *\r\n * @method\r\n *\r\n * @param {String} value New class name to be added\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.addClass = function addClass (value) {\r\n    if (this._classes.indexOf(value) < 0) {\r\n        if (this._initialized) this._changeQueue.push(Commands.ADD_CLASS, value);\r\n        this._classes.push(value);\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n        if (this._renderSized) this._requestRenderSize = true;\r\n        return this;\r\n    }\r\n\r\n    if (this._inDraw) {\r\n        if (this._initialized) this._changeQueue.push(Commands.ADD_CLASS, value);\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes a class from the DOMElement's classList.\r\n *\r\n * @method\r\n *\r\n * @param {String} value Class name to be removed\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.removeClass = function removeClass (value) {\r\n    var index = this._classes.indexOf(value);\r\n\r\n    if (index < 0) return this;\r\n\r\n    this._changeQueue.push(Commands.REMOVE_CLASS, value);\r\n\r\n    this._classes.splice(index, 1);\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Checks if the DOMElement has the passed in class.\r\n *\r\n * @method\r\n *\r\n * @param {String} value The class name\r\n *\r\n * @return {Boolean} Boolean value indicating whether the passed in class name is in the DOMElement's class list.\r\n */\r\nDOMElement.prototype.hasClass = function hasClass (value) {\r\n    return this._classes.indexOf(value) !== -1;\r\n};\r\n\r\n/**\r\n * Sets an attribute of the DOMElement.\r\n *\r\n * @method\r\n *\r\n * @param {String} name Attribute key (e.g. `src`)\r\n * @param {String} value Attribute value (e.g. `http://famo.us`)\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.setAttribute = function setAttribute (name, value) {\r\n    if (this._attributes[name] !== value || this._inDraw) {\r\n        this._attributes[name] = value;\r\n        if (this._initialized) this._changeQueue.push(Commands.CHANGE_ATTRIBUTE, name, value);\r\n        if (!this._requestUpdate) this._requestUpdate();\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets a CSS property\r\n *\r\n * @chainable\r\n *\r\n * @param {String} name  Name of the CSS rule (e.g. `background-color`)\r\n * @param {String} value Value of CSS property (e.g. `red`)\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.setProperty = function setProperty (name, value) {\r\n    if (this._styles[name] !== value || this._inDraw) {\r\n        this._styles[name] = value;\r\n        if (this._initialized) this._changeQueue.push(Commands.CHANGE_PROPERTY, name, value);\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n        if (this._renderSized) this._requestRenderSize = true;\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the content of the DOMElement. This is using `innerHTML`, escaping user\r\n * generated content is therefore essential for security purposes.\r\n *\r\n * @method\r\n *\r\n * @param {String} content Content to be set using `.innerHTML = ...`\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.setContent = function setContent (content) {\r\n    if (this._content !== content || this._inDraw) {\r\n        this._content = content;\r\n        if (this._initialized) this._changeQueue.push(Commands.CHANGE_CONTENT, content);\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n        if (this._renderSized) this._requestRenderSize = true;\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Subscribes to a DOMElement using.\r\n *\r\n * @method on\r\n *\r\n * @param {String} event       The event type (e.g. `click`).\r\n * @param {Function} listener  Handler function for the specified event type\r\n *                              in which the payload event object will be\r\n *                              passed into.\r\n *\r\n * @return {Function} A function to call if you want to remove the callback\r\n */\r\nDOMElement.prototype.on = function on (event, listener) {\r\n    return this._callbacks.on(event, listener);\r\n};\r\n\r\n/**\r\n * Function to be invoked by the Node whenever an event is being received.\r\n * There are two different ways to subscribe for those events:\r\n *\r\n * 1. By overriding the onReceive method (and possibly using `switch` in order\r\n *     to differentiate between the different event types).\r\n * 2. By using DOMElement and using the built-in CallbackStore.\r\n *\r\n * @method\r\n *\r\n * @param {String} event Event type (e.g. `click`)\r\n * @param {Object} payload Event object.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onReceive = function onReceive (event, payload) {\r\n    if (event === 'resize') {\r\n        this._renderSize[0] = payload.val[0];\r\n        this._renderSize[1] = payload.val[1];\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n    }\r\n    this._callbacks.trigger(event, payload);\r\n};\r\n\r\n/**\r\n * The draw function is being used in order to allow mutating the DOMElement\r\n * before actually mounting the corresponding node.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.draw = function draw() {\r\n    var key;\r\n    var i;\r\n    var len;\r\n\r\n    this._inDraw = true;\r\n\r\n    this.init();\r\n\r\n    for (i = 0, len = this._classes.length ; i < len ; i++)\r\n        this.addClass(this._classes[i]);\r\n\r\n    if (this._content) this.setContent(this._content);\r\n\r\n    for (key in this._styles)\r\n        if (this._styles[key] != null)\r\n            this.setProperty(key, this._styles[key]);\r\n\r\n    for (key in this._attributes)\r\n        if (this._attributes[key] != null)\r\n            this.setAttribute(key, this._attributes[key]);\r\n\r\n    for (i = 0, len = this._UIEvents.length ; i < len ; i++)\r\n        this.onAddUIEvent(this._UIEvents[i]);\r\n\r\n    this._inDraw = false;\r\n};\r\n\r\nmodule.exports = DOMElement;\r\n\n},{\"../core/Commands\":8,\"../core/Size\":17,\"../core/TransformSystem\":20,\"../utilities/CallbackStore\":47}],22:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar ElementCache = require('./ElementCache');\r\nvar math = require('./Math');\r\nvar PathUtils = require('../core/Path');\r\nvar vendorPrefix = require('../utilities/vendorPrefix');\r\nvar CallbackStore = require('../utilities/CallbackStore');\r\nvar eventMap = require('./events/EventMap');\r\n\r\nvar TRANSFORM = null;\r\n\r\n/**\r\n * DOMRenderer is a class responsible for adding elements\r\n * to the DOM and writing to those elements.\r\n * There is a DOMRenderer per context, represented as an\r\n * element and a selector. It is instantiated in the\r\n * context class.\r\n *\r\n * @class DOMRenderer\r\n *\r\n * @param {HTMLElement} element an element.\r\n * @param {String} selector the selector of the element.\r\n * @param {Compositor} compositor the compositor controlling the renderer\r\n */\r\nfunction DOMRenderer (element, selector, compositor) {\r\n    var _this = this;\r\n\r\n    element.classList.add('famous-dom-renderer');\r\n\r\n    TRANSFORM = TRANSFORM || vendorPrefix('transform');\r\n    this._compositor = compositor; // a reference to the compositor\r\n\r\n    this._target = null; // a register for holding the current\r\n                         // element that the Renderer is operating\r\n                         // upon\r\n\r\n    this._parent = null; // a register for holding the parent\r\n                         // of the target\r\n\r\n    this._path = null; // a register for holding the path of the target\r\n                       // this register must be set first, and then\r\n                       // children, target, and parent are all looked\r\n                       // up from that.\r\n\r\n    this._children = []; // a register for holding the children of the\r\n                         // current target.\r\n\r\n     this._insertElCallbackStore = new CallbackStore();\r\n     this._removeElCallbackStore = new CallbackStore();\r\n\r\n    this._root = new ElementCache(element, selector); // the root\r\n                                                      // of the dom tree that this\r\n                                                      // renderer is responsible\r\n                                                      // for\r\n\r\n    this._boundTriggerEvent = function (ev) {\r\n        return _this._triggerEvent(ev);\r\n    };\r\n\r\n    this._selector = selector;\r\n\r\n    this._elements = {};\r\n\r\n    this._elements[selector] = this._root;\r\n\r\n    this.perspectiveTransform = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\r\n    this._VPtransform = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\r\n\r\n    this._lastEv = null;\r\n}\r\n\r\n\r\n/**\r\n * Attaches an EventListener to the element associated with the passed in path.\r\n * Prevents the default browser action on all subsequent events if\r\n * `preventDefault` is truthy.\r\n * All incoming events will be forwarded to the compositor by invoking the\r\n * `sendEvent` method.\r\n * Delegates events if possible by attaching the event listener to the context.\r\n *\r\n * @method\r\n *\r\n * @param {String} type DOM event type (e.g. click, mouseover).\r\n * @param {Boolean} preventDefault Whether or not the default browser action should be prevented.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.subscribe = function subscribe(type) {\r\n    this._assertTargetLoaded();\r\n    this._listen(type);\r\n    this._target.subscribe[type] = true;\r\n};\r\n\r\n/**\r\n * Used to preventDefault if an event of the specified type is being emitted on\r\n * the currently loaded target.\r\n *\r\n * @method\r\n *\r\n * @param  {String} type    The type of events that should be prevented.\r\n * @return {undefined}      undefined\r\n */\r\nDOMRenderer.prototype.preventDefault = function preventDefault(type) {\r\n    this._assertTargetLoaded();\r\n    this._listen(type);\r\n    this._target.preventDefault[type] = true;\r\n};\r\n\r\n/**\r\n * Used to undo a previous call to preventDefault. No longer `preventDefault`\r\n * for this event on the loaded target.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param  {String} type    The event type that should no longer be affected by\r\n *                          `preventDefault`.\r\n * @return {undefined}      undefined\r\n */\r\nDOMRenderer.prototype.allowDefault = function allowDefault(type) {\r\n    this._assertTargetLoaded();\r\n    this._listen(type);\r\n    this._target.preventDefault[type] = false;\r\n};\r\n\r\n/**\r\n * Internal helper function used for adding an event listener for the the\r\n * currently loaded ElementCache.\r\n *\r\n * If the event can be delegated as specified in the {@link EventMap}, the\r\n * bound {@link _triggerEvent} function will be added as a listener on the\r\n * root element. Otherwise, the listener will be added directly to the target\r\n * element.\r\n *\r\n * @private\r\n * @method\r\n *\r\n * @param  {String} type    The event type to listen to (e.g. click).\r\n * @return {undefined}      undefined\r\n */\r\nDOMRenderer.prototype._listen = function _listen(type) {\r\n    this._assertTargetLoaded();\r\n\r\n    if (\r\n        !this._target.listeners[type] && !this._root.listeners[type]\r\n    ) {\r\n        // FIXME Add to content DIV if available\r\n        var target = eventMap[type][1] ? this._root : this._target;\r\n        target.listeners[type] = this._boundTriggerEvent;\r\n        target.element.addEventListener(type, this._boundTriggerEvent);\r\n    }\r\n};\r\n\r\n/**\r\n * Unsubscribes from all events that are of the specified type.\r\n *\r\n * @method\r\n *\r\n * @param {String} type DOM event type (e.g. click, mouseover).\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.unsubscribe = function unsubscribe(type) {\r\n    this._assertTargetLoaded();\r\n    this._target.subscribe[type] = false;\r\n};\r\n\r\n/**\r\n * Function to be added using `addEventListener` to the corresponding\r\n * DOMElement.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Event} ev DOM Event payload\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype._triggerEvent = function _triggerEvent(ev) {\r\n    if (this._lastEv === ev) return;\r\n\r\n    // Use ev.path, which is an array of Elements (polyfilled if needed).\r\n    var evPath = ev.path ? ev.path : _getPath(ev);\r\n    // First element in the path is the element on which the event has actually\r\n    // been emitted.\r\n    for (var i = 0; i < evPath.length; i++) {\r\n        // Skip nodes that don't have a dataset property or data-fa-path\r\n        // attribute.\r\n        if (!evPath[i].dataset) continue;\r\n        var path = evPath[i].dataset.faPath;\r\n        if (!path) continue;\r\n\r\n        // Optionally preventDefault. This needs forther consideration and\r\n        // should be optional. Eventually this should be a separate command/\r\n        // method.\r\n        if (this._elements[path].preventDefault[ev.type]) {\r\n            ev.preventDefault();\r\n        }\r\n\r\n        // Stop further event propogation and path traversal as soon as the\r\n        // first ElementCache subscribing for the emitted event has been found.\r\n        if (this._elements[path] && this._elements[path].subscribe[ev.type]) {\r\n            this._lastEv = ev;\r\n\r\n            var NormalizedEventConstructor = eventMap[ev.type][0];\r\n\r\n            // Finally send the event to the Worker Thread through the\r\n            // compositor.\r\n            this._compositor.sendEvent(path, ev.type, new NormalizedEventConstructor(ev));\r\n\r\n            break;\r\n        }\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * getSizeOf gets the dom size of a particular DOM element.  This is\r\n * needed for render sizing in the scene graph.\r\n *\r\n * @method\r\n *\r\n * @param {String} path path of the Node in the scene graph\r\n *\r\n * @return {Array} a vec3 of the offset size of the dom element\r\n */\r\nDOMRenderer.prototype.getSizeOf = function getSizeOf(path) {\r\n    var element = this._elements[path];\r\n    if (!element) return null;\r\n\r\n    var res = {val: element.size};\r\n    this._compositor.sendEvent(path, 'resize', res);\r\n    return res;\r\n};\r\n\r\nfunction _getPath(ev) {\r\n    // TODO move into _triggerEvent, avoid object allocation\r\n    var path = [];\r\n    var node = ev.target;\r\n    while (node !== document.body) {\r\n        path.push(node);\r\n        node = node.parentNode;\r\n    }\r\n    return path;\r\n}\r\n\r\n/**\r\n * Executes the retrieved draw commands. Draw commands only refer to the\r\n * cross-browser normalized `transform` property.\r\n *\r\n * @method\r\n *\r\n * @param {Object} renderState description\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.draw = function draw(renderState) {\r\n    if (renderState.perspectiveDirty) {\r\n        this.perspectiveDirty = true;\r\n\r\n        this.perspectiveTransform[0] = renderState.perspectiveTransform[0];\r\n        this.perspectiveTransform[1] = renderState.perspectiveTransform[1];\r\n        this.perspectiveTransform[2] = renderState.perspectiveTransform[2];\r\n        this.perspectiveTransform[3] = renderState.perspectiveTransform[3];\r\n\r\n        this.perspectiveTransform[4] = renderState.perspectiveTransform[4];\r\n        this.perspectiveTransform[5] = renderState.perspectiveTransform[5];\r\n        this.perspectiveTransform[6] = renderState.perspectiveTransform[6];\r\n        this.perspectiveTransform[7] = renderState.perspectiveTransform[7];\r\n\r\n        this.perspectiveTransform[8] = renderState.perspectiveTransform[8];\r\n        this.perspectiveTransform[9] = renderState.perspectiveTransform[9];\r\n        this.perspectiveTransform[10] = renderState.perspectiveTransform[10];\r\n        this.perspectiveTransform[11] = renderState.perspectiveTransform[11];\r\n\r\n        this.perspectiveTransform[12] = renderState.perspectiveTransform[12];\r\n        this.perspectiveTransform[13] = renderState.perspectiveTransform[13];\r\n        this.perspectiveTransform[14] = renderState.perspectiveTransform[14];\r\n        this.perspectiveTransform[15] = renderState.perspectiveTransform[15];\r\n    }\r\n\r\n    if (renderState.viewDirty || renderState.perspectiveDirty) {\r\n        math.multiply(this._VPtransform, this.perspectiveTransform, renderState.viewTransform);\r\n        this._root.element.style[TRANSFORM] = this._stringifyMatrix(this._VPtransform);\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Internal helper function used for ensuring that a path is currently loaded.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype._assertPathLoaded = function _asserPathLoaded() {\r\n    if (!this._path) throw new Error('path not loaded');\r\n};\r\n\r\n/**\r\n * Internal helper function used for ensuring that a parent is currently loaded.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype._assertParentLoaded = function _assertParentLoaded() {\r\n    if (!this._parent) throw new Error('parent not loaded');\r\n};\r\n\r\n/**\r\n * Internal helper function used for ensuring that children are currently\r\n * loaded.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype._assertChildrenLoaded = function _assertChildrenLoaded() {\r\n    if (!this._children) throw new Error('children not loaded');\r\n};\r\n\r\n/**\r\n * Internal helper function used for ensuring that a target is currently loaded.\r\n *\r\n * @method  _assertTargetLoaded\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype._assertTargetLoaded = function _assertTargetLoaded() {\r\n    if (!this._target) throw new Error('No target loaded');\r\n};\r\n\r\n/**\r\n * Finds and sets the parent of the currently loaded element (path).\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {ElementCache} Parent element.\r\n */\r\nDOMRenderer.prototype.findParent = function findParent () {\r\n    this._assertPathLoaded();\r\n\r\n    var path = this._path;\r\n    var parent;\r\n\r\n    while (!parent && path.length) {\r\n        path = path.substring(0, path.lastIndexOf('/'));\r\n        parent = this._elements[path];\r\n    }\r\n\r\n    this._parent = parent;\r\n    return parent;\r\n};\r\n\r\n/**\r\n * Used for determining the target loaded under the current path.\r\n *\r\n * @method\r\n * @deprecated\r\n *\r\n * @return {ElementCache|undefined} Element loaded under defined path.\r\n */\r\nDOMRenderer.prototype.findTarget = function findTarget() {\r\n    this._target = this._elements[this._path];\r\n    return this._target;\r\n};\r\n\r\n/**\r\n * Loads the passed in path into the DOMRenderer.\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path to be loaded\r\n *\r\n * @return {String} Loaded path\r\n */\r\nDOMRenderer.prototype.loadPath = function loadPath (path) {\r\n    this._path = path;\r\n    this._target = this._elements[this._path];\r\n    return this._path;\r\n};\r\n\r\n/**\r\n * Finds children of a parent element that are descendents of a inserted element in the scene\r\n * graph. Appends those children to the inserted element.\r\n *\r\n * @method resolveChildren\r\n * @return {void}\r\n *\r\n * @param {HTMLElement} element the inserted element\r\n * @param {HTMLElement} parent the parent of the inserted element\r\n */\r\nDOMRenderer.prototype.resolveChildren = function resolveChildren (element, parent) {\r\n    var i = 0;\r\n    var childNode;\r\n    var path = this._path;\r\n    var childPath;\r\n\r\n    while ((childNode = parent.childNodes[i])) {\r\n        if (!childNode.dataset) {\r\n            i++;\r\n            continue;\r\n        }\r\n        childPath = childNode.dataset.faPath;\r\n        if (!childPath) {\r\n            i++;\r\n            continue;\r\n        }\r\n        if (PathUtils.isDescendentOf(childPath, path)) element.appendChild(childNode);\r\n        else i++;\r\n    }\r\n};\r\n\r\n/**\r\n * Inserts a DOMElement at the currently loaded path, assuming no target is\r\n * loaded. Only one DOMElement can be associated with each path.\r\n *\r\n * @method\r\n *\r\n * @param {String} tagName Tag name (capitalization will be normalized).\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.insertEl = function insertEl (tagName) {\r\n\r\n    this.findParent();\r\n\r\n    this._assertParentLoaded();\r\n\r\n    if (this._parent.void)\r\n        throw new Error(\r\n            this._parent.path + ' is a void element. ' +\r\n            'Void elements are not allowed to have children.'\r\n        );\r\n\r\n    if (!this._target) this._target = new ElementCache(document.createElement(tagName), this._path);\r\n\r\n    var el = this._target.element;\r\n    var parent = this._parent.element;\r\n\r\n    this.resolveChildren(el, parent);\r\n\r\n    parent.appendChild(el);\r\n    this._elements[this._path] = this._target;\r\n\r\n    this._insertElCallbackStore.trigger(this._path, this._target);\r\n\r\n};\r\n\r\n\r\n/**\r\n * Sets a property on the currently loaded target.\r\n *\r\n * @method\r\n *\r\n * @param {String} name Property name (e.g. background, color, font)\r\n * @param {String} value Proprty value (e.g. black, 20px)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setProperty = function setProperty (name, value) {\r\n    this._assertTargetLoaded();\r\n    this._target.element.style[name] = value;\r\n};\r\n\r\n\r\n/**\r\n * Sets the size of the currently loaded target.\r\n * Removes any explicit sizing constraints when passed in `false`\r\n * (\"true-sizing\").\r\n *\r\n * Invoking setSize is equivalent to a manual invocation of `setWidth` followed\r\n * by `setHeight`.\r\n *\r\n * @method\r\n *\r\n * @param {Number|false} width   Width to be set.\r\n * @param {Number|false} height  Height to be set.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setSize = function setSize (width, height) {\r\n    this._assertTargetLoaded();\r\n\r\n    this.setWidth(width);\r\n    this.setHeight(height);\r\n};\r\n\r\n/**\r\n * Sets the width of the currently loaded ElementCache.\r\n *\r\n * @method\r\n *\r\n * @param  {Number|false} width     The explicit width to be set on the\r\n *                                  ElementCache's target (and content) element.\r\n *                                  `false` removes any explicit sizing\r\n *                                  constraints from the underlying DOM\r\n *                                  Elements.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setWidth = function setWidth(width) {\r\n    this._assertTargetLoaded();\r\n\r\n    var contentWrapper = this._target.content;\r\n\r\n    if (width === false) {\r\n        this._target.explicitWidth = true;\r\n        if (contentWrapper) contentWrapper.style.width = '';\r\n        width = contentWrapper ? contentWrapper.offsetWidth : 0;\r\n        this._target.element.style.width = width + 'px';\r\n    }\r\n    else {\r\n        this._target.explicitWidth = false;\r\n        if (contentWrapper) contentWrapper.style.width = width + 'px';\r\n        this._target.element.style.width = width + 'px';\r\n    }\r\n\r\n    this._target.size[0] = width;\r\n};\r\n\r\n/**\r\n * Sets the height of the currently loaded ElementCache.\r\n *\r\n * @method  setHeight\r\n *\r\n * @param  {Number|false} height    The explicit height to be set on the\r\n *                                  ElementCache's target (and content) element.\r\n *                                  `false` removes any explicit sizing\r\n *                                  constraints from the underlying DOM\r\n *                                  Elements.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setHeight = function setHeight(height) {\r\n    this._assertTargetLoaded();\r\n\r\n    var contentWrapper = this._target.content;\r\n\r\n    if (height === false) {\r\n        this._target.explicitHeight = true;\r\n        if (contentWrapper) contentWrapper.style.height = '';\r\n        height = contentWrapper ? contentWrapper.offsetHeight : 0;\r\n        this._target.element.style.height = height + 'px';\r\n    }\r\n    else {\r\n        this._target.explicitHeight = false;\r\n        if (contentWrapper) contentWrapper.style.height = height + 'px';\r\n        this._target.element.style.height = height + 'px';\r\n    }\r\n\r\n    this._target.size[1] = height;\r\n};\r\n\r\n/**\r\n * Sets an attribute on the currently loaded target.\r\n *\r\n * @method\r\n *\r\n * @param {String} name Attribute name (e.g. href)\r\n * @param {String} value Attribute value (e.g. http://famous.org)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setAttribute = function setAttribute(name, value) {\r\n    this._assertTargetLoaded();\r\n    this._target.element.setAttribute(name, value);\r\n    if (name ===\"value\")\r\n        this._target.element.value = value;\r\n};\r\n\r\n/**\r\n * Sets the `innerHTML` content of the currently loaded target.\r\n *\r\n * @method\r\n *\r\n * @param {String} content Content to be set as `innerHTML`\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setContent = function setContent(content) {\r\n    this._assertTargetLoaded();\r\n\r\n    if (this._target.formElement) {\r\n        this._target.element.value = content;\r\n    }\r\n    else {\r\n        if (!this._target.content) {\r\n            this._target.content = document.createElement('div');\r\n            this._target.content.classList.add('famous-dom-element-content');\r\n            this._target.element.insertBefore(\r\n                this._target.content,\r\n                this._target.element.firstChild\r\n            );\r\n        }\r\n        this._target.content.innerHTML = content;\r\n    }\r\n\r\n\r\n    this.setSize(\r\n        this._target.explicitWidth ? false : this._target.size[0],\r\n        this._target.explicitHeight ? false : this._target.size[1]\r\n    );\r\n};\r\n\r\n\r\n/**\r\n * Sets the passed in transform matrix (world space). Inverts the parent's world\r\n * transform.\r\n *\r\n * @method\r\n *\r\n * @param {Float32Array} transform The transform for the loaded DOM Element in world space\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setMatrix = function setMatrix (transform) {\r\n    this._assertTargetLoaded();\r\n    this._target.element.style[TRANSFORM] = this._stringifyMatrix(transform);\r\n};\r\n\r\n\r\n/**\r\n * Adds a class to the classList associated with the currently loaded target.\r\n *\r\n * @method\r\n *\r\n * @param {String} domClass Class name to be added to the current target.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.addClass = function addClass(domClass) {\r\n    this._assertTargetLoaded();\r\n    this._target.element.classList.add(domClass);\r\n};\r\n\r\n\r\n/**\r\n * Removes a class from the classList associated with the currently loaded\r\n * target.\r\n *\r\n * @method\r\n *\r\n * @param {String} domClass Class name to be removed from currently loaded target.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.removeClass = function removeClass(domClass) {\r\n    this._assertTargetLoaded();\r\n    this._target.element.classList.remove(domClass);\r\n};\r\n\r\n\r\n/**\r\n * Stringifies the passed in matrix for setting the `transform` property.\r\n *\r\n * @method  _stringifyMatrix\r\n * @private\r\n *\r\n * @param {Array} m    Matrix as an array or array-like object.\r\n * @return {String}     Stringified matrix as `matrix3d`-property.\r\n */\r\nDOMRenderer.prototype._stringifyMatrix = function _stringifyMatrix(m) {\r\n    var r = 'matrix3d(';\r\n\r\n    r += (m[0] < 0.000001 && m[0] > -0.000001) ? '0,' : m[0] + ',';\r\n    r += (m[1] < 0.000001 && m[1] > -0.000001) ? '0,' : m[1] + ',';\r\n    r += (m[2] < 0.000001 && m[2] > -0.000001) ? '0,' : m[2] + ',';\r\n    r += (m[3] < 0.000001 && m[3] > -0.000001) ? '0,' : m[3] + ',';\r\n    r += (m[4] < 0.000001 && m[4] > -0.000001) ? '0,' : m[4] + ',';\r\n    r += (m[5] < 0.000001 && m[5] > -0.000001) ? '0,' : m[5] + ',';\r\n    r += (m[6] < 0.000001 && m[6] > -0.000001) ? '0,' : m[6] + ',';\r\n    r += (m[7] < 0.000001 && m[7] > -0.000001) ? '0,' : m[7] + ',';\r\n    r += (m[8] < 0.000001 && m[8] > -0.000001) ? '0,' : m[8] + ',';\r\n    r += (m[9] < 0.000001 && m[9] > -0.000001) ? '0,' : m[9] + ',';\r\n    r += (m[10] < 0.000001 && m[10] > -0.000001) ? '0,' : m[10] + ',';\r\n    r += (m[11] < 0.000001 && m[11] > -0.000001) ? '0,' : m[11] + ',';\r\n    r += (m[12] < 0.000001 && m[12] > -0.000001) ? '0,' : m[12] + ',';\r\n    r += (m[13] < 0.000001 && m[13] > -0.000001) ? '0,' : m[13] + ',';\r\n    r += (m[14] < 0.000001 && m[14] > -0.000001) ? '0,' : m[14] + ',';\r\n\r\n    r += m[15] + ')';\r\n    return r;\r\n};\r\n\r\n/**\r\n * Registers a function to be executed when a new element is being inserted at\r\n * the specified path.\r\n *\r\n * @method\r\n *\r\n * @param  {String}   path      Path at which to listen for element insertion.\r\n * @param  {Function} callback  Function to be executed when an insertion\r\n *                              occurs.\r\n * @return {DOMRenderer}        this\r\n */\r\nDOMRenderer.prototype.onInsertEl = function onInsertEl(path, callback) {\r\n    this._insertElCallbackStore.on(path, callback);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Deregisters a listener function to be no longer executed on future element\r\n * insertions at the specified path.\r\n *\r\n * @method\r\n *\r\n * @param  {String}   path      Path at which the listener function has been\r\n *                              registered.\r\n * @param  {Function} callback  Callback function to be deregistered.\r\n * @return {DOMRenderer}        this\r\n */\r\nDOMRenderer.prototype.offInsertEl = function offInsertEl(path, callback) {\r\n    this._insertElCallbackStore.off(path, callback);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Registers an event handler to be triggered as soon as an element at the\r\n * specified path is being removed.\r\n *\r\n * @method\r\n *\r\n * @param  {String}   path      Path at which to listen for the removal of an\r\n *                              element.\r\n * @param  {Function} callback  Function to be executed when an element is\r\n *                              being removed at the specified path.\r\n * @return {DOMRenderer}        this\r\n */\r\nDOMRenderer.prototype.onRemoveEl = function onRemoveEl(path, callback) {\r\n    this._removeElCallbackStore.on(path, callback);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Deregisters a listener function to be no longer executed when an element is\r\n * being removed from the specified path.\r\n *\r\n * @method\r\n *\r\n * @param  {String}   path      Path at which the listener function has been\r\n *                              registered.\r\n * @param  {Function} callback  Callback function to be deregistered.\r\n * @return {DOMRenderer}        this\r\n */\r\nDOMRenderer.prototype.offRemoveEl = function offRemoveEl(path, callback) {\r\n    this._removeElCallbackStore.off(path, callback);\r\n    return this;\r\n};\r\n\r\nmodule.exports = DOMRenderer;\r\n\n},{\"../core/Path\":14,\"../utilities/CallbackStore\":47,\"../utilities/vendorPrefix\":51,\"./ElementCache\":23,\"./Math\":24,\"./events/EventMap\":28}],23:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar VoidElements = require('./VoidElements');\r\n\r\n/**\r\n * ElementCache is being used for keeping track of an element's DOM Element,\r\n * path, world transform, inverted parent, final transform (as being used for\r\n * setting the actual `transform`-property) and post render size (final size as\r\n * being rendered to the DOM).\r\n *\r\n * @class ElementCache\r\n *\r\n * @param {Element} element DOMElement\r\n * @param {String} path Path used for uniquely identifying the location in the\r\n *                      scene graph.\r\n */\r\nfunction ElementCache (element, path) {\r\n    this.tagName = element.tagName.toLowerCase();\r\n    this.void = VoidElements[this.tagName];\r\n\r\n    var constructor = element.constructor;\r\n\r\n    this.formElement = constructor === HTMLInputElement ||\r\n        constructor === HTMLTextAreaElement ||\r\n        constructor === HTMLSelectElement;\r\n\r\n    this.element = element;\r\n    this.path = path;\r\n    this.content = null;\r\n    this.size = new Int16Array(3);\r\n    this.explicitHeight = false;\r\n    this.explicitWidth = false;\r\n    this.postRenderSize = new Float32Array(2);\r\n    this.listeners = {};\r\n    this.preventDefault = {};\r\n    this.subscribe = {};\r\n}\r\n\r\nmodule.exports = ElementCache;\r\n\n},{\"./VoidElements\":25}],24:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * A method for inverting a transform matrix\r\n *\r\n * @method\r\n *\r\n * @param {Array} out array to store the return of the inversion\r\n * @param {Array} a transform matrix to inverse\r\n *\r\n * @return {Array} out\r\n *   output array that is storing the transform matrix\r\n */\r\nfunction invert (out, a) {\r\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\r\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\r\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\r\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\r\n\r\n        b00 = a00 * a11 - a01 * a10,\r\n        b01 = a00 * a12 - a02 * a10,\r\n        b02 = a00 * a13 - a03 * a10,\r\n        b03 = a01 * a12 - a02 * a11,\r\n        b04 = a01 * a13 - a03 * a11,\r\n        b05 = a02 * a13 - a03 * a12,\r\n        b06 = a20 * a31 - a21 * a30,\r\n        b07 = a20 * a32 - a22 * a30,\r\n        b08 = a20 * a33 - a23 * a30,\r\n        b09 = a21 * a32 - a22 * a31,\r\n        b10 = a21 * a33 - a23 * a31,\r\n        b11 = a22 * a33 - a23 * a32,\r\n\r\n        // Calculate the determinant\r\n        det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n\r\n    if (!det) {\r\n        return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\r\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\r\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\r\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\r\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\r\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\r\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * A method for multiplying two matricies\r\n *\r\n * @method\r\n *\r\n * @param {Array} out array to store the return of the multiplication\r\n * @param {Array} a transform matrix to multiply\r\n * @param {Array} b transform matrix to multiply\r\n *\r\n * @return {Array} out\r\n *   output array that is storing the transform matrix\r\n */\r\nfunction multiply (out, a, b) {\r\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\r\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\r\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\r\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\r\n\r\n        b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3],\r\n        b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7],\r\n        b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11],\r\n        b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];\r\n\r\n    var changed = false;\r\n    var out0, out1, out2, out3;\r\n\r\n    out0 = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    out1 = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    out2 = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    out3 = b0*a03 + b1*a13 + b2*a23 + b3*a33;\r\n\r\n    changed = changed ?\r\n              changed : out0 === out[0] ||\r\n                        out1 === out[1] ||\r\n                        out2 === out[2] ||\r\n                        out3 === out[3];\r\n\r\n    out[0] = out0;\r\n    out[1] = out1;\r\n    out[2] = out2;\r\n    out[3] = out3;\r\n\r\n    b0 = b4; b1 = b5; b2 = b6; b3 = b7;\r\n    out0 = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    out1 = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    out2 = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    out3 = b0*a03 + b1*a13 + b2*a23 + b3*a33;\r\n\r\n    changed = changed ?\r\n              changed : out0 === out[4] ||\r\n                        out1 === out[5] ||\r\n                        out2 === out[6] ||\r\n                        out3 === out[7];\r\n\r\n    out[4] = out0;\r\n    out[5] = out1;\r\n    out[6] = out2;\r\n    out[7] = out3;\r\n\r\n    b0 = b8; b1 = b9; b2 = b10; b3 = b11;\r\n    out0 = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    out1 = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    out2 = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    out3 = b0*a03 + b1*a13 + b2*a23 + b3*a33;\r\n\r\n    changed = changed ?\r\n              changed : out0 === out[8] ||\r\n                        out1 === out[9] ||\r\n                        out2 === out[10] ||\r\n                        out3 === out[11];\r\n\r\n    out[8] = out0;\r\n    out[9] = out1;\r\n    out[10] = out2;\r\n    out[11] = out3;\r\n\r\n    b0 = b12; b1 = b13; b2 = b14; b3 = b15;\r\n    out0 = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    out1 = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    out2 = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    out3 = b0*a03 + b1*a13 + b2*a23 + b3*a33;\r\n\r\n    changed = changed ?\r\n              changed : out0 === out[12] ||\r\n                        out1 === out[13] ||\r\n                        out2 === out[14] ||\r\n                        out3 === out[15];\r\n\r\n    out[12] = out0;\r\n    out[13] = out1;\r\n    out[14] = out2;\r\n    out[15] = out3;\r\n\r\n    return out;\r\n}\r\n\r\nmodule.exports = {\r\n    multiply: multiply,\r\n    invert: invert\r\n};\r\n\n},{}],25:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Map of void elements as defined by the\r\n * [HTML5 spec](http://www.w3.org/TR/html5/syntax.html#elements-0).\r\n *\r\n * @type {Object}\r\n */\r\nvar VoidElements = {\r\n    area  : true,\r\n    base  : true,\r\n    br    : true,\r\n    col   : true,\r\n    embed : true,\r\n    hr    : true,\r\n    img   : true,\r\n    input : true,\r\n    keygen: true,\r\n    link  : true,\r\n    meta  : true,\r\n    param : true,\r\n    source: true,\r\n    track : true,\r\n    wbr   : true\r\n};\r\n\r\nmodule.exports = VoidElements;\r\n\n},{}],26:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar UIEvent = require('./UIEvent');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428/#events-compositionevents).\r\n *\r\n * @class CompositionEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction CompositionEvent(ev) {\r\n    // [Constructor(DOMString typeArg, optional CompositionEventInit compositionEventInitDict)]\r\n    // interface CompositionEvent : UIEvent {\r\n    //     readonly    attribute DOMString data;\r\n    // };\r\n\r\n    UIEvent.call(this, ev);\r\n\r\n    /**\r\n     * @name CompositionEvent#data\r\n     * @type String\r\n     */\r\n    this.data = ev.data;\r\n}\r\n\r\nCompositionEvent.prototype = Object.create(UIEvent.prototype);\r\nCompositionEvent.prototype.constructor = CompositionEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nCompositionEvent.prototype.toString = function toString () {\r\n    return 'CompositionEvent';\r\n};\r\n\r\nmodule.exports = CompositionEvent;\r\n\n},{\"./UIEvent\":35}],27:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * The Event class is being used in order to normalize native DOM events.\r\n * Events need to be normalized in order to be serialized through the structured\r\n * cloning algorithm used by the `postMessage` method (Web Workers).\r\n *\r\n * Wrapping DOM events also has the advantage of providing a consistent\r\n * interface for interacting with DOM events across browsers by copying over a\r\n * subset of the exposed properties that is guaranteed to be consistent across\r\n * browsers.\r\n *\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428/#interface-Event).\r\n *\r\n * @class Event\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction Event(ev) {\r\n    // [Constructor(DOMString type, optional EventInit eventInitDict),\r\n    //  Exposed=Window,Worker]\r\n    // interface Event {\r\n    //   readonly attribute DOMString type;\r\n    //   readonly attribute EventTarget? target;\r\n    //   readonly attribute EventTarget? currentTarget;\r\n\r\n    //   const unsigned short NONE = 0;\r\n    //   const unsigned short CAPTURING_PHASE = 1;\r\n    //   const unsigned short AT_TARGET = 2;\r\n    //   const unsigned short BUBBLING_PHASE = 3;\r\n    //   readonly attribute unsigned short eventPhase;\r\n\r\n    //   void stopPropagation();\r\n    //   void stopImmediatePropagation();\r\n\r\n    //   readonly attribute boolean bubbles;\r\n    //   readonly attribute boolean cancelable;\r\n    //   void preventDefault();\r\n    //   readonly attribute boolean defaultPrevented;\r\n\r\n    //   [Unforgeable] readonly attribute boolean isTrusted;\r\n    //   readonly attribute DOMTimeStamp timeStamp;\r\n\r\n    //   void initEvent(DOMString type, boolean bubbles, boolean cancelable);\r\n    // };\r\n\r\n    /**\r\n     * @name Event#type\r\n     * @type String\r\n     */\r\n    this.type = ev.type;\r\n\r\n    /**\r\n     * @name Event#defaultPrevented\r\n     * @type Boolean\r\n     */\r\n    this.defaultPrevented = ev.defaultPrevented;\r\n\r\n    /**\r\n     * @name Event#timeStamp\r\n     * @type Number\r\n     */\r\n    this.timeStamp = ev.timeStamp;\r\n\r\n\r\n    /**\r\n     * Used for exposing the current target's value.\r\n     *\r\n     * @name Event#value\r\n     * @type String\r\n     */\r\n    var targetConstructor = ev.target.constructor;\r\n    // TODO Support HTMLKeygenElement\r\n    if (\r\n        targetConstructor === HTMLInputElement ||\r\n        targetConstructor === HTMLTextAreaElement ||\r\n        targetConstructor === HTMLSelectElement\r\n    ) {\r\n        this.value = ev.target.value;\r\n\r\n        if( typeof ev.target.files !== 'undefined')\r\n            this.files = ev.target.files;\r\n    }\r\n    \r\n    \r\n}\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nEvent.prototype.toString = function toString () {\r\n    return 'Event';\r\n};\r\n\r\nmodule.exports = Event;\r\n\n},{}],28:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar CompositionEvent = require('./CompositionEvent');\r\nvar Event = require('./Event');\r\nvar FocusEvent = require('./FocusEvent');\r\nvar InputEvent = require('./InputEvent');\r\nvar KeyboardEvent = require('./KeyboardEvent');\r\nvar ScrollEvent = require('./ScrollEvent');\r\nvar MouseEvent = require('./MouseEvent');\r\nvar TouchEvent = require('./TouchEvent');\r\nvar UIEvent = require('./UIEvent');\r\nvar WheelEvent = require('./WheelEvent');\r\n\r\n/**\r\n * A mapping of DOM events to the corresponding handlers\r\n *\r\n * @name EventMap\r\n * @type Object\r\n */\r\nvar EventMap = {\r\n    change                         : [Event, true],\r\n    submit                         : [Event, true],\r\n\r\n    // UI Events (http://www.w3.org/TR/uievents/)\r\n    abort                          : [Event, false],\r\n    beforeinput                    : [InputEvent, true],\r\n    blur                           : [FocusEvent, false],\r\n    click                          : [MouseEvent, true],\r\n    compositionend                 : [CompositionEvent, true],\r\n    compositionstart               : [CompositionEvent, true],\r\n    compositionupdate              : [CompositionEvent, true],\r\n    dblclick                       : [MouseEvent, true],\r\n    focus                          : [FocusEvent, false],\r\n    focusin                        : [FocusEvent, true],\r\n    focusout                       : [FocusEvent, true],\r\n    input                          : [InputEvent, true],\r\n    keydown                        : [KeyboardEvent, true],\r\n    keyup                          : [KeyboardEvent, true],\r\n    load                           : [Event, false],\r\n    mousedown                      : [MouseEvent, true],\r\n    mouseenter                     : [MouseEvent, false],\r\n    mouseleave                     : [MouseEvent, false],\r\n    animationiteration             : [UIEvent, false],\r\n    animationend                   : [UIEvent, false],\r\n    transitionend                  : [UIEvent, false],\r\n\r\n    // bubbles, but will be triggered very frequently\r\n    mousemove                      : [MouseEvent, false],\r\n\r\n    mouseout                       : [MouseEvent, true],\r\n    mouseover                      : [MouseEvent, true],\r\n    mouseup                        : [MouseEvent, true],\r\n    contextMenu                    : [MouseEvent, true],\r\n    resize                         : [UIEvent, false],\r\n\r\n    // might bubble\r\n    scroll                         : [ScrollEvent, false],\r\n\r\n    select                         : [Event, true],\r\n    unload                         : [Event, false],\r\n    wheel                          : [WheelEvent, true],\r\n\r\n    // Touch Events Extension (http://www.w3.org/TR/touch-events-extensions/)\r\n    touchcancel                    : [TouchEvent, true],\r\n    touchend                       : [TouchEvent, true],\r\n    touchmove                      : [TouchEvent, true],\r\n    touchstart                     : [TouchEvent, true]\r\n};\r\n\r\nmodule.exports = EventMap;\r\n\n},{\"./CompositionEvent\":26,\"./Event\":27,\"./FocusEvent\":29,\"./InputEvent\":30,\"./KeyboardEvent\":31,\"./MouseEvent\":32,\"./ScrollEvent\":33,\"./TouchEvent\":34,\"./UIEvent\":35,\"./WheelEvent\":36}],29:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar UIEvent = require('./UIEvent');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428/#events-focusevent).\r\n *\r\n * @class FocusEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction FocusEvent(ev) {\r\n    // [Constructor(DOMString typeArg, optional FocusEventInit focusEventInitDict)]\r\n    // interface FocusEvent : UIEvent {\r\n    //     readonly    attribute EventTarget? relatedTarget;\r\n    // };\r\n\r\n    UIEvent.call(this, ev);\r\n}\r\n\r\nFocusEvent.prototype = Object.create(UIEvent.prototype);\r\nFocusEvent.prototype.constructor = FocusEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nFocusEvent.prototype.toString = function toString () {\r\n    return 'FocusEvent';\r\n};\r\n\r\nmodule.exports = FocusEvent;\r\n\n},{\"./UIEvent\":35}],30:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar UIEvent = require('./UIEvent');\r\n\r\n/**\r\n * See [Input Events](http://w3c.github.io/editing-explainer/input-events.html#idl-def-InputEvent).\r\n *\r\n * @class InputEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction InputEvent(ev) {\r\n    // [Constructor(DOMString typeArg, optional InputEventInit inputEventInitDict)]\r\n    // interface InputEvent : UIEvent {\r\n    //     readonly    attribute DOMString inputType;\r\n    //     readonly    attribute DOMString data;\r\n    //     readonly    attribute boolean   isComposing;\r\n    //     readonly    attribute Range     targetRange;\r\n    // };\r\n\r\n    UIEvent.call(this, ev);\r\n\r\n    /**\r\n     * @name    InputEvent#inputType\r\n     * @type    String\r\n     */\r\n    this.inputType = ev.inputType;\r\n\r\n    /**\r\n     * @name    InputEvent#data\r\n     * @type    String\r\n     */\r\n    this.data = ev.data;\r\n\r\n    /**\r\n     * @name    InputEvent#isComposing\r\n     * @type    Boolean\r\n     */\r\n    this.isComposing = ev.isComposing;\r\n\r\n    /**\r\n     * **Limited browser support**.\r\n     *\r\n     * @name    InputEvent#targetRange\r\n     * @type    Boolean\r\n     */\r\n    this.targetRange = ev.targetRange;\r\n}\r\n\r\nInputEvent.prototype = Object.create(UIEvent.prototype);\r\nInputEvent.prototype.constructor = InputEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nInputEvent.prototype.toString = function toString () {\r\n    return 'InputEvent';\r\n};\r\n\r\nmodule.exports = InputEvent;\r\n\n},{\"./UIEvent\":35}],31:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar UIEvent = require('./UIEvent');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428/#events-keyboardevents).\r\n *\r\n * @class KeyboardEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction KeyboardEvent(ev) {\r\n    // [Constructor(DOMString typeArg, optional KeyboardEventInit keyboardEventInitDict)]\r\n    // interface KeyboardEvent : UIEvent {\r\n    //     // KeyLocationCode\r\n    //     const unsigned long DOM_KEY_LOCATION_STANDARD = 0x00;\r\n    //     const unsigned long DOM_KEY_LOCATION_LEFT = 0x01;\r\n    //     const unsigned long DOM_KEY_LOCATION_RIGHT = 0x02;\r\n    //     const unsigned long DOM_KEY_LOCATION_NUMPAD = 0x03;\r\n    //     readonly    attribute DOMString     key;\r\n    //     readonly    attribute DOMString     code;\r\n    //     readonly    attribute unsigned long location;\r\n    //     readonly    attribute boolean       ctrlKey;\r\n    //     readonly    attribute boolean       shiftKey;\r\n    //     readonly    attribute boolean       altKey;\r\n    //     readonly    attribute boolean       metaKey;\r\n    //     readonly    attribute boolean       repeat;\r\n    //     readonly    attribute boolean       isComposing;\r\n    //     boolean getModifierState (DOMString keyArg);\r\n    // };\r\n\r\n    UIEvent.call(this, ev);\r\n\r\n    /**\r\n     * @name KeyboardEvent#DOM_KEY_LOCATION_STANDARD\r\n     * @type Number\r\n     */\r\n    this.DOM_KEY_LOCATION_STANDARD = 0x00;\r\n\r\n    /**\r\n     * @name KeyboardEvent#DOM_KEY_LOCATION_LEFT\r\n     * @type Number\r\n     */\r\n    this.DOM_KEY_LOCATION_LEFT = 0x01;\r\n\r\n    /**\r\n     * @name KeyboardEvent#DOM_KEY_LOCATION_RIGHT\r\n     * @type Number\r\n     */\r\n    this.DOM_KEY_LOCATION_RIGHT = 0x02;\r\n\r\n    /**\r\n     * @name KeyboardEvent#DOM_KEY_LOCATION_NUMPAD\r\n     * @type Number\r\n     */\r\n    this.DOM_KEY_LOCATION_NUMPAD = 0x03;\r\n\r\n    /**\r\n     * @name KeyboardEvent#key\r\n     * @type String\r\n     */\r\n    this.key = ev.key;\r\n\r\n    /**\r\n     * @name KeyboardEvent#code\r\n     * @type String\r\n     */\r\n    this.code = ev.code;\r\n\r\n    /**\r\n     * @name KeyboardEvent#location\r\n     * @type Number\r\n     */\r\n    this.location = ev.location;\r\n\r\n    /**\r\n     * @name KeyboardEvent#ctrlKey\r\n     * @type Boolean\r\n     */\r\n    this.ctrlKey = ev.ctrlKey;\r\n\r\n    /**\r\n     * @name KeyboardEvent#shiftKey\r\n     * @type Boolean\r\n     */\r\n    this.shiftKey = ev.shiftKey;\r\n\r\n    /**\r\n     * @name KeyboardEvent#altKey\r\n     * @type Boolean\r\n     */\r\n    this.altKey = ev.altKey;\r\n\r\n    /**\r\n     * @name KeyboardEvent#metaKey\r\n     * @type Boolean\r\n     */\r\n    this.metaKey = ev.metaKey;\r\n\r\n    /**\r\n     * @name KeyboardEvent#repeat\r\n     * @type Boolean\r\n     */\r\n    this.repeat = ev.repeat;\r\n\r\n    /**\r\n     * @name KeyboardEvent#isComposing\r\n     * @type Boolean\r\n     */\r\n    this.isComposing = ev.isComposing;\r\n\r\n    /**\r\n     * @name KeyboardEvent#keyCode\r\n     * @type String\r\n     * @deprecated\r\n     */\r\n    this.keyCode = ev.keyCode;\r\n}\r\n\r\nKeyboardEvent.prototype = Object.create(UIEvent.prototype);\r\nKeyboardEvent.prototype.constructor = KeyboardEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nKeyboardEvent.prototype.toString = function toString () {\r\n    return 'KeyboardEvent';\r\n};\r\n\r\nmodule.exports = KeyboardEvent;\r\n\n},{\"./UIEvent\":35}],32:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar UIEvent = require('./UIEvent');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428/#events-mouseevents).\r\n *\r\n * @class KeyboardEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction MouseEvent(ev) {\r\n    // [Constructor(DOMString typeArg, optional MouseEventInit mouseEventInitDict)]\r\n    // interface MouseEvent : UIEvent {\r\n    //     readonly    attribute long           screenX;\r\n    //     readonly    attribute long           screenY;\r\n    //     readonly    attribute long           clientX;\r\n    //     readonly    attribute long           clientY;\r\n    //     readonly    attribute boolean        ctrlKey;\r\n    //     readonly    attribute boolean        shiftKey;\r\n    //     readonly    attribute boolean        altKey;\r\n    //     readonly    attribute boolean        metaKey;\r\n    //     readonly    attribute short          button;\r\n    //     readonly    attribute EventTarget?   relatedTarget;\r\n    //     // Introduced in this specification\r\n    //     readonly    attribute unsigned short buttons;\r\n    //     boolean getModifierState (DOMString keyArg);\r\n    // };\r\n\r\n    UIEvent.call(this, ev);\r\n\r\n    /**\r\n     * @name MouseEvent#screenX\r\n     * @type Number\r\n     */\r\n    this.screenX = ev.screenX;\r\n\r\n    /**\r\n     * @name MouseEvent#screenY\r\n     * @type Number\r\n     */\r\n    this.screenY = ev.screenY;\r\n\r\n    /**\r\n     * @name MouseEvent#clientX\r\n     * @type Number\r\n     */\r\n    this.clientX = ev.clientX;\r\n\r\n    /**\r\n     * @name MouseEvent#clientY\r\n     * @type Number\r\n     */\r\n    this.clientY = ev.clientY;\r\n\r\n    /**\r\n     * @name MouseEvent#ctrlKey\r\n     * @type Boolean\r\n     */\r\n    this.ctrlKey = ev.ctrlKey;\r\n\r\n    /**\r\n     * @name MouseEvent#shiftKey\r\n     * @type Boolean\r\n     */\r\n    this.shiftKey = ev.shiftKey;\r\n\r\n    /**\r\n     * @name MouseEvent#altKey\r\n     * @type Boolean\r\n     */\r\n    this.altKey = ev.altKey;\r\n\r\n    /**\r\n     * @name MouseEvent#metaKey\r\n     * @type Boolean\r\n     */\r\n    this.metaKey = ev.metaKey;\r\n\r\n    /**\r\n     * @type MouseEvent#button\r\n     * @type Number\r\n     */\r\n    this.button = ev.button;\r\n\r\n    /**\r\n     * @type MouseEvent#buttons\r\n     * @type Number\r\n     */\r\n    this.buttons = ev.buttons;\r\n\r\n    /**\r\n     * @type MouseEvent#pageX\r\n     * @type Number\r\n     */\r\n    this.pageX = ev.pageX;\r\n\r\n    /**\r\n     * @type MouseEvent#pageY\r\n     * @type Number\r\n     */\r\n    this.pageY = ev.pageY;\r\n\r\n    /**\r\n     * @type MouseEvent#x\r\n     * @type Number\r\n     */\r\n    this.x = ev.x;\r\n\r\n    /**\r\n     * @type MouseEvent#y\r\n     * @type Number\r\n     */\r\n    this.y = ev.y;\r\n\r\n    /**\r\n     * @type MouseEvent#offsetX\r\n     * @type Number\r\n     */\r\n    this.offsetX = ev.offsetX;\r\n\r\n    /**\r\n     * @type MouseEvent#offsetY\r\n     * @type Number\r\n     */\r\n    this.offsetY = ev.offsetY;\r\n}\r\n\r\nMouseEvent.prototype = Object.create(UIEvent.prototype);\r\nMouseEvent.prototype.constructor = MouseEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nMouseEvent.prototype.toString = function toString () {\r\n    return 'MouseEvent';\r\n};\r\n\r\nmodule.exports = MouseEvent;\r\n\n},{\"./UIEvent\":35}],33:[function(require,module,exports){\n'use strict';\r\n\r\nvar Event = require('./Event');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428).\r\n *\r\n * @class UIEvent\r\n * @augments Event\r\n *\r\n * @param  {Event} ev   The native DOM event.\r\n */\r\nfunction ScrollEvent(ev) {\r\n    // [Constructor(DOMString type, optional UIEventInit eventInitDict)]\r\n    // interface UIEvent : Event {\r\n    //     readonly    attribute Window? view;\r\n    //     readonly    attribute long    detail;\r\n    // };\r\n    Event.call(this, ev);\r\n    \r\n    \r\n    /**\r\n     * @name ScrollEvent#scrollTop\r\n     * @type Number\r\n     */\r\n    this.scrollTop = ev.target.scrollTop;\r\n\r\n    /**\r\n     * @name ScrollEvent#scrollLeft\r\n     * @type Number\r\n     */\r\n    this.scrollLeft =  ev.target.scrollLeft;\r\n\r\n    /**\r\n     * @name ScrollEvent#scrollHeight\r\n     * @type Number\r\n     */\r\n    this.scrollHeight = ev.target.scrollHeight;\r\n    /**\r\n     * @name ScrollEvent#detail\r\n     * @type Number\r\n     */\r\n    this.detail = ev.detail;\r\n}\r\n\r\nScrollEvent.prototype = Object.create(Event.prototype);\r\nScrollEvent.prototype.constructor = ScrollEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nScrollEvent.prototype.toString = function toString () {\r\n    return 'ScrollEvent';\r\n};\r\n\r\nmodule.exports = ScrollEvent;\r\n\n},{\"./Event\":27}],34:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar UIEvent = require('./UIEvent');\r\n\r\nvar EMPTY_ARRAY = [];\r\n\r\n/**\r\n * See [Touch Interface](http://www.w3.org/TR/2013/REC-touch-events-20131010/#touch-interface).\r\n *\r\n * @class Touch\r\n * @private\r\n *\r\n * @param {Touch} touch The native Touch object.\r\n */\r\nfunction Touch(touch) {\r\n    // interface Touch {\r\n    //     readonly    attribute long        identifier;\r\n    //     readonly    attribute EventTarget target;\r\n    //     readonly    attribute double      screenX;\r\n    //     readonly    attribute double      screenY;\r\n    //     readonly    attribute double      clientX;\r\n    //     readonly    attribute double      clientY;\r\n    //     readonly    attribute double      pageX;\r\n    //     readonly    attribute double      pageY;\r\n    // };\r\n\r\n    /**\r\n     * @name Touch#identifier\r\n     * @type Number\r\n     */\r\n    this.identifier = touch.identifier;\r\n\r\n    /**\r\n     * @name Touch#screenX\r\n     * @type Number\r\n     */\r\n    this.screenX = touch.screenX;\r\n\r\n    /**\r\n     * @name Touch#screenY\r\n     * @type Number\r\n     */\r\n    this.screenY = touch.screenY;\r\n\r\n    /**\r\n     * @name Touch#clientX\r\n     * @type Number\r\n     */\r\n    this.clientX = touch.clientX;\r\n\r\n    /**\r\n     * @name Touch#clientY\r\n     * @type Number\r\n     */\r\n    this.clientY = touch.clientY;\r\n\r\n    /**\r\n     * @name Touch#pageX\r\n     * @type Number\r\n     */\r\n    this.pageX = touch.pageX;\r\n\r\n    /**\r\n     * @name Touch#pageY\r\n     * @type Number\r\n     */\r\n    this.pageY = touch.pageY;\r\n}\r\n\r\n\r\n/**\r\n * Normalizes the browser's native TouchList by converting it into an array of\r\n * normalized Touch objects.\r\n *\r\n * @method  cloneTouchList\r\n * @private\r\n *\r\n * @param  {TouchList} touchList    The native TouchList array.\r\n * @return {Array.<Touch>}          An array of normalized Touch objects.\r\n */\r\nfunction cloneTouchList(touchList) {\r\n    if (!touchList) return EMPTY_ARRAY;\r\n    // interface TouchList {\r\n    //     readonly    attribute unsigned long length;\r\n    //     getter Touch? item (unsigned long index);\r\n    // };\r\n\r\n    var touchListArray = [];\r\n    for (var i = 0; i < touchList.length; i++) {\r\n        touchListArray[i] = new Touch(touchList[i]);\r\n    }\r\n    return touchListArray;\r\n}\r\n\r\n/**\r\n * See [Touch Event Interface](http://www.w3.org/TR/2013/REC-touch-events-20131010/#touchevent-interface).\r\n *\r\n * @class TouchEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction TouchEvent(ev) {\r\n    // interface TouchEvent : UIEvent {\r\n    //     readonly    attribute TouchList touches;\r\n    //     readonly    attribute TouchList targetTouches;\r\n    //     readonly    attribute TouchList changedTouches;\r\n    //     readonly    attribute boolean   altKey;\r\n    //     readonly    attribute boolean   metaKey;\r\n    //     readonly    attribute boolean   ctrlKey;\r\n    //     readonly    attribute boolean   shiftKey;\r\n    // };\r\n    UIEvent.call(this, ev);\r\n\r\n    /**\r\n     * @name TouchEvent#touches\r\n     * @type Array.<Touch>\r\n     */\r\n    this.touches = cloneTouchList(ev.touches);\r\n\r\n    /**\r\n     * @name TouchEvent#targetTouches\r\n     * @type Array.<Touch>\r\n     */\r\n    this.targetTouches = cloneTouchList(ev.targetTouches);\r\n\r\n    /**\r\n     * @name TouchEvent#changedTouches\r\n     * @type TouchList\r\n     */\r\n    this.changedTouches = cloneTouchList(ev.changedTouches);\r\n\r\n    /**\r\n     * @name TouchEvent#altKey\r\n     * @type Boolean\r\n     */\r\n    this.altKey = ev.altKey;\r\n\r\n    /**\r\n     * @name TouchEvent#metaKey\r\n     * @type Boolean\r\n     */\r\n    this.metaKey = ev.metaKey;\r\n\r\n    /**\r\n     * @name TouchEvent#ctrlKey\r\n     * @type Boolean\r\n     */\r\n    this.ctrlKey = ev.ctrlKey;\r\n\r\n    /**\r\n     * @name TouchEvent#shiftKey\r\n     * @type Boolean\r\n     */\r\n    this.shiftKey = ev.shiftKey;\r\n}\r\n\r\nTouchEvent.prototype = Object.create(UIEvent.prototype);\r\nTouchEvent.prototype.constructor = TouchEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nTouchEvent.prototype.toString = function toString () {\r\n    return 'TouchEvent';\r\n};\r\n\r\nmodule.exports = TouchEvent;\r\n\n},{\"./UIEvent\":35}],35:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Event = require('./Event');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428).\r\n *\r\n * @class UIEvent\r\n * @augments Event\r\n *\r\n * @param  {Event} ev   The native DOM event.\r\n */\r\nfunction UIEvent(ev) {\r\n    // [Constructor(DOMString type, optional UIEventInit eventInitDict)]\r\n    // interface UIEvent : Event {\r\n    //     readonly    attribute Window? view;\r\n    //     readonly    attribute long    detail;\r\n    // };\r\n    Event.call(this, ev);\r\n\r\n    /**\r\n     * @name UIEvent#detail\r\n     * @type Number\r\n     */\r\n    this.detail = ev.detail;\r\n}\r\n\r\nUIEvent.prototype = Object.create(Event.prototype);\r\nUIEvent.prototype.constructor = UIEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nUIEvent.prototype.toString = function toString () {\r\n    return 'UIEvent';\r\n};\r\n\r\nmodule.exports = UIEvent;\r\n\n},{\"./Event\":27}],36:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar MouseEvent = require('./MouseEvent');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428/#events-wheelevents).\r\n *\r\n * @class WheelEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction WheelEvent(ev) {\r\n    // [Constructor(DOMString typeArg, optional WheelEventInit wheelEventInitDict)]\r\n    // interface WheelEvent : MouseEvent {\r\n    //     // DeltaModeCode\r\n    //     const unsigned long DOM_DELTA_PIXEL = 0x00;\r\n    //     const unsigned long DOM_DELTA_LINE = 0x01;\r\n    //     const unsigned long DOM_DELTA_PAGE = 0x02;\r\n    //     readonly    attribute double        deltaX;\r\n    //     readonly    attribute double        deltaY;\r\n    //     readonly    attribute double        deltaZ;\r\n    //     readonly    attribute unsigned long deltaMode;\r\n    // };\r\n\r\n    MouseEvent.call(this, ev);\r\n\r\n    /**\r\n     * @name WheelEvent#DOM_DELTA_PIXEL\r\n     * @type Number\r\n     */\r\n    this.DOM_DELTA_PIXEL = 0x00;\r\n\r\n    /**\r\n     * @name WheelEvent#DOM_DELTA_LINE\r\n     * @type Number\r\n     */\r\n    this.DOM_DELTA_LINE = 0x01;\r\n\r\n    /**\r\n     * @name WheelEvent#DOM_DELTA_PAGE\r\n     * @type Number\r\n     */\r\n    this.DOM_DELTA_PAGE = 0x02;\r\n\r\n    /**\r\n     * @name WheelEvent#deltaX\r\n     * @type Number\r\n     */\r\n    this.deltaX = ev.deltaX;\r\n\r\n    /**\r\n     * @name WheelEvent#deltaY\r\n     * @type Number\r\n     */\r\n    this.deltaY = ev.deltaY;\r\n\r\n    /**\r\n     * @name WheelEvent#deltaZ\r\n     * @type Number\r\n     */\r\n    this.deltaZ = ev.deltaZ;\r\n\r\n    /**\r\n     * @name WheelEvent#deltaMode\r\n     * @type Number\r\n     */\r\n    this.deltaMode = ev.deltaMode;\r\n}\r\n\r\nWheelEvent.prototype = Object.create(MouseEvent.prototype);\r\nWheelEvent.prototype.constructor = WheelEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nWheelEvent.prototype.toString = function toString () {\r\n    return 'WheelEvent';\r\n};\r\n\r\nmodule.exports = WheelEvent;\r\n\n},{\"./MouseEvent\":32}],37:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * A two-dimensional vector.\r\n *\r\n * @class Vec2\r\n *\r\n * @param {Number} x The x component.\r\n * @param {Number} y The y component.\r\n */\r\nvar Vec2 = function(x, y) {\r\n    if (x instanceof Array || x instanceof Float32Array) {\r\n        this.x = x[0] || 0;\r\n        this.y = x[1] || 0;\r\n    }\r\n    else {\r\n        this.x = x || 0;\r\n        this.y = y || 0;\r\n    }\r\n};\r\n\r\n/**\r\n * Set the components of the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The x component.\r\n * @param {Number} y The y component.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.set = function set(x, y) {\r\n    if (x != null) this.x = x;\r\n    if (y != null) this.y = y;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Add the input v to the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v The Vec2 to add.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.add = function add(v) {\r\n    this.x += v.x;\r\n    this.y += v.y;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Subtract the input v from the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v The Vec2 to subtract.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.subtract = function subtract(v) {\r\n    this.x -= v.x;\r\n    this.y -= v.y;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Scale the current Vec2 by a scalar or Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Number|Vec2} s The Number or vec2 by which to scale.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.scale = function scale(s) {\r\n    if (s instanceof Vec2) {\r\n        this.x *= s.x;\r\n        this.y *= s.y;\r\n    }\r\n    else {\r\n        this.x *= s;\r\n        this.y *= s;\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Rotate the Vec2 counter-clockwise by theta about the z-axis.\r\n *\r\n * @method\r\n *\r\n * @param {Number} theta Angle by which to rotate.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.rotate = function(theta) {\r\n    var x = this.x;\r\n    var y = this.y;\r\n\r\n    var cosTheta = Math.cos(theta);\r\n    var sinTheta = Math.sin(theta);\r\n\r\n    this.x = x * cosTheta - y * sinTheta;\r\n    this.y = x * sinTheta + y * cosTheta;\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * The dot product of of the current Vec2 with the input Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Number} v The other Vec2.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.dot = function(v) {\r\n    return this.x * v.x + this.y * v.y;\r\n};\r\n\r\n/**\r\n * The cross product of of the current Vec2 with the input Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Number} v The other Vec2.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.cross = function(v) {\r\n    return this.x * v.y - this.y * v.x;\r\n};\r\n\r\n/**\r\n * Preserve the magnitude but invert the orientation of the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.invert = function invert() {\r\n    this.x *= -1;\r\n    this.y *= -1;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Apply a function component-wise to the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Function} fn Function to apply.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.map = function map(fn) {\r\n    this.x = fn(this.x);\r\n    this.y = fn(this.y);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Get the magnitude of the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @return {Number} the length of the vector\r\n */\r\nVec2.prototype.length = function length() {\r\n    var x = this.x;\r\n    var y = this.y;\r\n\r\n    return Math.sqrt(x * x + y * y);\r\n};\r\n\r\n/**\r\n * Copy the input onto the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v Vec2 to copy\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.copy = function copy(v) {\r\n    this.x = v.x;\r\n    this.y = v.y;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Reset the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.clear = function clear() {\r\n    this.x = 0;\r\n    this.y = 0;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Check whether the magnitude of the current Vec2 is exactly 0.\r\n *\r\n * @method\r\n *\r\n * @return {Boolean} whether or not the length is 0\r\n */\r\nVec2.prototype.isZero = function isZero() {\r\n    if (this.x !== 0 || this.y !== 0) return false;\r\n    else return true;\r\n};\r\n\r\n/**\r\n * The array form of the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @return {Array} the Vec to as an array\r\n */\r\nVec2.prototype.toArray = function toArray() {\r\n    return [this.x, this.y];\r\n};\r\n\r\n/**\r\n * Normalize the input Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v The reference Vec2.\r\n * @param {Vec2} output Vec2 in which to place the result.\r\n *\r\n * @return {Vec2} The normalized Vec2.\r\n */\r\nVec2.normalize = function normalize(v, output) {\r\n    var x = v.x;\r\n    var y = v.y;\r\n\r\n    var length = Math.sqrt(x * x + y * y) || 1;\r\n    length = 1 / length;\r\n    output.x = v.x * length;\r\n    output.y = v.y * length;\r\n\r\n    return output;\r\n};\r\n\r\n/**\r\n * Clone the input Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v The Vec2 to clone.\r\n *\r\n * @return {Vec2} The cloned Vec2.\r\n */\r\nVec2.clone = function clone(v) {\r\n    return new Vec2(v.x, v.y);\r\n};\r\n\r\n/**\r\n * Add the input Vec2's.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v1 The left Vec2.\r\n * @param {Vec2} v2 The right Vec2.\r\n * @param {Vec2} output Vec2 in which to place the result.\r\n *\r\n * @return {Vec2} The result of the addition.\r\n */\r\nVec2.add = function add(v1, v2, output) {\r\n    output.x = v1.x + v2.x;\r\n    output.y = v1.y + v2.y;\r\n\r\n    return output;\r\n};\r\n\r\n/**\r\n * Subtract the second Vec2 from the first.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v1 The left Vec2.\r\n * @param {Vec2} v2 The right Vec2.\r\n * @param {Vec2} output Vec2 in which to place the result.\r\n *\r\n * @return {Vec2} The result of the subtraction.\r\n */\r\nVec2.subtract = function subtract(v1, v2, output) {\r\n    output.x = v1.x - v2.x;\r\n    output.y = v1.y - v2.y;\r\n    return output;\r\n};\r\n\r\n/**\r\n * Scale the input Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v The reference Vec2.\r\n * @param {Number} s Number to scale by.\r\n * @param {Vec2} output Vec2 in which to place the result.\r\n *\r\n * @return {Vec2} The result of the scaling.\r\n */\r\nVec2.scale = function scale(v, s, output) {\r\n    output.x = v.x * s;\r\n    output.y = v.y * s;\r\n    return output;\r\n};\r\n\r\n/**\r\n * The dot product of the input Vec2's.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v1 The left Vec2.\r\n * @param {Vec2} v2 The right Vec2.\r\n *\r\n * @return {Number} The dot product.\r\n */\r\nVec2.dot = function dot(v1, v2) {\r\n    return v1.x * v2.x + v1.y * v2.y;\r\n};\r\n\r\n/**\r\n * The cross product of the input Vec2's.\r\n *\r\n * @method\r\n *\r\n * @param {Number} v1 The left Vec2.\r\n * @param {Number} v2 The right Vec2.\r\n *\r\n * @return {Number} The z-component of the cross product.\r\n */\r\nVec2.cross = function(v1,v2) {\r\n    return v1.x * v2.y - v1.y * v2.x;\r\n};\r\n\r\nmodule.exports = Vec2;\r\n\n},{}],38:[function(require,module,exports){\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\r\n// requestAnimationFrame polyfill by Erik Mller. fixes from Paul Irish and Tino Zijdel\r\n// MIT license\r\n\r\n'use strict';\r\n\r\nvar lastTime = 0;\r\nvar vendors = ['ms', 'moz', 'webkit', 'o'];\r\n\r\nvar rAF, cAF;\r\n\r\nif (typeof window === 'object') {\r\n    rAF = window.requestAnimationFrame;\r\n    cAF = window.cancelAnimationFrame || window.cancelRequestAnimationFrame;\r\n    for (var x = 0; x < vendors.length && !rAF; ++x) {\r\n        rAF = window[vendors[x] + 'RequestAnimationFrame'];\r\n        cAF = window[vendors[x] + 'CancelRequestAnimationFrame'] ||\r\n              window[vendors[x] + 'CancelAnimationFrame'];\r\n    }\r\n\r\n    if (rAF && !cAF) {\r\n        // cAF not supported.\r\n        // Fall back to setInterval for now (very rare).\r\n        rAF = null;\r\n    }\r\n}\r\n\r\nif (!rAF) {\r\n    var now = Date.now ? Date.now : function () {\r\n        return new Date().getTime();\r\n    };\r\n\r\n    rAF = function(callback) {\r\n        var currTime = now();\r\n        var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n        var id = setTimeout(function () {\r\n            callback(currTime + timeToCall);\r\n        }, timeToCall);\r\n        lastTime = currTime + timeToCall;\r\n        return id;\r\n    };\r\n\r\n    cAF = function (id) {\r\n        clearTimeout(id);\r\n    };\r\n}\r\n\r\nvar animationFrame = {\r\n    /**\r\n     * Cross browser version of [requestAnimationFrame]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame}.\r\n     *\r\n     * Used by Engine in order to establish a render loop.\r\n     *\r\n     * If no (vendor prefixed version of) `requestAnimationFrame` is available,\r\n     * `setTimeout` will be used in order to emulate a render loop running at\r\n     * approximately 60 frames per second.\r\n     *\r\n     * @method  requestAnimationFrame\r\n     *\r\n     * @param   {Function}  callback function to be invoked on the next frame.\r\n     * @return  {Number}    requestId to be used to cancel the request using\r\n     *                      {@link cancelAnimationFrame}.\r\n     */\r\n    requestAnimationFrame: rAF,\r\n\r\n    /**\r\n     * Cross browser version of [cancelAnimationFrame]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/cancelAnimationFrame}.\r\n     *\r\n     * Cancels a previously using [requestAnimationFrame]{@link animationFrame#requestAnimationFrame}\r\n     * scheduled request.\r\n     *\r\n     * Used for immediately stopping the render loop within the Engine.\r\n     *\r\n     * @method  cancelAnimationFrame\r\n     *\r\n     * @param   {Number}    requestId of the scheduled callback function\r\n     *                      returned by [requestAnimationFrame]{@link animationFrame#requestAnimationFrame}.\r\n     */\r\n    cancelAnimationFrame: cAF\r\n};\r\n\r\nmodule.exports = animationFrame;\r\n\n},{}],39:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n * \r\n * Copyright (c) 2015 Famous Industries Inc.\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nmodule.exports = {\r\n    requestAnimationFrame: require('./animationFrame').requestAnimationFrame,\r\n    cancelAnimationFrame: require('./animationFrame').cancelAnimationFrame\r\n};\r\n\n},{\"./animationFrame\":38}],40:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar polyfills = require('../polyfills');\r\nvar rAF = polyfills.requestAnimationFrame;\r\nvar cAF = polyfills.cancelAnimationFrame;\r\n\r\n/**\r\n * Boolean constant indicating whether the RequestAnimationFrameLoop has access\r\n * to the document. The document is being used in order to subscribe for\r\n * visibilitychange events used for normalizing the RequestAnimationFrameLoop\r\n * time when e.g. when switching tabs.\r\n *\r\n * @constant\r\n * @type {Boolean}\r\n */\r\nvar DOCUMENT_ACCESS = typeof document !== 'undefined';\r\n\r\nif (DOCUMENT_ACCESS) {\r\n    var VENDOR_HIDDEN, VENDOR_VISIBILITY_CHANGE;\r\n\r\n    // Opera 12.10 and Firefox 18 and later support\r\n    if (typeof document.hidden !== 'undefined') {\r\n        VENDOR_HIDDEN = 'hidden';\r\n        VENDOR_VISIBILITY_CHANGE = 'visibilitychange';\r\n    }\r\n    else if (typeof document.mozHidden !== 'undefined') {\r\n        VENDOR_HIDDEN = 'mozHidden';\r\n        VENDOR_VISIBILITY_CHANGE = 'mozvisibilitychange';\r\n    }\r\n    else if (typeof document.msHidden !== 'undefined') {\r\n        VENDOR_HIDDEN = 'msHidden';\r\n        VENDOR_VISIBILITY_CHANGE = 'msvisibilitychange';\r\n    }\r\n    else if (typeof document.webkitHidden !== 'undefined') {\r\n        VENDOR_HIDDEN = 'webkitHidden';\r\n        VENDOR_VISIBILITY_CHANGE = 'webkitvisibilitychange';\r\n    }\r\n}\r\n\r\n/**\r\n * RequestAnimationFrameLoop class used for updating objects on a frame-by-frame.\r\n * Synchronizes the `update` method invocations to the refresh rate of the\r\n * screen. Manages the `requestAnimationFrame`-loop by normalizing the passed in\r\n * timestamp when switching tabs.\r\n *\r\n * @class RequestAnimationFrameLoop\r\n */\r\nfunction RequestAnimationFrameLoop() {\r\n    var _this = this;\r\n\r\n    // References to objects to be updated on next frame.\r\n    this._updates = [];\r\n\r\n    this._looper = function(time) {\r\n        _this.loop(time);\r\n    };\r\n    this._time = 0;\r\n    this._stoppedAt = 0;\r\n    this._sleep = 0;\r\n\r\n    // Indicates whether the engine should be restarted when the tab/ window is\r\n    // being focused again (visibility change).\r\n    this._startOnVisibilityChange = true;\r\n\r\n    // requestId as returned by requestAnimationFrame function;\r\n    this._rAF = null;\r\n\r\n    this._sleepDiff = true;\r\n\r\n    // The engine is being started on instantiation.\r\n    // TODO(alexanderGugel)\r\n    this.start();\r\n\r\n    // The RequestAnimationFrameLoop supports running in a non-browser\r\n    // environment (e.g. Worker).\r\n    if (DOCUMENT_ACCESS) {\r\n        document.addEventListener(VENDOR_VISIBILITY_CHANGE, function() {\r\n            _this._onVisibilityChange();\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Handle the switching of tabs.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nRequestAnimationFrameLoop.prototype._onVisibilityChange = function _onVisibilityChange() {\r\n    if (document[VENDOR_HIDDEN]) {\r\n        this._onUnfocus();\r\n    }\r\n    else {\r\n        this._onFocus();\r\n    }\r\n};\r\n\r\n/**\r\n * Internal helper function to be invoked as soon as the window/ tab is being\r\n * focused after a visibiltiy change.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nRequestAnimationFrameLoop.prototype._onFocus = function _onFocus() {\r\n    if (this._startOnVisibilityChange) {\r\n        this._start();\r\n    }\r\n};\r\n\r\n/**\r\n * Internal helper function to be invoked as soon as the window/ tab is being\r\n * unfocused (hidden) after a visibiltiy change.\r\n *\r\n * @method  _onFocus\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nRequestAnimationFrameLoop.prototype._onUnfocus = function _onUnfocus() {\r\n    this._stop();\r\n};\r\n\r\n/**\r\n * Starts the RequestAnimationFrameLoop. When switching to a differnt tab/\r\n * window (changing the visibiltiy), the engine will be retarted when switching\r\n * back to a visible state.\r\n *\r\n * @method\r\n *\r\n * @return {RequestAnimationFrameLoop} this\r\n */\r\nRequestAnimationFrameLoop.prototype.start = function start() {\r\n    if (!this._running) {\r\n        this._startOnVisibilityChange = true;\r\n        this._start();\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Internal version of RequestAnimationFrameLoop's start function, not affecting\r\n * behavior on visibilty change.\r\n *\r\n * @method\r\n * @private\r\n*\r\n * @return {undefined} undefined\r\n */\r\nRequestAnimationFrameLoop.prototype._start = function _start() {\r\n    this._running = true;\r\n    this._sleepDiff = true;\r\n    this._rAF = rAF(this._looper);\r\n};\r\n\r\n/**\r\n * Stops the RequestAnimationFrameLoop.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {RequestAnimationFrameLoop} this\r\n */\r\nRequestAnimationFrameLoop.prototype.stop = function stop() {\r\n    if (this._running) {\r\n        this._startOnVisibilityChange = false;\r\n        this._stop();\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Internal version of RequestAnimationFrameLoop's stop function, not affecting\r\n * behavior on visibilty change.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nRequestAnimationFrameLoop.prototype._stop = function _stop() {\r\n    this._running = false;\r\n    this._stoppedAt = this._time;\r\n\r\n    // Bug in old versions of Fx. Explicitly cancel.\r\n    cAF(this._rAF);\r\n};\r\n\r\n/**\r\n * Determines whether the RequestAnimationFrameLoop is currently running or not.\r\n *\r\n * @method\r\n *\r\n * @return {Boolean} boolean value indicating whether the\r\n * RequestAnimationFrameLoop is currently running or not\r\n */\r\nRequestAnimationFrameLoop.prototype.isRunning = function isRunning() {\r\n    return this._running;\r\n};\r\n\r\n/**\r\n * Updates all registered objects.\r\n *\r\n * @method\r\n *\r\n * @param {Number} time high resolution timstamp used for invoking the `update`\r\n * method on all registered objects\r\n *\r\n * @return {RequestAnimationFrameLoop} this\r\n */\r\nRequestAnimationFrameLoop.prototype.step = function step (time) {\r\n    this._time = time;\r\n    if (this._sleepDiff) {\r\n        this._sleep += time - this._stoppedAt;\r\n        this._sleepDiff = false;\r\n    }\r\n\r\n    // The same timetamp will be emitted immediately before and after visibility\r\n    // change.\r\n    var normalizedTime = time - this._sleep;\r\n    for (var i = 0, len = this._updates.length ; i < len ; i++) {\r\n        this._updates[i].update(normalizedTime);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Method being called by `requestAnimationFrame` on every paint. Indirectly\r\n * recursive by scheduling a future invocation of itself on the next paint.\r\n *\r\n * @method\r\n *\r\n * @param {Number} time high resolution timstamp used for invoking the `update`\r\n * method on all registered objects\r\n * @return {RequestAnimationFrameLoop} this\r\n */\r\nRequestAnimationFrameLoop.prototype.loop = function loop(time) {\r\n    this.step(time);\r\n    this._rAF = rAF(this._looper);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Registeres an updateable object which `update` method should be invoked on\r\n * every paint, starting on the next paint (assuming the\r\n * RequestAnimationFrameLoop is running).\r\n *\r\n * @method\r\n *\r\n * @param {Object} updateable object to be updated\r\n * @param {Function} updateable.update update function to be called on the\r\n * registered object\r\n *\r\n * @return {RequestAnimationFrameLoop} this\r\n */\r\nRequestAnimationFrameLoop.prototype.update = function update(updateable) {\r\n    if (this._updates.indexOf(updateable) === -1) {\r\n        this._updates.push(updateable);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Deregisters an updateable object previously registered using `update` to be\r\n * no longer updated.\r\n *\r\n * @method\r\n *\r\n * @param {Object} updateable updateable object previously registered using\r\n * `update`\r\n *\r\n * @return {RequestAnimationFrameLoop} this\r\n */\r\nRequestAnimationFrameLoop.prototype.noLongerUpdate = function noLongerUpdate(updateable) {\r\n    var index = this._updates.indexOf(updateable);\r\n    if (index > -1) {\r\n        this._updates.splice(index, 1);\r\n    }\r\n    return this;\r\n};\r\n\r\nmodule.exports = RequestAnimationFrameLoop;\r\n\n},{\"../polyfills\":39}],41:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Context = require('./Context');\r\nvar injectCSS = require('./inject-css');\r\nvar Commands = require('../core/Commands');\r\n\r\n/**\r\n * Instantiates a new Compositor.\r\n * The Compositor receives draw commands frm the UIManager and routes the to the\r\n * respective context objects.\r\n *\r\n * Upon creation, it injects a stylesheet used for styling the individual\r\n * renderers used in the context objects.\r\n *\r\n * @class Compositor\r\n * @constructor\r\n * @return {undefined} undefined\r\n */\r\nfunction Compositor() {\r\n    injectCSS();\r\n\r\n    this._contexts = {};\r\n    this._outCommands = [];\r\n    this._inCommands = [];\r\n    this._time = null;\r\n\r\n    this._resized = false;\r\n\r\n    var _this = this;\r\n    window.addEventListener('resize', function() {\r\n        _this.onResize();\r\n    });\r\n}\r\n\r\nCompositor.prototype.onResize = function onResize () {\r\n    this._resized = true;\r\n    for (var selector in this._contexts) {\r\n        this._contexts[selector].updateSize();\r\n    }\r\n};\r\n\r\n/**\r\n * Retrieves the time being used by the internal clock managed by\r\n * `FamousEngine`.\r\n *\r\n * The time is being passed into core by the Engine through the UIManager.\r\n * Since core has the ability to scale the time, the time needs to be passed\r\n * back to the rendering system.\r\n *\r\n * @method\r\n *\r\n * @return {Number} time The clock time used in core.\r\n */\r\nCompositor.prototype.getTime = function getTime() {\r\n    return this._time;\r\n};\r\n\r\n/**\r\n * Schedules an event to be sent the next time the out command queue is being\r\n * flushed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param  {String} path Render path to the node the event should be triggered\r\n * on (*targeted event*)\r\n * @param  {String} ev Event type\r\n * @param  {Object} payload Event object (serializable using structured cloning\r\n * algorithm)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.sendEvent = function sendEvent(path, ev, payload) {\r\n    this._outCommands.push(Commands.WITH, path, Commands.TRIGGER, ev, payload);\r\n};\r\n\r\n/**\r\n * Internal helper method used for notifying externally\r\n * resized contexts (e.g. by resizing the browser window).\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param  {String} selector render path to the node (context) that should be\r\n * resized\r\n * @param  {Array} size new context size\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.sendResize = function sendResize (selector, size) {\r\n    this.sendEvent(selector, 'CONTEXT_RESIZE', size);\r\n};\r\n\r\n/**\r\n * Internal helper method used by `drawCommands`.\r\n * Subsequent commands are being associated with the node defined the the path\r\n * following the `WITH` command.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param  {Number} iterator position index within the commands queue\r\n * @param  {Array} commands remaining message queue received, used to\r\n * shift single messages from\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.handleWith = function handleWith (iterator, commands) {\r\n    var path = commands[iterator];\r\n    var pathArr = path.split('/');\r\n    var context = this.getOrSetContext(pathArr.shift());\r\n    return context.receive(path, commands, iterator);\r\n};\r\n\r\n/**\r\n * Retrieves the top-level Context associated with the passed in document\r\n * query selector. If no such Context exists, a new one will be instantiated.\r\n *\r\n * @method\r\n *\r\n * @param  {String} selector document query selector used for retrieving the\r\n * DOM node that should be used as a root element by the Context\r\n *\r\n * @return {Context} context\r\n */\r\nCompositor.prototype.getOrSetContext = function getOrSetContext(selector) {\r\n    if (this._contexts[selector]) {\r\n        return this._contexts[selector];\r\n    }\r\n    else {\r\n        var context = new Context(selector, this);\r\n        this._contexts[selector] = context;\r\n        return context;\r\n    }\r\n};\r\n\r\n/**\r\n * Retrieves a context object registered under the passed in selector.\r\n *\r\n * @method\r\n *\r\n * @param  {String} selector    Query selector that has previously been used to\r\n *                              register the context.\r\n * @return {Context}            The repsective context.\r\n */\r\nCompositor.prototype.getContext = function getContext(selector) {\r\n    if (this._contexts[selector])\r\n        return this._contexts[selector];\r\n};\r\n\r\n/**\r\n * Processes the previously via `receiveCommands` updated incoming \"in\"\r\n * command queue.\r\n * Called by UIManager on a frame by frame basis.\r\n *\r\n * @method\r\n *\r\n * @return {Array} outCommands set of commands to be sent back\r\n */\r\nCompositor.prototype.drawCommands = function drawCommands() {\r\n    var commands = this._inCommands;\r\n    var localIterator = 0;\r\n    var command = commands[localIterator];\r\n    while (command) {\r\n        switch (command) {\r\n            case Commands.TIME:\r\n                this._time = commands[++localIterator];\r\n                break;\r\n            case Commands.WITH:\r\n                localIterator = this.handleWith(++localIterator, commands);\r\n                break;\r\n            case Commands.NEED_SIZE_FOR:\r\n                this.giveSizeFor(++localIterator, commands);\r\n                break;\r\n        }\r\n        command = commands[++localIterator];\r\n    }\r\n\r\n    // TODO: Switch to associative arrays here...\r\n\r\n    for (var key in this._contexts) {\r\n        //this._contexts[key].draw();\r\n    }\r\n\r\n    if (this._resized) {\r\n        this.updateSize();\r\n    }\r\n\r\n    return this._outCommands;\r\n};\r\n\r\n\r\n/**\r\n * Updates the size of all previously registered context objects.\r\n * This results into CONTEXT_RESIZE events being sent and the root elements\r\n * used by the individual renderers being resized to the the DOMRenderer's root\r\n * size.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.updateSize = function updateSize() {\r\n    for (var selector in this._contexts) {\r\n        this._contexts[selector].updateSize();\r\n    }\r\n};\r\n\r\n/**\r\n * Used by ThreadManager to update the internal queue of incoming commands.\r\n * Receiving commands does not immediately start the rendering process.\r\n *\r\n * @method\r\n *\r\n * @param  {Array} commands command queue to be processed by the compositor's\r\n * `drawCommands` method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.receiveCommands = function receiveCommands(commands) {\r\n    var len = commands.length;\r\n    for (var i = 0; i < len; i++) {\r\n        this._inCommands.push(commands[i]);\r\n    }\r\n\r\n    for (var selector in this._contexts) {\r\n        this._contexts[selector].checkInit();\r\n    }\r\n};\r\n\r\n/**\r\n * Internal helper method used by `drawCommands`.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param  {Number} iterator position index within the command queue\r\n * @param  {Array} commands remaining message queue received, used to\r\n * shift single messages\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.giveSizeFor = function giveSizeFor(iterator, commands) {\r\n    var selector = commands[iterator];\r\n    var context = this.getContext(selector);\r\n    if (context) {\r\n        var size = context.getRootSize();\r\n        this.sendResize(selector, size);\r\n    } else {\r\n        this.getOrSetContext(selector);\r\n    }\r\n};\r\n\r\n/**\r\n * Flushes the queue of outgoing \"out\" commands.\r\n * Called by ThreadManager.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.clearCommands = function clearCommands() {\r\n    this._inCommands.length = 0;\r\n    this._outCommands.length = 0;\r\n    this._resized = false;\r\n};\r\n\r\nmodule.exports = Compositor;\r\n\n},{\"../core/Commands\":8,\"./Context\":42,\"./inject-css\":44}],42:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar WebGLRenderer = require('../webgl-renderers/WebGLRenderer');\r\nvar Camera = require('../components/Camera');\r\nvar DOMRenderer = require('../dom-renderers/DOMRenderer');\r\nvar Commands = require('../core/Commands');\r\n\r\n/**\r\n * Context is a render layer with its own WebGLRenderer and DOMRenderer.\r\n * It is the interface between the Compositor which receives commands\r\n * and the renderers that interpret them. It also relays information to\r\n * the renderers about resizing.\r\n *\r\n * The DOMElement at the given query selector is used as the root. A\r\n * new DOMElement is appended to this root element, and used as the\r\n * parent element for all Famous DOM rendering at this context. A\r\n * canvas is added and used for all WebGL rendering at this context.\r\n *\r\n * @class Context\r\n * @constructor\r\n *\r\n * @param {String} selector Query selector used to locate root element of\r\n * context layer.\r\n * @param {Compositor} compositor Compositor reference to pass down to\r\n * WebGLRenderer.\r\n */\r\nfunction Context(selector, compositor) {\r\n    this._compositor = compositor;\r\n    this._rootEl = document.querySelector(selector);\r\n    this._selector = selector;\r\n\r\n    if (this._rootEl === null) {\r\n        throw new Error(\r\n            'Failed to create Context: ' +\r\n            'No matches for \"' + selector + '\" found.'\r\n        );\r\n    }\r\n\r\n    this._selector = selector;\r\n\r\n    // Initializes the DOMRenderer.\r\n    // Every Context has at least a DOMRenderer for now.\r\n    this._initDOMRenderer();\r\n\r\n    // WebGLRenderer will be instantiated when needed.\r\n    this._webGLRenderer = null;\r\n    this._domRenderer = new DOMRenderer(this._domRendererRootEl, selector, compositor);\r\n    this._canvasEl = null;\r\n\r\n    // State holders\r\n\r\n    this._renderState = {\r\n        projectionType: Camera.ORTHOGRAPHIC_PROJECTION,\r\n        perspectiveTransform: new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),\r\n        viewTransform: new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),\r\n        viewDirty: false,\r\n        perspectiveDirty: false\r\n    };\r\n\r\n    this._size = [];\r\n\r\n    this._meshTransform = new Float32Array(16);\r\n    this._meshSize = [0, 0, 0];\r\n\r\n    this._initDOM = false;\r\n\r\n    this._commandCallbacks = [];\r\n    this.initCommandCallbacks();\r\n\r\n    this.updateSize();\r\n}\r\n\r\n/**\r\n * Queries DOMRenderer size and updates canvas size. Relays size information to\r\n * WebGLRenderer.\r\n *\r\n * @method\r\n *\r\n * @return {Context} this\r\n */\r\nContext.prototype.updateSize = function () {\r\n    var width = this._rootEl.offsetWidth;\r\n    var height = this._rootEl.offsetHeight;\r\n\r\n    this._size[0] = width;\r\n    this._size[1] = height;\r\n    this._size[2] = (width > height) ? width : height;\r\n\r\n    this._compositor.sendResize(this._selector, this._size);\r\n    if (this._webGLRenderer) this._webGLRenderer.updateSize(this._size);\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Draw function called after all commands have been handled for current frame.\r\n * Issues draw commands to all renderers with current renderState.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nContext.prototype.draw = function draw() {\r\n    this._domRenderer.draw(this._renderState);\r\n    if (this._webGLRenderer) this._webGLRenderer.draw(this._renderState);\r\n\r\n    if (this._renderState.perspectiveDirty) this._renderState.perspectiveDirty = false;\r\n    if (this._renderState.viewDirty) this._renderState.viewDirty = false;\r\n};\r\n\r\n/**\r\n * Initializes the DOMRenderer by creating a root DIV element and appending it\r\n * to the context.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nContext.prototype._initDOMRenderer = function _initDOMRenderer() {\r\n    this._domRendererRootEl = document.createElement('div');\r\n    this._rootEl.appendChild(this._domRendererRootEl);\r\n    this._domRendererRootEl.style.visibility = 'hidden';\r\n\r\n    this._domRenderer = new DOMRenderer(\r\n        this._domRendererRootEl,\r\n        this._selector,\r\n        this._compositor\r\n    );\r\n};\r\n\r\nContext.prototype.initCommandCallbacks = function initCommandCallbacks () {\r\n    this._commandCallbacks[Commands.INIT_DOM] = initDOM;\r\n    this._commandCallbacks[Commands.DOM_RENDER_SIZE] = domRenderSize;\r\n    this._commandCallbacks[Commands.CHANGE_TRANSFORM] = changeTransform;\r\n    this._commandCallbacks[Commands.CHANGE_SIZE] = changeSize;\r\n    this._commandCallbacks[Commands.CHANGE_PROPERTY] = changeProperty;\r\n    this._commandCallbacks[Commands.CHANGE_CONTENT] = changeContent;\r\n    this._commandCallbacks[Commands.CHANGE_ATTRIBUTE] = changeAttribute;\r\n    this._commandCallbacks[Commands.ADD_CLASS] = addClass;\r\n    this._commandCallbacks[Commands.REMOVE_CLASS] = removeClass;\r\n    this._commandCallbacks[Commands.SUBSCRIBE] = subscribe;\r\n    this._commandCallbacks[Commands.UNSUBSCRIBE] = unsubscribe;\r\n    this._commandCallbacks[Commands.GL_SET_DRAW_OPTIONS] = glSetDrawOptions;\r\n    this._commandCallbacks[Commands.GL_AMBIENT_LIGHT] = glAmbientLight;\r\n    this._commandCallbacks[Commands.GL_LIGHT_POSITION] = glLightPosition;\r\n    this._commandCallbacks[Commands.GL_LIGHT_COLOR] = glLightColor;\r\n    this._commandCallbacks[Commands.MATERIAL_INPUT] = materialInput;\r\n    this._commandCallbacks[Commands.GL_SET_GEOMETRY] = glSetGeometry;\r\n    this._commandCallbacks[Commands.GL_UNIFORMS] = glUniforms;\r\n    this._commandCallbacks[Commands.GL_BUFFER_DATA] = glBufferData;\r\n    this._commandCallbacks[Commands.GL_CUTOUT_STATE] = glCutoutState;\r\n    this._commandCallbacks[Commands.GL_MESH_VISIBILITY] = glMeshVisibility;\r\n    this._commandCallbacks[Commands.GL_REMOVE_MESH] = glRemoveMesh;\r\n    this._commandCallbacks[Commands.PINHOLE_PROJECTION] = pinholeProjection;\r\n    this._commandCallbacks[Commands.ORTHOGRAPHIC_PROJECTION] = orthographicProjection;\r\n    this._commandCallbacks[Commands.CHANGE_VIEW_TRANSFORM] = changeViewTransform;\r\n    this._commandCallbacks[Commands.PREVENT_DEFAULT] = preventDefault;\r\n    this._commandCallbacks[Commands.ALLOW_DEFAULT] = allowDefault;\r\n    this._commandCallbacks[Commands.READY] = ready;\r\n};\r\n\r\n/**\r\n * Initializes the WebGLRenderer and updates it initial size.\r\n *\r\n * The Initialization process consists of the following steps:\r\n *\r\n * 1. A new `<canvas>` element is being created and appended to the root element.\r\n * 2. The WebGLRenderer is being instantiated.\r\n * 3. The size of the WebGLRenderer is being updated.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nContext.prototype._initWebGLRenderer = function _initWebGLRenderer() {\r\n    this._webGLRendererRootEl = document.createElement('canvas');\r\n    this._rootEl.appendChild(this._webGLRendererRootEl);\r\n\r\n    this._webGLRenderer = new WebGLRenderer(\r\n        this._webGLRendererRootEl,\r\n        this._compositor\r\n    );\r\n\r\n    // Don't read offset width and height.\r\n    this._webGLRenderer.updateSize(this._size);\r\n};\r\n\r\n/**\r\n * Gets the size of the parent element of the DOMRenderer for this context.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nContext.prototype.getRootSize = function getRootSize() {\r\n    return [\r\n        this._rootEl.offsetWidth,\r\n        this._rootEl.offsetHeight\r\n    ];\r\n};\r\n\r\n\r\n/**\r\n * Initializes the context if the `READY` command has been received earlier.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nContext.prototype.checkInit = function checkInit () {\r\n    if (this._initDOM) {\r\n        this._domRendererRootEl.style.visibility = 'visible';\r\n        this._initDOM = false;\r\n    }\r\n};\r\n\r\n/**\r\n * Handles delegation of commands to renderers of this context.\r\n *\r\n * @method\r\n *\r\n * @param {String} path String used as identifier of a given node in the\r\n * scene graph.\r\n * @param {Array} commands List of all commands from this frame.\r\n * @param {Number} iterator Number indicating progress through the command\r\n * queue.\r\n *\r\n * @return {Number} iterator indicating progress through the command queue.\r\n */\r\nContext.prototype.receive = function receive(path, commands, iterator) {\r\n    var localIterator = iterator;\r\n\r\n    var command = commands[++localIterator];\r\n\r\n    this._domRenderer.loadPath(path);\r\n\r\n    while (command != null) {\r\n        if (command === Commands.WITH || command === Commands.TIME) return localIterator - 1;\r\n        else localIterator = this._commandCallbacks[command](this, path, commands, localIterator) + 1;\r\n        command = commands[localIterator];\r\n    }\r\n\r\n    return localIterator;\r\n};\r\n\r\n/**\r\n * Getter method used for retrieving the used DOMRenderer.\r\n *\r\n * @method\r\n *\r\n * @return {DOMRenderer}    The DOMRenderer being used by the Context.\r\n */\r\nContext.prototype.getDOMRenderer = function getDOMRenderer() {\r\n    return this._domRenderer;\r\n};\r\n\r\n/**\r\n * Getter method used for retrieving the used WebGLRenderer (if any).\r\n *\r\n * @method\r\n *\r\n * @return {WebGLRenderer|null}    The WebGLRenderer being used by the Context.\r\n */\r\nContext.prototype.getWebGLRenderer = function getWebGLRenderer() {\r\n    return this._webGLRenderer;\r\n};\r\n\r\n// Command Callbacks\r\nfunction preventDefault (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.preventDefault(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction allowDefault (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.allowDefault(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction ready (context, path, commands, iterator) {\r\n    context._initDOM = true;\r\n    return iterator;\r\n}\r\n\r\nfunction initDOM (context, path, commands, iterator) {\r\n    context._domRenderer.insertEl(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction domRenderSize (context, path, commands, iterator) {\r\n    context._domRenderer.getSizeOf(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction changeTransform (context, path, commands, iterator) {\r\n    var temp = context._meshTransform;\r\n\r\n    temp[0] = commands[++iterator];\r\n    temp[1] = commands[++iterator];\r\n    temp[2] = commands[++iterator];\r\n    temp[3] = commands[++iterator];\r\n    temp[4] = commands[++iterator];\r\n    temp[5] = commands[++iterator];\r\n    temp[6] = commands[++iterator];\r\n    temp[7] = commands[++iterator];\r\n    temp[8] = commands[++iterator];\r\n    temp[9] = commands[++iterator];\r\n    temp[10] = commands[++iterator];\r\n    temp[11] = commands[++iterator];\r\n    temp[12] = commands[++iterator];\r\n    temp[13] = commands[++iterator];\r\n    temp[14] = commands[++iterator];\r\n    temp[15] = commands[++iterator];\r\n\r\n    context._domRenderer.setMatrix(temp);\r\n\r\n    if (context._webGLRenderer)\r\n        context._webGLRenderer.setCutoutUniform(path, 'u_transform', temp);\r\n\r\n    return iterator;\r\n}\r\n\r\nfunction changeSize (context, path, commands, iterator) {\r\n    var width = commands[++iterator];\r\n    var height = commands[++iterator];\r\n\r\n    context._domRenderer.setSize(width, height);\r\n    if (context._webGLRenderer) {\r\n        context._meshSize[0] = width;\r\n        context._meshSize[1] = height;\r\n        context._webGLRenderer.setCutoutUniform(path, 'u_size', context._meshSize);\r\n    }\r\n\r\n    return iterator;\r\n}\r\n\r\nfunction changeProperty (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.setProperty(commands[++iterator], commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction changeContent (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.setContent(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction changeAttribute (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.setAttribute(commands[++iterator], commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction addClass (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.addClass(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction removeClass (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.removeClass(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction subscribe (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.subscribe(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction unsubscribe (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.unsubscribe(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction glSetDrawOptions (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setMeshOptions(path, commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction glAmbientLight (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setAmbientLightColor(\r\n        path,\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction glLightPosition (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setLightPosition(\r\n        path,\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction glLightColor (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setLightColor(\r\n        path,\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction materialInput (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.handleMaterialInput(\r\n        path,\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction glSetGeometry (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setGeometry(\r\n        path,\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction glUniforms (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setMeshUniform(\r\n        path,\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction glBufferData (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.bufferData(\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction glCutoutState (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setCutoutState(path, commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction glMeshVisibility (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setMeshVisibility(path, commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction glRemoveMesh (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.removeMesh(path);\r\n    return iterator;\r\n}\r\n\r\nfunction pinholeProjection (context, path, commands, iterator) {\r\n    context._renderState.projectionType = Camera.PINHOLE_PROJECTION;\r\n    context._renderState.perspectiveTransform[11] = -1 / commands[++iterator];\r\n    context._renderState.perspectiveDirty = true;\r\n    return iterator;\r\n}\r\n\r\nfunction orthographicProjection (context, path, commands, iterator) {\r\n    context._renderState.projectionType = Camera.ORTHOGRAPHIC_PROJECTION;\r\n    context._renderState.perspectiveTransform[11] = 0;\r\n    context._renderState.perspectiveDirty = true;\r\n    return iterator;\r\n}\r\n\r\nfunction changeViewTransform (context, path, commands, iterator) {\r\n    context._renderState.viewTransform[0] = commands[++iterator];\r\n    context._renderState.viewTransform[1] = commands[++iterator];\r\n    context._renderState.viewTransform[2] = commands[++iterator];\r\n    context._renderState.viewTransform[3] = commands[++iterator];\r\n\r\n    context._renderState.viewTransform[4] = commands[++iterator];\r\n    context._renderState.viewTransform[5] = commands[++iterator];\r\n    context._renderState.viewTransform[6] = commands[++iterator];\r\n    context._renderState.viewTransform[7] = commands[++iterator];\r\n\r\n    context._renderState.viewTransform[8] = commands[++iterator];\r\n    context._renderState.viewTransform[9] = commands[++iterator];\r\n    context._renderState.viewTransform[10] = commands[++iterator];\r\n    context._renderState.viewTransform[11] = commands[++iterator];\r\n\r\n    context._renderState.viewTransform[12] = commands[++iterator];\r\n    context._renderState.viewTransform[13] = commands[++iterator];\r\n    context._renderState.viewTransform[14] = commands[++iterator];\r\n    context._renderState.viewTransform[15] = commands[++iterator];\r\n\r\n    context._renderState.viewDirty = true;\r\n    return iterator;\r\n}\r\n\r\nmodule.exports = Context;\r\n\n},{\"../components/Camera\":2,\"../core/Commands\":8,\"../dom-renderers/DOMRenderer\":22,\"../webgl-renderers/WebGLRenderer\":58}],43:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Commands = require('../core/Commands');\r\nvar Chan = require('../core/Chan');\r\n/**\r\n * The UIManager is being updated by an Engine by consecutively calling its\r\n * `update` method. It can either manage a real Web-Worker or the global\r\n * FamousEngine core singleton.\r\n *\r\n * @example\r\n * var compositor = new Compositor();\r\n * var engine = new Engine();\r\n *\r\n * // Using a Web Worker\r\n * var worker = new Worker('worker.bundle.js');\r\n * var threadmanger = new UIManager(worker, compositor, engine);\r\n *\r\n * // Without using a Web Worker\r\n * var threadmanger = new UIManager(Famous, compositor, engine);\r\n *\r\n * @class  UIManager\r\n * @constructor\r\n *\r\n * @param {Famous|Worker} thread The thread being used to receive messages\r\n * from and post messages to. Expected to expose a WebWorker-like API, which\r\n * means providing a way to listen for updates by setting its `onmessage`\r\n * property and sending updates using `postMessage`.\r\n * @param {Compositor} compositor an instance of Compositor used to extract\r\n * enqueued draw commands from to be sent to the thread.\r\n * @param {RenderLoop} renderLoop an instance of Engine used for executing\r\n * the `ENGINE` commands on.\r\n */\r\nfunction UIManager (thread, compositor, renderLoop) {\r\n    this._thread = thread;\r\n    this._compositor = compositor;\r\n    this._renderLoop = renderLoop;\r\n    Chan.setChannel(thread);\r\n    this._renderLoop.update(this);\r\n\r\n    var _this = this;\r\n    this._thread.onmessage = function (ev) {\r\n        var message = ev.data ? ev.data : ev;\r\n        if (message[0] === Commands.ENGINE) {\r\n            switch (message[1]) {\r\n                case Commands.CROSS_THREAD:\r\n                    Chan.callback(message[2]);\r\n                    break;\r\n                case Commands.START:\r\n                    _this._engine.start();\r\n                    break;\r\n                case Commands.STOP:\r\n                    _this._engine.stop();\r\n                    break;\r\n                default:\r\n                    console.error(\r\n                        'Unknown ENGINE command \"' + message[1] + '\"'\r\n                    );\r\n                    break;\r\n            }\r\n        }\r\n        else {\r\n            _this._compositor.receiveCommands(message);\r\n        }\r\n    };\r\n    this._thread.onerror = function (error) {\r\n        console.error(error);\r\n    };\r\n}\r\n\r\n/**\r\n * Returns the thread being used by the UIManager.\r\n * This could either be an an actual web worker or a `FamousEngine` singleton.\r\n *\r\n * @method\r\n *\r\n * @return {Worker|FamousEngine} Either a web worker or a `FamousEngine` singleton.\r\n */\r\nUIManager.prototype.getThread = function getThread() {\r\n    return this._thread;\r\n};\r\n\r\n/**\r\n * Returns the compositor being used by this UIManager.\r\n *\r\n * @method\r\n *\r\n * @return {Compositor} The compositor used by the UIManager.\r\n */\r\nUIManager.prototype.getCompositor = function getCompositor() {\r\n    return this._compositor;\r\n};\r\n\r\n/**\r\n * Returns the engine being used by this UIManager.\r\n *\r\n * @method\r\n * @deprecated Use {@link UIManager#getRenderLoop instead!}\r\n *\r\n * @return {Engine} The engine used by the UIManager.\r\n */\r\nUIManager.prototype.getEngine = function getEngine() {\r\n    return this._renderLoop;\r\n};\r\n\r\n\r\n/**\r\n * Returns the render loop currently being used by the UIManager.\r\n *\r\n * @method\r\n *\r\n * @return {RenderLoop}  The registered render loop used for updating the\r\n * UIManager.\r\n */\r\nUIManager.prototype.getRenderLoop = function getRenderLoop() {\r\n    return this._renderLoop;\r\n};\r\n\r\n/**\r\n * Update method being invoked by the Engine on every `requestAnimationFrame`.\r\n * Used for updating the notion of time within the managed thread by sending\r\n * a FRAME command and sending messages to\r\n *\r\n * @method\r\n *\r\n * @param  {Number} time unix timestamp to be passed down to the worker as a\r\n * FRAME command\r\n * @return {undefined} undefined\r\n */\r\nUIManager.prototype.update = function update (time) {\r\n    this._thread.postMessage([Commands.FRAME, time]);\r\n    var threadMessages = this._compositor.drawCommands();\r\n    this._thread.postMessage(threadMessages);\r\n    this._compositor.clearCommands();\r\n};\r\n\r\nmodule.exports = UIManager;\r\n\n},{\"../core/Chan\":5,\"../core/Commands\":8}],44:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar css = '.famous-dom-renderer {' +\r\n    'width:100%;' +\r\n    'height:100%;' +\r\n    'transform-style:preserve-3d;' +\r\n    '-webkit-transform-style:preserve-3d;' +\r\n'}' +\r\n\r\n'.famous-dom-element {' +\r\n    '-webkit-transform-origin:0% 0%;' +\r\n    'transform-origin:0% 0%;' +\r\n    '-webkit-backface-visibility:visible;' +\r\n    'backface-visibility:visible;' +\r\n    '-webkit-transform-style:preserve-3d;' +\r\n    'transform-style:preserve-3d;' +\r\n    '-webkit-tap-highlight-color:transparent;' +\r\n    'pointer-events:auto;' +\r\n    'z-index:1;' +\r\n'}' +\r\n\r\n'.famous-dom-element-content,' +\r\n'.famous-dom-element {' +\r\n    'position:absolute;' +\r\n    'box-sizing:border-box;' +\r\n    '-moz-box-sizing:border-box;' +\r\n    '-webkit-box-sizing:border-box;' +\r\n'}' +\r\n\r\n'.famous-webgl-renderer {' +\r\n    '-webkit-transform:translateZ(1000000px);' +  /* TODO: Fix when Safari Fixes*/\r\n    'transform:translateZ(1000000px);' +\r\n    'pointer-events:none;' +\r\n    'position:absolute;' +\r\n    'z-index:1;' +\r\n    'top:0;' +\r\n    'width:100%;' +\r\n    'height:100%;' +\r\n'}';\r\n\r\nvar INJECTED = typeof document === 'undefined';\r\n\r\nfunction injectCSS() {\r\n    if (INJECTED) return;\r\n    INJECTED = true;\r\n    if (document.createStyleSheet) {\r\n        var sheet = document.createStyleSheet();\r\n        sheet.cssText = css;\r\n    }\r\n    else {\r\n        var head = document.getElementsByTagName('head')[0];\r\n        var style = document.createElement('style');\r\n\r\n        if (style.styleSheet) {\r\n            style.styleSheet.cssText = css;\r\n        }\r\n        else {\r\n            style.appendChild(document.createTextNode(css));\r\n        }\r\n\r\n        (head ? head : document.documentElement).appendChild(style);\r\n    }\r\n}\r\n\r\nmodule.exports = injectCSS;\r\n\n},{}],45:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n/*jshint -W008 */\r\n\r\n'use strict';\r\n\r\n/**\r\n * A library of curves which map an animation explicitly as a function of time.\r\n *\r\n * @namespace\r\n * @property {Function} linear\r\n * @property {Function} easeIn\r\n * @property {Function} easeOut\r\n * @property {Function} easeInOut\r\n * @property {Function} easeOutBounce\r\n * @property {Function} spring\r\n * @property {Function} inQuad\r\n * @property {Function} outQuad\r\n * @property {Function} inOutQuad\r\n * @property {Function} inCubic\r\n * @property {Function} outCubic\r\n * @property {Function} inOutCubic\r\n * @property {Function} inQuart\r\n * @property {Function} outQuart\r\n * @property {Function} inOutQuart\r\n * @property {Function} inQuint\r\n * @property {Function} outQuint\r\n * @property {Function} inOutQuint\r\n * @property {Function} inSine\r\n * @property {Function} outSine\r\n * @property {Function} inOutSine\r\n * @property {Function} inExpo\r\n * @property {Function} outExpo\r\n * @property {Function} inOutExp\r\n * @property {Function} inCirc\r\n * @property {Function} outCirc\r\n * @property {Function} inOutCirc\r\n * @property {Function} inElastic\r\n * @property {Function} outElastic\r\n * @property {Function} inOutElastic\r\n * @property {Function} inBounce\r\n * @property {Function} outBounce\r\n * @property {Function} inOutBounce\r\n * @property {Function} flat            - Useful for delaying the execution of\r\n *                                        a subsequent transition.\r\n */\r\nvar Curves = {\r\n    linear: function(t) {\r\n        return t;\r\n    },\r\n\r\n    easeIn: function(t) {\r\n        return t*t;\r\n    },\r\n\r\n    easeOut: function(t) {\r\n        return t*(2-t);\r\n    },\r\n\r\n    easeInOut: function(t) {\r\n        if (t <= 0.5) return 2*t*t;\r\n        else return -2*t*t + 4*t - 1;\r\n    },\r\n\r\n    easeOutBounce: function(t) {\r\n        return t*(3 - 2*t);\r\n    },\r\n\r\n    spring: function(t) {\r\n        return (1 - t) * Math.sin(6 * Math.PI * t) + t;\r\n    },\r\n\r\n    inQuad: function(t) {\r\n        return t*t;\r\n    },\r\n\r\n    outQuad: function(t) {\r\n        return -(t-=1)*t+1;\r\n    },\r\n\r\n    inOutQuad: function(t) {\r\n        if ((t/=.5) < 1) return .5*t*t;\r\n        return -.5*((--t)*(t-2) - 1);\r\n    },\r\n\r\n    inCubic: function(t) {\r\n        return t*t*t;\r\n    },\r\n\r\n    outCubic: function(t) {\r\n        return ((--t)*t*t + 1);\r\n    },\r\n\r\n    inOutCubic: function(t) {\r\n        if ((t/=.5) < 1) return .5*t*t*t;\r\n        return .5*((t-=2)*t*t + 2);\r\n    },\r\n\r\n    inQuart: function(t) {\r\n        return t*t*t*t;\r\n    },\r\n\r\n    outQuart: function(t) {\r\n        return -((--t)*t*t*t - 1);\r\n    },\r\n\r\n    inOutQuart: function(t) {\r\n        if ((t/=.5) < 1) return .5*t*t*t*t;\r\n        return -.5 * ((t-=2)*t*t*t - 2);\r\n    },\r\n\r\n    inQuint: function(t) {\r\n        return t*t*t*t*t;\r\n    },\r\n\r\n    outQuint: function(t) {\r\n        return ((--t)*t*t*t*t + 1);\r\n    },\r\n\r\n    inOutQuint: function(t) {\r\n        if ((t/=.5) < 1) return .5*t*t*t*t*t;\r\n        return .5*((t-=2)*t*t*t*t + 2);\r\n    },\r\n\r\n    inSine: function(t) {\r\n        return -1.0*Math.cos(t * (Math.PI/2)) + 1.0;\r\n    },\r\n\r\n    outSine: function(t) {\r\n        return Math.sin(t * (Math.PI/2));\r\n    },\r\n\r\n    inOutSine: function(t) {\r\n        return -.5*(Math.cos(Math.PI*t) - 1);\r\n    },\r\n\r\n    inExpo: function(t) {\r\n        return (t===0) ? 0.0 : Math.pow(2, 10 * (t - 1));\r\n    },\r\n\r\n    outExpo: function(t) {\r\n        return (t===1.0) ? 1.0 : (-Math.pow(2, -10 * t) + 1);\r\n    },\r\n\r\n    inOutExpo: function(t) {\r\n        if (t===0) return 0.0;\r\n        if (t===1.0) return 1.0;\r\n        if ((t/=.5) < 1) return .5 * Math.pow(2, 10 * (t - 1));\r\n        return .5 * (-Math.pow(2, -10 * --t) + 2);\r\n    },\r\n\r\n    inCirc: function(t) {\r\n        return -(Math.sqrt(1 - t*t) - 1);\r\n    },\r\n\r\n    outCirc: function(t) {\r\n        return Math.sqrt(1 - (--t)*t);\r\n    },\r\n\r\n    inOutCirc: function(t) {\r\n        if ((t/=.5) < 1) return -.5 * (Math.sqrt(1 - t*t) - 1);\r\n        return .5 * (Math.sqrt(1 - (t-=2)*t) + 1);\r\n    },\r\n\r\n    inElastic: function(t) {\r\n        var s=1.70158;var p=0;var a=1.0;\r\n        if (t===0) return 0.0;  if (t===1) return 1.0;  if (!p) p=.3;\r\n        s = p/(2*Math.PI) * Math.asin(1.0/a);\r\n        return -(a*Math.pow(2,10*(t-=1)) * Math.sin((t-s)*(2*Math.PI)/ p));\r\n    },\r\n\r\n    outElastic: function(t) {\r\n        var s=1.70158;var p=0;var a=1.0;\r\n        if (t===0) return 0.0;  if (t===1) return 1.0;  if (!p) p=.3;\r\n        s = p/(2*Math.PI) * Math.asin(1.0/a);\r\n        return a*Math.pow(2,-10*t) * Math.sin((t-s)*(2*Math.PI)/p) + 1.0;\r\n    },\r\n\r\n    inOutElastic: function(t) {\r\n        var s=1.70158;var p=0;var a=1.0;\r\n        if (t===0) return 0.0;  if ((t/=.5)===2) return 1.0;  if (!p) p=(.3*1.5);\r\n        s = p/(2*Math.PI) * Math.asin(1.0/a);\r\n        if (t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin((t-s)*(2*Math.PI)/p));\r\n        return a*Math.pow(2,-10*(t-=1)) * Math.sin((t-s)*(2*Math.PI)/p)*.5 + 1.0;\r\n    },\r\n\r\n    inBack: function(t, s) {\r\n        if (s === undefined) s = 1.70158;\r\n        return t*t*((s+1)*t - s);\r\n    },\r\n\r\n    outBack: function(t, s) {\r\n        if (s === undefined) s = 1.70158;\r\n        return ((--t)*t*((s+1)*t + s) + 1);\r\n    },\r\n\r\n    inOutBack: function(t, s) {\r\n        if (s === undefined) s = 1.70158;\r\n        if ((t/=.5) < 1) return .5*(t*t*(((s*=(1.525))+1)*t - s));\r\n        return .5*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2);\r\n    },\r\n\r\n    inBounce: function(t) {\r\n        return 1.0 - Curves.outBounce(1.0-t);\r\n    },\r\n\r\n    outBounce: function(t) {\r\n        if (t < (1/2.75)) {\r\n            return (7.5625*t*t);\r\n        }\r\n        else if (t < (2/2.75)) {\r\n            return (7.5625*(t-=(1.5/2.75))*t + .75);\r\n        }\r\n        else if (t < (2.5/2.75)) {\r\n            return (7.5625*(t-=(2.25/2.75))*t + .9375);\r\n        }\r\n        else {\r\n            return (7.5625*(t-=(2.625/2.75))*t + .984375);\r\n        }\r\n    },\r\n\r\n    inOutBounce: function(t) {\r\n        if (t < .5) return Curves.inBounce(t*2) * .5;\r\n        return Curves.outBounce(t*2-1.0) * .5 + .5;\r\n    },\r\n\r\n    flat: function() {\r\n        return 0;\r\n    }\r\n};\r\n\r\nmodule.exports = Curves;\r\n\n},{}],46:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Curves = require('./Curves');\r\nvar FamousEngine = require('../core/FamousEngine');\r\n\r\n/**\r\n * A state maintainer for a smooth transition between\r\n *    numerically-specified states. Example numeric states include floats and\r\n *    arrays of floats objects.\r\n *\r\n * An initial state is set with the constructor or using\r\n *     {@link Transitionable#from}. Subsequent transitions consist of an\r\n *     intermediate state, easing curve, duration and callback. The final state\r\n *     of each transition is the initial state of the subsequent one. Calls to\r\n *     {@link Transitionable#get} provide the interpolated state along the way.\r\n *\r\n * Note that there is no event loop here - calls to {@link Transitionable#get}\r\n *    are the only way to find state projected to the current (or provided)\r\n *    time and are the only way to trigger callbacks and mutate the internal\r\n *    transition queue.\r\n *\r\n * @example\r\n * var t = new Transitionable([0, 0]);\r\n * t\r\n *     .to([100, 0], 'linear', 1000)\r\n *     .delay(1000)\r\n *     .to([200, 0], 'outBounce', 1000);\r\n *\r\n * var div = document.createElement('div');\r\n * div.style.background = 'blue';\r\n * div.style.width = '100px';\r\n * div.style.height = '100px';\r\n * document.body.appendChild(div);\r\n *\r\n * div.addEventListener('click', function() {\r\n *     t.isPaused() ? t.resume() : t.pause();\r\n * });\r\n *\r\n * requestAnimationFrame(function loop() {\r\n *     div.style.transform = 'translateX(' + t.get()[0] + 'px)' + ' translateY(' + t.get()[1] + 'px)';\r\n *     requestAnimationFrame(loop);\r\n * });\r\n *\r\n * @class Transitionable\r\n * @constructor\r\n * @param {Number|Array.Number} initialState    initial state to transition\r\n *                                              from - equivalent to a pursuant\r\n *                                              invocation of\r\n *                                              {@link Transitionable#from}\r\n */\r\nfunction Transitionable(initialState) {\r\n    this._queue = [];\r\n    this._from = null;\r\n    this._state = null;\r\n    this._startedAt = null;\r\n    this._pausedAt = null;\r\n    if (initialState != null) this.from(initialState);\r\n}\r\n\r\n/**\r\n * Internal Clock used for determining the current time for the ongoing\r\n * transitions.\r\n *\r\n * @type {Performance|Date|Clock}\r\n */\r\nTransitionable.Clock = FamousEngine.getClock();\r\n\r\n/**\r\n * Registers a transition to be pushed onto the internal queue.\r\n *\r\n * @method to\r\n * @chainable\r\n *\r\n * @param  {Number|Array.Number}    finalState              final state to\r\n *                                                          transiton to\r\n * @param  {String|Function}        [curve=Curves.linear]   easing function\r\n *                                                          used for\r\n *                                                          interpolating\r\n *                                                          [0, 1]\r\n * @param  {Number}                 [duration=100]          duration of\r\n *                                                          transition\r\n * @param  {Function}               [callback]              callback function\r\n *                                                          to be called after\r\n *                                                          the transition is\r\n *                                                          complete\r\n * @param  {String}                 [method]                method used for\r\n *                                                          interpolation\r\n *                                                          (e.g. slerp)\r\n * @return {Transitionable}         this\r\n */\r\nTransitionable.prototype.to = function to(finalState, curve, duration, callback, method) {\r\n    curve = curve != null && curve.constructor === String ? Curves[curve] : curve;\r\n    if (this._queue.length === 0) {\r\n        this._startedAt = this.constructor.Clock.now();\r\n        this._pausedAt = null;\r\n    }\r\n    this._queue.push(\r\n        finalState,\r\n        curve != null ? curve : Curves.linear,\r\n        duration != null ? duration : 100,\r\n        callback,\r\n        method\r\n    );\r\n    return this;\r\n};\r\n\r\n/**\r\n * Resets the transition queue to a stable initial state.\r\n *\r\n * @method from\r\n * @chainable\r\n *\r\n * @param  {Number|Array.Number}    initialState    initial state to\r\n *                                                  transition from\r\n * @return {Transitionable}         this\r\n */\r\nTransitionable.prototype.from = function from(initialState) {\r\n    this._state = initialState;\r\n    this._from = this._sync(null, this._state);\r\n    this._queue.length = 0;\r\n    this._startedAt = this.constructor.Clock.now();\r\n    this._pausedAt = null;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Delays the execution of the subsequent transition for a certain period of\r\n * time.\r\n *\r\n * @method delay\r\n * @chainable\r\n *\r\n * @param {Number}      duration    delay time in ms\r\n * @param {Function}    [callback]  Zero-argument function to call on observed\r\n *                                  completion (t=1)\r\n * @return {Transitionable}         this\r\n */\r\nTransitionable.prototype.delay = function delay(duration, callback) {\r\n    var endState = this._queue.length > 0 ? this._queue[this._queue.length - 5] : this._state;\r\n    return this.to(endState, Curves.flat, duration, callback);\r\n};\r\n\r\n/**\r\n * Overrides current transition.\r\n *\r\n * @method override\r\n * @chainable\r\n *\r\n * @param  {Number|Array.Number}    [finalState]    final state to transiton to\r\n * @param  {String|Function}        [curve]         easing function used for\r\n *                                                  interpolating [0, 1]\r\n * @param  {Number}                 [duration]      duration of transition\r\n * @param  {Function}               [callback]      callback function to be\r\n *                                                  called after the transition\r\n *                                                  is complete\r\n * @param {String}                  [method]        optional method used for\r\n *                                                  interpolating between the\r\n *                                                  values. Set to `slerp` for\r\n *                                                  spherical linear\r\n *                                                  interpolation.\r\n * @return {Transitionable}         this\r\n */\r\nTransitionable.prototype.override = function override(finalState, curve, duration, callback, method) {\r\n    if (this._queue.length > 0) {\r\n        if (finalState != null) this._queue[0] = finalState;\r\n        if (curve != null)      this._queue[1] = curve.constructor === String ? Curves[curve] : curve;\r\n        if (duration != null)   this._queue[2] = duration;\r\n        if (callback != null)   this._queue[3] = callback;\r\n        if (method != null)     this._queue[4] = method;\r\n    }\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Used for interpolating between the start and end state of the currently\r\n * running transition\r\n *\r\n * @method  _interpolate\r\n * @private\r\n *\r\n * @param  {Object|Array|Number} output     Where to write to (in order to avoid\r\n *                                          object allocation and therefore GC).\r\n * @param  {Object|Array|Number} from       Start state of current transition.\r\n * @param  {Object|Array|Number} to         End state of current transition.\r\n * @param  {Number} progress                Progress of the current transition,\r\n *                                          in [0, 1]\r\n * @param  {String} method                  Method used for interpolation (e.g.\r\n *                                          slerp)\r\n * @return {Object|Array|Number}            output\r\n */\r\nTransitionable.prototype._interpolate = function _interpolate(output, from, to, progress, method) {\r\n    if (to instanceof Object) {\r\n        if (method === 'slerp') {\r\n            var x, y, z, w;\r\n            var qx, qy, qz, qw;\r\n            var omega, cosomega, sinomega, scaleFrom, scaleTo;\r\n\r\n            x = from[0];\r\n            y = from[1];\r\n            z = from[2];\r\n            w = from[3];\r\n\r\n            qx = to[0];\r\n            qy = to[1];\r\n            qz = to[2];\r\n            qw = to[3];\r\n\r\n            if (progress === 1) {\r\n                output[0] = qx;\r\n                output[1] = qy;\r\n                output[2] = qz;\r\n                output[3] = qw;\r\n                return output;\r\n            }\r\n\r\n            cosomega = w * qw + x * qx + y * qy + z * qz;\r\n            if ((1.0 - cosomega) > 1e-5) {\r\n                omega = Math.acos(cosomega);\r\n                sinomega = Math.sin(omega);\r\n                scaleFrom = Math.sin((1.0 - progress) * omega) / sinomega;\r\n                scaleTo = Math.sin(progress * omega) / sinomega;\r\n            }\r\n            else {\r\n                scaleFrom = 1.0 - progress;\r\n                scaleTo = progress;\r\n            }\r\n\r\n            output[0] = x * scaleFrom + qx * scaleTo;\r\n            output[1] = y * scaleFrom + qy * scaleTo;\r\n            output[2] = z * scaleFrom + qz * scaleTo;\r\n            output[3] = w * scaleFrom + qw * scaleTo;\r\n        }\r\n        else if (to instanceof Array) {\r\n            for (var i = 0, len = to.length; i < len; i++) {\r\n                output[i] = this._interpolate(output[i], from[i], to[i], progress, method);\r\n            }\r\n        }\r\n        else {\r\n            for (var key in to) {\r\n                output[key] = this._interpolate(output[key], from[key], to[key], progress, method);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        output = from + progress * (to - from);\r\n    }\r\n    return output;\r\n};\r\n\r\n\r\n/**\r\n * Internal helper method used for synchronizing the current, absolute state of\r\n * a transition to a given output array, object literal or number. Supports\r\n * nested state objects by through recursion.\r\n *\r\n * @method  _sync\r\n * @private\r\n *\r\n * @param  {Number|Array|Object} output     Where to write to (in order to avoid\r\n *                                          object allocation and therefore GC).\r\n * @param  {Number|Array|Object} input      Input state to proxy onto the\r\n *                                          output.\r\n * @return {Number|Array|Object} output     Passed in output object.\r\n */\r\nTransitionable.prototype._sync = function _sync(output, input) {\r\n    if (typeof input === 'number') output = input;\r\n    else if (input instanceof Array) {\r\n        if (output == null) output = [];\r\n        for (var i = 0, len = input.length; i < len; i++) {\r\n            output[i] = _sync(output[i], input[i]);\r\n        }\r\n    }\r\n    else if (input instanceof Object) {\r\n        if (output == null) output = {};\r\n        for (var key in input) {\r\n            output[key] = _sync(output[key], input[key]);\r\n        }\r\n    }\r\n    return output;\r\n};\r\n\r\n/**\r\n * Get interpolated state of current action at provided time. If the last\r\n *    action has completed, invoke its callback.\r\n *\r\n * @method get\r\n *\r\n * @param {Number=} t               Evaluate the curve at a normalized version\r\n *                                  of this time. If omitted, use current time\r\n *                                  (Unix epoch time retrieved from Clock).\r\n * @return {Number|Array.Number}    Beginning state interpolated to this point\r\n *                                  in time.\r\n */\r\nTransitionable.prototype.get = function get(t) {\r\n    if (this._queue.length === 0) return this._state;\r\n\r\n    t = this._pausedAt ? this._pausedAt : t;\r\n    t = t ? t : this.constructor.Clock.now();\r\n\r\n    var progress = (t - this._startedAt) / this._queue[2];\r\n    this._state = this._interpolate(\r\n        this._state,\r\n        this._from,\r\n        this._queue[0],\r\n        this._queue[1](progress > 1 ? 1 : progress),\r\n        this._queue[4]\r\n    );\r\n    var state = this._state;\r\n    if (progress >= 1) {\r\n        this._startedAt = this._startedAt + this._queue[2];\r\n        this._from = this._sync(this._from, this._state);\r\n        this._queue.shift();\r\n        this._queue.shift();\r\n        this._queue.shift();\r\n        var callback = this._queue.shift();\r\n        this._queue.shift();\r\n        if (callback) callback();\r\n    }\r\n    return progress > 1 ? this.get() : state;\r\n};\r\n\r\n/**\r\n * Is there at least one transition pending completion?\r\n *\r\n * @method isActive\r\n *\r\n * @return {Boolean}    Boolean indicating whether there is at least one pending\r\n *                      transition. Paused transitions are still being\r\n *                      considered active.\r\n */\r\nTransitionable.prototype.isActive = function isActive() {\r\n    return this._queue.length > 0;\r\n};\r\n\r\n/**\r\n * Halt transition at current state and erase all pending actions.\r\n *\r\n * @method halt\r\n * @chainable\r\n *\r\n * @return {Transitionable} this\r\n */\r\nTransitionable.prototype.halt = function halt() {\r\n    return this.from(this.get());\r\n};\r\n\r\n/**\r\n * Pause transition. This will not erase any actions.\r\n *\r\n * @method pause\r\n * @chainable\r\n *\r\n * @return {Transitionable} this\r\n */\r\nTransitionable.prototype.pause = function pause() {\r\n    this._pausedAt = this.constructor.Clock.now();\r\n    return this;\r\n};\r\n\r\n/**\r\n * Has the current action been paused?\r\n *\r\n * @method isPaused\r\n * @chainable\r\n *\r\n * @return {Boolean} if the current action has been paused\r\n */\r\nTransitionable.prototype.isPaused = function isPaused() {\r\n    return !!this._pausedAt;\r\n};\r\n\r\n/**\r\n * Resume a previously paused transition.\r\n *\r\n * @method resume\r\n * @chainable\r\n *\r\n * @return {Transitionable} this\r\n */\r\nTransitionable.prototype.resume = function resume() {\r\n    var diff = this._pausedAt - this._startedAt;\r\n    this._startedAt = this.constructor.Clock.now() - diff;\r\n    this._pausedAt = null;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Cancel all transitions and reset to a stable state\r\n *\r\n * @method reset\r\n * @chainable\r\n * @deprecated Use `.from` instead!\r\n *\r\n * @param {Number|Array.Number|Object.<number, number>} start\r\n *    stable state to set to\r\n * @return {Transitionable}                             this\r\n */\r\nTransitionable.prototype.reset = function(start) {\r\n    return this.from(start);\r\n};\r\n\r\n/**\r\n * Add transition to end state to the queue of pending transitions. Special\r\n *    Use: calling without a transition resets the object to that state with\r\n *    no pending actions\r\n *\r\n * @method set\r\n * @chainable\r\n * @deprecated Use `.to` instead!\r\n *\r\n * @param {Number|FamousEngineMatrix|Array.Number|Object.<number, number>} state\r\n *    end state to which we interpolate\r\n * @param {transition=} transition object of type {duration: number, curve:\r\n *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\r\n *    instantaneous.\r\n * @param {function()=} callback Zero-argument function to call on observed\r\n *    completion (t=1)\r\n * @return {Transitionable} this\r\n */\r\nTransitionable.prototype.set = function(state, transition, callback) {\r\n    if (transition == null) {\r\n        this.from(state);\r\n        if (callback) callback();\r\n    }\r\n    else {\r\n        this.to(state, transition.curve, transition.duration, callback, transition.method);\r\n    }\r\n    return this;\r\n};\r\n\r\nmodule.exports = Transitionable;\r\n\n},{\"../core/FamousEngine\":12,\"./Curves\":45}],47:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * A lightweight, featureless EventEmitter.\r\n *\r\n * @class CallbackStore\r\n * @constructor\r\n */\r\nfunction CallbackStore () {\r\n    this._events = {};\r\n}\r\n\r\n/**\r\n * Adds a listener for the specified event (= key).\r\n *\r\n * @method on\r\n * @chainable\r\n *\r\n * @param  {String}   key       The event type (e.g. `click`).\r\n * @param  {Function} callback  A callback function to be invoked whenever `key`\r\n *                              event is being triggered.\r\n * @return {Function} destroy   A function to call if you want to remove the\r\n *                              callback.\r\n */\r\nCallbackStore.prototype.on = function on (key, callback) {\r\n    if (!this._events[key]) this._events[key] = [];\r\n    var callbackList = this._events[key];\r\n    callbackList.push(callback);\r\n    return function () {\r\n        callbackList.splice(callbackList.indexOf(callback), 1);\r\n    };\r\n};\r\n\r\n/**\r\n * Removes a previously added event listener.\r\n *\r\n * @method off\r\n * @chainable\r\n *\r\n * @param  {String} key         The event type from which the callback function\r\n *                              should be removed.\r\n * @param  {Function} callback  The callback function to be removed from the\r\n *                              listeners for key.\r\n * @return {CallbackStore} this\r\n */\r\nCallbackStore.prototype.off = function off (key, callback) {\r\n    var events = this._events[key];\r\n    if (events) events.splice(events.indexOf(callback), 1);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Invokes all the previously for this key registered callbacks.\r\n *\r\n * @method trigger\r\n * @chainable\r\n *\r\n * @param  {String}        key      The event type.\r\n * @param  {Object}        payload  The event payload (event object).\r\n * @return {CallbackStore} this\r\n */\r\nCallbackStore.prototype.trigger = function trigger (key, payload) {\r\n    var events = this._events[key];\r\n    if (events) {\r\n        var i = 0;\r\n        var len = events.length;\r\n        for (; i < len ; i++) events[i](payload);\r\n    }\r\n    return this;\r\n};\r\n\r\nmodule.exports = CallbackStore;\r\n\n},{}],48:[function(require,module,exports){\n'use strict';\r\n\r\nfunction Registry () {\r\n    this._keyToValue = {};\r\n    this._values = [];\r\n    this._keys = [];\r\n    this._keyToIndex = {};\r\n    this._freedIndices = [];\r\n}\r\n\r\nRegistry.prototype.register = function register (key, value) {\r\n    var index = this._keyToIndex[key];\r\n    if (index == null) {\r\n        index = this._freedIndices.pop();\r\n        if (index === undefined) index = this._values.length;\r\n\r\n        this._values[index] = value;\r\n        this._keys[index] = key;\r\n\r\n        this._keyToIndex[key] = index;\r\n        this._keyToValue[key] = value;\r\n    }\r\n    else {\r\n        this._keyToValue[key] = value;\r\n        this._values[index] = value;\r\n    }\r\n};\r\n\r\nRegistry.prototype.unregister = function unregister (key) {\r\n    var index = this._keyToIndex[key];\r\n\r\n    if (index != null) {\r\n        this._freedIndices.push(index);\r\n        this._keyToValue[key] = null;\r\n        this._keyToIndex[key] = null;\r\n        this._values[index] = null;\r\n        this._keys[index] = null;\r\n    }\r\n};\r\n\r\nRegistry.prototype.get = function get (key) {\r\n    return this._keyToValue[key];\r\n};\r\n\r\nRegistry.prototype.getValues = function getValues () {\r\n    return this._values;\r\n};\r\n\r\nRegistry.prototype.getKeys = function getKeys () {\r\n    return this._keys;\r\n};\r\n\r\nRegistry.prototype.getKeyToValue = function getKeyToValue () {\r\n    return this._keyToValue;\r\n};\r\n\r\nmodule.exports = Registry;\r\n\n},{}],49:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Deep clone an object.\r\n *\r\n * @method  clone\r\n *\r\n * @param {Object} b       Object to be cloned.\r\n * @return {Object} a      Cloned object (deep equality).\r\n */\r\nvar clone = function clone(b) {\r\n    var a;\r\n    if (typeof b === 'object') {\r\n        a = (b instanceof Array) ? [] : {};\r\n        for (var key in b) {\r\n            if (typeof b[key] === 'object' && b[key] !== null) {\r\n                if (b[key] instanceof Array) {\r\n                    a[key] = new Array(b[key].length);\r\n                    for (var i = 0; i < b[key].length; i++) {\r\n                        a[key][i] = clone(b[key][i]);\r\n                    }\r\n                }\r\n                else {\r\n                  a[key] = clone(b[key]);\r\n                }\r\n            }\r\n            else {\r\n                a[key] = b[key];\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        a = b;\r\n    }\r\n    return a;\r\n};\r\n\r\nmodule.exports = clone;\r\n\n},{}],50:[function(require,module,exports){\n'use strict';\r\n\r\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n/**\r\n * Takes an object containing keys and values and returns an object\r\n * comprising two \"associate\" arrays, one with the keys and the other\r\n * with the values.\r\n *\r\n * @method keyValuesToArrays\r\n *\r\n * @param {Object} obj                      Objects where to extract keys and values\r\n *                                          from.\r\n * @return {Object}         result\r\n *         {Array.<String>} result.keys     Keys of `result`, as returned by\r\n *                                          `Object.keys()`\r\n *         {Array}          result.values   Values of passed in object.\r\n */\r\nmodule.exports = function keyValuesToArrays(obj) {\r\n    var keysArray = [], valuesArray = [];\r\n    var i = 0;\r\n    for(var key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n            keysArray[i] = key;\r\n            valuesArray[i] = obj[key];\r\n            i++;\r\n        }\r\n    }\r\n    return {\r\n        keys: keysArray,\r\n        values: valuesArray\r\n    };\r\n};\r\n\n},{}],51:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar PREFIXES = ['', '-ms-', '-webkit-', '-moz-', '-o-'];\r\n\r\n/**\r\n * A helper function used for determining the vendor prefixed version of the\r\n * passed in CSS property.\r\n *\r\n * Vendor checks are being conducted in the following order:\r\n *\r\n * 1. (no prefix)\r\n * 2. `-mz-`\r\n * 3. `-webkit-`\r\n * 4. `-moz-`\r\n * 5. `-o-`\r\n *\r\n * @method vendorPrefix\r\n *\r\n * @param {String} property     CSS property (no camelCase), e.g.\r\n *                              `border-radius`.\r\n * @return {String} prefixed    Vendor prefixed version of passed in CSS\r\n *                              property (e.g. `-webkit-border-radius`).\r\n */\r\nfunction vendorPrefix(property) {\r\n    for (var i = 0; i < PREFIXES.length; i++) {\r\n        var prefixed = PREFIXES[i] + property;\r\n        if (document.documentElement.style[prefixed] === '') {\r\n            return prefixed;\r\n        }\r\n    }\r\n    return property;\r\n}\r\n\r\nmodule.exports = vendorPrefix;\r\n\n},{}],52:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Buffer is a private class that wraps the vertex data that defines\r\n * the the points of the triangles that webgl draws. Each buffer\r\n * maps to one attribute of a mesh.\r\n *\r\n * @class Buffer\r\n * @constructor\r\n *\r\n * @param {Number} target The bind target of the buffer to update: ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER\r\n * @param {Object} type Array type to be used in calls to gl.bufferData.\r\n * @param {WebGLContext} gl The WebGL context that the buffer is hosted by.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction Buffer(target, type, gl) {\r\n    this.buffer = null;\r\n    this.target = target;\r\n    this.type = type;\r\n    this.data = [];\r\n    this.gl = gl;\r\n}\r\n\r\n/**\r\n * Creates a WebGL buffer if one does not yet exist and binds the buffer to\r\n * to the context. Runs bufferData with appropriate data.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nBuffer.prototype.subData = function subData() {\r\n    var gl = this.gl;\r\n    var data = [];\r\n\r\n    // to prevent against maximum call-stack issue.\r\n    for (var i = 0, chunk = 10000; i < this.data.length; i += chunk)\r\n        data = Array.prototype.concat.apply(data, this.data.slice(i, i + chunk));\r\n\r\n    this.buffer = this.buffer || gl.createBuffer();\r\n    gl.bindBuffer(this.target, this.buffer);\r\n    gl.bufferData(this.target, new this.type(data), gl.STATIC_DRAW);\r\n};\r\n\r\nmodule.exports = Buffer;\r\n\n},{}],53:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar INDICES = 'indices';\r\n\r\nvar Buffer = require('./Buffer');\r\n\r\n/**\r\n * BufferRegistry is a class that manages allocation of buffers to\r\n * input geometries.\r\n *\r\n * @class BufferRegistry\r\n * @constructor\r\n *\r\n * @param {WebGLContext} context WebGL drawing context to be passed to buffers.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction BufferRegistry(context) {\r\n    this.gl = context;\r\n\r\n    this.registry = {};\r\n    this._dynamicBuffers = [];\r\n    this._staticBuffers = [];\r\n\r\n    this._arrayBufferMax = 30000;\r\n    this._elementBufferMax = 30000;\r\n}\r\n\r\n/**\r\n * Binds and fills all the vertex data into webgl buffers.  Will reuse buffers if\r\n * possible.  Populates registry with the name of the buffer, the WebGL buffer\r\n * object, spacing of the attribute, the attribute's offset within the buffer,\r\n * and finally the length of the buffer.  This information is later accessed by\r\n * the root to draw the buffers.\r\n *\r\n * @method\r\n *\r\n * @param {Number} geometryId Id of the geometry instance that holds the buffers.\r\n * @param {String} name Key of the input buffer in the geometry.\r\n * @param {Array} value Flat array containing input data for buffer.\r\n * @param {Number} spacing The spacing, or itemSize, of the input buffer.\r\n * @param {Boolean} dynamic Boolean denoting whether a geometry is dynamic or static.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nBufferRegistry.prototype.allocate = function allocate(geometryId, name, value, spacing, dynamic) {\r\n    var vertexBuffers = this.registry[geometryId] || (this.registry[geometryId] = { keys: [], values: [], spacing: [], offset: [], length: [] });\r\n\r\n    var j = vertexBuffers.keys.indexOf(name);\r\n    var isIndex = name === INDICES;\r\n    var bufferFound = false;\r\n    var newOffset;\r\n    var offset = 0;\r\n    var length;\r\n    var buffer;\r\n    var k;\r\n\r\n    if (j === -1) {\r\n        j = vertexBuffers.keys.length;\r\n        length = isIndex ? value.length : Math.floor(value.length / spacing);\r\n\r\n        if (!dynamic) {\r\n\r\n            // Use a previously created buffer if available.\r\n\r\n            for (k = 0; k < this._staticBuffers.length; k++) {\r\n\r\n                if (isIndex === this._staticBuffers[k].isIndex) {\r\n                    newOffset = this._staticBuffers[k].offset + value.length;\r\n                    if ((!isIndex && newOffset < this._arrayBufferMax) || (isIndex && newOffset < this._elementBufferMax)) {\r\n                        buffer = this._staticBuffers[k].buffer;\r\n                        offset = this._staticBuffers[k].offset;\r\n                        this._staticBuffers[k].offset += value.length;\r\n                        bufferFound = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Create a new static buffer in none were found.\r\n\r\n            if (!bufferFound) {\r\n                buffer = new Buffer(\r\n                    isIndex ? this.gl.ELEMENT_ARRAY_BUFFER : this.gl.ARRAY_BUFFER,\r\n                    isIndex ? Uint16Array : Float32Array,\r\n                    this.gl\r\n                );\r\n\r\n                this._staticBuffers.push({ buffer: buffer, offset: value.length, isIndex: isIndex });\r\n            }\r\n        }\r\n        else {\r\n\r\n            // For dynamic geometries, always create new buffer.\r\n\r\n            buffer = new Buffer(\r\n                isIndex ? this.gl.ELEMENT_ARRAY_BUFFER : this.gl.ARRAY_BUFFER,\r\n                isIndex ? Uint16Array : Float32Array,\r\n                this.gl\r\n            );\r\n\r\n            this._dynamicBuffers.push({ buffer: buffer, offset: value.length, isIndex: isIndex });\r\n        }\r\n\r\n        // Update the registry for the spec with buffer information.\r\n\r\n        vertexBuffers.keys.push(name);\r\n        vertexBuffers.values.push(buffer);\r\n        vertexBuffers.spacing.push(spacing);\r\n        vertexBuffers.offset.push(offset);\r\n        vertexBuffers.length.push(length);\r\n    }\r\n\r\n    var len = value.length;\r\n    for (k = 0; k < len; k++) {\r\n        vertexBuffers.values[j].data[offset + k] = value[k];\r\n    }\r\n    vertexBuffers.values[j].subData();\r\n};\r\n\r\nmodule.exports = BufferRegistry;\r\n\n},{\"./Buffer\":52}],54:[function(require,module,exports){\n'use strict';\r\n\r\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n/**\r\n * Takes the original rendering contexts' compiler function\r\n * and augments it with added functionality for parsing and\r\n * displaying errors.\r\n *\r\n * @method\r\n *\r\n * @returns {Function} Augmented function\r\n */\r\nfunction Debug() {\r\n    return _augmentFunction(\r\n        this.gl.compileShader,\r\n        function(shader) {\r\n            if (!this.getShaderParameter(shader, this.COMPILE_STATUS)) {\r\n                var errors = this.getShaderInfoLog(shader);\r\n                var source = this.getShaderSource(shader);\r\n                _processErrors(errors, source);\r\n            }\r\n        }\r\n    );\r\n}\r\n\r\n// Takes a function, keeps the reference and replaces it by a closure that\r\n// executes the original function and the provided callback.\r\nfunction _augmentFunction(func, callback) {\r\n    return function() {\r\n        var res = func.apply(this, arguments);\r\n        callback.apply(this, arguments);\r\n        return res;\r\n    };\r\n}\r\n\r\n// Parses errors and failed source code from shaders in order\r\n// to build displayable error blocks.\r\n// Inspired by Jaume Sanchez Elias.\r\nfunction _processErrors(errors, source) {\r\n\r\n    var css = 'body,html{background:#e3e3e3;font-family:monaco,monospace;font-size:14px;line-height:1.7em}' +\r\n              '#shaderReport{left:0;top:0;right:0;box-sizing:border-box;position:absolute;z-index:1000;color:' +\r\n              '#222;padding:15px;white-space:normal;list-style-type:none;margin:50px auto;max-width:1200px}' +\r\n              '#shaderReport li{background-color:#fff;margin:13px 0;box-shadow:0 1px 2px rgba(0,0,0,.15);' +\r\n              'padding:20px 30px;border-radius:2px;border-left:20px solid #e01111}span{color:#e01111;' +\r\n              'text-decoration:underline;font-weight:700}#shaderReport li p{padding:0;margin:0}' +\r\n              '#shaderReport li:nth-child(even){background-color:#f4f4f4}' +\r\n              '#shaderReport li p:first-child{margin-bottom:10px;color:#666}';\r\n\r\n    var el = document.createElement('style');\r\n    document.getElementsByTagName('head')[0].appendChild(el);\r\n    el.textContent = css;\r\n\r\n    var report = document.createElement('ul');\r\n    report.setAttribute('id', 'shaderReport');\r\n    document.body.appendChild(report);\r\n\r\n    var re = /ERROR: [\\d]+:([\\d]+): (.+)/gmi;\r\n    var lines = source.split('\\n');\r\n\r\n    var m;\r\n    while ((m = re.exec(errors)) != null) {\r\n        if (m.index === re.lastIndex) re.lastIndex++;\r\n        var li = document.createElement('li');\r\n        var code = '<p><span>ERROR</span> \"' + m[2] + '\" in line ' + m[1] + '</p>';\r\n        code += '<p><b>' + lines[m[1] - 1].replace(/^[ \\t]+/g, '') + '</b></p>';\r\n        li.innerHTML = code;\r\n        report.appendChild(li);\r\n    }\r\n}\r\n\r\nmodule.exports = Debug;\r\n\n},{}],55:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar clone = require('../utilities/clone');\r\nvar keyValueToArrays = require('../utilities/keyValueToArrays');\r\n\r\nvar vertexWrapper = require('../webgl-shaders').vertex;\r\nvar fragmentWrapper = require('../webgl-shaders').fragment;\r\nvar Debug = require('./Debug');\r\n\r\nvar VERTEX_SHADER = 35633;\r\nvar FRAGMENT_SHADER = 35632;\r\nvar identityMatrix = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n\r\nvar header = 'precision mediump float;\\n';\r\n\r\nvar TYPES = {\r\n    undefined: 'float ',\r\n    1: 'float ',\r\n    2: 'vec2 ',\r\n    3: 'vec3 ',\r\n    4: 'vec4 ',\r\n    16: 'mat4 '\r\n};\r\n\r\nvar inputTypes = {\r\n    u_baseColor: 'vec4',\r\n    u_normals: 'vert',\r\n    u_glossiness: 'vec4',\r\n    u_positionOffset: 'vert'\r\n};\r\n\r\nvar masks =  {\r\n    vert: 1,\r\n    vec3: 2,\r\n    vec4: 4,\r\n    float: 8\r\n};\r\n\r\n/**\r\n * Uniform keys and values\r\n */\r\nvar uniforms = keyValueToArrays({\r\n    u_perspective: identityMatrix,\r\n    u_view: identityMatrix,\r\n    u_resolution: [0, 0, 0],\r\n    u_transform: identityMatrix,\r\n    u_size: [1, 1, 1],\r\n    u_time: 0,\r\n    u_opacity: 1,\r\n    u_metalness: 0,\r\n    u_glossiness: [0, 0, 0, 0],\r\n    u_baseColor: [1, 1, 1, 1],\r\n    u_normals: [1, 1, 1],\r\n    u_positionOffset: [0, 0, 0],\r\n    u_lightPosition: identityMatrix,\r\n    u_lightColor: identityMatrix,\r\n    u_ambientLight: [0, 0, 0],\r\n    u_flatShading: 0,\r\n    u_numLights: 0\r\n});\r\n\r\n/**\r\n * Attributes keys and values\r\n */\r\nvar attributes = keyValueToArrays({\r\n    a_pos: [0, 0, 0],\r\n    a_texCoord: [0, 0],\r\n    a_normals: [0, 0, 0]\r\n});\r\n\r\n/**\r\n * Varyings keys and values\r\n */\r\nvar varyings = keyValueToArrays({\r\n    v_textureCoordinate: [0, 0],\r\n    v_normal: [0, 0, 0],\r\n    v_position: [0, 0, 0],\r\n    v_eyeVector: [0, 0, 0]\r\n});\r\n\r\n/**\r\n * A class that handles interactions with the WebGL shader program\r\n * used by a specific context.  It manages creation of the shader program\r\n * and the attached vertex and fragment shaders.  It is also in charge of\r\n * passing all uniforms to the WebGLContext.\r\n *\r\n * @class Program\r\n * @constructor\r\n *\r\n * @param {WebGL_Context} gl Context to be used to create the shader program\r\n * @param {Object} options Program options\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction Program(gl, options) {\r\n    this.gl = gl;\r\n    this.options = options || {};\r\n\r\n    this.registeredMaterials = {};\r\n    this.cachedUniforms = {};\r\n    this.uniformTypes = [];\r\n\r\n    this.definitionVec4 = [];\r\n    this.definitionVec3 = [];\r\n    this.definitionFloat = [];\r\n    this.applicationVec3 = [];\r\n    this.applicationVec4 = [];\r\n    this.applicationFloat = [];\r\n    this.applicationVert = [];\r\n    this.definitionVert = [];\r\n\r\n    if (this.options.debug) {\r\n        this.gl.compileShader = Debug.call(this);\r\n    }\r\n\r\n    this.resetProgram();\r\n}\r\n\r\n/**\r\n * Determines whether a material has already been registered to\r\n * the shader program.\r\n *\r\n * @method\r\n *\r\n * @param {String} name Name of target input of material.\r\n * @param {Object} material Compiled material object being verified.\r\n *\r\n * @return {Program} this Current program.\r\n */\r\nProgram.prototype.registerMaterial = function registerMaterial(name, material) {\r\n    var compiled = material;\r\n    var type = inputTypes[name];\r\n    var mask = masks[type];\r\n\r\n    if ((this.registeredMaterials[material._id] & mask) === mask) return this;\r\n\r\n    var k;\r\n\r\n    for (k in compiled.uniforms) {\r\n        if (uniforms.keys.indexOf(k) === -1) {\r\n            uniforms.keys.push(k);\r\n            uniforms.values.push(compiled.uniforms[k]);\r\n        }\r\n    }\r\n\r\n    for (k in compiled.varyings) {\r\n        if (varyings.keys.indexOf(k) === -1) {\r\n            varyings.keys.push(k);\r\n            varyings.values.push(compiled.varyings[k]);\r\n        }\r\n    }\r\n\r\n    for (k in compiled.attributes) {\r\n        if (attributes.keys.indexOf(k) === -1) {\r\n            attributes.keys.push(k);\r\n            attributes.values.push(compiled.attributes[k]);\r\n        }\r\n    }\r\n\r\n    this.registeredMaterials[material._id] |= mask;\r\n\r\n    if (type === 'float') {\r\n        this.definitionFloat.push(material.defines);\r\n        this.definitionFloat.push('float fa_' + material._id + '() {\\n '  + compiled.glsl + ' \\n}');\r\n        this.applicationFloat.push('if (int(abs(ID)) == ' + material._id + ') return fa_' + material._id  + '();');\r\n    }\r\n\r\n    if (type === 'vec3') {\r\n        this.definitionVec3.push(material.defines);\r\n        this.definitionVec3.push('vec3 fa_' + material._id + '() {\\n '  + compiled.glsl + ' \\n}');\r\n        this.applicationVec3.push('if (int(abs(ID.x)) == ' + material._id + ') return fa_' + material._id + '();');\r\n    }\r\n\r\n    if (type === 'vec4') {\r\n        this.definitionVec4.push(material.defines);\r\n        this.definitionVec4.push('vec4 fa_' + material._id + '() {\\n '  + compiled.glsl + ' \\n}');\r\n        this.applicationVec4.push('if (int(abs(ID.x)) == ' + material._id + ') return fa_' + material._id + '();');\r\n    }\r\n\r\n    if (type === 'vert') {\r\n        this.definitionVert.push(material.defines);\r\n        this.definitionVert.push('vec3 fa_' + material._id + '() {\\n '  + compiled.glsl + ' \\n}');\r\n        this.applicationVert.push('if (int(abs(ID.x)) == ' + material._id + ') return fa_' + material._id + '();');\r\n    }\r\n\r\n    return this.resetProgram();\r\n};\r\n\r\n/**\r\n * Clears all cached uniforms and attribute locations.  Assembles\r\n * new fragment and vertex shaders and based on material from\r\n * currently registered materials.  Attaches said shaders to new\r\n * shader program and upon success links program to the WebGL\r\n * context.\r\n *\r\n * @method\r\n *\r\n * @return {Program} Current program.\r\n */\r\nProgram.prototype.resetProgram = function resetProgram() {\r\n    var vertexHeader = [header];\r\n    var fragmentHeader = [header];\r\n\r\n    var fragmentSource;\r\n    var vertexSource;\r\n    var program;\r\n    var name;\r\n    var value;\r\n    var i;\r\n\r\n    this.uniformLocations   = [];\r\n    this.attributeLocations = {};\r\n\r\n    this.uniformTypes = {};\r\n\r\n    this.attributeNames = clone(attributes.keys);\r\n    this.attributeValues = clone(attributes.values);\r\n\r\n    this.varyingNames = clone(varyings.keys);\r\n    this.varyingValues = clone(varyings.values);\r\n\r\n    this.uniformNames = clone(uniforms.keys);\r\n    this.uniformValues = clone(uniforms.values);\r\n\r\n    this.cachedUniforms = {};\r\n\r\n    fragmentHeader.push('uniform sampler2D u_textures[7];\\n');\r\n\r\n    if (this.applicationVert.length) {\r\n        vertexHeader.push('uniform sampler2D u_textures[7];\\n');\r\n    }\r\n\r\n    for(i = 0; i < this.uniformNames.length; i++) {\r\n        name = this.uniformNames[i];\r\n        value = this.uniformValues[i];\r\n        vertexHeader.push('uniform ' + TYPES[value.length] + name + ';\\n');\r\n        fragmentHeader.push('uniform ' + TYPES[value.length] + name + ';\\n');\r\n    }\r\n\r\n    for(i = 0; i < this.attributeNames.length; i++) {\r\n        name = this.attributeNames[i];\r\n        value = this.attributeValues[i];\r\n        vertexHeader.push('attribute ' + TYPES[value.length] + name + ';\\n');\r\n    }\r\n\r\n    for(i = 0; i < this.varyingNames.length; i++) {\r\n        name = this.varyingNames[i];\r\n        value = this.varyingValues[i];\r\n        vertexHeader.push('varying ' + TYPES[value.length]  + name + ';\\n');\r\n        fragmentHeader.push('varying ' + TYPES[value.length] + name + ';\\n');\r\n    }\r\n\r\n    vertexSource = vertexHeader.join('') + vertexWrapper\r\n        .replace('#vert_definitions', this.definitionVert.join('\\n'))\r\n        .replace('#vert_applications', this.applicationVert.join('\\n'));\r\n\r\n    fragmentSource = fragmentHeader.join('') + fragmentWrapper\r\n        .replace('#vec3_definitions', this.definitionVec3.join('\\n'))\r\n        .replace('#vec3_applications', this.applicationVec3.join('\\n'))\r\n        .replace('#vec4_definitions', this.definitionVec4.join('\\n'))\r\n        .replace('#vec4_applications', this.applicationVec4.join('\\n'))\r\n        .replace('#float_definitions', this.definitionFloat.join('\\n'))\r\n        .replace('#float_applications', this.applicationFloat.join('\\n'));\r\n\r\n    program = this.gl.createProgram();\r\n\r\n    this.gl.attachShader(\r\n        program,\r\n        this.compileShader(this.gl.createShader(VERTEX_SHADER), vertexSource)\r\n    );\r\n\r\n    this.gl.attachShader(\r\n        program,\r\n        this.compileShader(this.gl.createShader(FRAGMENT_SHADER), fragmentSource)\r\n    );\r\n\r\n    this.gl.linkProgram(program);\r\n\r\n    if (! this.gl.getProgramParameter(program, this.gl.LINK_STATUS)) {\r\n        console.error('link error: ' + this.gl.getProgramInfoLog(program));\r\n        this.program = null;\r\n    }\r\n    else {\r\n        this.program = program;\r\n        this.gl.useProgram(this.program);\r\n    }\r\n\r\n    this.setUniforms(this.uniformNames, this.uniformValues);\r\n\r\n    var textureLocation = this.gl.getUniformLocation(this.program, 'u_textures[0]');\r\n    this.gl.uniform1iv(textureLocation, [0, 1, 2, 3, 4, 5, 6]);\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Compares the value of the input uniform value against\r\n * the cached value stored on the Program class.  Updates and\r\n * creates new entries in the cache when necessary.\r\n *\r\n * @method\r\n * @param {String} targetName Key of uniform spec being evaluated.\r\n * @param {Number|Array} value Value of uniform spec being evaluated.\r\n *\r\n * @return {Boolean} boolean Indicating whether the uniform being set is cached.\r\n */\r\nProgram.prototype.uniformIsCached = function(targetName, value) {\r\n    if(this.cachedUniforms[targetName] == null) {\r\n        if (value.length) {\r\n            this.cachedUniforms[targetName] = new Float32Array(value);\r\n        }\r\n        else {\r\n            this.cachedUniforms[targetName] = value;\r\n        }\r\n        return false;\r\n    }\r\n    else if (value.length) {\r\n        var i = value.length;\r\n        while (i--) {\r\n            if(value[i] !== this.cachedUniforms[targetName][i]) {\r\n                i = value.length;\r\n                while(i--) this.cachedUniforms[targetName][i] = value[i];\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    else if (this.cachedUniforms[targetName] !== value) {\r\n        this.cachedUniforms[targetName] = value;\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\n/**\r\n * Handles all passing of uniforms to WebGL drawing context.  This\r\n * function will find the uniform location and then, based on\r\n * a type inferred from the javascript value of the uniform, it will call\r\n * the appropriate function to pass the uniform to WebGL.  Finally,\r\n * setUniforms will iterate through the passed in shaderChunks (if any)\r\n * and set the appropriate uniforms to specify which chunks to use.\r\n *\r\n * @method\r\n * @param {Array} uniformNames Array containing the keys of all uniforms to be set.\r\n * @param {Array} uniformValue Array containing the values of all uniforms to be set.\r\n *\r\n * @return {Program} Current program.\r\n */\r\nProgram.prototype.setUniforms = function (uniformNames, uniformValue) {\r\n    var gl = this.gl;\r\n    var location;\r\n    var value;\r\n    var name;\r\n    var len;\r\n    var i;\r\n\r\n    if (!this.program) return this;\r\n\r\n    len = uniformNames.length;\r\n    for (i = 0; i < len; i++) {\r\n        name = uniformNames[i];\r\n        value = uniformValue[i];\r\n\r\n        // Retreive the cached location of the uniform,\r\n        // requesting a new location from the WebGL context\r\n        // if it does not yet exist.\r\n\r\n        location = this.uniformLocations[name];\r\n\r\n        if (location === null) continue;\r\n        if (location === undefined) {\r\n            location = gl.getUniformLocation(this.program, name);\r\n            this.uniformLocations[name] = location;\r\n        }\r\n\r\n        // Check if the value is already set for the\r\n        // given uniform.\r\n        if (this.uniformIsCached(name, value)) continue;\r\n\r\n        // Determine the correct function and pass the uniform\r\n        // value to WebGL.\r\n        if (!this.uniformTypes[name]) {\r\n            this.uniformTypes[name] = this.getUniformTypeFromValue(value);\r\n        }\r\n\r\n        // Call uniform setter function on WebGL context with correct value\r\n\r\n        switch (this.uniformTypes[name]) {\r\n            case 'uniform4fv': gl.uniform4fv(location, value); break;\r\n            case 'uniform3fv': gl.uniform3fv(location, value); break;\r\n            case 'uniform2fv': gl.uniform2fv(location, value); break;\r\n            case 'uniform1fv': gl.uniform1fv(location, value); break;\r\n            case 'uniform1f' : gl.uniform1f(location, value); break;\r\n            case 'uniformMatrix3fv': gl.uniformMatrix3fv(location, false, value); break;\r\n            case 'uniformMatrix4fv': gl.uniformMatrix4fv(location, false, value); break;\r\n        }\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Infers uniform setter function to be called on the WebGL context, based\r\n * on an input value.\r\n *\r\n * @method\r\n *\r\n * @param {Number|Array} value Value from which uniform type is inferred.\r\n *\r\n * @return {String} Name of uniform function for given value.\r\n */\r\nProgram.prototype.getUniformTypeFromValue = function getUniformTypeFromValue(value) {\r\n    if (Array.isArray(value) || value instanceof Float32Array) {\r\n        switch (value.length) {\r\n            case 1:  return 'uniform1fv';\r\n            case 2:  return 'uniform2fv';\r\n            case 3:  return 'uniform3fv';\r\n            case 4:  return 'uniform4fv';\r\n            case 9:  return 'uniformMatrix3fv';\r\n            case 16: return 'uniformMatrix4fv';\r\n        }\r\n    }\r\n    else if (!isNaN(parseFloat(value)) && isFinite(value)) {\r\n        return 'uniform1f';\r\n    }\r\n\r\n    throw 'cant load uniform \"' + name + '\" with value:' + JSON.stringify(value);\r\n};\r\n\r\n/**\r\n * Adds shader source to shader and compiles the input shader.  Checks\r\n * compile status and logs error if necessary.\r\n *\r\n * @method\r\n *\r\n * @param {Object} shader Program to be compiled.\r\n * @param {String} source Source to be used in the shader.\r\n *\r\n * @return {Object} Compiled shader.\r\n */\r\nProgram.prototype.compileShader = function compileShader(shader, source) {\r\n    var i = 1;\r\n\r\n    this.gl.shaderSource(shader, source);\r\n    this.gl.compileShader(shader);\r\n    if (!this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS)) {\r\n        console.error('compile error: ' + this.gl.getShaderInfoLog(shader));\r\n        console.error('1: ' + source.replace(/\\n/g, function () {\r\n            return '\\n' + (i+=1) + ': ';\r\n        }));\r\n    }\r\n\r\n    return shader;\r\n};\r\n\r\nmodule.exports = Program;\r\n\n},{\"../utilities/clone\":49,\"../utilities/keyValueToArrays\":50,\"../webgl-shaders\":62,\"./Debug\":54}],56:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Texture is a private class that stores image data\r\n * to be accessed from a shader or used as a render target.\r\n *\r\n * @class Texture\r\n * @constructor\r\n *\r\n * @param {GL} gl GL\r\n * @param {Object} options Options\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction Texture(gl, options) {\r\n    options = options || {};\r\n    this.id = gl.createTexture();\r\n    this.width = options.width || 0;\r\n    this.height = options.height || 0;\r\n    this.mipmap = options.mipmap;\r\n    this.format = options.format || 'RGBA';\r\n    this.type = options.type || 'UNSIGNED_BYTE';\r\n    this.gl = gl;\r\n\r\n    this.bind();\r\n\r\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, options.flipYWebgl || false);\r\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, options.premultiplyAlphaWebgl || false);\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl[options.magFilter] || gl.NEAREST);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl[options.minFilter] || gl.NEAREST);\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl[options.wrapS] || gl.CLAMP_TO_EDGE);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl[options.wrapT] || gl.CLAMP_TO_EDGE);\r\n}\r\n\r\n/**\r\n * Binds this texture as the selected target.\r\n *\r\n * @method\r\n * @return {Object} Current texture instance.\r\n */\r\nTexture.prototype.bind = function bind() {\r\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.id);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Erases the texture data in the given texture slot.\r\n *\r\n * @method\r\n * @return {Object} Current texture instance.\r\n */\r\nTexture.prototype.unbind = function unbind() {\r\n    this.gl.bindTexture(this.gl.TEXTURE_2D, null);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Replaces the image data in the texture with the given image.\r\n *\r\n * @method\r\n *\r\n * @param {Image}   img     The image object to upload pixel data from.\r\n * @return {Object}         Current texture instance.\r\n */\r\nTexture.prototype.setImage = function setImage(img) {\r\n    this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl[this.format], this.gl[this.format], this.gl[this.type], img);\r\n    if (this.mipmap) this.gl.generateMipmap(this.gl.TEXTURE_2D);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Replaces the image data in the texture with an array of arbitrary data.\r\n *\r\n * @method\r\n *\r\n * @param {Array}   input   Array to be set as data to texture.\r\n * @return {Object}         Current texture instance.\r\n */\r\nTexture.prototype.setArray = function setArray(input) {\r\n    this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl[this.format], this.width, this.height, 0, this.gl[this.format], this.gl[this.type], input);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Dumps the rgb-pixel contents of a texture into an array for debugging purposes\r\n *\r\n * @method\r\n *\r\n * @param {Number} x        x-offset between texture coordinates and snapshot\r\n * @param {Number} y        y-offset between texture coordinates and snapshot\r\n * @param {Number} width    x-depth of the snapshot\r\n * @param {Number} height   y-depth of the snapshot\r\n *\r\n * @return {Array}          An array of the pixels contained in the snapshot.\r\n */\r\nTexture.prototype.readBack = function readBack(x, y, width, height) {\r\n    var gl = this.gl;\r\n    var pixels;\r\n    x = x || 0;\r\n    y = y || 0;\r\n    width = width || this.width;\r\n    height = height || this.height;\r\n    var fb = gl.createFramebuffer();\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\r\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.id, 0);\r\n    if (gl.checkFramebufferStatus(gl.FRAMEBUFFER) === gl.FRAMEBUFFER_COMPLETE) {\r\n        pixels = new Uint8Array(width * height * 4);\r\n        gl.readPixels(x, y, width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\r\n    }\r\n    return pixels;\r\n};\r\n\r\nmodule.exports = Texture;\r\n\n},{}],57:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n'use strict';\r\n\r\nvar Texture = require('./Texture');\r\nvar createCheckerboard = require('./createCheckerboard');\r\n\r\n/**\r\n * Handles loading, binding, and resampling of textures for WebGLRenderer.\r\n *\r\n * @class TextureManager\r\n * @constructor\r\n *\r\n * @param {WebGL_Context} gl Context used to create and bind textures.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction TextureManager(gl) {\r\n    this.registry = [];\r\n    this._needsResample = [];\r\n\r\n    this._activeTexture = 0;\r\n    this._boundTexture = null;\r\n\r\n    this._checkerboard = createCheckerboard();\r\n\r\n    this.gl = gl;\r\n}\r\n\r\n/**\r\n * Update function used by WebGLRenderer to queue resamples on\r\n * registered textures.\r\n *\r\n * @method\r\n *\r\n * @param {Number}      time    Time in milliseconds according to the compositor.\r\n * @return {undefined}          undefined\r\n */\r\nTextureManager.prototype.update = function update(time) {\r\n    var registryLength = this.registry.length;\r\n\r\n    for (var i = 1; i < registryLength; i++) {\r\n        var texture = this.registry[i];\r\n\r\n        if (texture && texture.isLoaded && texture.resampleRate) {\r\n            if (!texture.lastResample || time - texture.lastResample > texture.resampleRate) {\r\n                if (!this._needsResample[texture.id]) {\r\n                    this._needsResample[texture.id] = true;\r\n                    texture.lastResample = time;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Creates a spec and creates a texture based on given texture data.\r\n * Handles loading assets if necessary.\r\n *\r\n * @method\r\n *\r\n * @param {Object}  input   Object containing texture id, texture data\r\n *                          and options used to draw texture.\r\n * @param {Number}  slot    Texture slot to bind generated texture to.\r\n * @return {undefined}      undefined\r\n */\r\nTextureManager.prototype.register = function register(input, slot) {\r\n    var _this = this;\r\n\r\n    var source = input.data;\r\n    var textureId = input.id;\r\n    var options = input.options || {};\r\n    var texture = this.registry[textureId];\r\n    var spec;\r\n\r\n    if (!texture) {\r\n\r\n        texture = new Texture(this.gl, options);\r\n        texture.setImage(this._checkerboard);\r\n\r\n        // Add texture to registry\r\n\r\n        spec = this.registry[textureId] = {\r\n            resampleRate: options.resampleRate || null,\r\n            lastResample: null,\r\n            isLoaded: false,\r\n            texture: texture,\r\n            source: source,\r\n            id: textureId,\r\n            slot: slot\r\n        };\r\n\r\n        // Handle array\r\n\r\n        if (Array.isArray(source) || source instanceof Uint8Array || source instanceof Float32Array) {\r\n            this.bindTexture(textureId);\r\n            texture.setArray(source);\r\n            spec.isLoaded = true;\r\n        }\r\n\r\n        // Handle video\r\n\r\n        else if (source instanceof HTMLVideoElement) {\r\n            source.addEventListener('loadeddata', function() {\r\n                _this.bindTexture(textureId);\r\n                texture.setImage(source);\r\n\r\n                spec.isLoaded = true;\r\n                spec.source = source;\r\n            });\r\n        }\r\n\r\n        // Handle image url\r\n\r\n        else if (typeof source === 'string') {\r\n            loadImage(source, function (img) {\r\n                _this.bindTexture(textureId);\r\n                texture.setImage(img);\r\n\r\n                spec.isLoaded = true;\r\n                spec.source = img;\r\n            });\r\n        }\r\n    }\r\n\r\n    return textureId;\r\n};\r\n\r\n/**\r\n * Loads an image from a string or Image object and executes a callback function.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Object|String} input The input image data to load as an asset.\r\n * @param {Function} callback The callback function to be fired when the image has finished loading.\r\n *\r\n * @return {Object} Image object being loaded.\r\n */\r\nfunction loadImage (input, callback) {\r\n    var image = (typeof input === 'string' ? new Image() : input) || {};\r\n        image.crossOrigin = 'anonymous';\r\n\r\n    if (!image.src) image.src = input;\r\n    if (!image.complete) {\r\n        image.onload = function () {\r\n            callback(image);\r\n        };\r\n    }\r\n    else {\r\n        callback(image);\r\n    }\r\n\r\n    return image;\r\n}\r\n\r\n/**\r\n * Sets active texture slot and binds target texture.  Also handles\r\n * resampling when necessary.\r\n *\r\n * @method\r\n *\r\n * @param {Number} id Identifier used to retreive texture spec\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTextureManager.prototype.bindTexture = function bindTexture(id) {\r\n    var spec = this.registry[id];\r\n\r\n    if (this._activeTexture !== spec.slot) {\r\n        this.gl.activeTexture(this.gl.TEXTURE0 + spec.slot);\r\n        this._activeTexture = spec.slot;\r\n    }\r\n\r\n    if (this._boundTexture !== id) {\r\n        this._boundTexture = id;\r\n        spec.texture.bind();\r\n    }\r\n\r\n    if (this._needsResample[spec.id]) {\r\n\r\n        // TODO: Account for resampling of arrays.\r\n\r\n        spec.texture.setImage(spec.source);\r\n        this._needsResample[spec.id] = false;\r\n    }\r\n};\r\n\r\nmodule.exports = TextureManager;\r\n\n},{\"./Texture\":56,\"./createCheckerboard\":60}],58:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Program = require('./Program');\r\nvar BufferRegistry = require('./BufferRegistry');\r\nvar sorter = require('./radixSort');\r\nvar keyValueToArrays = require('../utilities/keyValueToArrays');\r\nvar TextureManager = require('./TextureManager');\r\nvar compileMaterial = require('./compileMaterial');\r\nvar Registry = require('../utilities/Registry');\r\n\r\nvar identity = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n\r\nvar globalUniforms = keyValueToArrays({\r\n    'u_numLights': 0,\r\n    'u_ambientLight': new Array(3),\r\n    'u_lightPosition': new Array(3),\r\n    'u_lightColor': new Array(3),\r\n    'u_perspective': new Array(16),\r\n    'u_time': 0,\r\n    'u_view': new Array(16)\r\n});\r\n\r\n/**\r\n * WebGLRenderer is a private class that manages all interactions with the WebGL\r\n * API. Each frame it receives commands from the compositor and updates its\r\n * registries accordingly. Subsequently, the draw function is called and the\r\n * WebGLRenderer issues draw calls for all meshes in its registry.\r\n *\r\n * @class WebGLRenderer\r\n * @constructor\r\n *\r\n * @param {Element} canvas The DOM element that GL will paint itself onto.\r\n * @param {Compositor} compositor Compositor used for querying the time from.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction WebGLRenderer(canvas, compositor) {\r\n    canvas.classList.add('famous-webgl-renderer');\r\n\r\n    this.canvas = canvas;\r\n    this.compositor = compositor;\r\n\r\n    var gl = this.gl = this.getWebGLContext(this.canvas);\r\n\r\n    gl.clearColor(0.0, 0.0, 0.0, 0.0);\r\n    gl.polygonOffset(0.1, 0.1);\r\n    gl.enable(gl.POLYGON_OFFSET_FILL);\r\n    gl.enable(gl.DEPTH_TEST);\r\n    gl.enable(gl.BLEND);\r\n    gl.depthFunc(gl.LEQUAL);\r\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\r\n    gl.enable(gl.CULL_FACE);\r\n    gl.cullFace(gl.BACK);\r\n\r\n    this.meshRegistry = new Registry();\r\n    this.cutoutRegistry = new Registry();\r\n    this.lightRegistry = new Registry();\r\n\r\n    this.numLights = 0;\r\n    this.ambientLightColor = [0, 0, 0];\r\n    this.lightPositions = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n    this.lightColors = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n\r\n    this.textureManager = new TextureManager(gl);\r\n    this.bufferRegistry = new BufferRegistry(gl);\r\n    this.program = new Program(gl, { debug: true });\r\n\r\n    this.state = {\r\n        boundArrayBuffer: null,\r\n        boundElementBuffer: null,\r\n        lastDrawn: null,\r\n        enabledAttributes: {},\r\n        enabledAttributesKeys: []\r\n    };\r\n\r\n    this.resolutionName = ['u_resolution'];\r\n    this.resolutionValues = [[0, 0, 0]];\r\n\r\n    this.cachedSize = [];\r\n\r\n    /*\r\n    The projectionTransform has some constant components, i.e. the z scale, and the x and y translation.\r\n\r\n    The z scale keeps the final z position of any vertex within the clip's domain by scaling it by an\r\n    arbitrarily small coefficient. This has the advantage of being a useful default in the event of the\r\n    user forgoing a near and far plane, an alien convention in dom space as in DOM overlapping is\r\n    conducted via painter's algorithm.\r\n\r\n    The x and y translation transforms the world space origin to the top left corner of the screen.\r\n\r\n    The final component (this.projectionTransform[15]) is initialized as 1 because certain projection models,\r\n    e.g. the WC3 specified model, keep the XY plane as the projection hyperplane.\r\n    */\r\n    this.projectionTransform = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -0.000001, 0, -1, 1, 0, 1];\r\n\r\n    // TODO: remove this hack\r\n\r\n    var cutout = this.cutoutGeometry = {\r\n        spec: {\r\n            id: -1,\r\n            bufferValues: [[-1, -1, 0, 1, -1, 0, -1, 1, 0, 1, 1, 0]],\r\n            bufferNames: ['a_pos'],\r\n            type: 'TRIANGLE_STRIP'\r\n        }\r\n    };\r\n\r\n    this.bufferRegistry.allocate(\r\n        this.cutoutGeometry.spec.id,\r\n        cutout.spec.bufferNames[0],\r\n        cutout.spec.bufferValues[0],\r\n        3\r\n    );\r\n}\r\n\r\n/**\r\n * Attempts to retreive the WebGLRenderer context using several\r\n * accessors. For browser compatability. Throws on error.\r\n *\r\n * @method\r\n *\r\n * @param {Object} canvas Canvas element from which the context is retreived\r\n *\r\n * @return {Object} WebGLContext WebGL context\r\n */\r\nWebGLRenderer.prototype.getWebGLContext = function getWebGLContext(canvas) {\r\n    var names = ['webgl', 'experimental-webgl', 'webkit-3d', 'moz-webgl'];\r\n    var context;\r\n\r\n    for (var i = 0, len = names.length; i < len; i++) {\r\n        try {\r\n            context = canvas.getContext(names[i]);\r\n        }\r\n        catch (error) {\r\n            console.error('Error creating WebGL context: ' + error.toString());\r\n        }\r\n        if (context) return context;\r\n    }\r\n\r\n    if (!context) {\r\n        console.error('Could not retrieve WebGL context. Please refer to https://www.khronos.org/webgl/ for requirements');\r\n        return false;\r\n    }\r\n\r\n};\r\n\r\n/**\r\n * Adds a new base spec to the light registry at a given path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of new light in lightRegistry\r\n *\r\n * @return {Object} Newly created light spec\r\n */\r\nWebGLRenderer.prototype.createLight = function createLight(path) {\r\n    this.numLights++;\r\n    var light = {\r\n        color: [0, 0, 0],\r\n        position: [0, 0, 0]\r\n    };\r\n    this.lightRegistry.register(path, light);\r\n    return light;\r\n};\r\n\r\n/**\r\n * Adds a new base spec to the mesh registry at a given path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of new mesh in meshRegistry.\r\n *\r\n * @return {Object} Newly created mesh spec.\r\n */\r\nWebGLRenderer.prototype.createMesh = function createMesh(path) {\r\n    var uniforms = keyValueToArrays({\r\n        u_opacity: 1,\r\n        u_transform: identity,\r\n        u_size: [0, 0, 0],\r\n        u_baseColor: [0.5, 0.5, 0.5, 1],\r\n        u_positionOffset: [0, 0, 0],\r\n        u_normals: [0, 0, 0],\r\n        u_flatShading: 0,\r\n        u_glossiness: [0, 0, 0, 0]\r\n    });\r\n    var mesh = {\r\n        depth: null,\r\n        uniformKeys: uniforms.keys,\r\n        uniformValues: uniforms.values,\r\n        buffers: {},\r\n        geometry: null,\r\n        drawType: null,\r\n        textures: [],\r\n        visible: true\r\n    };\r\n\r\n    this.meshRegistry.register(path, mesh);\r\n    return mesh;\r\n};\r\n\r\n/**\r\n * Sets flag on indicating whether to do skip draw phase for\r\n * cutout mesh at given path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of target cutout mesh.\r\n * @param {Boolean} usesCutout Indicates the presence of a cutout mesh\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.setCutoutState = function setCutoutState(path, usesCutout) {\r\n    var cutout = this.getOrSetCutout(path);\r\n\r\n    cutout.visible = usesCutout;\r\n};\r\n\r\n/**\r\n * Creates or retreives cutout\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of target cutout mesh.\r\n *\r\n * @return {Object} Newly created cutout spec.\r\n */\r\nWebGLRenderer.prototype.getOrSetCutout = function getOrSetCutout(path) {\r\n    var cutout = this.cutoutRegistry.get(path);\r\n\r\n    if (!cutout) {\r\n        var uniforms = keyValueToArrays({\r\n            u_opacity: 0,\r\n            u_transform: identity.slice(),\r\n            u_size: [0, 0, 0],\r\n            u_origin: [0, 0, 0],\r\n            u_baseColor: [0, 0, 0, 1]\r\n        });\r\n\r\n        cutout = {\r\n            uniformKeys: uniforms.keys,\r\n            uniformValues: uniforms.values,\r\n            geometry: this.cutoutGeometry.spec.id,\r\n            drawType: this.cutoutGeometry.spec.type,\r\n            visible: true\r\n        };\r\n\r\n        this.cutoutRegistry.register(path, cutout);\r\n    }\r\n\r\n    return cutout;\r\n};\r\n\r\n/**\r\n * Sets flag on indicating whether to do skip draw phase for\r\n * mesh at given path.\r\n *\r\n * @method\r\n * @param {String} path Path used as id of target mesh.\r\n * @param {Boolean} visibility Indicates the visibility of target mesh.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.setMeshVisibility = function setMeshVisibility(path, visibility) {\r\n    var mesh = this.meshRegistry.get(path) || this.createMesh(path);\r\n\r\n    mesh.visible = visibility;\r\n};\r\n\r\n/**\r\n * Deletes a mesh from the meshRegistry.\r\n *\r\n * @method\r\n * @param {String} path Path used as id of target mesh.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.removeMesh = function removeMesh(path) {\r\n    this.meshRegistry.unregister(path);\r\n};\r\n\r\n/**\r\n * Creates or retreives cutout\r\n *\r\n * @method\r\n * @param {String} path Path used as id of cutout in cutout registry.\r\n * @param {String} uniformName Identifier used to upload value\r\n * @param {Array} uniformValue Value of uniform data\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.setCutoutUniform = function setCutoutUniform(path, uniformName, uniformValue) {\r\n    var cutout = this.getOrSetCutout(path);\r\n\r\n    var index = cutout.uniformKeys.indexOf(uniformName);\r\n\r\n    if (uniformValue.length) {\r\n        for (var i = 0, len = uniformValue.length; i < len; i++) {\r\n            cutout.uniformValues[index][i] = uniformValue[i];\r\n        }\r\n    }\r\n    else {\r\n        cutout.uniformValues[index] = uniformValue;\r\n    }\r\n};\r\n\r\n/**\r\n * Edits the options field on a mesh\r\n *\r\n * @method\r\n * @param {String} path Path used as id of target mesh\r\n * @param {Object} options Map of draw options for mesh\r\n *\r\n * @return {WebGLRenderer} this\r\n */\r\nWebGLRenderer.prototype.setMeshOptions = function(path, options) {\r\n    var mesh = this.meshRegistry.get(path) || this.createMesh(path);\r\n\r\n    mesh.options = options;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Changes the color of the fixed intensity lighting in the scene\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of light\r\n * @param {Number} r red channel\r\n * @param {Number} g green channel\r\n * @param {Number} b blue channel\r\n *\r\n * @return {WebGLRenderer} this\r\n */\r\nWebGLRenderer.prototype.setAmbientLightColor = function setAmbientLightColor(path, r, g, b) {\r\n    this.ambientLightColor[0] = r;\r\n    this.ambientLightColor[1] = g;\r\n    this.ambientLightColor[2] = b;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Changes the location of the light in the scene\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of light\r\n * @param {Number} x x position\r\n * @param {Number} y y position\r\n * @param {Number} z z position\r\n *\r\n * @return {WebGLRenderer} this\r\n */\r\nWebGLRenderer.prototype.setLightPosition = function setLightPosition(path, x, y, z) {\r\n    var light = this.lightRegistry.get(path) || this.createLight(path);\r\n    light.position[0] = x;\r\n    light.position[1] = y;\r\n    light.position[2] = z;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Changes the color of a dynamic intensity lighting in the scene\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of light in light Registry.\r\n * @param {Number} r red channel\r\n * @param {Number} g green channel\r\n * @param {Number} b blue channel\r\n *\r\n * @return {WebGLRenderer} this\r\n */\r\nWebGLRenderer.prototype.setLightColor = function setLightColor(path, r, g, b) {\r\n    var light = this.lightRegistry.get(path) || this.createLight(path);\r\n\r\n    light.color[0] = r;\r\n    light.color[1] = g;\r\n    light.color[2] = b;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Compiles material spec into program shader\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of cutout in cutout registry.\r\n * @param {String} name Name that the rendering input the material is bound to\r\n * @param {Object} material Material spec\r\n *\r\n * @return {WebGLRenderer} this\r\n */\r\nWebGLRenderer.prototype.handleMaterialInput = function handleMaterialInput(path, name, material) {\r\n    var mesh = this.meshRegistry.get(path) || this.createMesh(path);\r\n    material = compileMaterial(material, mesh.textures.length);\r\n\r\n    // Set uniforms to enable texture!\r\n\r\n    mesh.uniformValues[mesh.uniformKeys.indexOf(name)][0] = -material._id;\r\n\r\n    // Register textures!\r\n\r\n    var i = material.textures.length;\r\n    while (i--) {\r\n        mesh.textures.push(\r\n            this.textureManager.register(material.textures[i], mesh.textures.length + i)\r\n        );\r\n    }\r\n\r\n    // Register material!\r\n\r\n    this.program.registerMaterial(name, material);\r\n\r\n    return this.updateSize();\r\n};\r\n\r\n/**\r\n * Changes the geometry data of a mesh\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of cutout in cutout registry.\r\n * @param {Object} geometry Geometry object containing vertex data to be drawn\r\n * @param {Number} drawType Primitive identifier\r\n * @param {Boolean} dynamic Whether geometry is dynamic\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.setGeometry = function setGeometry(path, geometry, drawType, dynamic) {\r\n    var mesh = this.meshRegistry.get(path) || this.createMesh(path);\r\n\r\n    mesh.geometry = geometry;\r\n    mesh.drawType = drawType;\r\n    mesh.dynamic = dynamic;\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Uploads a new value for the uniform data when the mesh is being drawn\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of mesh in mesh registry\r\n * @param {String} uniformName Identifier used to upload value\r\n * @param {Array} uniformValue Value of uniform data\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.setMeshUniform = function setMeshUniform(path, uniformName, uniformValue) {\r\n    var mesh = this.meshRegistry.get(path) || this.createMesh(path);\r\n\r\n    var index = mesh.uniformKeys.indexOf(uniformName);\r\n\r\n    if (index === -1) {\r\n        mesh.uniformKeys.push(uniformName);\r\n        mesh.uniformValues.push(uniformValue);\r\n    }\r\n    else {\r\n        mesh.uniformValues[index] = uniformValue;\r\n    }\r\n};\r\n\r\n/**\r\n * Allocates a new buffer using the internal BufferRegistry.\r\n *\r\n * @method\r\n *\r\n * @param {Number} geometryId Id of geometry in geometry registry\r\n * @param {String} bufferName Attribute location name\r\n * @param {Array} bufferValue Vertex data\r\n * @param {Number} bufferSpacing The dimensions of the vertex\r\n * @param {Boolean} isDynamic Whether geometry is dynamic\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.bufferData = function bufferData(geometryId, bufferName, bufferValue, bufferSpacing, isDynamic) {\r\n    this.bufferRegistry.allocate(geometryId, bufferName, bufferValue, bufferSpacing, isDynamic);\r\n};\r\n\r\n/**\r\n * Triggers the 'draw' phase of the WebGLRenderer. Iterates through registries\r\n * to set uniforms, set attributes and issue draw commands for renderables.\r\n *\r\n * @method\r\n *\r\n * @param {Object} renderState Parameters provided by the compositor, that affect the rendering of all renderables.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.draw = function draw(renderState) {\r\n    var time = this.compositor.getTime();\r\n\r\n    this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);\r\n    this.textureManager.update(time);\r\n\r\n    this.meshRegistryKeys = sorter(this.meshRegistry.getKeys(), this.meshRegistry.getKeyToValue());\r\n\r\n    this.setGlobalUniforms(renderState);\r\n    this.drawCutouts();\r\n    this.drawMeshes();\r\n};\r\n\r\n/**\r\n * Iterates through and draws all registered meshes. This includes\r\n * binding textures, handling draw options, setting mesh uniforms\r\n * and drawing mesh buffers.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.drawMeshes = function drawMeshes() {\r\n    var gl = this.gl;\r\n    var buffers;\r\n    var mesh;\r\n\r\n    var meshes = this.meshRegistry.getValues();\r\n\r\n    for(var i = 0; i < meshes.length; i++) {\r\n        mesh = meshes[i];\r\n\r\n        if (!mesh) continue;\r\n\r\n        buffers = this.bufferRegistry.registry[mesh.geometry];\r\n\r\n        if (!mesh.visible) continue;\r\n\r\n        if (mesh.uniformValues[0] < 1) {\r\n            gl.depthMask(false);\r\n            gl.enable(gl.BLEND);\r\n        }\r\n        else {\r\n            gl.depthMask(true);\r\n            gl.disable(gl.BLEND);\r\n        }\r\n\r\n        if (!buffers) continue;\r\n\r\n        var j = mesh.textures.length;\r\n        while (j--) this.textureManager.bindTexture(mesh.textures[j]);\r\n\r\n        if (mesh.options) this.handleOptions(mesh.options, mesh);\r\n\r\n        this.program.setUniforms(mesh.uniformKeys, mesh.uniformValues);\r\n        this.drawBuffers(buffers, mesh.drawType, mesh.geometry);\r\n\r\n        if (mesh.options) this.resetOptions(mesh.options);\r\n    }\r\n};\r\n\r\n/**\r\n * Iterates through and draws all registered cutout meshes. Blending\r\n * is disabled, cutout uniforms are set and finally buffers are drawn.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.drawCutouts = function drawCutouts() {\r\n    var cutout;\r\n    var buffers;\r\n    var cutouts = this.cutoutRegistry.getValues();\r\n    var len = cutouts.length;\r\n\r\n    this.gl.disable(this.gl.CULL_FACE);\r\n    this.gl.enable(this.gl.BLEND);\r\n    this.gl.depthMask(true);\r\n\r\n    for (var i = 0; i < len; i++) {\r\n        cutout = cutouts[i];\r\n\r\n        if (!cutout) continue;\r\n\r\n        buffers = this.bufferRegistry.registry[cutout.geometry];\r\n\r\n        if (!cutout.visible) continue;\r\n\r\n        this.program.setUniforms(cutout.uniformKeys, cutout.uniformValues);\r\n        this.drawBuffers(buffers, cutout.drawType, cutout.geometry);\r\n    }\r\n\r\n    this.gl.enable(this.gl.CULL_FACE);\r\n};\r\n\r\n/**\r\n * Sets uniforms to be shared by all meshes.\r\n *\r\n * @method\r\n *\r\n * @param {Object} renderState Draw state options passed down from compositor.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.setGlobalUniforms = function setGlobalUniforms(renderState) {\r\n    var light;\r\n    var stride;\r\n    var lights = this.lightRegistry.getValues();\r\n    var len = lights.length;\r\n\r\n    for (var i = 0; i < len; i++) {\r\n        light = lights[i];\r\n\r\n        if (!light) continue;\r\n\r\n        stride = i * 4;\r\n\r\n        // Build the light positions' 4x4 matrix\r\n\r\n        this.lightPositions[0 + stride] = light.position[0];\r\n        this.lightPositions[1 + stride] = light.position[1];\r\n        this.lightPositions[2 + stride] = light.position[2];\r\n\r\n        // Build the light colors' 4x4 matrix\r\n\r\n        this.lightColors[0 + stride] = light.color[0];\r\n        this.lightColors[1 + stride] = light.color[1];\r\n        this.lightColors[2 + stride] = light.color[2];\r\n    }\r\n\r\n    globalUniforms.values[0] = this.numLights;\r\n    globalUniforms.values[1] = this.ambientLightColor;\r\n    globalUniforms.values[2] = this.lightPositions;\r\n    globalUniforms.values[3] = this.lightColors;\r\n\r\n    /*\r\n     * Set time and projection uniforms\r\n     * projecting world space into a 2d plane representation of the canvas.\r\n     * The x and y scale (this.projectionTransform[0] and this.projectionTransform[5] respectively)\r\n     * convert the projected geometry back into clipspace.\r\n     * The perpective divide (this.projectionTransform[11]), adds the z value of the point\r\n     * multiplied by the perspective divide to the w value of the point. In the process\r\n     * of converting from homogenous coordinates to NDC (normalized device coordinates)\r\n     * the x and y values of the point are divided by w, which implements perspective.\r\n     */\r\n    this.projectionTransform[0] = 1 / (this.cachedSize[0] * 0.5);\r\n    this.projectionTransform[5] = -1 / (this.cachedSize[1] * 0.5);\r\n    this.projectionTransform[11] = renderState.perspectiveTransform[11];\r\n\r\n    globalUniforms.values[4] = this.projectionTransform;\r\n    globalUniforms.values[5] = this.compositor.getTime() * 0.001;\r\n    globalUniforms.values[6] = renderState.viewTransform;\r\n\r\n    this.program.setUniforms(globalUniforms.keys, globalUniforms.values);\r\n};\r\n\r\n/**\r\n * Loads the buffers and issues the draw command for a geometry.\r\n *\r\n * @method\r\n *\r\n * @param {Object} vertexBuffers All buffers used to draw the geometry.\r\n * @param {Number} mode Enumerator defining what primitive to draw\r\n * @param {Number} id ID of geometry being drawn.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.drawBuffers = function drawBuffers(vertexBuffers, mode, id) {\r\n    var gl = this.gl;\r\n    var length = 0;\r\n    var attribute;\r\n    var location;\r\n    var spacing;\r\n    var offset;\r\n    var buffer;\r\n    var iter;\r\n    var j;\r\n    var i;\r\n\r\n    iter = vertexBuffers.keys.length;\r\n    for (i = 0; i < iter; i++) {\r\n        attribute = vertexBuffers.keys[i];\r\n\r\n        // Do not set vertexAttribPointer if index buffer.\r\n\r\n        if (attribute === 'indices') {\r\n            j = i; continue;\r\n        }\r\n\r\n        // Retreive the attribute location and make sure it is enabled.\r\n\r\n        location = this.program.attributeLocations[attribute];\r\n\r\n        if (location === -1) continue;\r\n        if (location === undefined) {\r\n            location = gl.getAttribLocation(this.program.program, attribute);\r\n            this.program.attributeLocations[attribute] = location;\r\n            if (location === -1) continue;\r\n        }\r\n\r\n        if (!this.state.enabledAttributes[attribute]) {\r\n            gl.enableVertexAttribArray(location);\r\n            this.state.enabledAttributes[attribute] = true;\r\n            this.state.enabledAttributesKeys.push(attribute);\r\n        }\r\n\r\n        // Retreive buffer information used to set attribute pointer.\r\n\r\n        buffer = vertexBuffers.values[i];\r\n        spacing = vertexBuffers.spacing[i];\r\n        offset = vertexBuffers.offset[i];\r\n        length = vertexBuffers.length[i];\r\n\r\n        // Skip bindBuffer if buffer is currently bound.\r\n\r\n        if (this.state.boundArrayBuffer !== buffer) {\r\n            gl.bindBuffer(buffer.target, buffer.buffer);\r\n            this.state.boundArrayBuffer = buffer;\r\n        }\r\n\r\n        if (this.state.lastDrawn !== id) {\r\n            gl.vertexAttribPointer(location, spacing, gl.FLOAT, gl.FALSE, 0, 4 * offset);\r\n        }\r\n    }\r\n\r\n    // Disable any attributes that not currently being used.\r\n\r\n    var len = this.state.enabledAttributesKeys.length;\r\n    for (i = 0; i < len; i++) {\r\n        var key = this.state.enabledAttributesKeys[i];\r\n        if (this.state.enabledAttributes[key] && vertexBuffers.keys.indexOf(key) === -1) {\r\n            gl.disableVertexAttribArray(this.program.attributeLocations[key]);\r\n            this.state.enabledAttributes[key] = false;\r\n        }\r\n    }\r\n\r\n    if (length) {\r\n\r\n        // If index buffer, use drawElements.\r\n\r\n        if (j !== undefined) {\r\n            buffer = vertexBuffers.values[j];\r\n            offset = vertexBuffers.offset[j];\r\n            spacing = vertexBuffers.spacing[j];\r\n            length = vertexBuffers.length[j];\r\n\r\n            // Skip bindBuffer if buffer is currently bound.\r\n\r\n            if (this.state.boundElementBuffer !== buffer) {\r\n                gl.bindBuffer(buffer.target, buffer.buffer);\r\n                this.state.boundElementBuffer = buffer;\r\n            }\r\n\r\n            gl.drawElements(gl[mode], length, gl.UNSIGNED_SHORT, 2 * offset);\r\n        }\r\n        else {\r\n            gl.drawArrays(gl[mode], 0, length);\r\n        }\r\n    }\r\n\r\n    this.state.lastDrawn = id;\r\n};\r\n\r\n\r\n/**\r\n * Updates the width and height of parent canvas, sets the viewport size on\r\n * the WebGL context and updates the resolution uniform for the shader program.\r\n * Size is retreived from the container object of the renderer.\r\n *\r\n * @method\r\n *\r\n * @param {Array} size width, height and depth of canvas\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.updateSize = function updateSize(size) {\r\n    if (size) {\r\n        var pixelRatio = window.devicePixelRatio || 1;\r\n        var displayWidth = ~~(size[0] * pixelRatio);\r\n        var displayHeight = ~~(size[1] * pixelRatio);\r\n        this.canvas.width = displayWidth;\r\n        this.canvas.height = displayHeight;\r\n        this.gl.viewport(0, 0, displayWidth, displayHeight);\r\n\r\n        this.cachedSize[0] = size[0];\r\n        this.cachedSize[1] = size[1];\r\n        this.cachedSize[2] = (size[0] > size[1]) ? size[0] : size[1];\r\n        this.resolutionValues[0] = this.cachedSize;\r\n    }\r\n\r\n    this.program.setUniforms(this.resolutionName, this.resolutionValues);\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Updates the state of the WebGL drawing context based on custom parameters\r\n * defined on a mesh.\r\n *\r\n * @method\r\n *\r\n * @param {Object} options Draw state options to be set to the context.\r\n * @param {Mesh} mesh Associated Mesh\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.handleOptions = function handleOptions(options, mesh) {\r\n    var gl = this.gl;\r\n    if (!options) return;\r\n\r\n    if (options.blending) gl.enable(gl.BLEND);\r\n\r\n    switch (options.side) {\r\n        case 'double':\r\n            this.gl.cullFace(this.gl.FRONT);\r\n            this.drawBuffers(this.bufferRegistry.registry[mesh.geometry], mesh.drawType, mesh.geometry);\r\n            this.gl.cullFace(this.gl.BACK);\r\n            break;\r\n        case 'back':\r\n            gl.cullFace(gl.FRONT);\r\n            break;\r\n    }\r\n};\r\n\r\n/**\r\n * Resets the state of the WebGL drawing context to default values.\r\n *\r\n * @method\r\n *\r\n * @param {Object} options Draw state options to be set to the context.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.resetOptions = function resetOptions(options) {\r\n    var gl = this.gl;\r\n    if (!options) return;\r\n    if (options.blending) gl.disable(gl.BLEND);\r\n    if (options.side === 'back') gl.cullFace(gl.BACK);\r\n};\r\n\r\nmodule.exports = WebGLRenderer;\r\n\n},{\"../utilities/Registry\":48,\"../utilities/keyValueToArrays\":50,\"./BufferRegistry\":53,\"./Program\":55,\"./TextureManager\":57,\"./compileMaterial\":59,\"./radixSort\":61}],59:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n'use strict';\r\n\r\nvar types = {\r\n    1: 'float ',\r\n    2: 'vec2 ',\r\n    3: 'vec3 ',\r\n    4: 'vec4 '\r\n};\r\n\r\n/**\r\n * Traverses material to create a string of glsl code to be applied in\r\n * the vertex or fragment shader.\r\n *\r\n * @method\r\n *\r\n * @param {Object} material Material to be compiled.\r\n * @param {Number} textureSlot Next available texture slot for Mesh.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction compileMaterial(material, textureSlot) {\r\n    var glsl = '';\r\n    var uniforms = {};\r\n    var varyings = {};\r\n    var attributes = {};\r\n    var defines = [];\r\n    var textures = [];\r\n\r\n    material.traverse(function (node, depth) {\r\n        if (! node.chunk) return;\r\n\r\n        var type = types[_getOutputLength(node)];\r\n        var label = _makeLabel(node);\r\n        var output = _processGLSL(node.chunk.glsl, node.inputs, textures.length + textureSlot);\r\n\r\n        glsl += type + label + ' = ' + output + '\\n ';\r\n\r\n        if (node.uniforms) _extend(uniforms, node.uniforms);\r\n        if (node.varyings) _extend(varyings, node.varyings);\r\n        if (node.attributes) _extend(attributes, node.attributes);\r\n        if (node.chunk.defines) defines.push(node.chunk.defines);\r\n        if (node.texture) textures.push(node.texture);\r\n    });\r\n\r\n    return {\r\n        _id: material._id,\r\n        glsl: glsl + 'return ' + _makeLabel(material) + ';',\r\n        defines: defines.join('\\n'),\r\n        uniforms: uniforms,\r\n        varyings: varyings,\r\n        attributes: attributes,\r\n        textures: textures\r\n    };\r\n}\r\n\r\n// Helper function used to infer length of the output\r\n// from a given material node.\r\nfunction _getOutputLength(node) {\r\n\r\n    // Handle constant values\r\n\r\n    if (typeof node === 'number') return 1;\r\n    if (Array.isArray(node)) return node.length;\r\n\r\n    // Handle materials\r\n\r\n    var output = node.chunk.output;\r\n    if (typeof output === 'number') return output;\r\n\r\n    // Handle polymorphic output\r\n\r\n    var key = node.inputs.map(function recurse(node) {\r\n        return _getOutputLength(node);\r\n    }).join(',');\r\n\r\n    return output[key];\r\n}\r\n\r\n// Helper function to run replace inputs and texture tags with\r\n// correct glsl.\r\nfunction _processGLSL(str, inputs, textureSlot) {\r\n    return str\r\n        .replace(/%\\d/g, function (s) {\r\n            return _makeLabel(inputs[s[1]-1]);\r\n        })\r\n        .replace(/\\$TEXTURE/, 'u_textures[' + textureSlot + ']');\r\n}\r\n\r\n// Helper function used to create glsl definition of the\r\n// input material node.\r\nfunction _makeLabel (n) {\r\n    if (Array.isArray(n)) return _arrayToVec(n);\r\n    if (typeof n === 'object') return 'fa_' + (n._id);\r\n    else return n.toFixed(6);\r\n}\r\n\r\n// Helper to copy the properties of an object onto another object.\r\nfunction _extend (a, b) {\r\n\tfor (var k in b) a[k] = b[k];\r\n}\r\n\r\n// Helper to create glsl vector representation of a javascript array.\r\nfunction _arrayToVec(array) {\r\n    var len = array.length;\r\n    return 'vec' + len + '(' + array.join(',')  + ')';\r\n}\r\n\r\nmodule.exports = compileMaterial;\r\n\n},{}],60:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Generates a checkerboard pattern to be used as a placeholder texture while\r\n * an image loads over the network.\r\n *\r\n * @method  createCheckerBoard\r\n *\r\n * @return {HTMLCanvasElement} The `canvas` element that has been used in order\r\n *                             to generate the pattern.\r\n */\r\nfunction createCheckerBoard() {\r\n    var context = document.createElement('canvas').getContext('2d');\r\n    context.canvas.width = context.canvas.height = 128;\r\n    for (var y = 0; y < context.canvas.height; y += 16) {\r\n        for (var x = 0; x < context.canvas.width; x += 16) {\r\n            context.fillStyle = (x ^ y) & 16 ? '#FFF' : '#DDD';\r\n            context.fillRect(x, y, 16, 16);\r\n        }\r\n    }\r\n\r\n    return context.canvas;\r\n}\r\n\r\nmodule.exports = createCheckerBoard;\r\n\n},{}],61:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n'use strict';\r\n\r\nvar radixBits = 11,\r\n    maxRadix = 1 << (radixBits),\r\n    radixMask = maxRadix - 1,\r\n    buckets = new Array(maxRadix * Math.ceil(64 / radixBits)),\r\n    msbMask = 1 << ((32 - 1) % radixBits),\r\n    lastMask = (msbMask << 1) - 1,\r\n    passCount = ((32 / radixBits) + 0.999999999999999) | 0,\r\n    maxOffset = maxRadix * (passCount - 1),\r\n    normalizer = Math.pow(20, 6);\r\n\r\nvar buffer = new ArrayBuffer(4);\r\nvar floatView = new Float32Array(buffer, 0, 1);\r\nvar intView = new Int32Array(buffer, 0, 1);\r\n\r\n// comparator pulls relevant sorting keys out of mesh\r\nfunction comp(list, registry, i) {\r\n    var key = list[i];\r\n    var item = registry[key];\r\n    return (item.depth ? item.depth : registry[key].uniformValues[1][14]) + normalizer;\r\n}\r\n\r\n//mutator function records mesh's place in previous pass\r\nfunction mutator(list, registry, i, value) {\r\n    var key = list[i];\r\n    registry[key].depth = intToFloat(value) - normalizer;\r\n    return key;\r\n}\r\n\r\n//clean function removes mutator function's record\r\nfunction clean(list, registry, i) {\r\n    registry[list[i]].depth = null;\r\n}\r\n\r\n//converts a javascript float to a 32bit integer using an array buffer\r\n//of size one\r\nfunction floatToInt(k) {\r\n    floatView[0] = k;\r\n    return intView[0];\r\n}\r\n//converts a 32 bit integer to a regular javascript float using an array buffer\r\n//of size one\r\nfunction intToFloat(k) {\r\n    intView[0] = k;\r\n    return floatView[0];\r\n}\r\n\r\n/**\r\n * Sorts an array of mesh IDs according to their z-depth.\r\n *\r\n * @param  {Array} list         An array of meshes.\r\n * @param  {Object} registry    A registry mapping the path names to meshes.\r\n * @return {Array}              An array of the meshes sorted by z-depth.\r\n */\r\nfunction radixSort(list, registry) {\r\n    var pass = 0;\r\n    var out = [];\r\n\r\n    var i, j, k, n, div, offset, swap, id, sum, tsum, size;\r\n\r\n    passCount = ((32 / radixBits) + 0.999999999999999) | 0;\r\n\r\n    for (i = 0, n = maxRadix * passCount; i < n; i++) buckets[i] = 0;\r\n\r\n    for (i = 0, n = list.length; i < n; i++) {\r\n        div = floatToInt(comp(list, registry, i));\r\n        div ^= div >> 31 | 0x80000000;\r\n        for (j = 0, k = 0; j < maxOffset; j += maxRadix, k += radixBits) {\r\n            buckets[j + (div >>> k & radixMask)]++;\r\n        }\r\n        buckets[j + (div >>> k & lastMask)]++;\r\n    }\r\n\r\n    for (j = 0; j <= maxOffset; j += maxRadix) {\r\n        for (id = j, sum = 0; id < j + maxRadix; id++) {\r\n            tsum = buckets[id] + sum;\r\n            buckets[id] = sum - 1;\r\n            sum = tsum;\r\n        }\r\n    }\r\n    if (--passCount) {\r\n        for (i = 0, n = list.length; i < n; i++) {\r\n            div = floatToInt(comp(list, registry, i));\r\n            out[++buckets[div & radixMask]] = mutator(list, registry, i, div ^= div >> 31 | 0x80000000);\r\n        }\r\n        \r\n        swap = out;\r\n        out = list;\r\n        list = swap;\r\n        while (++pass < passCount) {\r\n            for (i = 0, n = list.length, offset = pass * maxRadix, size = pass * radixBits; i < n; i++) {\r\n                div = floatToInt(comp(list, registry, i));\r\n                out[++buckets[offset + (div >>> size & radixMask)]] = list[i];\r\n            }\r\n\r\n            swap = out;\r\n            out = list;\r\n            list = swap;\r\n        }\r\n    }\r\n\r\n    for (i = 0, n = list.length, offset = pass * maxRadix, size = pass * radixBits; i < n; i++) {\r\n        div = floatToInt(comp(list, registry, i));\r\n        out[++buckets[offset + (div >>> size & lastMask)]] = mutator(list, registry, i, div ^ (~div >> 31 | 0x80000000));\r\n        clean(list, registry, i);\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\nmodule.exports = radixSort;\r\n\n},{}],62:[function(require,module,exports){\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n\r\n\r\nvar shaders = {\r\n    vertex: \"#define GLSLIFY 1\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * Calculates transpose inverse matrix from transform\\r\\n * \\r\\n * @method random\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\n\\r\\n\\r\\nmat3 getNormalMatrix_1_0(in mat4 t) {\\r\\n   mat3 matNorm;\\r\\n   mat4 a = t;\\r\\n\\r\\n   float a00 = a[0][0], a01 = a[0][1], a02 = a[0][2], a03 = a[0][3],\\r\\n   a10 = a[1][0], a11 = a[1][1], a12 = a[1][2], a13 = a[1][3],\\r\\n   a20 = a[2][0], a21 = a[2][1], a22 = a[2][2], a23 = a[2][3],\\r\\n   a30 = a[3][0], a31 = a[3][1], a32 = a[3][2], a33 = a[3][3],\\r\\n   b00 = a00 * a11 - a01 * a10,\\r\\n   b01 = a00 * a12 - a02 * a10,\\r\\n   b02 = a00 * a13 - a03 * a10,\\r\\n   b03 = a01 * a12 - a02 * a11,\\r\\n   b04 = a01 * a13 - a03 * a11,\\r\\n   b05 = a02 * a13 - a03 * a12,\\r\\n   b06 = a20 * a31 - a21 * a30,\\r\\n   b07 = a20 * a32 - a22 * a30,\\r\\n   b08 = a20 * a33 - a23 * a30,\\r\\n   b09 = a21 * a32 - a22 * a31,\\r\\n   b10 = a21 * a33 - a23 * a31,\\r\\n   b11 = a22 * a33 - a23 * a32,\\r\\n\\r\\n   det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\\r\\n   det = 1.0 / det;\\r\\n\\r\\n   matNorm[0][0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\\r\\n   matNorm[0][1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\\r\\n   matNorm[0][2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\\r\\n\\r\\n   matNorm[1][0] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\\r\\n   matNorm[1][1] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\\r\\n   matNorm[1][2] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\\r\\n\\r\\n   matNorm[2][0] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\\r\\n   matNorm[2][1] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\\r\\n   matNorm[2][2] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\\r\\n\\r\\n   return matNorm;\\r\\n}\\r\\n\\r\\n\\n\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * Calculates a matrix that creates the identity when multiplied by m\\r\\n * \\r\\n * @method inverse\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\n\\r\\n\\r\\nfloat inverse_2_1(float m) {\\r\\n    return 1.0 / m;\\r\\n}\\r\\n\\r\\nmat2 inverse_2_1(mat2 m) {\\r\\n    return mat2(m[1][1],-m[0][1],\\r\\n               -m[1][0], m[0][0]) / (m[0][0]*m[1][1] - m[0][1]*m[1][0]);\\r\\n}\\r\\n\\r\\nmat3 inverse_2_1(mat3 m) {\\r\\n    float a00 = m[0][0], a01 = m[0][1], a02 = m[0][2];\\r\\n    float a10 = m[1][0], a11 = m[1][1], a12 = m[1][2];\\r\\n    float a20 = m[2][0], a21 = m[2][1], a22 = m[2][2];\\r\\n\\r\\n    float b01 =  a22 * a11 - a12 * a21;\\r\\n    float b11 = -a22 * a10 + a12 * a20;\\r\\n    float b21 =  a21 * a10 - a11 * a20;\\r\\n\\r\\n    float det = a00 * b01 + a01 * b11 + a02 * b21;\\r\\n\\r\\n    return mat3(b01, (-a22 * a01 + a02 * a21), (a12 * a01 - a02 * a11),\\r\\n                b11, (a22 * a00 - a02 * a20), (-a12 * a00 + a02 * a10),\\r\\n                b21, (-a21 * a00 + a01 * a20), (a11 * a00 - a01 * a10)) / det;\\r\\n}\\r\\n\\r\\nmat4 inverse_2_1(mat4 m) {\\r\\n    float\\r\\n        a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\\r\\n        a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\\r\\n        a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\\r\\n        a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\\r\\n\\r\\n        b00 = a00 * a11 - a01 * a10,\\r\\n        b01 = a00 * a12 - a02 * a10,\\r\\n        b02 = a00 * a13 - a03 * a10,\\r\\n        b03 = a01 * a12 - a02 * a11,\\r\\n        b04 = a01 * a13 - a03 * a11,\\r\\n        b05 = a02 * a13 - a03 * a12,\\r\\n        b06 = a20 * a31 - a21 * a30,\\r\\n        b07 = a20 * a32 - a22 * a30,\\r\\n        b08 = a20 * a33 - a23 * a30,\\r\\n        b09 = a21 * a32 - a22 * a31,\\r\\n        b10 = a21 * a33 - a23 * a31,\\r\\n        b11 = a22 * a33 - a23 * a32,\\r\\n\\r\\n        det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\\r\\n\\r\\n    return mat4(\\r\\n        a11 * b11 - a12 * b10 + a13 * b09,\\r\\n        a02 * b10 - a01 * b11 - a03 * b09,\\r\\n        a31 * b05 - a32 * b04 + a33 * b03,\\r\\n        a22 * b04 - a21 * b05 - a23 * b03,\\r\\n        a12 * b08 - a10 * b11 - a13 * b07,\\r\\n        a00 * b11 - a02 * b08 + a03 * b07,\\r\\n        a32 * b02 - a30 * b05 - a33 * b01,\\r\\n        a20 * b05 - a22 * b02 + a23 * b01,\\r\\n        a10 * b10 - a11 * b08 + a13 * b06,\\r\\n        a01 * b08 - a00 * b10 - a03 * b06,\\r\\n        a30 * b04 - a31 * b02 + a33 * b00,\\r\\n        a21 * b02 - a20 * b04 - a23 * b00,\\r\\n        a11 * b07 - a10 * b09 - a12 * b06,\\r\\n        a00 * b09 - a01 * b07 + a02 * b06,\\r\\n        a31 * b01 - a30 * b03 - a32 * b00,\\r\\n        a20 * b03 - a21 * b01 + a22 * b00) / det;\\r\\n}\\r\\n\\r\\n\\n\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * Reflects a matrix over its main diagonal.\\r\\n * \\r\\n * @method transpose\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\n\\r\\n\\r\\nfloat transpose_3_2(float m) {\\r\\n    return m;\\r\\n}\\r\\n\\r\\nmat2 transpose_3_2(mat2 m) {\\r\\n    return mat2(m[0][0], m[1][0],\\r\\n                m[0][1], m[1][1]);\\r\\n}\\r\\n\\r\\nmat3 transpose_3_2(mat3 m) {\\r\\n    return mat3(m[0][0], m[1][0], m[2][0],\\r\\n                m[0][1], m[1][1], m[2][1],\\r\\n                m[0][2], m[1][2], m[2][2]);\\r\\n}\\r\\n\\r\\nmat4 transpose_3_2(mat4 m) {\\r\\n    return mat4(m[0][0], m[1][0], m[2][0], m[3][0],\\r\\n                m[0][1], m[1][1], m[2][1], m[3][1],\\r\\n                m[0][2], m[1][2], m[2][2], m[3][2],\\r\\n                m[0][3], m[1][3], m[2][3], m[3][3]);\\r\\n}\\r\\n\\r\\n\\n\\n\\r\\n/**\\r\\n * Converts vertex from modelspace to screenspace using transform\\r\\n * information from context.\\r\\n *\\r\\n * @method applyTransform\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\n\\r\\nvec4 applyTransform(vec4 pos) {\\r\\n    //TODO: move this multiplication to application code. \\r\\n\\r\\n    /**\\r\\n     * Currently multiplied in the vertex shader to avoid consuming the complexity of holding an additional\\r\\n     * transform as state on the mesh object in WebGLRenderer. Multiplies the object's transformation from object space\\r\\n     * to world space with its transformation from world space to eye space.\\r\\n     */\\r\\n    mat4 MVMatrix = u_view * u_transform;\\r\\n\\r\\n    //TODO: move the origin, sizeScale and y axis inversion to application code in order to amortize redundant per-vertex calculations.\\r\\n\\r\\n    /**\\r\\n     * The transform uniform should be changed to the result of the transformation chain:\\r\\n     *\\r\\n     * view * modelTransform * invertYAxis * sizeScale * origin\\r\\n     *\\r\\n     * which could be simplified to:\\r\\n     *\\r\\n     * view * modelTransform * convertToDOMSpace\\r\\n     *\\r\\n     * where convertToDOMSpace represents the transform matrix:\\r\\n     *\\r\\n     *                           size.x 0       0       size.x \\r\\n     *                           0      -size.y 0       size.y\\r\\n     *                           0      0       1       0\\r\\n     *                           0      0       0       1\\r\\n     *\\r\\n     */\\r\\n\\r\\n    /**\\r\\n     * Assuming a unit volume, moves the object space origin [0, 0, 0] to the \\\"top left\\\" [1, -1, 0], the DOM space origin.\\r\\n     * Later in the transformation chain, the projection transform negates the rigidbody translation.\\r\\n     * Equivalent to (but much faster than) multiplying a translation matrix \\\"origin\\\"\\r\\n     *\\r\\n     *                           1 0 0 1 \\r\\n     *                           0 1 0 -1\\r\\n     *                           0 0 1 0\\r\\n     *                           0 0 0 1\\r\\n     *\\r\\n     * in the transform chain: projection * view * modelTransform * invertYAxis * sizeScale * origin * positionVector.\\r\\n     */\\r\\n    pos.x += 1.0;\\r\\n    pos.y -= 1.0;\\r\\n\\r\\n    /**\\r\\n     * Assuming a unit volume, scales an object to the amount of pixels in the size uniform vector's specified dimensions.\\r\\n     * Later in the transformation chain, the projection transform transforms the point into clip space by scaling\\r\\n     * by the inverse of the canvas' resolution.\\r\\n     * Equivalent to (but much faster than) multiplying a scale matrix \\\"sizeScale\\\"\\r\\n     *\\r\\n     *                           size.x 0      0      0 \\r\\n     *                           0      size.y 0      0\\r\\n     *                           0      0      size.z 0\\r\\n     *                           0      0      0      1\\r\\n     *\\r\\n     * in the transform chain: projection * view * modelTransform * invertYAxis * sizeScale * origin * positionVector.\\r\\n     */\\r\\n    pos.xyz *= u_size * 0.5;\\r\\n\\r\\n    /**\\r\\n     * Inverts the object space's y axis in order to match DOM space conventions. \\r\\n     * Later in the transformation chain, the projection transform reinverts the y axis to convert to clip space.\\r\\n     * Equivalent to (but much faster than) multiplying a scale matrix \\\"invertYAxis\\\"\\r\\n     *\\r\\n     *                           1 0 0 0 \\r\\n     *                           0 -1 0 0\\r\\n     *                           0 0 1 0\\r\\n     *                           0 0 0 1\\r\\n     *\\r\\n     * in the transform chain: projection * view * modelTransform * invertYAxis * sizeScale * origin * positionVector.\\r\\n     */\\r\\n    pos.y *= -1.0;\\r\\n\\r\\n    /**\\r\\n     * Exporting the vertex's position as a varying, in DOM space, to be used for lighting calculations. This has to be in DOM space\\r\\n     * since light position and direction is derived from the scene graph, calculated in DOM space.\\r\\n     */\\r\\n\\r\\n    v_position = (MVMatrix * pos).xyz;\\r\\n\\r\\n    /**\\r\\n    * Exporting the eye vector (a vector from the center of the screen) as a varying, to be used for lighting calculations.\\r\\n    * In clip space deriving the eye vector is a matter of simply taking the inverse of the position, as the position is a vector\\r\\n    * from the center of the screen. However, since our points are represented in DOM space,\\r\\n    * the position is a vector from the top left corner of the screen, so some additional math is needed (specifically, subtracting\\r\\n    * the position from the center of the screen, i.e. half the resolution of the canvas).\\r\\n    */\\r\\n\\r\\n    v_eyeVector = (u_resolution * 0.5) - v_position;\\r\\n\\r\\n    /**\\r\\n     * Transforming the position (currently represented in dom space) into view space (with our dom space view transform)\\r\\n     * and then projecting the point into raster both by applying a perspective transformation and converting to clip space\\r\\n     * (the perspective matrix is a combination of both transformations, therefore it's probably more apt to refer to it as a\\r\\n     * projection transform).\\r\\n     */\\r\\n\\r\\n    pos = u_perspective * MVMatrix * pos;\\r\\n\\r\\n    return pos;\\r\\n}\\r\\n\\r\\n/**\\r\\n * Placeholder for positionOffset chunks to be templated in.\\r\\n * Used for mesh deformation.\\r\\n *\\r\\n * @method calculateOffset\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\n#vert_definitions\\r\\nvec3 calculateOffset(vec3 ID) {\\r\\n    #vert_applications\\r\\n    return vec3(0.0);\\r\\n}\\r\\n\\r\\n/**\\r\\n * Writes the position of the vertex onto the screen.\\r\\n * Passes texture coordinate and normal attributes as varyings\\r\\n * and passes the position attribute through position pipeline.\\r\\n *\\r\\n * @method main\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\nvoid main() {\\r\\n    v_textureCoordinate = a_texCoord;\\r\\n    vec3 invertedNormals = a_normals + (u_normals.x < 0.0 ? calculateOffset(u_normals) * 2.0 - 1.0 : vec3(0.0));\\r\\n    invertedNormals.y *= -1.0;\\r\\n    v_normal = transpose_3_2(mat3(inverse_2_1(u_transform))) * invertedNormals;\\r\\n    vec3 offsetPos = a_pos + calculateOffset(u_positionOffset);\\r\\n    gl_Position = applyTransform(vec4(offsetPos, 1.0));\\r\\n}\\r\\n\",\r\n    fragment: \"#define GLSLIFY 1\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * Placeholder for fragmentShader  chunks to be templated in.\\r\\n * Used for normal mapping, gloss mapping and colors.\\r\\n * \\r\\n * @method applyMaterial\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\n\\r\\n#float_definitions\\r\\nfloat applyMaterial_1_0(float ID) {\\r\\n    #float_applications\\r\\n    return 1.;\\r\\n}\\r\\n\\r\\n#vec3_definitions\\r\\nvec3 applyMaterial_1_0(vec3 ID) {\\r\\n    #vec3_applications\\r\\n    return vec3(0);\\r\\n}\\r\\n\\r\\n#vec4_definitions\\r\\nvec4 applyMaterial_1_0(vec4 ID) {\\r\\n    #vec4_applications\\r\\n\\r\\n    return vec4(0);\\r\\n}\\r\\n\\r\\n\\n\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * Calculates the intensity of light on a surface.\\r\\n *\\r\\n * @method applyLight\\r\\n * @private\\r\\n *\\r\\n */\\r\\nvec4 applyLight_2_1(in vec4 baseColor, in vec3 normal, in vec4 glossiness, int numLights, vec3 ambientColor, vec3 eyeVector, mat4 lightPosition, mat4 lightColor, vec3 v_position) {\\r\\n    vec3 diffuse = vec3(0.0);\\r\\n    bool hasGlossiness = glossiness.a > 0.0;\\r\\n    bool hasSpecularColor = length(glossiness.rgb) > 0.0;\\r\\n\\r\\n    for(int i = 0; i < 4; i++) {\\r\\n        if (i >= numLights) break;\\r\\n        vec3 lightDirection = normalize(lightPosition[i].xyz - v_position);\\r\\n        float lambertian = max(dot(lightDirection, normal), 0.0);\\r\\n\\r\\n        if (lambertian > 0.0) {\\r\\n            diffuse += lightColor[i].rgb * baseColor.rgb * lambertian;\\r\\n            if (hasGlossiness) {\\r\\n                vec3 halfVector = normalize(lightDirection + eyeVector);\\r\\n                float specularWeight = pow(max(dot(halfVector, normal), 0.0), glossiness.a);\\r\\n                vec3 specularColor = hasSpecularColor ? glossiness.rgb : lightColor[i].rgb;\\r\\n                diffuse += specularColor * specularWeight * lambertian;\\r\\n            }\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    return vec4(ambientColor + diffuse, baseColor.a);\\r\\n}\\r\\n\\r\\n\\n\\n\\r\\n\\r\\n/**\\r\\n * Writes the color of the pixel onto the screen\\r\\n *\\r\\n * @method main\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\nvoid main() {\\r\\n    vec4 material = u_baseColor.r >= 0.0 ? u_baseColor : applyMaterial_1_0(u_baseColor);\\r\\n\\r\\n    /**\\r\\n     * Apply lights only if flat shading is false\\r\\n     * and at least one light is added to the scene\\r\\n     */\\r\\n    bool lightsEnabled = (u_flatShading == 0.0) && (u_numLights > 0.0 || length(u_ambientLight) > 0.0);\\r\\n\\r\\n    vec3 normal = normalize(v_normal);\\r\\n    vec4 glossiness = u_glossiness.x < 0.0 ? applyMaterial_1_0(u_glossiness) : u_glossiness;\\r\\n\\r\\n    vec4 color = lightsEnabled ?\\r\\n    applyLight_2_1(material, normalize(v_normal), glossiness,\\r\\n               int(u_numLights),\\r\\n               u_ambientLight * u_baseColor.rgb,\\r\\n               normalize(v_eyeVector),\\r\\n               u_lightPosition,\\r\\n               u_lightColor,   \\r\\n               v_position)\\r\\n    : material;\\r\\n\\r\\n    gl_FragColor = color;\\r\\n    gl_FragColor.a *= u_opacity;   \\r\\n}\\r\\n\"\r\n};\r\n\r\nmodule.exports = shaders;\r\n\n},{}],63:[function(require,module,exports){\nvar config = require( './config.json' );\r\n// new Ajax('/xxx')  \t\t\t\t\turl\r\n// \t.config({timeout: 3000})\ttimeout async  true\r\n// \t.router([])\t\t\t\t\t\t\t\t\r\n// \t.data({})\t\t\t\t\t\t\t\t\tpost\r\n// \t.path({})\t\t\t\t\t\t\t\t\t\r\n// \t.success(fn)\t\t\t\t\t\t\t\r\n// \t.error(fn)\t\t\t\t\t\t\t\t\r\n// \t.timeout(fn)\t\t\t\t\t\t\t\r\n// .get();post();\tput();delete();\t\t\t\t\t\t  get / post \r\n\r\nfunction Ajax( url ) {\r\n\tif( typeof url !== 'string' )\r\n\t\tthrow new Error( 'Ajax option error!' );\r\n\r\n\t//  \r\n\tthis.url = !~url.indexOf( 'http' ) ? config.ajax_base + '/v' + config.version + url.replace( /^\\/*/,'/' ) : url;\r\n}\r\n\r\n// Ajax \r\nAjax.prototype.config = function( cfg ){\r\n\tthis.cfg = cfg;\r\n\treturn this;\r\n}\r\n\r\n// Ajax \r\nAjax.prototype.router = function( router ){\r\n\r\n\tif( !router )\r\n\t\tthrow new Error( 'Router' );\r\n\r\n\tif( router.constructor.name === 'String' )\r\n\t\trouter = '/' + router;\r\n\telse\r\n\t\trouter = '/' + router.join( '/' );\r\n\r\n\tvar aUrl = this.url.split( '?' );\r\n\tthis.url = aUrl[0].replace( /\\/*$/, router );\r\n\taUrl[1] && (this.url = this.url + aUrl[1]);\r\n\r\n\tthis.r = router;\r\n\treturn this;\r\n}\r\n\r\n// Ajax data\r\nAjax.prototype.data = function( data ){\r\n\tvar sData = [];\r\n\tfor( var i in data )\r\n\t\tsData.push( i + '=' + data[i] );\r\n\tsData =  '&' + sData.join( '&' );\r\n\r\n\tthis.d = sData;\r\n\treturn this;\r\n}\r\n\r\n// Ajax ?\r\nAjax.prototype.path = function ( path ){\r\n\r\n\tvar sPath = [];\r\n\tfor( var i in path )\r\n\t\tsPath.push( i + '=' + path[i] );\r\n\tsPath =  sPath.join( '&' );\r\n\r\n\tif( !~this.url.indexOf( '?' ) )\r\n\t\tthis.url = this.url.replace( /\\/*$/, '?' + sPath )\r\n\telse\r\n\t\tthis.url = this.url.replace( /[&\\/]*$/, '&' + sPath );\r\n\r\n\tthis.p = sPath;\r\n\treturn this;\r\n}\r\n\r\n// Ajax \r\nAjax.prototype.success = function( fn ) {\r\n\tif( !fn || typeof fn  !== 'function' )\r\n\t\tthrow new Error( '!' );\r\n\r\n\tthis.s = fn;\r\n\treturn this;\r\n}\r\n\r\n// Ajax \r\nAjax.prototype.error = function( fn ){\r\n\tif( !fn || typeof fn  !== 'function' )\r\n\t\tthrow new Error( '!' );\r\n\r\n\tthis.e = fn;\r\n\treturn this;\r\n}\r\n\r\n// \r\nAjax.prototype.timeout = function( fn ){\r\n\tif( !fn || typeof fn  !== 'function' )\r\n\t\tthrow new Error( '!' );\r\n\r\n\tthis.t = fn;\r\n\treturn this;\r\n}\r\n\r\n// get \r\nAjax.prototype.get = function(){\r\n\tthis.m = 'GET';\r\n\tthis.exec();\r\n}\r\n\r\n// post \r\nAjax.prototype.post = function(xx){\r\n\tthis.m = 'POST';\r\n\tthis.exec(xx);\r\n}\r\n\r\n// put \r\nAjax.prototype.put = function(){\r\n\tthis.m = 'PUT';\r\n\tthis.exec();\r\n}\r\n\r\n// delete \r\nAjax.prototype.delete = function(){\r\n\tthis.m = 'DELETE';\r\n\tthis.exec();\r\n}\r\n\r\nAjax.prototype.exec = function(xx){\r\n\r\n\tthis.cfg = this.cfg || {};\r\n\r\n\tvar xhr = new XMLHttpRequest();\r\n\r\n\t// 3000\r\n\txhr.timeout =  this.cfg.timeout || 3000;\r\n\r\n\t//   true\r\n\tif(xx == false){\r\n\t\tthis.async = false;\r\n\t}else{\r\n\t\tthis.async = typeof this.cfg.async === 'boolean' ? this.cfg.async : true;\r\n\t}\r\n\t\r\n\r\n\txhr.open( this.m, this.url, this.async );\r\n\r\n\tif( this.m === 'GET' )\r\n\t\txhr.send( null );\r\n\telse{\r\n\t\txhr.setRequestHeader( 'Content-Type', 'application/x-www-form-urlencoded' );\r\n\t\txhr.send( this.d );\r\n\t}\r\n\r\n\txhr.ontimeout = this.t;\r\n\r\n\tif( !this.async )\r\n\t  callback( xhr, this );\r\n\telse\r\n\t\txhr.onreadystatechange = function(){\r\n\t\t\tif( xhr.readyState === 4 )\r\n\t\t\t\tcallback( xhr, this );\r\n\t\t}.bind( this )\r\n}\r\n\r\nfunction callback( xhr, obj ){\r\n\tvar result = '';\r\n\tif( xhr.status == 200 ){\r\n\t\ttry{\r\n\t\t\tresult = JSON.parse( xhr.response );\r\n\t\t}catch(e){\r\n\t\t\tresult = xhr.response;\r\n\t\t}\r\n\t\tobj.s( result );\r\n\t}else \r\n\t\tobj.e && obj.e( xhr );\r\n}\r\n\r\n\r\nmodule.exports = Ajax;\n},{\"./config.json\":76}],64:[function(require,module,exports){\nmodule.exports = new function() {\r\n\r\n\t// \r\n\t\r\n\t// \r\n\tthis.height = 0;\r\n\t// \r\n\tthis.width = 0;\t\r\n\t// \r\n\tthis.devicePixelRatio = 0;\r\n\t// uuid\r\n\tthis.uuid = null;\r\n\t// \r\n\tthis.model = null;\r\n\t// \r\n\tthis.version = null;\r\n\t//  IOS / ANDROID\r\n\tthis.platform = null;\r\n}();\n},{}],65:[function(require,module,exports){\n/**\r\n*  window OR webworker  alertconfirmpromptbeep \r\n*   cordova-plugin-dialogs \r\n*/\r\n\r\nvar CrossCall = require(\"famous/core/CrossCall\");\r\nvar _self = (typeof window == \"undefined\") ? self: window;\r\n\r\n/**\r\n*Shows a custom alert or dialog box. Most Cordova implementations use a native dialog box for this feature,\r\n but some platforms use the browser's alert function, which is typically less customizable.\r\n* \r\n*Example\r\n*\r\n*alert(\r\n    'You are the winner!',  // message\r\n    alertDismissed,         // callback\r\n    'Game Over',            // title\r\n    'Done'                  // buttonName\r\n*);\t\r\n*/\r\n_self.alert = function(message, resultCallback, title, buttonLabel) {\r\n\t_call (\"alert\", message, resultCallback, title, buttonLabel)\r\n}\r\n/**\r\n*Displays a customizable confirmation dialog box.\r\n* \r\n*Example\r\n*\r\n*confirm(\r\n    'You are the winner!', // message\r\n     onConfirm,            // callback to invoke with index of button pressed\r\n    'Game Over',           // title\r\n    ['Restart','Exit']     // buttonLabels\r\n);\r\n*/\r\n_self.confirm = function(message, resultCallback, title, buttonLabels) {\r\n\t_call (\"confirm\", message, resultCallback, title, buttonLabels);\r\n}\r\n\r\n/**\r\n* Displays a native dialog box that is more customizable than the browser's prompt function.\r\n* \r\n* message: Dialog message. (String)\r\n* resultCallback: Callback to invoke with index of button pressed (1, 2, or 3) or when the dialog is dismissed without a button press (0). (Function)\r\n* title: Dialog title (String) (Optional, defaults to Prompt)\r\n* buttonLabels: Array of strings specifying button labels (Array) (Optional, defaults to [\"OK\",\"Cancel\"])\r\n* defaultText: Default textbox input value (String) (Optional, Default: empty string)\r\n*\r\n*Example\r\n*\r\n*prompt(\r\n    'Please enter your name',  // message\r\n    onPrompt,                  // callback to invoke\r\n    'Registration',            // title\r\n    ['Ok','Exit'],             // buttonLabels\r\n    'Jane Doe'                 // defaultText\r\n);\r\n*/\r\n_self.prompt = function(message, resultCallback, title, buttonLabels, defaultText) {\r\n\t_call (\"prompt\", message, resultCallback, title, buttonLabels, defaultText);\r\n}\r\n\r\n/**\r\n* The device plays a beep sound.\r\n* times: The number of times to repeat the beep. (Number)\r\n*/\r\n_self.beep = function(times){\r\n    _call (\"beep\", times);\r\n}\r\n\r\n\r\n\r\nfunction  _call(name, message, resultCallback, title, buttonLabels, defaultText) {\r\n\tnew CrossCall(function (name, message, title, buttonLabels, defaultText) {\r\n\t\tnavigator.notification[name].call(\r\n\t\t\tnavigator.notification,\r\n\t\t\tmessage,\r\n\t\t\tfunction (arg) {\r\n\t            self._call(arg);\r\n\r\n\t\t    },title, buttonLabels, defaultText);\r\n\t}, [name, message, title, buttonLabels, defaultText]).exec(function (arg) {\r\n\r\n\t\tif( resultCallback)\r\n\t\t\tresultCallback(arg);\r\n\t});\t\r\n}\r\n\n},{\"famous/core/CrossCall\":9}],66:[function(require,module,exports){\nvar CrossCall = require('famous/core/CrossCall');\r\n\r\n//cordova-plugin-google-analytics \r\n// cordova plugin add https://github.com/danwilson/google-analytics-plugin.git\r\n\r\nfunction googleAnalytics(){\r\n\tthis.cross = new CrossCall();\r\n}\r\n\r\n//To track a Screen (PageView):\r\ngoogleAnalytics.prototype.trackView = function(arg){\r\n\tthis._callWin( \"trackView\", [arg]);\r\n};\r\n\r\n\r\n//To track User Timing (App Speed):\r\ngoogleAnalytics.prototype.trackTiming = function(Category, IntervalInMilliseconds, Variable, Label){\r\n    this._callWin( \"trackTiming\", [Category, IntervalInMilliseconds, Variable, Label]);\r\n};\r\n\r\n//To track an Exception:\r\ngoogleAnalytics.prototype.trackException = function(Description, Fatal){\r\n    this._callWin( \"trackException\", [Description, Fatal]);\r\n};\r\n\r\n//To add a Transaction (Ecommerce)\r\ngoogleAnalytics.prototype.addTransaction = function(ID, Affiliation, Revenue, Tax, Shipping, CurrencyCode){\r\n    this._callWin( \"addTransaction\", [ID, Affiliation, Revenue, Tax, Shipping, CurrencyCode]);\r\n};\r\n\r\n\r\n//To add a Transaction Item (Ecommerce)\r\n\r\ngoogleAnalytics.prototype.addTransactionItem = function(ID, Name, SKU, Category, Price, Quantity, CurrencyCode) {\r\n\tthis._callWin( \"addTransactionItem\",[ID, Name, SKU, Category, Price, Quantity, CurrencyCode]);\r\n};\r\n//To add a Custom Dimension\r\n\r\ngoogleAnalytics.prototype.addCustomDimension = function (Key, Value, success, error){\r\n\tthis.cross.setFun(function(Key, Value){\r\n\r\n\t\twindow.analytics.addCustomDimension(Key, Value,\r\n\t\t\tfunction(e){self._call({stats:1,res:e})},\r\n\t\t\tfunction(e){self._call({stats:0,res:e})})\r\n\t\t\r\n\t},[Key, Value]).exec(function(e){\r\n\t\tif( e.stats && typeof success  === 'function')\r\n   \t\t\tsuccess(e.res);\r\n   \t\telse \r\n   \t\t\t(typeof error  === 'function') && error(e.res);\r\n\t});\r\n   \r\n};\r\n//To set a UserId:\r\n\r\ngoogleAnalytics.prototype.setUserId = function (myuserid){\r\n\tthis._callWin('setUserId',[myuserid]);\r\n};\r\n//To enable verbose logging:\r\n\r\ngoogleAnalytics.prototype.debugMode = function(){\r\n\tthis._callWin('debugMode',[]);\r\n};\r\n\r\n//To enable/disable automatic reporting of uncaught exceptions\r\ngoogleAnalytics.prototype.enableUncaughtExceptionReporting = function(Enable, success, error){\r\n\r\n    this.cross.setFun(function(Enable){\r\n\r\n\t\twindow.analytics.enableUncaughtExceptionReporting(Enable,\r\n\t\t\tfunction(e){self._call({stats:1,res:e})},\r\n\t\t\tfunction(e){self._call({stats:0,res:e})})\r\n\t\t\r\n\t},[Enable]).exec(function(e){\r\n\t\tif( e.stats && typeof success  === 'function')\r\n   \t\t\tsuccess(e.res);\r\n   \t\telse\r\n   \t\t\t(typeof error  === 'function') && error(e.res);\r\n\t});\r\n   \r\n};\r\n\r\n\r\ngoogleAnalytics.prototype._callWin = function(name,arg){\r\n\tthis.cross.setFun(function(name, arg){\r\n\r\n\t\twindow.analytics[name].apply(window.analytics, arg)\r\n\t\t\r\n\t},[name, arg]).exec();\r\n};\r\n\r\nmodule.exports = new googleAnalytics();\r\n\r\n\n},{\"famous/core/CrossCall\":9}],67:[function(require,module,exports){\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Button = require('button');\r\n\r\n/*\r\n*obj\r\n*i:\r\n*height\r\n*\r\n*/\r\n\r\nclass IconItem extends Node{\r\n\tconstructor(obj,i,height){\r\n\t\tsuper()\r\n\r\n\t\tthis\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,height)\r\n\t\t\t.setPosition(0,i*height)\r\n\t\t\t.setAlign(.5)\r\n\t\t\t.setMountPoint(.5)\r\n\t\t\t.el = new DOMElement(this,{\r\n\t\t\t\tclasses:['icon_item','fa-button'],\r\n\t\t\t\tcontent:'<div class=\"inner_item\"><img src=\"'+obj.icon+'\"><span>'+obj.desc+'</span></div>'\r\n\t\t\t})\r\n\r\n\t\tthis.addUIEvent('touchstart');\r\n\t\tthis.addUIEvent('touchend');\r\n\t\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\t\tif(e === 'touchstart'){\r\n\t\t\tthis.el.addClass(\"bt-active\");\r\n\t\t}else if( e === 'touchend'){\r\n\t\t\tthis.el.removeClass(\"bt-active\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = IconItem;\n},{\"button\":75,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21}],68:[function(require,module,exports){\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\n\r\nclass IconText extends Node{\r\n\tconstructor(obj,i,countX,sizeY,mt,cls){\r\n\t\tsuper()\r\n\r\n\t\tthis\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,sizeY)\r\n\t\t\t.setProportionalSize(1/countX)\r\n\t\t\t.setPosition(0,(Math.floor(i/countX)) * sizeY + (Math.floor(i/countX) + 1 ) * mt)\r\n\t\t\t.setAlign(i % countX/countX,0)\r\n\t\t\t.el = new DOMElement(this,{\r\n\t\t\t\tclasses:[cls,'fa-button'],\r\n\t\t\t\tcontent:'<img src=\"'+obj.icon+'\"><p>'+obj.text+'</p>'\r\n\t\t\t})\r\n\r\n\t\tthis.listId = IconText;\r\n\t\tthis.addUIEvent('touchstart');\r\n\t\tthis.addUIEvent('touchend');\r\n\t\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\t\tif(e === 'touchstart'){\r\n\t\t\tthis.el.addClass(\"bt-active\");\r\n\t\t}else if( e === 'touchend'){\r\n\t\t\tthis.el.removeClass(\"bt-active\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = IconText;\n},{\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21}],69:[function(require,module,exports){\nvar Node = require(\"famous/core/Node\");\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar GestureHandler = require(\"famous/components/GestureHandler\") ;\r\nvar timer = null;\r\n/**\r\n*ListView  \r\n*/\r\nfunction ListView (arg) {\r\n\tNode.call(this);\r\n\r\n\tthis._allData = [];\r\n\tthis._domList = [];\r\n    this._lock = false;\r\n\r\n    //\r\n    this.opt = {\r\n        threshold:2,// item \r\n        throttle:32,// Scroll\r\n        itemSize:[200,65],//item  \r\n        margin:[0,0,0,0], // Margin\r\n        animate:false, //TODO \r\n        createItem:null\r\n        \r\n    }\r\n    this.optInit(arg);\r\n\r\n\t//\r\n    this._temp = null;\r\n    \r\n    this.scrollTop = 0;\r\n    //height+marginTop = itemH\r\n    this.itemH = this.opt.itemSize[1]+this.opt.margin[0];\r\n    \r\n\t\r\n    this.linked = new LinkedListViewSequence([]);\r\n\r\n    //this._addPullDownRefreshNode();\r\n    //this._addPullUpRefreshNode();\r\n    this._addScrollCentent();\r\n\r\n\tthis.c.addUIEvent(\"scroll\");\r\n\tthis.addUIEvent(\"click\");\r\n    this.addUIEvent(\"touchstart\");\r\n\r\n\tthis.addComponent({\r\n\t\tonSizeChange:function(x,y,z){\r\n            if(!x)\r\n                return;\r\n\t\t\tthis.renderDom();\r\n\t\t}.bind(this)\r\n\t}); \r\n\r\n    \r\n}\r\nListView.prototype = Object.create(Node.prototype);\r\n\r\n//  \r\nListView.prototype.optInit =function(opt){\r\n    for(var k in opt ){\r\n     \tthis.opt[k] = opt[k];\r\n    }\r\n\r\n    if( this.opt.createItem === null )\r\n     \tthrow new Error('createItem is null');\r\n     \r\n}\r\n\r\nListView.prototype.renderDom = function(){\r\n    \r\n    if( this.opt.itemMax === undefined){\r\n    \tthis.height = this.getSize()[1];\r\n    \tthis.opt.itemMax = 0|(this.height/this.itemH) + this.opt.threshold*2;\r\n\r\n    }\r\n    //Dom \r\n    this._domList = this.linked.slice(0, this.opt.itemMax);\r\n    for (var i = 0; i < this._domList.length; i++) {\r\n    \tthis.c.addChild( this.createItem( this._domList[i] ) );\r\n    \tthis._domList[i]._isMounted = true;\r\n    \tthis._domList[i]._index = i;\r\n    };\r\n}\r\nListView.prototype.onReceive = function (e, p) {\r\n  \r\n\tif( e === 'scroll' && !this._lock){\r\n        this.top = p.scrollTop;\r\n        if (timer)\r\n            return;\r\n\r\n        timer = setTimeout(function () {\r\n            this.throttle();\r\n            timer = 0;\r\n        }.bind(this), this.opt.throttle);\r\n       \r\n\r\n\t}\r\n\r\n\t// if( e===\"click\"){\r\n\t// \tconsole.log(p.node);\r\n\t// }\r\n\r\n    if( e===\"touchstart\"&& this.linked[this.linked.length-1]==this._domList[this._domList.length-1]){\r\n\r\n    }\r\n}\r\n\r\nListView.prototype.lock = function(){\r\n    this._lock = true;\r\n    this.c.el.setProperty('overflow-y','hidden');\r\n}\r\n\r\nListView.prototype.unLock = function(){\r\n    this._lock = false;\r\n    this.c.el.setProperty('overflow-y','scroll');\r\n}\r\n\r\nListView.prototype.isLock = function(){\r\n    return this._lock;\r\n}\r\n//\r\nListView.prototype.throttle = function (arg) {\r\n\r\n   \r\n    this._onScroll( this.top );\r\n\r\n    this.scrollTop = this.top;\r\n}\r\n\r\n//\r\nListView.prototype.BindData = function(arr) {\r\n\r\n    for (var i = 0; i < arr.length; i++) {\r\n    \t\r\n    \tthis.linked.insert(arr[i]);\r\n    };\r\n    \r\n};\r\n\r\nListView.prototype.createItem = function( obj ){\r\n\r\n\tvar o = this.opt,h=this.itemH;\r\n    return this.opt.createItem(obj.data,  obj)\r\n    .setPosition( o.margin[3], obj._id*h, 0 )\r\n    .setAbsoluteSize(o.itemSize[0], o.itemSize[1] );\r\n}\r\n\r\n//\r\nListView.prototype.setPullStyle = function(){\r\n\r\n}\r\n\r\nListView.prototype._addPullDownRefreshNode = function(){\r\n    this.addChild(this.setPullStyle()).setSizeMode( 'relative', 'absolute' )\r\n        .setAbsoluteSize( 1, 1 , 1)\r\n        .setMountPoint( 0, 1, 0 )\r\n        .setAlign( 0, 1, null )\r\n        .setProportionalSize( null, 60);\r\n};\r\n\r\nListView.prototype._addPullUpRefreshNode = function(){\r\n    this.addChild(this.setPullStyle()).setSizeMode( 'relative', 'absolute' )\r\n        .setAbsoluteSize( 1, 1 ,2)\r\n        .setMountPoint( 0, 1, 0 )\r\n        .setAlign( 0, 1, null )\r\n        .setProportionalSize( null, 60);\r\n};\r\n\r\nListView.prototype._addScrollCentent = function(){\r\n    \r\n    this.c = this.addChild()\r\n        .setSizeMode( 'relative', 'relative' )\r\n        //.setAbsoluteSize( null, 88 / App.devicePixelRatio )\r\n        .setProportionalSize( 1, 1, 3);\r\n\r\n    this.c.el = new DOMElement(this.c,{\r\n        classes:['page-content']\r\n    }).setProperty(\"overflow-y\", \"scroll\").setProperty(\"overflow-x\",\"hidden\");\r\n    \r\n};\r\n\r\nListView.prototype.onScrollEnd = function() {\r\n\t//ToDo\r\n};\r\n\r\n//\r\nListView.prototype.AddData = function(arr, index) {\r\n\t//ToDo\r\n    this.BindData(arr);\r\n    this._onScroll(this.scrollTop);\r\n\t//this.initItem();\r\n};\r\n\r\n//Item\r\nListView.prototype.RemoveItem =function(index){\r\n\r\n    var item = this.linked.splice(index, 1)[0];\r\n\r\n    if (!item || !item._isMounted)  return;\r\n\r\n    //\r\n    var next = this.linked.findByIndex(this._domList[this._domList.length-1]._id+1);\r\n    if (next === undefined){\r\n        next = this.linked.findByIndex(this._domList[0]._id-1);\r\n       \r\n    }\r\n\r\n    item._isMounted = false;\r\n    this.c.removeChild(this.c.getRawChildren()[item._index]);\r\n    // this.opt.itemMax \r\n    if (item===next || next === undefined){\r\n        // Domlist\r\n        this._onScroll( this.scrollTop );\r\n        return this.reSetItem();\r\n    }\r\n\r\n    next._index = item._index;\r\n    next._isMounted = true;\r\n     \r\n    // \r\n    this.c.addChild( this.createItem( next ));\r\n    // Domlist\r\n    this._onScroll( this.scrollTop );\r\n    //Position\r\n    this.reSetItem();\r\n        \r\n\r\n}\r\n// \r\nListView.prototype.initItem = function  () {\r\n\t\r\n\tvar o = this.opt,h=this.itemH;\r\n\tthis._allData.forEach( function (v, i ) {\r\n\r\n\t\tv.setPosition( o.margin[3], i*h, 0 );\r\n\t\tv.setAbsoluteSize(o.itemSize[0], o.itemSize[1] );\r\n\t})\r\n\r\n\tthis.contentH = this._allData.length * h;\r\n}\r\n\r\n// \r\nListView.prototype.reSetItem = function  () {\r\n    \r\n    var o = this.opt,\r\n    h=this.itemH,\r\n    child = this.c.getRawChildren();\r\n    this._domList.forEach( function (v, i ) {\r\n        \r\n        child[v._index].setPosition( o.margin[3], (v._id)*h, 1 );\r\n        //v.setAbsoluteSize(o.itemSize[0], o.itemSize[1] );\r\n    })\r\n\r\n}\r\n\r\n\r\n//\r\nListView.prototype._addItem2Dom = function(item, index) {\r\n    \r\n\r\n    if (this._domList.length < this.opt.itemMax){\r\n        this.c.addChild( this.createItem( item ));\r\n        item._isMounted = true;\r\n        item._index = index;\r\n        return;\r\n    }\r\n    this._temp = this._domList[ this.opt.itemMax-1-index ];\r\n    this._temp._isMounted = false;\r\n    item._isMounted = true;\r\n\r\n    // item  DomList \r\n    item._index = this._temp._index;\r\n\r\n    // \r\n    this.c.removeChild(this.c.getRawChildren()[item._index]); \r\n    // \r\n    this.c.addChild( this.createItem( item ));\r\n\r\n};\r\n\r\n\r\n//\r\nListView.prototype._onScroll = function(top) {\r\n\t//\r\n    var domTop = top - this.opt.threshold*this.itemH;\r\n        domTop < 0 ? domTop = 0 : domTop = domTop;\r\n        domTop = 0|(domTop/this.itemH);\r\n\r\n    var item = this.linked.slice( domTop,  domTop+this.opt.itemMax);\r\n    //\r\n    if (item.length < this.opt.itemMax){\r\n        item = this.linked.slice(-this.opt.itemMax);\r\n    }\r\n\r\n    for (var i = 0; i < item.length; i++) {\r\n        if (item[i]._isMounted) \r\n            continue;\r\n        this._addItem2Dom(item[i], i);\r\n    };\r\n    //console.log(item);\r\n    this._domList = item;\r\n};\r\n\r\n//\r\nfunction LinkedListViewSequence(arr){\r\n\r\n\tthis._arr = [];\r\n    for (var i in arr) {\r\n    \tthis.insert( arr[i] );\r\n    };\r\n} \r\n\r\nLinkedListViewSequence.prototype = {\r\n    get length(){\r\n        return this._arr.length;\r\n    }\r\n};\r\n\r\nLinkedListViewSequence.prototype.findByIndex = function(index){\r\n    return this._arr[index];\r\n}\r\n\r\nLinkedListViewSequence.prototype.insert = function(obj){\r\n    this._arr.push ( { _isMounted:false, _id:this._arr.length, data: obj} ); \r\n}\r\n\r\n\r\nLinkedListViewSequence.prototype.slice = function(...x){\r\n\treturn [].slice.apply(this._arr, x);\r\n}\r\n\r\nLinkedListViewSequence.prototype.splice = function(...x){\r\n    var item = [].splice.apply(this._arr, x);\r\n\r\n    this._arr.forEach(function(v, i){\r\n        v._id = i;\r\n    })\r\n\r\n    return item;\r\n}\r\nmodule.exports = ListView;\n},{\"famous/components/GestureHandler\":3,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21}],70:[function(require,module,exports){\nvar Node = require( 'famous/core/Node' );\r\nvar DOMElement = require( 'famous/dom-renderables/DOMElement' );\r\n\r\n\r\nclass Page extends Node {\r\n\tconstructor( opt ){\r\n\t\tsuper();\r\n\t\topt = opt || {};\r\n\r\n\t\tthis._el = new DOMElement( this, opt );\r\n\t\tthis._el.addClass('white_backgound');\r\n\t\tthis._status = \"Dead\";\r\n\t}\r\n\r\n\tto( id, opt ) {\r\n\t\tthis._updater.getContext(this.getLocation())._Router.to( id, opt );\r\n\t\treturn this;\r\n\t}\r\n\r\n\tback( opt ) {\r\n\t\tthis._updater.getContext(this.getLocation())._Router.back( opt );\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n\tgetDOM() {\r\n\t\treturn this._el;\r\n\t}\r\n\t//Page\r\n\tonCreate() {\r\n\t\tthis.showInEngine(true);\r\n      \t//this._ContentNode = this.addChild();\r\n\t}  \r\n\t//Page\t\r\n\tonStart() {\r\n\r\n\t\tthis._status = \"Running\";\r\n\t}    \r\n\t//Page\r\n\tonRestart() {\r\n\r\n\t\tthis.showInEngine(true);\r\n\t\tthis._status = \"Running\";\r\n\t}   \r\n\t//Page\r\n\tonResume() {\r\n\t\tthis._status = \"Running\";\r\n\t}  \r\n\t//Page,PagePage,\r\n\tonPause() {\r\n\r\n\t\tthis._status = \"Paused\";\r\n\t}  \r\n\t//PagePage\r\n\tonStop() {\r\n\t\tthis.showInEngine(false);\r\n\t\tthis._status = \"Stopped\";\r\n\t}  \r\n\t//Page(finish()),1onCreate ()\r\n\tonDestroy() {\r\n\t\tthis.showInEngine(true);\r\n\t\tthis._status = \"Dead\";\r\n\t\t//this.dismount();\r\n\t}\r\n\r\n\tfinish() {\r\n\t\tthis.onDestroy();\r\n\t}  \r\n\r\n\r\n}\t\r\nmodule.exports = Page;\n},{\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21}],71:[function(require,module,exports){\nvar pages = require('pages.js');\r\nvar App = require('App');\r\nvar GoogleAnalytics = require('GoogleAnalytics');\r\nvar signModel = require('model/signModel');\r\nvar FamousEngine = require('famous/core/FamousEngine');\r\nvar Commands = require('famous/core/Commands');\r\nvar Align        = require('famous/components/Align');\r\nvar Ajax = require('Ajax');\r\nvar CrossCall = require('famous/core/CrossCall');\r\n\r\n\r\nfunction reSetSceneReceive(node){\r\n\tvar _this = node;\r\n\t_this.scene.onReceive = function(e, p){\r\n\t\tif( e === 'backbutton' && !_this._animationRunning){\r\n\t\t\t//TODO isShow\r\n\t\t\t//Back \r\n\t\t\t_this.currentPage.back(p);\r\n\t\t}else if (e === 'CONTEXT_RESIZE') {\r\n\t\t\t//CONTEXT_RESIZE  \r\n\t        if (p.length < 2)\r\n\t            throw new Error(\r\n\t                    'CONTEXT_RESIZE\\'s payload needs to be at least a pair' +\r\n\t                    ' of pixel sizes'\r\n\t            );\r\n\r\n\t\t\tvar size = _this.scene.getAbsoluteSize();\r\n\t        if (size[1] != 0 && size[1] == p[1]){\r\n\t            \r\n\t            _this.currentPage.emit(\"softKeyBoardDown\", p);\r\n\r\n\t        }else if (size[1] != 0 && 50<size[1] - p[1]< size[1]/2 ){\r\n\r\n\t            _this.currentPage.emit(\"softKeyBoardUp\", p);\r\n\r\n\t        } else{\r\n\r\n\t        \t_this.scene.setSizeMode('absolute', 'absolute', 'absolute');\r\n\t            _this.scene.setAbsoluteSize(p[0],\r\n\t                             p[1],\r\n\t                             p[2] ? p[2] : 0);\r\n\r\n\t            _this.scene._updater.message(Commands.WITH).message(_this.scene._selector).message(Commands.READY);\r\n\t        }\r\n\t\t}else if (_this.currentPage &&_this.currentPage.onReceive) {\r\n\t\t\t_this.currentPage.onReceive(e, p);\r\n\t\t} \r\n\t}\r\n}\r\n\r\nclass Router  {\r\n\tconstructor(  ){\r\n\t\t//var _this = this;\r\n\t\tthis.pages   = pages;\r\n\t\tthis._timer = null;\r\n\t\t//\r\n\t\tthis.pageCache   = [];\r\n\t\tthis.scene   = FamousEngine._scenes.body;\r\n\t\t// this\r\n\t\tthis.scene._Router = this;\r\n\t\t//\r\n\t\tthis.history = [];\r\n\t\t//\r\n\t\tthis._animationRunning = false;\r\n\t\t//To \r\n\t\tthis._onToEnd = {onReceive:this._onToAnimationEnd.bind(this)};\r\n\t\t//back \r\n\t\tthis._onBackEnd = {onReceive:this._onBackAnimationEnd.bind(this)};\r\n\t\t//\r\n\t\treSetSceneReceive(this);\r\n\t}\r\n\t// idnodenull\r\n\tfind(id){\r\n\t\tfor( var i = 0; i < this.history.length; i++ )\r\n\t\t\tif( this.history[i].id === id ) \r\n\t\t\t\treturn i;\r\n\t\treturn null;\r\n\t}\r\n\t// opt\r\n\tformat( opt, method ){\r\n\t\topt = opt || {};\r\n\r\n\t\tvar directions = {\r\n\t\t\trtl: [ -1, 0, 0, 1, 0, 0],\r\n\t\t\tltr: [ 1, 0, 0, -1, 0, 0],\r\n\t\t\tttb: [ 0, 1, 0, 0, -1, 0],\r\n\t\t\tbtt: [ 0, -1, 0, 0, 1, 0]\r\n\t\t}\r\n\r\n\t\tvar direction = directions[opt.direction];\r\n\t\tdirection = direction ? direction : directions[method];\r\n\t\topt.direction = direction;\r\n\r\n\t\topt.animate = opt.animate || {};\r\n\t\topt.animate.duration = opt.animate.duration || 200;\r\n\t\topt.animate.curev = opt.animate.curev || 'linear';\r\n\r\n\t\treturn opt;\r\n\t}\r\n\t// \r\n\tload( id, data ){\r\n\t\tif( !this.pages[id] ) \r\n\t\t\tthrow new Error( 'Not found the page : ' + id );\r\n\t\tvar nowPage = this.pageCache[id];\r\n\t\tif (!nowPage) {\r\n\t\t\tnowPage = new this.pages[id]( data );\t\r\n\t\t\tthis.pageCache[id] = nowPage;\r\n\t\t\tnowPage.setAlign( 1, 0, 0 )\r\n\t\t\t\t.getDOM()\r\n\t\t\t\t.addClass( 'page_change' )\r\n\t\t\t\t.setProperty(\"transition-duration\", \"0s\");\r\n\t\t\r\n\t\t\tnowPage.addUIEvent(\"transitionend\");\r\n\t\t\t//ID\r\n\t\t\tnowPage.mount( `body/${id}` );\r\n\t\t\tnowPage.getDOM().draw();\r\n\t\t}\r\n\t\t\r\n\t\tthis.loadPage = nowPage;\r\n\t\tthis.history.push({ id: id, node: nowPage });\r\n\t\t//Page\r\n\t\tnowPage.onCreate(data);\r\n\t\t \r\n\t\treturn nowPage ;\r\n\t}\r\n\t// \r\n\t// id            ID\r\n\t// opt.data      \r\n\t// opt.direction ,: to: 'rtl', back: 'ltr'\r\n\t// opt.animate   \r\n\t//     .duration  : 400\r\n\t//     .curev     : outCubic  http://famous.org/learn/easing-curves.html\r\n\tto( id, opt ){\r\n\t\t//\r\n\t\tif(!this.checkConnection()) return;\r\n\r\n\t\t//\r\n\t\tif(opt){\r\n\t\t\t\r\n\t\t\tif(opt.data){\r\n\t\t\t\tif(opt.data.checkLogin != 0){\r\n\t\t\t\t\tif(!this.checkLogin()){\r\n\t\t\t\t\t\t// id = 'login';\r\n\t\t\t\t\t\tsignModel.update({id:signModel.findOne.id},{'token':null});\r\n\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\r\n\t\t\tif(!this.checkLogin()){\r\n\t\t\t\t// id = 'login';\r\n\t\t\t\tsignModel.update({id:signModel.findOne.id},{'token':null});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t\r\n\t\tif (!this.pages[id] ) \r\n\t\t\tthrow new Error( 'Not found the page : ' + id );\r\n\t\t//\r\n\t\tif (this._animationRunning) return;\r\n\t\tif (this.currentPage) this.currentPage.onPause();\r\n\t\t//Page,PagePage,\r\n        \r\n\t\topt = this.format( opt, 'rtl' );\r\n\r\n\t\tvar loadPageID = this.find( id );\r\n\t\tvar nowPage = this.history[this.history.length-1].node;\r\n\t\t//\r\n\t\tif( loadPageID !== null ){\r\n\t\t\tthis.history.splice(loadPageID, 1) ;\r\n\t\t}\r\n      \t//From \r\n\t\tvar loadPage = this.load( id, opt.data )\r\n\t\t\t.setAlign(opt.direction[3], opt.direction[4], opt.direction[5]);\r\n\r\n\t\t\r\n\t\t\r\n\t\t//\r\n     \tloadPage.addComponent(this._onToEnd);\r\n     \tloadPage.getDOM().setProperty(\"transition-duration\", \".2s\").draw();\t\r\n\r\n     \t\r\n\t\t//Page\t\r\n\t\tloadPage.onStart(opt.data);\t\r\n\r\n\t\tsetTimeout(function(){\r\n\t\t\tthis._animationRunning = true;\r\n\t\t\tnowPage.setAlign( opt.direction[0]*.15, opt.direction[1]*.15, opt.direction[2]);\r\n\t\t\tloadPage.setAlign( 0, 0, 0 );\r\n\t\t}.bind(this),20);\r\n\t\t//this.history.push({id: id, node: loadPage});\r\n\r\n\t\tthis._timer = setTimeout(function(){\r\n\t\t\tthis._animationRunning&&this._onToAnimationEnd('transitionend',{});\r\n\t\t}.bind(this),400);\r\n\r\n\t\t//\r\n\t\tGoogleAnalytics.trackView(id);\r\n\t\t\r\n\t}\r\n\t_onToAnimationEnd(e, p){\r\n\t\tif (e!=='transitionend') return;\r\n\t\t\r\n\t\tclearTimeout(this._timer);\r\n\r\n\t\t//\r\n\t\tthis.currentPage&&this.currentPage.onStop();\r\n\t\t//\r\n\t\tthis.currentPage && this.currentPage.getDOM().setProperty(\"transition-duration\", \"0s\");\r\n\r\n\t\tthis.currentPage = this.loadPage;\r\n\t\t// _status\r\n\t\tthis.currentPage.onResume();\r\n\t\t//\r\n\t\tthis.currentPage.removeComponent(this._onToEnd);\r\n\t\tthis._animationRunning = false;\r\n\t\t\r\n\t}\r\n\r\n\t_onBackAnimationEnd(e, p){\r\n\t\tif (e!=='transitionend') return;\r\n\r\n\t\t// clearTimeout(this._timer);\r\n\r\n\t\tthis.history.pop();\r\n\t\t//\r\n\t\tthis.currentPage.removeComponent(this._onBackEnd);\r\n\t\t\r\n\t\t//onCreate ()\r\n\t\tthis.currentPage.onDestroy();\r\n\t\t//\r\n\t\tthis.currentPage.getDOM().setProperty(\"transition-duration\", \"0s\");\r\n\r\n\t\t//\r\n\t\tthis.currentPage = this.loadPage;\r\n\t\t//Page\r\n\t\tthis.currentPage.onResume();\r\n\t\tthis.currentPage.getDOM().setProperty(\"transition-duration\", \".3s\");\r\n\t\t\r\n\t\tthis._animationRunning = false;\r\n\t\t\r\n\r\n\t}\r\n\t// ,\r\n\t// opt.pageId    \r\n\t// opt.reload    \r\n\t// opt.direction ,: to: 'rtl', back: 'ltr'\r\n\t// opt.animate   \r\n\t//     .duration  : 400\r\n\t//     .curev     : outCubic  http://famous.org/learn/easing-curves.html\r\n\tback( opt ) {\r\n\t\r\n\t\tvar _this = this;\r\n\r\n\t\topt = this.format( opt, 'ltr' );\r\n\r\n\t\tif(this.history.length == 1) return this.exitApp(); //CallBack \r\n\t\t//\r\n\t\tif (this._animationRunning) return;\r\n\r\n\t\tvar nowPage = this.currentPage;\r\n\t\tvar showPage = this._getPageFromHistory(opt.pageId);\r\n\t\t// this.history[this.history.length-2].node;\r\n\t\tthis.loadPage = showPage;\r\n\r\n\t\tnowPage.addComponent(this._onBackEnd);\r\n        //Page\r\n\t\tshowPage.onRestart(opt);\r\n        showPage.setAlign( 0, 0, 0 );\r\n        \r\n        setTimeout(function(){\r\n        \tthis._animationRunning = true;\r\n\t\t\tnowPage.setAlign( opt.direction[0], opt.direction[1], opt.direction[2] );\r\n\t\t\t\r\n        }.bind(this),20);\r\n\r\n        // this._timer = setTimeout(function(){\r\n        // \tthis._onBackAnimationEnd('transitionend',{});\r\n        // }.bind(this),400);\r\n        \r\n\t\t\r\n\t}\r\n\t_getPageFromHistory(pageId){\r\n\t\tvar key,\r\n\t\tdisNode\r\n\t\t; \r\n\t\tif (typeof pageId =='number' && this.history[pageId]){\r\n \t\t\tkey = pageId;\r\n\t\t}else if(typeof pageId =='string'){\r\n\t\t\tthis.history.forEach(function(v,i){\r\n\t\t\t\tif (v.id === pageId){\r\n\t\t\t\t\tkey = i;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tkey = this.history.length -2;\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\t\tdisNode = this.history.splice(key + 1,this.history.length - key - 2);\r\n\t\t\r\n\t\t//\r\n\t\tdisNode.forEach(function(v){\r\n\t\t\t//v.node.onRestart();\r\n\t\t\tv.node.setAlign( 1, 0, 0 ).onDestroy();\r\n\t\t});\r\n\r\n\r\n\t\treturn this.history[key].node;\r\n\r\n\t}\r\n\t//CallBack \r\n\texitApp() {\r\n\t \tif(!this._BackTime)  {\r\n\t \t\tthis._BackTime = Date.now();\r\n\t \t\trequire('Tips').open('');\r\n\r\n\t \t}else{\r\n\t \t\tif (Date.now() - this._BackTime > 3000){\r\n\t         \tthis._BackTime = 0;\r\n\t         \treturn;\r\n\t \t\t}\r\n\r\n\t \t\tnew CrossCall(function(){\r\n\t \t\t\tnavigator.app.exitApp();\r\n\t \t\t}).exec();  \r\n\t \t}\r\n\t}\r\n\r\n\r\n\t//\r\n\tcheckConnection(){\r\n\t\tvar networkState = self.navigator.connection ? navigator.connection.type : '';\r\n\t\tvar status = true;\r\n\r\n\t    if(networkState === 'none'){\r\n\t    \trequire('Tips').open('');\r\n\t    \tstatus = false;\r\n\t    }\r\n\r\n\t    return status;\r\n\t}\r\n\r\n\t//\r\n\tcheckLogin(){\r\n\r\n\t\tvar loginStatus = true;\r\n\r\n\t\tnew Ajax('/user_store/list_id').data({\r\n\t\t\t'id':signModel.findOne().id,\r\n\t\t\t'did':App.uuid,\r\n\t\t\t'tk':signModel.findOne().token\r\n\t\t}).success(function(res){\r\n\t\t\tif(res.status == 5){\r\n\t\t\t\tloginStatus = false;\r\n\t\t\t\talert('',function(){\r\n\t\t\t\t\tsignModel.update({'id':signModel.findOne().id},{'token':null});\r\n\t\t\t\t\tnew CrossCall(function(){\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}).exec();\r\n\t\t\t\t},'','');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}.bind(this)).error(function(res){\r\n\t\t\tconsole.log(res);\r\n\t\t}).post(false);\r\n\r\n\t\treturn loginStatus;\r\n\r\n\t}\r\n\r\n\r\n\r\n}\t\r\n\r\n\r\n\r\n\r\n\r\nmodule.exports = new Router();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n},{\"Ajax\":63,\"App\":64,\"GoogleAnalytics\":66,\"Tips\":73,\"famous/components/Align\":1,\"famous/core/Commands\":8,\"famous/core/CrossCall\":9,\"famous/core/FamousEngine\":12,\"model/signModel\":84,\"pages.js\":86}],72:[function(require,module,exports){\nvar CrossCall = require('famous/core/CrossCall');\r\n\r\n\r\n\r\nfunction webWorkerStorage () {\r\n\r\n\tthis._storage = {};\r\n\tvar _this = this;\r\n\tthis.cross = new CrossCall(function () {\r\n\r\n        var obj = {};\r\n        for(var i in window.localStorage) {\r\n        \tobj[i] = window.localStorage.getItem(i);\r\n        }\r\n\r\n\t\treturn obj;\r\n\t});\r\n\tthis.cross.exec(function (arg) {\r\n\t\t_this._storage = arg;\r\n\t})\r\n}\r\nwebWorkerStorage.prototype.constructor = webWorkerStorage;\r\n\r\nwebWorkerStorage.prototype.getItem = function(arg) {\r\n\r\n\tif (this._storage.hasOwnProperty(arg))\r\n\t    return this._storage[arg];\r\n\treturn null;\r\n};\r\n\r\nwebWorkerStorage.prototype.removeItem = function(arg) {\r\n\r\n\tdelete this._storage[arg];\r\n    this._callStorage(\"removeItem\", [arg]);\r\n};\r\n\r\nwebWorkerStorage.prototype.setItem = function(name, value) {\r\n\r\n\tthis._storage[name] = value;\r\n    this._callStorage(\"setItem\", [name, value]);\r\n};\r\n\r\nwebWorkerStorage.prototype._callStorage = function( fun, arg){\r\n\tthis.cross.setFun(function (name, arg) {\r\n\r\n\t\treturn window.localStorage[name].apply(window.localStorage, arg);\r\n\t}, [fun, arg]).exec();\r\n\r\n}\r\n// localStorage \r\nvar localStorage =  typeof self.localStorage!=\"undefined\" ? window.localStorage : new webWorkerStorage();\r\n\r\nclass StorageModel {\r\n\tconstructor( table, model ){\r\n\t\tthis._table = table;\r\n\t\tthis._model = model;\r\n\r\n\t\t//  model key\r\n\t\tthis._keys = Object.keys( model );\r\n\r\n\t\tthis.setStorage();\r\n\t}\r\n\r\n\t// Storage\r\n\tsetStorage(){\r\n\t\tvar _storageTable = localStorage.getItem( this._table );\r\n\t\t_storageTable = _storageTable ? JSON.parse( _storageTable ) : {};\r\n\r\n\t\t// ,,\r\n\t\tif ( Object.keys( _storageTable ).toString() === this._keys.toString() ) return;\r\n\r\n\t\t//TODO   \r\n\t\t//else localStorage.removeItem( this._table );\r\n\t}\r\n\r\n\t//  ,  Array  null\r\n\tfind( opt ) {\r\n\t\tvar _storageTable = localStorage.getItem( this._table );\r\n\t\tvar result = [];\r\n\t\tif( !_storageTable ) return null;\r\n\t\t_storageTable = JSON.parse( _storageTable );\r\n\t\t//  (opt)\r\n\t\tif( !opt || opt.constructor.name !== 'Object' ){\r\n\t\t\tfor( var i = 0, j = _storageTable[this._keys[0]].length; i < j; i++ ){\r\n\t\t\t\tvar _result = {};\r\n\t\t\t\tthis._keys.forEach( val => _result[val] = _storageTable[val][i] );\r\n\t\t\t\tresult.push( _result );\r\n\t\t\t}\r\n\t\t}else \r\n\t\t\t// \r\n\t\t\tresult = this._check( opt, this.find() ).result;\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\t//  Object  null\r\n\tfindOne( opt ) {\r\n\t\tvar result = this.find( opt );\r\n\t\tif( result ) return result[0];\r\n\t\telse return result;\r\n\t}\r\n\r\n\t// , \r\n\tsave( value ) {\r\n\t\tvar _storageTable = localStorage.getItem( this._table );\r\n\t\t_storageTable = _storageTable ? JSON.parse( _storageTable ) : {};\r\n\r\n\t\t// model key\r\n\t\t// model valuenull\r\n\t\tthis._keys.forEach( val => {\r\n\t\t\t_storageTable[val] = _storageTable[val] || [];\r\n\t\t\t_storageTable[val].push( val in value ? value[val] : null );\r\n\t\t} );\r\n\r\n\t\tlocalStorage.setItem( this._table, JSON.stringify( _storageTable ) );\r\n\t}\r\n\r\n\t// \r\n\tupdate( opt, value ) {\r\n\t\tif( !opt || !value || opt.constructor.name !== 'Object' || value.constructor.name !== 'Object' )\r\n\t\t\tthrow new Error( '!' );\r\n\r\n\t\tvar result = this.find();\r\n\t\tif( !result ) return;\r\n\t\tvar checkResult = this._check( opt, result );\r\n\r\n\t\tcheckResult.index.forEach( val => {\r\n\t\t\tfor( var i in value ) \r\n\t\t\t\ti in result[val] && (result[val][i] = value[i]);\r\n\t\t} );\r\n\t\tlocalStorage.setItem( this._table, JSON.stringify( this._format(result) ) );\r\n\t}\r\n\r\n\t// , \r\n\tremove( opt ) {\r\n\t\tif( !opt || opt.constructor.name !== 'Object' ) \r\n\t\t\tlocalStorage.removeItem( this._table );\r\n\t\telse {\r\n\t\t\tvar result = this.find();\r\n\t\t\tif( !result ) return;\r\n\r\n\t\t\tlocalStorage.setItem( this._table, JSON.stringify( this._format( this._check( opt, result ).notResult ) ) );\r\n\t\t}\r\n\t}\r\n\r\n\t//  ,   index  \r\n\t_check( opt, arr ){\r\n\t\tvar result = [];\r\n\t\tvar $index = [];\r\n\t\tvar notResult = [];\r\n\t\tarr.forEach( (val, index) => {\r\n\t\t\tfor( var i in opt )\r\n\t\t\t\t//  >= <= != \r\n\t\t\t\tif( opt[i] && opt[i].constructor.name === 'Object' ){\r\n\t\t\t\t\t// TODO\r\n\t\t\t\t}else\r\n\t\t\t\t\tif( val[i] !== opt[i] ) {\r\n\t\t\t\t\t\tnotResult.push( val );\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t};\r\n\t\t\t$index.push( index );\t\t\r\n\t\t\tresult.push( val );\r\n\t\t} );\r\n\t\treturn {result: result,index: $index, notResult: notResult};\r\n\t}\r\n\r\n\t// \r\n\t_format( o ){\r\n\t\tvar result = {};\r\n\t\tfor( var i in this._keys ){\r\n\t\t\tvar _i = this._keys[i];\r\n\t\t\tresult[_i] = [];\r\n\t\t\to.forEach( v => result[_i].push(v[_i]) );\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n\r\nmodule.exports = StorageModel;\n},{\"famous/core/CrossCall\":9}],73:[function(require,module,exports){\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\n\r\nfunction Tips(){\r\n\tNode.call(this);\r\n\t\r\n\tthis.setSizeMode('relative','absolute')\r\n\t \t .setAbsoluteSize(null,50)\r\n\t \t .setProportionalSize(.9)\r\n\t \t .setAlign(.5)\r\n\t \t .setMountPoint(.5)\r\n\t \t .el = new DOMElement(this,{\r\n\t \t \tclasses:['bubble_tips']\r\n\t \t })\r\n\r\n\tthis.showing = false;  \r\n}\r\n\r\n\r\nTips.prototype = Object.create(Node.prototype);\r\nTips.prototype.constructor = Tips;\r\n\r\nTips.prototype.open = function(errStr){\r\n\tvar _this = this;\r\n\r\n\tthis.el\r\n\t\t.setProperty('opacity','1')\r\n\t\t.setContent('<span>'+errStr+'</span>');\r\n\r\n\t\r\n\tif(this.showing){\r\n\t\treturn;\r\n\t}\t\r\n\r\n    this.show();\r\n\r\n\tthis.showing = true; \r\n\r\n    setTimeout(function(){\r\n\t\t_this.close();\r\n\t},1000);\r\n\t\r\n\r\n\treturn false;\r\n}\r\n\r\nTips.prototype.close = function(){\r\n\tthis.el.setProperty('opacity','0')\r\n\t\t   .setProperty('transition','all .3s ease-in'); \r\n    \r\n    setTimeout( function(){\r\n\t\tthis.hide();\r\n\t\tthis.showing = false; \r\n\t}.bind( this ),300 );\r\n}\r\n\r\nvar Tip = new Tips();\r\nmodule.exports = Tip;\n},{\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21}],74:[function(require,module,exports){\n/**\r\n * Created by UMZS on 2016/7/15.\r\n */\r\n\r\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar App = require('App');\r\n\r\n\r\nvar blankArr = {\r\n    'apply':{'img':'./images/blank/apply.png','height':'82.5','txt1':'','txt2':''},//\r\n    'find':{'img':'./images/blank/find.png','height':'143','txt1':'','txt2':''}, //\r\n    'mes':{'img':'./images/blank/mes.png','height':'135','txt1':'','txt2':''}, //\r\n    'notice':{'img':'./images/blank/notice.png','height':'82.5','txt1':'','txt2':''}, //\r\n    'order':{'img':'./images/blank/order.png','height':'103','txt1':'','txt2':''},//\r\n    'business':{'img':'./images/blank/apply.png','height':'82.5','txt1':'','txt2':''}//\r\n};\r\n\r\nclass blank extends Node{\r\n    constructor(type){\r\n        super();\r\n        var obj = null;\r\n        if(type === 'apply'){\r\n            obj = blankArr.apply;\r\n        }else if(type === 'find'){\r\n            obj = blankArr.find;\r\n        }else if(type === 'mes'){\r\n            obj = blankArr.mes;\r\n        }else if(type === 'notice'){\r\n            obj = blankArr.notice;\r\n        }else if(type === 'order'){\r\n            obj = blankArr.order;\r\n        }else if(type === 'business'){\r\n            obj = blankArr.business;\r\n        }\r\n        createBlank(this,obj);\r\n    }\r\n}\r\n\r\nfunction createBlank(node,obj){\r\n    var content = node.addChild();\r\n    content\r\n        .setSizeMode('relative','absolute')\r\n        .setAlign(.5,.3)\r\n        .setMountPoint(.5,.3)\r\n        .el = new DOMElement(content,{\r\n        classes:['blank_content'],\r\n        content:'<img src=\"'+obj.img+'\" height=\"'+obj.height+'\">'+\r\n        '<p>'+obj.txt1+'</p><p>'+obj.txt2+'</p>'\r\n    });\r\n}\r\n\r\nmodule.exports = blank;\n},{\"App\":64,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21}],75:[function(require,module,exports){\n/*\r\nnavigation\r\nauthorhei\r\n*/\r\n\r\nvar FamousEngine = require('famous/core/FamousEngine');\r\nvar DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Node = require('famous/core/Node');\r\n\r\n\r\nfunction button(buttonText,bgColor,cusClass){\r\n\tthis.cusClass = typeof cusClass!=\"undefined\"?[cusClass,\"fa-button\",\"text-center\"]:[\"fa-button\",\"text-center\"];\r\n\tNode.call(this);\r\n\tthis\r\n\t\t.addUIEvent('touchstart')\r\n\t\t.addUIEvent('touchend').addUIEvent(\"click\")\r\n\t\t.el = new DOMElement(this,{\r\n\t\t\tclasses:this.cusClass,\r\n\t\t\tcontent:\"<input type='button' value='\"+buttonText+\"' />\",\r\n\t\t\tproperties:{\"background-color\":bgColor}\r\n\t\t});\r\n\tthis.clickEvent=\"\";\r\n}\r\nbutton.prototype = Object.create(Node.prototype);\r\nbutton.prototype.constructor = button;\r\n\r\nbutton.prototype.onReceive = function(e,p){\r\n\tif(e==\"touchend\"){\r\n\t\tthis.el.removeClass(\"bt-active\");\r\n\t}\r\n\tif(e==\"touchstart\"){\r\n\t\tthis.el.addClass(\"bt-active\");\r\n\t}\r\n\tif(e==\"click\"){\r\n\t\tif(this.clickEvent){this.clickEvent(e,p);}\r\n\t}\r\n}\r\n\r\nmodule.exports = button;\n},{\"famous/core/FamousEngine\":12,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21}],76:[function(require,module,exports){\nmodule.exports={\r\n\t\"version\": 1,\r\n\t\"noticehttp\": \"http://api.qqn123.com/\",\r\n\t\"ajax_base\": \"http://zyjcapp.qqn123.com\", //\r\n\t\"webSocket\": \"ws://zyjcapp.qqn123.com/websocket\", //\r\n\t// \"ajax_base\": \"http://api.qqn123.com\",//\r\n\t// \"webSocket\":\"ws://120.27.119.40:9999/websocket\",//\r\n}\n},{}],77:[function(require,module,exports){\n/*\r\nnavigationinput\r\n*/\r\nvar FamousEngine = require('famous/core/FamousEngine');\r\nvar DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Node = require('famous/core/Node');\r\n\r\nfunction inputCustom(){\r\n\tNode.call(this);\r\n\tthis\r\n\t\t.setSizeMode(0,1)\r\n\t\t.addUIEvent('input')\r\n\t\t.el = new DOMElement(this,{\r\n\t\t\tclasses:['input-custom'],\r\n\t\t\t// properties:{'border':'none','background':'none'},\r\n\t\t\ttagName:'input'\r\n\t\t});\r\n\tthis.inputEvent=\"\";\r\n}\r\ninputCustom.prototype = Object.create(Node.prototype);\r\ninputCustom.prototype.constructor = inputCustom;\r\ninputCustom.prototype.onReceive = function(e,p){\r\n\tif(e==\"input\"){\r\n\t\tif(this.inputEvent){this.inputEvent(e,p);}\r\n\t}\r\n};\r\n\r\nmodule.exports = inputCustom;\n},{\"famous/core/FamousEngine\":12,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21}],78:[function(require,module,exports){\narguments[4][69][0].apply(exports,arguments)\n},{\"dup\":69,\"famous/components/GestureHandler\":3,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21}],79:[function(require,module,exports){\nvar StorageModel = require( 'StorageModel' );\r\n\r\nvar SignModel = new StorageModel( 'Sign', {\r\n\tid:Number,\r\n\ttel:Number,\r\n\ttoken:String,\r\n\tfirst:String,\r\n} );\r\n\r\nmodule.exports = SignModel;\n},{\"StorageModel\":72}],80:[function(require,module,exports){\nvar StorageModel = require( 'StorageModel' );\r\n\r\nvar VersionModel = new StorageModel( 'Version', {\r\n\tversion: String,\r\n\tpath: String,\r\n\tcancel:Boolean\r\n} );\r\n\r\nmodule.exports = VersionModel;\n},{\"StorageModel\":72}],81:[function(require,module,exports){\nvar StorageModel = require( 'StorageModel' );\r\n\r\nvar incrementModel = new StorageModel( 'incrementModel', {\r\n\tmessageId:Number\r\n} );\r\n\r\nmodule.exports = incrementModel;\n},{\"StorageModel\":72}],82:[function(require,module,exports){\nvar StorageModel = require( 'StorageModel' );\r\n\r\nvar messageModel = new StorageModel( 'messageModel', {\r\n\tid:Number,\r\n\timgSrc:String,\r\n\ttype:String,\r\n\tInfoTitle:String,\r\n\tInfoCtime:Date,\r\n\tInfoType:Number,\r\n\tisRead:Boolean,\r\n\tInfoDesc:String,\r\n\tInfoAuthor:String\r\n} );\r\n\r\nmodule.exports = messageModel;\n},{\"StorageModel\":72}],83:[function(require,module,exports){\nvar StorageModel = require( 'StorageModel' );\r\n\r\nvar myInfoModel = new StorageModel( 'myInfoModel', {\r\n\t\r\n\timgSrc:String\r\n\r\n});\r\n\r\nmodule.exports = myInfoModel;\n},{\"StorageModel\":72}],84:[function(require,module,exports){\narguments[4][79][0].apply(exports,arguments)\n},{\"StorageModel\":72,\"dup\":79}],85:[function(require,module,exports){\n/*\r\nnavigation\r\nauthorhei\r\n*/\r\n\r\nvar FamousEngine = require('famous/core/FamousEngine');\r\nvar DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Node = require('famous/core/Node');\r\nvar Button = require('button');\r\n\r\n//\r\nfunction navbar(title,fun){\r\n\tNode.call(this);\r\n\tthis.fun = fun;\r\n\tvar _this = this;\r\n\tthis\r\n\t\t.setAlign(0,0)\r\n\t\t.setSizeMode(0,1)\r\n\t\t.setAbsoluteSize(null,44)\r\n\t\t.el = new DOMElement(this,{\r\n\t\t\tclasses:[\"navbar\"],\r\n\t\t\tcontent:\"<p class='font-lg text-center'><a class='goback'></a><span>\"+ title +\"</span></p>\"\r\n\t\t});\r\n\tthis.backButton = this.addChild(new Button(\" \",\"\",\"navBackBtn\"));\r\n\tthis.backButton.setSizeMode('absolute','absolute')\r\n\t\t\t\t  .setAbsoluteSize(80,44)\r\n\t\t\t\t  .setPosition(0,0);\r\n\tthis.backButton.el = new DOMElement(this.backButton);\r\n\tthis.backButton.clickEvent = function(e,p){\r\n\t\t\tif(_this.fun){\r\n\t\t\t\t_this.fun();\r\n\t\t\t}\r\n\t\t\t_this.getParent().back();\r\n\t\t\t\r\n\t\t\tp.stopPropagation();\r\n\t};\r\n\t\r\n}\r\n\r\nnavbar.prototype = Object.create(Node.prototype);\r\nnavbar.prototype.constructor = navbar;\r\nnavbar.prototype.setTitle = function(title){\r\n\tthis.el.setContent(\"<p class='font-lg text-center'><a class='goback'></a><span>\"+ title +\"</span></p>\")\r\n\r\n};\r\nmodule.exports = navbar;\n},{\"button\":75,\"famous/core/FamousEngine\":12,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21}],86:[function(require,module,exports){\n module.exports = {\r\n\t\r\n\thome: require('../pages/home/index.js'),\r\n\tmessage1: require('../pages/home/message1.js'),\r\n\tapply_hall: require('../pages/conService/apply_hall.js'),//\r\n\tapply_yard: require('../pages/conService/apply_yard.js'),//\r\n\tapply_wl: require('../pages/conService/apply_wl.js'),//\r\n\tmyinfo: require('../pages/home/myinfo.js'),//\r\n\trecord_hall: require('../pages/record/record_hall.js'),//\r\n\trecord_yard: require('../pages/record/record_yard.js'),//\r\n\tlogin: require('../pages/sign/login'),//\r\n\tresetPwd: require('../pages/sign/resetPwd'),//\r\n\tconfirmPwd: require('../pages/sign/confirmPwd'),//\r\n\tnotice:require('../pages/messages/notice'),//\r\n\tnoticeDetail:require('../pages/messages/noticeDetail'),//\r\n\trepair:require('../pages/service/repair'),//\r\n\tservice:require('../pages/service/index'),//\r\n\tcard:require('../pages/service/card'),//\r\n\tlicence:require('../pages/service/licence'),//\r\n\tsetting:require('../pages/setting/index'),//\r\n\taboutUs:require('../pages/setting/about_us'),//\r\n\tcompanyIntro:require('../pages/setting/company_intro'),//\r\n\tshopChoose:require('../pages/apply/shopChoose'),//\r\n\tadApply:require('../pages/apply/adApply'),//\r\n\trepairRecord:require('../pages/record/repairRecord'),//\r\n\tadRecord:require('../pages/record/adRecord'),//\r\n\torderPage:require('../pages/orderPage/orderPage'),//\r\n\torderRecord:require('../pages/record/orderRecord'),//\r\n\tcode:require('../pages/home/code'),//\r\n\tbusinessRecord:require('../pages/record/businessRecord') ,//\r\n\tmerchantGrade:require('../pages/setting/merchantGrade')//\r\n\r\n};\n},{\"../pages/apply/adApply\":88,\"../pages/apply/shopChoose\":89,\"../pages/conService/apply_hall.js\":90,\"../pages/conService/apply_wl.js\":91,\"../pages/conService/apply_yard.js\":92,\"../pages/home/code\":93,\"../pages/home/index.js\":95,\"../pages/home/message1.js\":98,\"../pages/home/myinfo.js\":99,\"../pages/messages/notice\":101,\"../pages/messages/noticeDetail\":102,\"../pages/orderPage/orderPage\":103,\"../pages/record/adRecord\":104,\"../pages/record/businessRecord\":105,\"../pages/record/orderRecord\":106,\"../pages/record/record_hall.js\":107,\"../pages/record/record_yard.js\":108,\"../pages/record/repairRecord\":109,\"../pages/service/card\":110,\"../pages/service/index\":111,\"../pages/service/licence\":112,\"../pages/service/repair\":113,\"../pages/setting/about_us\":114,\"../pages/setting/company_intro\":115,\"../pages/setting/index\":116,\"../pages/setting/merchantGrade\":117,\"../pages/sign/confirmPwd\":118,\"../pages/sign/login\":119,\"../pages/sign/resetPwd\":120}],87:[function(require,module,exports){\nvar DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Node = require('famous/core/Node');\r\nvar button = require('button');\r\n\r\nfunction twoBtnNav(title,leftBtn,rightBtn){\r\n\tNode.call(this);\r\n\tthis\r\n\t\t.setSizeMode(0,1)\r\n\t\t.setAbsoluteSize(null,44)\r\n\t\t.el = new DOMElement(this,{\r\n\t\t\tclasses:[\"navbar\"],\r\n\t\t\tcontent:\"<p class='font-lg text-center'><span>\"+ title +\"</span></p>\"\r\n\t\t})\r\n\tthis.leftBtn = this.addChild(leftBtn);\r\n\tthis.leftBtn.setSizeMode(1,1).setAbsoluteSize(80,44).el = new DOMElement(this.leftBtn);\r\n\tthis.rightBtn = this.addChild(rightBtn);\r\n\tthis.rightBtn.setSizeMode(1,1).setAlign(1,0).setMountPoint(1,0).el = new DOMElement(this.rightBtn);\r\n}\r\n\r\ntwoBtnNav.prototype = Object.create(Node.prototype)\r\ntwoBtnNav.prototype.constructor = twoBtnNav;\r\n\r\nmodule.exports = twoBtnNav;;\n},{\"button\":75,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21}],88:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('twoBtnNav');\r\nvar button = require('button');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar sign = require('model/SignModel');\r\nvar area = -1,building = -1,number = -1,type = -1; \r\n\r\nclass AdApply extends Page{\r\n\tconstructor(data){\r\n\t\tsuper({id:'AdApply'})\r\n\t\t// console.log(data);\r\n\t\tthis.shopId = data;\r\n\t\tvar userSign = sign.findOne();\r\n\t\tthis.userId = userSign.id;\r\n\t\tthis.token = userSign.token;\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitNav(this);\r\n\r\n\t\t//\r\n\t\tnew Ajax('/advert/domain')\r\n\t\t\t.data({\r\n\t\t\t\t'id':this.userId,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':this.token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\r\n\t\t\t\t\tthis.areaJson = d.data;\r\n\t\t\t\t}\r\n\t\t\t}.bind(this)).post();\r\n\r\n\t\t//\r\n\t\tnew Ajax('/advert_apply/apply_type')\r\n\t\t\t.data({\r\n\t\t\t\t'id':this.userId,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':this.token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\r\n\t\t\t\t\tthis.typeJson = d.data;\r\n\t\t\t\t}\r\n\t\t\t}.bind(this)).post();\t\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tif(!this._content){\r\n\t\t\tinitContent(this,this.areaJson,this.typeJson);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._content = null;\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction initNav(node){\r\n\tvar backButton = new button(\" \",\"\",\"goback2\");\r\n\tvar _this = node;\r\n\r\n\t//\r\n\t// backButton.setAbsoluteSize(44,44);\r\n\tbackButton.clickEvent = function(e,p){\r\n\t\tnode.back();\r\n\t\tp.stopPropagation();\r\n\t};\r\n\r\n\t//\r\n\tvar rightText = new button('','','right_text');\r\n\trightText.setAbsoluteSize(100,44);\r\n\trightText.clickEvent = function(){\r\n\t\t_this.to('adRecord');\r\n\t};\r\n\r\n\tnode.addChild(new navbar('',backButton,rightText));\r\n}\r\n\r\n\r\nfunction initContent(node,areaJson,typeJson){\r\n\tvar _this = node;\r\n\r\n\t_this.buildingJson = null;\r\n\r\n\t// var shopJson = [\r\n\t// \t{'adds':'A','value':'A'},\r\n\t// \t{'adds':'B','value':'B'},\r\n\t// \t{'adds':'C','value':'C'},\r\n\t// \t{'adds':'D','value':'D'},\r\n\t// \t{'adds':'E','value':'E'},\r\n\t// ]\r\n\r\n\tvar content = node.addChild();\r\n\tcontent.setSizeMode('relative','relative')\r\n\t\t   .setDifferentialSize(0,-44)\r\n\t\t   .setPosition(0,44)\r\n\t\t   .el = new DOMElement(content,{\r\n\t\t   \t\tclasses:['apply_con']\r\n\t\t   })\r\n\r\n\tnode._content = content;\t   \r\n\r\n\tvar form = content.addChild();\r\n\tvar form_item = `<ul>\r\n\t\t\t\t\t\t<li class=\"area\"></li>\r\n\t\t\t\t\t\t<li class=\"building\"></li>\r\n\t\t\t\t\t\t<li class=\"number\"></li>\r\n\t\t\t\t\t\t<li class=\"type\"></li>\r\n\t\t\t\t    </ul>`;\r\n\r\n\tform.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,240)\r\n\t\t.el = new DOMElement(form,{\r\n\t\t\tclasses:['repair_form'],\r\n\t\t\tcontent:form_item\r\n\r\n\t\t});\r\n\r\n\r\n\tvar areaSelect = form.addChild();\r\n\r\n\tareaSelect\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,60)\r\n\t\t.setDifferentialSize(-50)\r\n\t\t.setPosition(50,0)\r\n\t\t.el = new DOMElement(areaSelect,{\r\n\t\t\tclasses:['select_box'],\r\n\t\t\tcontent:function(){\r\n\t\t\t\tvar str = `<select><option value=\"-1\"></option>`;\r\n\t\t\t\tif(areaJson !== null){\r\n\t\t\t\t\tareaJson.forEach(v =>{\r\n\t\t\t\t\t\tstr += `<option value=\"${v.id}\">${v.name}</option>`\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn str + `</select>`;\r\n\t\t\t}()\r\n\t\t})\r\n\r\n\tareaSelect.addUIEvent('change')\r\n\tareaSelect.onReceive = function(e,p){\r\n\t\tif(e === 'change'){\r\n\t\t\tarea = p.value;\r\n\t\t\tnew Ajax('/advert/tree_data')\r\n\t\t\t\t.data({\r\n\t\t\t\t\t'aid':area,\r\n\t\t\t\t\t'id':_this.userId,\r\n\t\t\t\t\t'did':App.uuid,\r\n\t\t\t\t\t'tk':_this.token\r\n\t\t\t\t})\r\n\t\t\t\t.success(function(d){\r\n\t\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_this.buildingJson = d.data;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar str = `<select><option value=\"-1\"></option>`;\r\n\t\t\t\t\t\tvar str2 = `<select><option value=\"-1\"></option></select>`;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//null\r\n\t\t\t\t\t\tif(_this.buildingJson !==null){\r\n\t\t\t\t\t\t\t_this.buildingJson.forEach(v =>{\r\n\t\t\t\t\t\t\t\tstr += `<option value=\"${v.id}\">${v.oname}</option>`\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t_this.buildingSelect.el.setContent(str);\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t_this.numberSelect.el.setContent(str2);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}).post()\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t_this.buildingSelect = form.addChild();\r\n\r\n\t_this.buildingSelect\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,60)\r\n\t\t.setDifferentialSize(-50)\r\n\t\t.setPosition(50,60)\r\n\t\t.el = new DOMElement(_this.buildingSelect,{\r\n\t\t\tclasses:['select_box'],\r\n\t\t\tcontent:function(){\r\n\t\t\t\tvar str = `<select><option value=\"-1\"></option>`;\r\n\t\t\t\treturn str + `</select>`;\r\n\t\t\t}()\r\n\t\t})\r\n\r\n\t_this.buildingSelect.addUIEvent('change')\r\n\t_this.buildingSelect.onReceive = function(e,p){\r\n\t\tif(e === 'change'){\r\n\t\t\tbuilding = p.value;\r\n\r\n\t\t\tnew Ajax('/advert/tree_data')\r\n\t\t\t\t.data({\r\n\t\t\t\t\t'aid':building,\r\n\t\t\t\t\t'id':_this.userId,\r\n\t\t\t\t\t'did':App.uuid,\r\n\t\t\t\t\t'tk':_this.token\r\n\t\t\t\t})\r\n\t\t\t\t.success(function(d){\r\n\t\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\t\t_this.numberJson = d.data;\r\n\t\t\t\t\t\tvar str = `<select><option value=\"-1\"></option>`;\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tif(_this.numberJson !== null){\r\n\t\t\t\t\t\t\t_this.numberJson.forEach(v =>{\r\n\t\t\t\t\t\t\t\tstr += `<option value=\"${v.id}\">${v.oname}</option>`\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t_this.numberSelect.el.setContent(str);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).post()\r\n\t\t}\r\n\t}\r\n\r\n\t_this.numberSelect = form.addChild();\r\n\r\n\t_this.numberSelect\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,60)\r\n\t\t.setDifferentialSize(-50)\r\n\t\t.setPosition(50,120)\r\n\t\t.el = new DOMElement(_this.numberSelect,{\r\n\t\t\tclasses:['select_box'],\r\n\t\t\tcontent:function(){\r\n\t\t\t\tvar str = `<select><option value=\"-1\"></option>`;\r\n\t\t\t\treturn str + `</select>`;\r\n\t\t\t}()\r\n\t\t})\r\n\r\n\t_this.numberSelect.addUIEvent('change')\r\n\t_this.numberSelect.onReceive = function(e,p){\r\n\t\tif(e === 'change'){\r\n\t\t\tnumber = p.value;\r\n\t\t}\r\n\t}\r\n\r\n\tvar typeSelect = form.addChild();\r\n\r\n\ttypeSelect\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,60)\r\n\t\t.setDifferentialSize(-50)\r\n\t\t.setPosition(50,180)\r\n\t\t.el = new DOMElement(typeSelect,{\r\n\t\t\tclasses:['select_box'],\r\n\t\t\tcontent:function(){\r\n\t\t\t\tvar str = `<select><option value=\"-1\"></option>`;\r\n\t\t\t\tif(typeJson !== null){\r\n\t\t\t\t\ttypeJson.forEach(v =>{\r\n\t\t\t\t\t\tstr += `<option value=\"${v}\">${v}</option>`\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn str + `</select>`;\r\n\t\t\t}()\r\n\t\t})\r\n\r\n\ttypeSelect.addUIEvent('change')\r\n\ttypeSelect.onReceive = function(e,p){\r\n\t\tif(e === 'change'){\r\n\t\t\ttype = p.value;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tvar submit = new button('','#fe6a71','submit_btn')\r\n\tsubmit.setSizeMode('relative','absolute')\r\n\t\t  .setAbsoluteSize(null,40)\r\n\t\t  .setPosition(0,240+App.height*0.15)\r\n\t\t  .setProportionalSize(.85)\r\n\t\t  .setAlign(.5)\r\n\t\t  .setMountPoint(.5)\r\n\t\t  .clickEvent = function(e,p){\r\n\t\t  \tif(e === 'click'){\r\n\t\t  \t\tif(~area && ~building && ~number && ~type){\r\n\t\t  \t\t\tnew Ajax('/advert_apply/apply')\r\n\t\t  \t\t\t\t.data({\r\n\t\t  \t\t\t\t\t'sid':_this.shopId,\r\n\t\t  \t\t\t\t\t'aid':number,\r\n\t\t  \t\t\t\t\t'id':_this.userId,\r\n\t\t  \t\t\t\t\t'tid':type,\r\n\t\t  \t\t\t\t\t'did':App.uuid,\r\n\t\t  \t\t\t\t\t'tk':_this.token\r\n\t\t  \t\t\t\t})\r\n\t\t  \t\t\t\t.success(function(d){\r\n\t\t  \t\t\t\t\tif(d.status === 200){\r\n\t\t  \t\t\t\t\t\talert('',function(){\r\n\t\t\t\t\t  \t\t\t\t_this.back();\r\n\t\t\t\t\t  \t\t\t},'','');\r\n\t\t  \t\t\t\t\t}else{\r\n\t\t  \t\t\t\t\t\talert(d.msg,'','','')\r\n\t\t  \t\t\t\t\t}\r\n\t\t  \t\t\t\t}).post();\r\n\t\t  \t\t}else{\r\n\t\t  \t\t\talert('','','','');\r\n\t\t  \t\t}\r\n\t\t  \t\t\r\n\t\t  \t}\r\n\t\t  }\r\n\r\n\tcontent.addChild(submit);\r\n\r\n\tvar remind = content.addChild();\r\n\tremind\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,130)\r\n\t\t.setAlign(0,1)\r\n\t\t.setMountPoint(0,1)\r\n\t\t.el = new DOMElement(remind,{\r\n\t\t\tclasses:['remind'],\r\n\t\t\tcontent:`<h2><i></i></h2>\r\n\t\t\t\t\t <p><em></em></p>\r\n\t\t\t\t\t <p><em></em>3</p>`\r\n\t\t})\r\n\r\n}\r\n\r\nmodule.exports = AdApply;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"button\":75,\"famous/dom-renderables/DOMElement\":21,\"model/SignModel\":79,\"twoBtnNav\":87}],89:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('twoBtnNav');\r\nvar button = require('button');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar sign = require('model/SignModel');\r\n\r\nclass ShopChoose extends Page{\r\n\tconstructor(data){\r\n\t\tsuper({id:'ShopChoose'})\r\n\t\tthis.type = data; \r\n\t}\r\n\r\n\tonCreate(data){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.type = data;\r\n\r\n\t\tinitNav(this,this.type);\r\n\r\n\t\tvar userSign = sign.findOne();\r\n\r\n\t\tnew Ajax('/user_store/list_id').data({'id':userSign.id,'did':App.uuid,'tk':userSign.token})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tthis.shopList = d.data;\r\n\t\t\t}.bind(this)).post();\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tif(!this._con){\r\n\t\t\tinitContent(this,this.applyType,this.shopList);\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._con = null;\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\t\tif(e === 'click' && p.node.listId === 'shopSelect' && this.type === 1){\r\n\t\t\tthis.to('adApply',{data:p.node.shopId}); //\r\n\t\t}\r\n\t\tif(e === 'click' && p.node.listId === 'shopSelect' && this.type === 2){\r\n\t\t\tthis.to('apply_yard'); //\r\n\t\t}\r\n\t\tif(e === 'click' && p.node.listId === 'shopSelect' && this.type === 3){\r\n\t\t\tthis.to('apply_hall'); //\r\n\t\t}\r\n\r\n\t\tp.stopPropagation();\r\n\t}\r\n\r\n}\r\n\r\nfunction initNav(node,type){\r\n\tvar backButton = new button(\" \",\"\",\"goback2\");\r\n\tvar _this = node;\r\n\tvar src = '';\r\n\r\n\tnode.applyType = '';\r\n\r\n\t// backButton.setAbsoluteSize(44,44);\r\n\tbackButton.clickEvent = function(e,p){\r\n\t\tnode.back();\r\n\t\tp.stopPropagation();\r\n\t};\r\n\r\n\tvar rightText = new button('','','right_text');\r\n\trightText.setAbsoluteSize(100,44);\r\n\trightText.clickEvent = function(e,p){\r\n\t\t//\r\n\t\tswitch (type) {\r\n\t\t\tcase 1:\r\n\t\t\t\t_this.to('adRecord');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\t_this.to('record_yard');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\t_this.to('record_hall');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tp.stopPropagation();\r\n\t};\r\n\r\n\t//header\r\n\tnode.addChild(new Nav('',backButton,rightText));\r\n\tswitch (type) {\r\n\t\tcase 1:\r\n\t\t\tsrc = `./images/apply/shop_apply_${type}.jpg`;\r\n\t\t\tnode.applyType = '';\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tsrc = `./images/apply/shop_apply_${type}.png`;\r\n\t\t\tnode.applyType = '';\r\n\t\t\tbreak;\r\n\t\tcase 3:\r\n\t\t\tsrc = `./images/apply/shop_apply_${type}.png`;\r\n\t\t\tnode.applyType = '';\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tvar shopBg = node.addChild();\r\n\tshopBg\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,App.width*23/75)\r\n\t\t.setPosition(0,44)\r\n\t\t.el = new DOMElement(shopBg,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':src\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nfunction initContent(node,type,data){\r\n\tvar con = node.addChild();\r\n\tcon\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setDifferentialSize(0,-( 44+ App.width*23/75))\r\n\t\t.setPosition(0,(44+ App.width*23/75))\r\n\r\n\tnode._con = con;\r\n\r\n\t//\r\n\tvar HD = con.addChild();\r\n\r\n\tHD\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,15)\r\n\t\t.setPosition(0,15)\r\n\t\t.el = new DOMElement(HD,{\r\n\t\t\tclasses:['HD'],\r\n\t\t\tcontent:`<span></span>${type}`\r\n\t\t}).setProperty('lineHeight','15px');\r\n\r\n\r\n\tvar shopItemBox = con.addChild();\r\n\tshopItemBox\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setDifferentialSize(0,-(40+25))\r\n\t\t.setPosition(0,40)\r\n\t\t.el = new DOMElement(shopItemBox,{\r\n\t\t\tclasses:['overflow_scoll']\r\n\t\t})\r\n\r\n\tvar shopjson = data;\r\n\r\n\tif(shopjson === null){\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// \r\n\tfor(var i = 0 ; i < shopjson.length;i++){\r\n\t\tvar shopItem = shopItemBox.addChild();\r\n\t\t// var align = i % 2 ? 1 : 0;\r\n\r\n\t\tshopItem\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,60)\r\n\t\t\t.setProportionalSize(1/2)\r\n\t\t\t.setDifferentialSize(-14)\r\n\t\t\t.setAlign(i%2/2)\r\n\t\t\t// .setAlign(align)\r\n\t\t\t// .setMountPoint(align)\r\n\t\t\t// .setPosition(align ? -14 : 14,Math.floor(i/2)*61)\r\n\t\t\t.setPosition(i%2?0:14,Math.floor(i/2)*60)\r\n\t\t\t.el = new DOMElement(shopItem,{\r\n\t\t\t\tclasses:['shop_item'],\r\n\t\t\t\tcontent:shopjson[i].name\r\n\t\t\t})\r\n\r\n\t\t// align ? shopItem.el.setProperty('borderRight','1px solid #e0e0e0') : shopItem.el.setProperty('borderLeft','1px solid #e0e0e0');\r\n\r\n\t\t//\r\n\t\tshopItem.addUIEvent('click');\r\n\t\tshopItem.listId = 'shopSelect';\r\n\t\tshopItem.shopId = shopjson[i].id;\r\n\t}\t\r\n\r\n}\r\n\r\nmodule.exports = ShopChoose;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"button\":75,\"famous/dom-renderables/DOMElement\":21,\"model/SignModel\":79,\"twoBtnNav\":87}],90:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('twoBtnNav');\r\nvar button = require('button');\r\nvar Tips = require('Tips');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar signModel = require('model/signModel');\r\n\r\nclass apply_hall extends Page {\r\n\r\n\tconstructor() {\r\n\t\tsuper({\r\n\t\t\tid: 'apply'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(opt) {\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.opt = opt;\r\n\r\n\t\tinitNav(this);\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setSizeMode('relative', 'relative')\r\n\t\t\t.setDifferentialSize(0, -45)\r\n\t\t\t.setPosition(0, 45);\r\n\r\n\t\tnew DOMElement(this.content, {\r\n\t\t\tclasses: ['overflow_auto']\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tonResume() {\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t\tif (!this.content.inode2) {\r\n\r\n\t\t\tinitPage(this.content);\r\n\r\n\t\t\tinitData(this.content);\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t}\r\n\r\n\tonDestroy() {\r\n\r\n\t\tvar obj = this.getChildren(),\r\n\t\t\ti = obj.length;\r\n\r\n\t\twhile (i--) {\r\n\t\t\tthis.removeChild(obj[i]);\r\n\t\t}\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n\tonReceive(e, p) {\r\n\r\n\t\t//\r\n\t\tif (e === 'change' && p.node.liId === 'area') {\r\n\r\n\t\t\tinitNumber(this.content, p.value);\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\t// //\r\n\t\t// if (e === 'click' && p.node.liId === 'getTime') {\r\n\r\n\t\t// \tp.node.el.addClass('l_getTime');\r\n\r\n\t\t// \tp.stopPropagation();\r\n\r\n\t\t// }\r\n\r\n\t\t// //\r\n\t\t// if (e === 'change' && p.node.liId === 'getTime') {\r\n\r\n\t\t// \tthis.getTime = p.value;\r\n\r\n\t\t// \t//\r\n\t\t// \tthis.timestamp = Date.parse(new Date(this.getTime)) / 1000;\r\n\r\n\t\t// \tp.stopPropagation();\r\n\r\n\t\t// }\r\n\r\n\t\t//\r\n\t\tif (e === 'input' && p.node.liId === 'productText') {\r\n\r\n\t\t\tthis.productText = p.value;\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tif (e === 'change' && p.node.liId === 'cycle') {\r\n\r\n\t\t\tthis.cycle = p.value;\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tif (e === 'change' && p.node.liId === 'number') {\r\n\r\n\t\t\tthis.hid = p.value;\r\n\r\n\t\t\tinitHallInfo(this.content, p.value);\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tif (e === 'click' && p.node.liId === 'submit') {\r\n\r\n\t\t\tif (this.hid && this.cycle && this.productText) {\r\n\r\n\t\t\t\tnew Ajax('/hall_apply/apply').data({\r\n\t\t\t\t\t'sid': this.opt,\r\n\t\t\t\t\t'hid': this.hid,\r\n\t\t\t\t\t'id': signModel.findOne().id,\r\n\t\t\t\t\t'cid': this.cycle,\r\n\t\t\t\t\t'product': this.productText,\r\n\t\t\t\t\t'did': App.uuid,\r\n\t\t\t\t\t'tk': signModel.findOne().token\r\n\t\t\t\t}).success(function(res) {\r\n\r\n\t\t\t\t\tthis.hid = '';\r\n\t\t\t\t\tthis.cycle = '';\r\n\t\t\t\t\tthis.productText = '';\r\n\r\n\t\t\t\t\tif (res.status == 200) {\r\n\r\n\t\t\t\t\t\talert('', null, '', '');\r\n\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t\t\t// this.content.inode4.el.removeClass('l_getTime');\r\n\r\n\t\t\t\t\t\t\tthis.back();\r\n\r\n\t\t\t\t\t\t}.bind(this), 1000);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\talert(res.msg, null, '', '');\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t}.bind(this)).post();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\talert('', null, '', '');\r\n\r\n\t\t\t}\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n}\r\n\r\nfunction initHallInfo(nodeAll, value) {\r\n\r\n\t//\r\n\tnew Ajax('/hall/detail').data({\r\n\t\t'hid': value,\r\n\t\t'id': signModel.findOne().id,\r\n\t\t'did': App.uuid,\r\n\t\t'tk': signModel.findOne().token\r\n\t}).success(function(res) {\r\n\r\n\t\tvar list = res.data;\r\n\t\tnodeAll.info.el.setContent(`<div class=\"pad24\"><table border=\"1\">\r\n\t\t<tr>\r\n\t\t\t<td colspan=\"2\" style=\"height:38px\"></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td> /   <em>${list.area}</em></td>\r\n\t\t\t<td> /   <em>${list.oarea}</em></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td colspan=\"2\" style=\"padding: 0;height: 40px;\"><a href=\"javascript:;\"></a></td>\r\n\t\t</tr>\r\n\t  </table>\r\n\t  </div>\r\n\t\t<dl>\r\n\t\t\t<dt><i></i></dt>\r\n\t\t\t<dd>\r\n\t\t\t\t<p></p>\r\n\t\t\t\t<p>3</p>\r\n\t\t\t</dd>\r\n\t\t</dl>\r\n\t\t`)\r\n\r\n\t}).post();\r\n\r\n}\r\n\r\nfunction initNumber(nodeAll, value) {\r\n\r\n\t//\r\n\tnew Ajax('/hall/tree_data').data({\r\n\t\t'hid': value,\r\n\t\t'id': signModel.findOne().id,\r\n\t\t'did': App.uuid,\r\n\t\t'tk': signModel.findOne().token\r\n\t}).success(function(res) {\r\n\r\n\t\tvar list = res.data;\r\n\t\tvar len = res.data.length;\r\n\t\tvar str = '';\r\n\t\tstr += `<select><option value=\"-1\"></option>`\r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\r\n\t\t\tstr += `<option value=\"${list[i].id}\">${list[i].name}</option>`\r\n\r\n\t\t}\r\n\r\n\t\tstr += `</select>`;\r\n\r\n\t\tnodeAll.inode2.el.setContent(`<img src=\"images/conService/con2.png\"/>\r\n\t\t\t\t\t\t \t\t\t${str}\r\n\t\t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`);\r\n\r\n\t\tnodeAll.inode2.liId = 'number';\r\n\t\tnodeAll.inode2.addUIEvent('change');\r\n\r\n\t}).post();\r\n\r\n}\r\n\r\nfunction initNav(node) {\r\n\tvar backButton = new button(\" \", \"\", \"goback2\");\r\n\tvar _this = node;\r\n\r\n\t// backButton.setAbsoluteSize(44,44);\r\n\tbackButton.clickEvent = function() {\r\n\t\tnode.back();\r\n\t};\r\n\r\n\tvar rightText = new button('', '', 'right_text');\r\n\trightText.setAbsoluteSize(100, 44);\r\n\trightText.clickEvent = function() {\r\n\t\t_this.hid = '';\r\n\t\t_this.cycle = '';\r\n\t\t_this.timestamp = '';\r\n\t\t_this.to('record_hall');\r\n\t};\r\n\r\n\tnode.addChild(new navbar('', backButton, rightText));\r\n}\r\n\r\nfunction initPage(nodeAll) {\r\n\r\n\t//\r\n\tvar inode = nodeAll.addChild();\r\n\tvar str = '';\r\n\tstr += `<select><option value=\"-1\"></option>`\r\n\r\n\tstr += `</select>`;\r\n\r\n\tinode.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 60)\r\n\t\t.setPosition(0, 0 * 60)\r\n\r\n\tinode.el = new DOMElement(inode, {\r\n\t\tclasses: ['apply_list'],\r\n\t\tcontent: `<img src=\"images/conService/con1.png\"/>\r\n\t\t\t\t\t\t \t\t\t${str}\r\n\t\t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`\r\n\t});\r\n\r\n\tinode.liId = 'area';\r\n\tinode.addUIEvent('change');\r\n\r\n\t//\r\n\tnodeAll.inode2 = nodeAll.addChild();\r\n\tvar str = '';\r\n\tstr += `<select><option value=\"-1\"></option>`\r\n\r\n\tstr += `</select>`;\r\n\r\n\tnodeAll.inode2.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 60)\r\n\t\t.setPosition(0, 1 * 60)\r\n\r\n\tnodeAll.inode2.el = new DOMElement(nodeAll.inode2, {\r\n\t\tclasses: ['apply_list'],\r\n\t\tcontent: `<img src=\"images/conService/con2.png\"/>\r\n\t\t\t\t\t\t \t\t\t${str}\r\n\t\t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`\r\n\t});\r\n\r\n\tnodeAll.inode2.liId = 'number';\r\n\tnodeAll.inode2.addUIEvent('change');\r\n\r\n\t//\r\n\tnodeAll.inode3 = nodeAll.addChild();\r\n\tvar str = '';\r\n\tstr += `<select><option value=\"-1\"></option>`\r\n\r\n\tstr += `</select>`;\r\n\r\n\tnodeAll.inode3.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 60)\r\n\t\t.setPosition(0, 2 * 60)\r\n\r\n\tnodeAll.inode3.el = new DOMElement(nodeAll.inode3, {\r\n\t\tclasses: ['apply_list'],\r\n\t\tcontent: `<img src=\"images/conService/con3.png\"/>\r\n\t\t\t\t\t\t \t\t\t${str}\r\n\t\t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`\r\n\t});\r\n\r\n\tnodeAll.inode3.liId = 'cycle';\r\n\tnodeAll.inode3.addUIEvent('change');\r\n\r\n\r\n\t//\r\n\t// nodeAll.inode4 = nodeAll.addChild();\r\n\t// var str = '';\r\n\t// str = `<p></p><input type=\"datetime-local\"/>`;\r\n\r\n\t// nodeAll.inode4.setSizeMode('relative', 'absolute')\r\n\t// \t.setAbsoluteSize(null, 60)\r\n\t// \t.setPosition(0, 3 * 60)\r\n\r\n\t// nodeAll.inode4.el = new DOMElement(nodeAll.inode4, {\r\n\t// \tclasses: ['apply_list'],\r\n\t// \tcontent: `<img src=\"images/conService/con4.png\"/>\r\n\t// \t\t\t\t\t \t\t\t${str}\r\n\t// \t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`\r\n\t// });\r\n\r\n\t// nodeAll.inode4.liId = 'getTime';\r\n\t// nodeAll.inode4.addUIEvent('click');\r\n\t// nodeAll.inode4.addUIEvent('change');\r\n\r\n\t//\r\n\tvar inode2 = nodeAll.addChild(),\r\n\t\tstr2 = `<input type=\"text\" placeholder=\"\" style=\"opacity:1\"/>`;\r\n\r\n\tinode2.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 60)\r\n\t\t.setPosition(0, 3 * 60)\r\n\r\n\tinode2.el = new DOMElement(inode2, {\r\n\t\tclasses: ['apply_list'],\r\n\t\tcontent: `<img src=\"images/conService/con6.png\"/>\r\n\t\t\t\t\t\t\t\t \t\t\t${str2}`\r\n\t});\r\n\r\n\tinode2.liId = 'productText';\r\n\tinode2.addUIEvent('input');\r\n\r\n\t//\r\n\tnew Ajax('/hall/tree_data').data({\r\n\t\t'hid': 1,\r\n\t\t'id': signModel.findOne().id,\r\n\t\t'did': App.uuid,\r\n\t\t'tk': signModel.findOne().token\r\n\t}).success(function(res) {\r\n\r\n\t\tvar list = res.data;\r\n\t\tvar len = res.data.length;\r\n\t\tvar str = '';\r\n\t\tstr += `<select><option value=\"-1\"></option>`\r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\r\n\t\t\tstr += `<option value=\"${list[i].id}\">${list[i].name}</option>`\r\n\r\n\t\t}\r\n\r\n\t\tstr += `</select>`;\r\n\r\n\t\tinode.el.setContent(`<img src=\"images/conService/con1.png\"/>\r\n\t\t\t\t\t\t\t \t\t\t${str}\r\n\t\t\t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`);\r\n\r\n\t}).post();\r\n\r\n\t//\r\n\tnew Ajax('/hall_apply/hall_cycle').data({\r\n\t\t'id': signModel.findOne().id,\r\n\t\t'did': App.uuid,\r\n\t\t'tk': signModel.findOne().token\r\n\t}).success(function(res) {\r\n\r\n\t\tvar list = res.data;\r\n\t\tvar len = res.data.length;\r\n\t\tvar str = '';\r\n\t\tstr += `<select><option value=\"-1\"></option>`\r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\r\n\t\t\tstr += `<option value=\"${i}\">${list[i]}</option>`\r\n\r\n\t\t}\r\n\r\n\t\tstr += `</select>`;\r\n\r\n\t\tnodeAll.inode3.el.setContent(`<img src=\"images/conService/con3.png\"/>\r\n\t\t\t\t\t\t \t\t\t${str}\r\n\t\t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`);\r\n\t}).post()\r\n\r\n}\r\n\r\nfunction initData(nodeAll) {\r\n\tnodeAll.info = nodeAll.addChild();\r\n\tnodeAll.info.setPosition(0, 240)\r\n\t\t.setDifferentialSize(0, -240)\r\n\r\n\tnodeAll.info.el = new DOMElement(nodeAll.info, {\r\n\t\tclasses: ['apply_info'],\r\n\t\tcontent: `<div class=\"pad24\"><table border=\"1\">\r\n\t\t<tr>\r\n\t\t\t<td colspan=\"2\" style=\"height:38px\"></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td> /   <em>0</em></td>\r\n\t\t\t<td> /   <em>0</em></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td colspan=\"2\" style=\"padding: 0;height: 40px;\"><a href=\"javascript:;\"></a></td>\r\n\t\t</tr>\r\n\t  </table>\r\n\t  </div>\r\n\t\t<dl>\r\n\t\t\t<dt><i></i></dt>\r\n\t\t\t<dd>\r\n\t\t\t\t<p></p>\r\n\t\t\t\t<p>3</p>\r\n\t\t\t</dd>\r\n\t\t</dl>\r\n\t\t`\r\n\t});\r\n\r\n\tnodeAll.submit = nodeAll.info.addChild();\r\n\tnodeAll.submit.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 40)\r\n\t\t.setPosition(24, 150)\r\n\t\t.setDifferentialSize(-48, 0);\r\n\r\n\tnodeAll.submit.el = new DOMElement(nodeAll.submit);\r\n\tnodeAll.submit.el.setProperty('background', 'none');\r\n\r\n\tnodeAll.submit.liId = 'submit';\r\n\tnodeAll.submit.addUIEvent('click');\r\n\r\n}\r\n\r\n\r\nmodule.exports = apply_hall;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"Tips\":73,\"button\":75,\"famous/dom-renderables/DOMElement\":21,\"model/signModel\":84,\"twoBtnNav\":87}],91:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar CrossCall = require('famous/core/CrossCall');\r\nvar navbar = require('navbar');\r\nvar Ajax = require('Ajax');\r\nvar signModel = require('model/signModel');\r\nvar App = require('App');\r\n\r\nclass apply_wl extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'apply'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(){\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.addChild(new navbar(''));\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setSizeMode('relative','relative')\r\n\t\t\t\t\t\t\t\t.setDifferentialSize(0,-45)\r\n\t\t\t\t\t\t\t\t.setPosition(0,45);\r\n\r\n\t\tnew DOMElement(this.content,{\r\n\t\t\tclasses:['overflow_auto','bgh']\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t\tinitPage(this.content);\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\tif(e === `click` && p.node.liId === `phone_wl`){\r\n\r\n\t\t\tvar phoneNumber = p.node.phoneNumber;\r\n\t\t\t\t\tthis.phoneId = p.node.phoneId;\r\n\r\n\t\t\tconfirm(`${phoneNumber}`,function(res){\r\n\r\n\t\t\t\tvar phoneId = this.phoneId;\r\n\r\n\t\t\t\tif(res == 1){\r\n\t\t\t\t\t\r\n\t\t\t\t\tnew CrossCall(function(phoneId){\r\n\t\t\t\t\t\tconsole.log(phoneId);\r\n\t\t\t\t\t\tdocument.getElementById(phoneId).click();\r\n\r\n\t\t\t\t\t},[phoneId]).exec();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this),``,[``,``]);\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\tnew Ajax('/transport/lists').data({\r\n\t\t'id':signModel.findOne().id,\r\n\t\t'did':App.uuid,\r\n\t\t'tk':signModel.findOne().token\r\n\t}).success(function(res){\r\n\r\n\t\tvar list = res.data;\r\n\t\tvar len = list.length;\r\n\t\tfor(var i = 0; i < len; i++){\r\n\r\n\t\t\tvar str = '';\r\n\t\t\t// var phoneArray = list[i].phone.split('~');\r\n\t\t\t// var len2 = phoneArray.length;\r\n\t\t\t// for(var j = 0; j < len2; j++){\r\n\t\t\t\tstr += `<a href=\"javascript:;\">${list[i].phone}</a>`\r\n\t\t\t// }\r\n\r\n\t\t\tvar inode = nodeAll.addChild();\r\n\t\t\t\t\tinode.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t .setAbsoluteSize(null,170)\r\n\t\t\t\t\t\t\t .setPosition( 0, i * (170 + 8 ));\r\n\r\n\t\t\t\t\tinode.el = new DOMElement(inode,{\r\n\t\t\t\t\t\tclasses:['list_wl'],\r\n\t\t\t\t\t\tcontent:`<dl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<dt>${list[i].name}</dt>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<dd>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"p1\"><i></i>${list[i].address}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"p2\"><i></i>${list[i].range}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t\t\t\t\t\t</dl>\r\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"ul_phone\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t${str}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tinode.phoneNumber = list[i].phone;\r\n\t\t\t\t\tinode.liId = 'phone_wl';\r\n\t\t\t\t\tinode.phoneId = `playPhone${i}`;\r\n\t\t\t\t\tinode.addUIEvent('click');\r\n\r\n\t\t\t//\r\n\t\t\tvar playPhone = nodeAll.addChild();\r\n\t\t\tplayPhone.setAlign(-2,0);\r\n\t\t\tplayPhone.el = new DOMElement(playPhone,{\r\n\t\t\t\tcontent:`<a href=\"tel:${list[i].phone}\" id=\"playPhone${i}\"></a>`\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\r\n\t}).post();\r\n\r\n\r\n}\r\n\r\n\r\n\r\nmodule.exports = apply_wl;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"famous/core/CrossCall\":9,\"famous/dom-renderables/DOMElement\":21,\"model/signModel\":84,\"navbar\":85}],92:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('twoBtnNav');\r\nvar button = require('button');\r\nvar Tips = require('Tips');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar signModel = require('model/signModel');\r\n\r\nclass apply_yard extends Page {\r\n\r\n\tconstructor() {\r\n\t\tsuper({\r\n\t\t\tid: 'apply'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(opt) {\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.opt = opt;\r\n\r\n\t\tinitNav(this);\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setSizeMode('relative', 'relative')\r\n\t\t\t.setDifferentialSize(0, -45)\r\n\t\t\t.setPosition(0, 45);\r\n\r\n\t\tnew DOMElement(this.content, {\r\n\t\t\tclasses: ['overflow_auto']\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonResume() {\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t\tif (!this.number) {\r\n\r\n\t\t\t// initTime(this.content);\r\n\r\n\t\t\tinitPage(this.content);\r\n\r\n\t\t\tinitData(this.content);\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t}\r\n\r\n\tonDestroy() {\r\n\r\n\t\tvar _this = this,\r\n\t\t\tobj = this.getChildren(),\r\n\t\t\ti = obj.length;\r\n\r\n\t\twhile (i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n\tonReceive(e, p) {\r\n\r\n\t\t// if(e === 'input' && p.node.liId === 'time1'){\r\n\r\n\t\t// \tthis.time1 = Date.parse(p.value) / 1000;\r\n\r\n\t\t// \tp.node.el.addClass('opa1');\r\n\r\n\t\t// \tp.stopPropagation();\r\n\t\t// }\r\n\r\n\t\t// if(e === 'input' && p.node.liId === 'time2'){\r\n\r\n\t\t// \tthis.time2 = Date.parse(p.value) / 1000;\r\n\r\n\t\t// \tp.node.el.addClass('opa1');\r\n\r\n\t\t// \tp.stopPropagation();\r\n\t\t// }\r\n\r\n\t\tif (e === 'input' && p.node.liId === 'productText') {\r\n\r\n\t\t\tthis.productText = p.value;\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\tif (e === 'change' && p.node.liId === 'area') {\r\n\r\n\t\t\tthis.area = p.value;\r\n\r\n\t\t}\r\n\r\n\t\tif (e === 'change' && p.node.liId === 'number') {\r\n\r\n\t\t\tthis.number = p.value;\r\n\r\n\t\t\t//\r\n\t\t\tnew Ajax('/yard/detail').data({\r\n\t\t\t\t'yid': this.number,\r\n\t\t\t\t'id': signModel.findOne().id,\r\n\t\t\t\t'did': App.uuid,\r\n\t\t\t\t'tk': signModel.findOne().token\r\n\t\t\t}).success(function(res) {\r\n\t\t\t\tvar list = res.data;\r\n\t\t\t\tthis.content.info.el.setContent(`<div class=\"pad24\"><table border=\"1\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style=\"padding:0 50px\"> / <em>${list.area}</em></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td colspan=\"2\" style=\"padding: 0;height: 40px;\"><a href=\"javascript:;\"></a></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t  </table>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t<dl>\r\n\t\t\t\t\t\t\t<dt><i></i></dt>\r\n\t\t\t\t\t\t\t<dd>\r\n\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t\t<p>3</p>\r\n\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t</dl>\r\n\t\t\t\t\t\t`)\r\n\t\t\t}.bind(this)).post();\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\tif (e === 'click' && p.node.liId === 'submit') {\r\n\r\n\t\t\tif (this.number && this.productText) {\r\n\r\n\t\t\t\tnew Ajax('/yard_apply/apply').data({\r\n\t\t\t\t\t'sid': this.opt,\r\n\t\t\t\t\t'yid': this.number,\r\n\t\t\t\t\t'id': signModel.findOne().id,\r\n\t\t\t\t\t// 'cdate':this.time1,\r\n\t\t\t\t\t// 'edate':this.time2,\r\n\t\t\t\t\t'product': this.productText,\r\n\t\t\t\t\t'did': App.uuid,\r\n\t\t\t\t\t'tk': signModel.findOne().token\r\n\t\t\t\t}).success(function(res) {\r\n\r\n\t\t\t\t\tconsole.log(res);\r\n\r\n\t\t\t\t\tthis.number = '';\r\n\t\t\t\t\tthis.area = '';\r\n\t\t\t\t\t// this.time1 = '';\r\n\t\t\t\t\t// this.time2 = '';\r\n\t\t\t\t\tthis.productText = '';\r\n\r\n\t\t\t\t\tif (res.status == 200) {\r\n\r\n\t\t\t\t\t\talert('', null, '', '');\r\n\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t\t\t// this.content.time1.el.removeClass('opa1');\r\n\t\t\t\t\t\t\t// this.content.time2.el.removeClass('opa1');\r\n\r\n\t\t\t\t\t\t\tthis.back();\r\n\r\n\t\t\t\t\t\t}.bind(this), 1000);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\talert(res.msg, null, '', '');\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t}.bind(this)).post();\r\n\r\n\t\t\t} else {\r\n\t\t\t\talert('', null, '', '');\r\n\t\t\t}\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n}\r\n\r\nfunction initNav(node) {\r\n\tvar backButton = new button(\" \", \"\", \"goback2\");\r\n\tvar _this = node;\r\n\r\n\t// backButton.setAbsoluteSize(44,44);\r\n\tbackButton.clickEvent = function() {\r\n\t\tnode.back();\r\n\t};\r\n\r\n\tvar rightText = new button('', '', 'right_text');\r\n\trightText.setAbsoluteSize(100, 44);\r\n\trightText.clickEvent = function() {\r\n\r\n\t\t_this.to('record_yard');\r\n\t};\r\n\r\n\tnode.addChild(new navbar('', backButton, rightText));\r\n}\r\n\r\nfunction initTime(nodeAll) {\r\n\r\n\tnodeAll.time = nodeAll.addChild();\r\n\tnodeAll.time.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 90);\r\n\r\n\tnodeAll.time.el = new DOMElement(nodeAll.time, {\r\n\t\tclasses: ['timebg'],\r\n\t\tcontent: `<div class=\"timebg_left\"></div><i></i><div class=\"timebg_right\"></div>`\r\n\t});\r\n\r\n\t//\r\n\tnodeAll.time1 = nodeAll.time.addChild();\r\n\tnodeAll.time1.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 53)\r\n\t\t.setProportionalSize(0.4)\r\n\t\t.setDifferentialSize(-24, 0)\r\n\t\t.setPosition(24, 20)\r\n\tnodeAll.time1.el = new DOMElement(nodeAll.time1, {\r\n\t\tclasses: ['time1'],\r\n\t\tcontent: `<input type=\"date\"/>`\r\n\t});\r\n\tnodeAll.time1.liId = 'time1';\r\n\tnodeAll.time1.addUIEvent('input');\r\n\r\n\t//\r\n\tnodeAll.time2 = nodeAll.time.addChild();\r\n\tnodeAll.time2.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 53)\r\n\t\t.setProportionalSize(0.4)\r\n\t\t.setDifferentialSize(-24, 0)\r\n\t\t.setAlign(1, 0)\r\n\t\t.setMountPoint(1, 0)\r\n\t\t.setPosition(-24, 20)\r\n\tnodeAll.time2.el = new DOMElement(nodeAll.time2, {\r\n\t\tclasses: ['time1'],\r\n\t\tcontent: `<input type=\"date\"/>`\r\n\t});\r\n\r\n\tnodeAll.time2.liId = 'time2';\r\n\tnodeAll.time2.addUIEvent('input');\r\n\r\n}\r\n\r\nfunction initPage(nodeAll) {\r\n\r\n\tnew Ajax('/yard/tree_data').data({\r\n\t\t'yid': 1,\r\n\t\t'id': signModel.findOne().id,\r\n\t\t'did': App.uuid,\r\n\t\t'tk': signModel.findOne().token\r\n\t}).success(function(res) {\r\n\r\n\t\t//\r\n\t\tnew Ajax('/yard/domain').data({\r\n\t\t\t'id': signModel.findOne().id,\r\n\t\t\t'did': App.uuid,\r\n\t\t\t'tk': signModel.findOne().token\r\n\t\t}).success(function(res2) {\r\n\r\n\t\t\tvar list2 = res2.data,\r\n\t\t\t\tlen2 = list2.length;\r\n\r\n\t\t\tvar area = nodeAll.addChild();\r\n\t\t\tarea.setSizeMode('relative', 'absolute')\r\n\t\t\t\t.setAbsoluteSize(null, 60);\r\n\r\n\t\t\tvar str2 = '';\r\n\t\t\tstr2 += `<select><option value=\"-1\"></option>`\r\n\t\t\tfor (var j = 0; j < len2; j++) {\r\n\r\n\t\t\t\tstr2 += `<option value=\"${list2[j].id}\">${list2[j].name}</option>`\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstr2 += `</select><a href=\"javascript:;\"></a>`\r\n\r\n\t\t\tarea.el = new DOMElement(area, {\r\n\t\t\t\tclasses: ['apply_list'],\r\n\t\t\t\tcontent: `<img src=\"images/apply/area_ico.png\"/>\r\n\t\t\t\t\t\t\t\t \t\t\t${str2}`\r\n\t\t\t});\r\n\r\n\t\t\tarea.liId = 'area';\r\n\t\t\tarea.addUIEvent('change');\r\n\r\n\t\t}).post();\r\n\r\n\r\n\r\n\t\t//\r\n\t\tvar list = res.data;\r\n\t\tvar len = list.length;\r\n\t\tvar inode = nodeAll.addChild();\r\n\t\tvar str = '';\r\n\t\tstr += `<select><option value=\"-1\"></option>`\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\r\n\t\t\tstr += `<option value=\"${list[i].id}\">${list[i].name}</option>`\r\n\r\n\t\t}\r\n\r\n\t\tstr += `</select><a href=\"javascript:;\"></a>`\r\n\r\n\t\tinode.setSizeMode('relative', 'absolute')\r\n\t\t\t.setAbsoluteSize(null, 60)\r\n\t\t\t.setPosition(0, 60)\r\n\r\n\t\tinode.el = new DOMElement(inode, {\r\n\t\t\tclasses: ['apply_list'],\r\n\t\t\tcontent: `<img src=\"images/conService/con2.png\"/>\r\n\t\t\t\t\t\t\t \t\t\t${str}`\r\n\t\t});\r\n\r\n\t\tinode.liId = 'number';\r\n\t\tinode.addUIEvent('change');\r\n\r\n\r\n\t\t//\r\n\t\tvar inode2 = nodeAll.addChild(),\r\n\t\t\tstr2 = `<input type=\"text\" placeholder=\"\" style=\"opacity:1;width:80%;line-height:50px;\"/>`;\r\n\r\n\t\tinode2.setSizeMode('relative', 'absolute')\r\n\t\t\t.setAbsoluteSize(null, 60)\r\n\t\t\t.setPosition(0, 2 * 60)\r\n\r\n\t\tinode2.el = new DOMElement(inode2, {\r\n\t\t\tclasses: ['apply_list'],\r\n\t\t\tcontent: `<img src=\"images/conService/con6.png\"/>\r\n\t\t\t\t\t\t\t\t \t\t\t${str2}`\r\n\t\t});\r\n\r\n\t\tinode2.liId = 'productText';\r\n\t\tinode2.addUIEvent('input');\r\n\r\n\r\n\r\n\t}).post();\r\n\r\n}\r\n\r\nfunction initData(nodeAll) {\r\n\tnodeAll.info = nodeAll.addChild();\r\n\tnodeAll.info.setPosition(0, 180)\r\n\t\t.setDifferentialSize(0, -180)\r\n\r\n\tnodeAll.info.el = new DOMElement(nodeAll.info, {\r\n\t\tclasses: ['apply_info'],\r\n\t\tcontent: `<div class=\"pad24\"><table border=\"1\">\r\n\t\t\r\n\t\t<tr>\r\n\t\t\t<td style=\"padding:0 50px\"> / <em>0</em></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td colspan=\"2\" style=\"padding: 0;height: 40px;\"><a href=\"javascript:;\"></a></td>\r\n\t\t</tr>\r\n\t  </table>\r\n\t  </div>\r\n\t\t<dl>\r\n\t\t\t<dt><i></i></dt>\r\n\t\t\t<dd>\r\n\t\t\t\t<p></p>\r\n\t\t\t\t<p>3</p>\r\n\t\t\t</dd>\r\n\t\t</dl>\r\n\t\t`\r\n\t});\r\n\r\n\tnodeAll.submit = nodeAll.info.addChild();\r\n\tnodeAll.submit.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 40)\r\n\t\t.setPosition(24, 110)\r\n\t\t.setDifferentialSize(-48, 0);\r\n\r\n\tnodeAll.submit.el = new DOMElement(nodeAll.submit);\r\n\tnodeAll.submit.el.setProperty('background', 'none');\r\n\r\n\tnodeAll.submit.liId = 'submit';\r\n\tnodeAll.submit.addUIEvent('click');\r\n}\r\n\r\n\r\nmodule.exports = apply_yard;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"Tips\":73,\"button\":75,\"famous/dom-renderables/DOMElement\":21,\"model/signModel\":84,\"twoBtnNav\":87}],93:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('navbar');\r\nvar signModel = require('model/signModel');\r\nvar config = require('config.json');\r\n\r\nclass code extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t}\r\n\r\n\tonCreate(){\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.addChild(new navbar(''));\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setSizeMode('relative','relative')\r\n\t\t\t\t\t\t\t\t.setDifferentialSize(0,-45)\r\n\t\t\t\t\t\t\t\t.setPosition(0,45);\r\n\r\n\t\tnew DOMElement(this.content,{\r\n\t\t\tclasses:['overflow_auto']\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t\tinitPage(this.content);\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\tnodeAll.setProportionalSize(.8)\r\n\t\t\t\t .setAlign(.1);\r\n\r\n\tnodeAll.el = new DOMElement(nodeAll,{\r\n\t\tcontent:`<img src=\"${config.ajax_base}/v1/qrcode/?uid=${signModel.findOne().id}\" class=\"l_code\">`\r\n\t})\r\n\t\t\r\n}\r\n\r\n\r\n\r\nmodule.exports = code;\n},{\"Page\":70,\"config.json\":76,\"famous/dom-renderables/DOMElement\":21,\"model/signModel\":84,\"navbar\":85}],94:[function(require,module,exports){\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('navbar');\r\nvar blank = require('blank');\r\n\r\nclass find extends Node{\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'find'\r\n\t\t});\r\n\r\n\t\tnew DOMElement(this,{\r\n\t\t\t'id':'l_find'\r\n\t\t})\r\n\r\n\t\tthis.addChild(new navbar('')).el.setContent(\"<p class='font-lg text-center'><span></span></p>\");\r\n\r\n\t\tthis.addChild(new blank('find'));\r\n\t}\r\n\r\n}\r\n\r\n\r\nmodule.exports = find;\n},{\"blank\":74,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21,\"navbar\":85}],95:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar GestureHandler = require('famous/components/GestureHandler');\r\nvar CrossCall = require('famous/core/CrossCall');\r\nvar Ajax = require('Ajax');\r\nvar personalCenter = require('./personalCenter');\r\nvar message = require('./message');\r\nvar find = require('./find');\r\nvar App = require('App');\r\nvar signModel = require('model/signModel');\r\n\r\nclass home extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'home'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(){\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\t//\r\n\t\tnew Ajax('/app_config/detail_user')\r\n\t\t\t.data({\r\n\t\t\t\t'key':'CUSTOMER_SERVICE',\r\n\t\t\t\t'id':signModel.findOne().id,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':signModel.findOne().token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\tthis.phoneNmuber = d.data;\r\n\t\t\t\t}\r\n\t\t\t}.bind(this)).post();\r\n\r\n\t\t//\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setDifferentialSize(0,-50);\r\n\t\tthis.content.el = new DOMElement(this.content,{\r\n\t\t\tclasses:['content1','overflow_auto']\r\n\t\t});\r\n\r\n\t\t//banner\r\n\t\tinitBanner(this.content);\r\n\r\n\t\t//Message\r\n\t\tinitMessage(this.content);\r\n\r\n\t\t//\r\n\t\tinitActivity(this,this.content);\r\n\t\t\r\n\t\t//\r\n\t\tinitTemp(this.content);\r\n\r\n\t\t//\r\n\t\tthis.content2 = this.addChild(new find('find'));\r\n\t\tthis.content2.setDifferentialSize(0,-50).setAlign(1,0);\r\n\t\tthis.content2.el = new DOMElement(this.content2);\r\n\r\n\t\t//\r\n\t\tthis.content3 = this.addChild(new message());\r\n\t\tthis.content3.setDifferentialSize(0,-50).setAlign(1,0);\r\n\t\tthis.content3.el = new DOMElement(this.content3,{\r\n\t\t\tid:'message'\r\n\t\t});\r\n\r\n\t\t\r\n\t\t//\r\n\t\tthis.content4 = this.addChild(new personalCenter());\r\n\t\tthis.content4.setDifferentialSize(0,-50).setAlign(1,0);\r\n\t\tthis.content4.el = new DOMElement(this.content4,{\r\n\t\t\tclasses:['personalCenter']\r\n\t\t});\r\n\r\n\t\t//\r\n\t\tinitFoot(this);\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\t\t\t\t\t\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\t// var list2 = ['', '', '', ''];\r\n\r\n\t\tif(p.node.mark === 'foot'){\r\n\r\n\t\t\tif(e === 'click' && p.node.liId === 'foot0'){\r\n\t\t\t\tthis.content.setAlign(0,0);\r\n\t\t\t\tthis.content2.setAlign(1,0);\r\n\t\t\t\tthis.content3.setAlign(1,0);\r\n\t\t\t\tthis.content4.setAlign(1,0);\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tif(e === 'click' && p.node.liId === 'foot1'){\r\n\t\t\t\tthis.content.setAlign(1,0);\r\n\t\t\t\tthis.content2.setAlign(0,0);\r\n\t\t\t\tthis.content3.setAlign(1,0);\r\n\t\t\t\tthis.content4.setAlign(1,0);\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tif(e === 'click' && p.node.liId === 'foot2'){\r\n\t\t\t\tthis.content.setAlign(1,0);\r\n\t\t\t\tthis.content2.setAlign(1,0);\r\n\t\t\t\tthis.content3.setAlign(0,0);\r\n\t\t\t\tthis.content4.setAlign(1,0);\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tif(e === 'click' && p.node.liId === 'foot3'){\r\n\t\t\t\tthis.content.setAlign(1,0);\r\n\t\t\t\tthis.content2.setAlign(1,0);\r\n\t\t\t\tthis.content3.setAlign(1,0);\r\n\t\t\t\tthis.content4.setAlign(0,0);\r\n\t\t\t}\r\n\r\n\t\t\tvar nodeChildren = p.node.getParent().getChildren();\r\n\r\n\t\t\tfor(var i = 0; i < nodeChildren.length; i++){\r\n\t\t\t\t// nodeChildren[i].el.setContent(`<img src=\"images/home/foot${(i + 1)}.png\"/><p>${list2[i]}</p>`);\r\n\t\t\t\tnodeChildren[i].el.setContent(`<img src=\"images/home/foot${(i + 1)}.png\"/>`);\r\n\t\t\t}\r\n\t\t\tvar index = nodeChildren.indexOf(p.node);\r\n\r\n\t\t\t// p.node.el.setContent(`<img src=\"images/home/foot${(index + 1)}_h.png\"/><p style=\"color:#fe6a71;\">${list2[index]}</p>`);\r\n\t\t\tp.node.el.setContent(`<img src=\"images/home/foot${(index + 1)}_h.png\"/>`);\r\n\r\n\t\t}\r\n\r\n\r\n\t\t//6\r\n\t\tif(e === 'click' && p.node.liId === 'to0'){\r\n\t\t\tthis.to('notice');\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'to1'){\r\n\t\t\tthis.to('repair');\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'to2'){\r\n\t\t\tthis.to('card');\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'to3'){\r\n\r\n\t\t\t// var phoneNmuber = p.node.phoneNmuber;\r\n\r\n\t\t\tnew Ajax('/app_config/detail_user')\r\n\t\t\t\t.data({\r\n\t\t\t\t\t'key':'CUSTOMER_SERVICE',\r\n\t\t\t\t\t'id':signModel.findOne().id,\r\n\t\t\t\t\t'did':App.uuid,\r\n\t\t\t\t\t'tk':signModel.findOne().token\r\n\t\t\t\t})\r\n\t\t\t\t.success(function(d){\r\n\t\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\t\tvar phoneNmuber = d.data;\r\n\t\t\t\t\t\tthis.playPhone.el.setAttribute('href','tel:'+phoneNmuber).draw();\r\n\t\t\t\t\t\t// console.log(this.playPhone)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconfirm(`${phoneNmuber}`,function(res){\r\n\r\n\t\t\t\t\t\t\tif(res == 1){\r\n\r\n\r\n\t\t\t\t\t\t\t\tnew CrossCall(function(){\r\n\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById('playPhone').click();\r\n\r\n\r\n\t\t\t\t\t\t\t\t}).exec();\r\n\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t},'',['','']);\r\n\t\t\t\t\t}else if(d.status === 5){\r\n\t\t\t\t\t\tsignModel.update({'id':signModel.findOne().id},{'token':null});\r\n\t\t\t\t\t\talert('',function(){\r\n\t\t\t\t\t\t\tnew CrossCall(function(){\r\n\t\t\t\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\t\t\t}).exec();\r\n\t\t\t\t\t\t},'','')\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}.bind(this)).post();\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'to4'){\r\n\t\t\tthis.to('service');\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'to5'){\r\n\t\t\tthis.to('businessRecord');\r\n\t\t}\r\n\r\n\t\tif(e === 'touchstart' && p.node.mark === 'tt'){\r\n\t\t\tp.node.el.addClass('opa8');\r\n\t\t}\r\n\r\n\t\tif(e === 'touchend' && p.node.mark === 'tt'){\r\n\t\t\tp.node.el.removeClass('opa8');\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.listId === 'toMsgDetail'){\r\n\t\t\tthis.to('noticeDetail',{'data':p.node.noticeData})\r\n\t\t}\r\n\r\n\t\tp.stopPropagation();\r\n\r\n\t}\r\n\r\n\r\n}\r\n\r\n\r\n//\r\nfunction initTemp(nodeAll){\r\n\r\n\tvar date = new Date();\r\n\tvar month = date.getMonth() + 1;\r\n\tvar day = date.getDate();\r\n\r\n\tnodeAll.temp = nodeAll.addChild();\r\n\r\n\tnodeAll.temp.setSizeMode('relative','absolute')\r\n\t\t\t\t\t.setPosition(0,App.width * 49 / 75 - 20 + 53 + 210)\r\n\t\t\t\t .setAbsoluteSize(null, App.width * 208 / 750 );\r\n\r\n\t\tnodeAll.temp.el = new DOMElement(nodeAll.temp,{\r\n\t\t\tclasses:['temp'],\r\n\t\t\tcontent:`<h2>25</h2><p>chengdu<span>01/01</span></p>`\r\n\t\t});\r\n\r\n\t\tnew Ajax('/weather/').data({\r\n\t\t\t'cityname':'',\r\n\t\t\t'key': signModel.findOne().token\r\n\t\t}).success(function(res){\r\n\r\n\t\t\tvar res = JSON.parse(res);\r\n\r\n\t\t\tnodeAll.temp.el.setContent(`<h2>${res.result.data.realtime.weather.temperature}</h2><p>chengdu<span>${month}/${day}</span></p>`);\r\n\r\n\t\t}).error(function(res){\r\n\t\t\tconsole.log(res)\r\n\t\t}).get();\r\n\r\n}\r\n\r\n//\r\nfunction initFoot(nodeAll){\r\n\r\n\tnodeAll.foot = nodeAll.addChild();\r\n\tnodeAll.foot.setSizeMode('relative','absolute')\r\n\t\t\t\t\t .setAbsoluteSize(null,50)\r\n\t\t\t\t\t .setAlign(0,1)\r\n\t\t\t\t\t .setMountPoint(0,1);\r\n\tnodeAll.foot.el = new DOMElement(nodeAll.foot,{\r\n\t\tclasses:['footbox']\r\n\t});\r\n\r\n\t// var list2 = ['', '', '', ''];\r\n\r\n\tvar inode = nodeAll.foot.addChild();\r\n\t\t\tinode.setSizeMode('relative','absolute')\r\n\t\t\t\t\t .setAbsoluteSize(null,50)\r\n\t\t\t\t\t .setProportionalSize(1/4)\r\n\t\t inode.el = new DOMElement(inode,{\r\n\t\t \tclasses:['footList'],\r\n\t\t\t// content:`<img src=\"images/home/foot1_h.png\"/><p style=\"color:#fe6a71;\">${list2[0]}</p>`\r\n\t\t\tcontent:`<img src=\"images/home/foot1_h.png\"/>`\r\n\t\t });\r\n\r\n\t\t inode.mark = 'foot';\r\n\t\t inode.liId = `foot0`;\r\n\t\t inode.addUIEvent('click');\r\n\r\n\tfor(var i = 1;i < 4;i++){\r\n\t\tvar inode = nodeAll.foot.addChild();\r\n\t\t\t\tinode.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t .setAbsoluteSize(null,50)\r\n\t\t\t\t\t\t .setProportionalSize(1/4)\r\n\t\t\t\t\t\t .setAlign(i/4,0)\r\n\t\t\t inode.el = new DOMElement(inode,{\r\n\t\t\t \tclasses:['footList'],\r\n\t\t\t\t// content:`<img src=\"images/home/foot${(i + 1)}.png\"/><p>${list2[i]}</p>`\r\n\t\t\t\tcontent:`<img src=\"images/home/foot${(i + 1)}.png\"/>`\r\n\t\t\t });\r\n\r\n\t\t\t inode.mark = 'foot';\r\n\t\t\t inode.liId = `foot${i}`;\r\n\t\t\t inode.addUIEvent('click');\r\n\t}\r\n\r\n}\r\n\r\n//\r\nfunction initActivity(node,nodeAll){\r\n\r\n\tnodeAll.activity = nodeAll.addChild();\r\n\r\n\tnodeAll.activity.setSizeMode('relative','absolute')\r\n\t\t\t\t\t.setPosition(0,App.width * 49 / 75 - 20 + 55)\r\n\t\t\t\t .setAbsoluteSize(null,210);\r\n\r\n\tnodeAll.activity.el = new DOMElement(nodeAll.activity,{\r\n\t\tclasses:['activity']\r\n\t})\r\n\r\n\t var list = [\r\n\t\t\t{'img':'icon1.png','txt':''},\r\n\t\t\t{'img':'icon2.png','txt':''},\r\n\t\t\t{'img':'icon3.png','txt':''},\r\n\t\t\t{'img':'icon4.png','txt':''},\r\n\t\t\t{'img':'icon5.png','txt':''},\r\n\t\t\t{'img':'icon6.png','txt':''}\r\n\t\t]\r\n\t\tvar len = list.length;\r\n\t\tfor(var i = 0;i < len;i++){\r\n\r\n\t\t\tvar str = '';\r\n\t\t\tvar num = Math.ceil((i + 0.1) / 3 - 1);\r\n\t\t\tvar inode = nodeAll.activity.addChild();\r\n\t\t\t\t\tinode.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t .setAbsoluteSize(null,95)\r\n\t\t\t\t\t\t\t .setProportionalSize(1/3)\r\n\t\t\t\t\t\t\t .setPosition(0,15 + num * 95)\r\n\t\t\t\t\t\t\t .setAlign(i%3*1/3,0);\r\n\r\n\t\t\t// if(list[i].phoneNmuber){\r\n\t\t\t// \tvar kfPhone = list[i].phoneNmuber;\r\n\t\t\t// \tstr = `<img src=\"images/home/${list[i].img}\" id=\"phoneNmuber\"/><p>${list[i].txt}</p>`\r\n\t\t\t// \tinode.phoneNmuber = list[i].phoneNmuber;\r\n\t\t\t// }else{\r\n\t\t\t\tstr = `<img src=\"images/home/${list[i].img}\"/><p>${list[i].txt}</p>`\r\n\t\t\t// }\r\n\t \r\n\t\t\tinode.el = new DOMElement(inode,{\r\n\t\t\t\tclasses:['icoBox'],\r\n\t\t\t\tcontent:str\r\n\t\t\t});\r\n\r\n\t\t\t// if(list[i].phoneNmuber){\r\n\r\n\t\t\t// \tinode.phoneNmuber = list[i].phoneNmuber;\r\n\r\n\t\t\t// }\r\n\r\n\t\t\tinode.liId = `to${i}`;\r\n\t\t\tinode.addUIEvent('click');\r\n\t\t\tinode.mark = 'tt';\r\n\t\t\tinode.addUIEvent('touchstart');\r\n\t\t\tinode.addUIEvent('touchend');\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tnode.playPhone = nodeAll.addChild();\r\n\t\tnode.playPhone.setAlign(-2,0)\r\n\t\t\t.el = new DOMElement(node.playPhone,{\r\n\t\t\t\t'tagName':'a',\r\n\t\t\t\t'id':'playPhone'\r\n\t\t});\r\n\r\n}\r\n\r\n\r\n//Message\r\nfunction initMessage(nodeAll){\r\n\r\n\tvar userSign = signModel.findOne();\r\n\tvar msgData = '';\r\n\r\n\tnodeAll.message = nodeAll.addChild();\r\n\r\n\tnodeAll.message.setSizeMode('relative','absolute')\r\n\t\t\t\t\t.setPosition(0,App.width * 49 / 75 - 20)\r\n\t\t\t\t .setAbsoluteSize(null,55);\r\n\r\n\tnodeAll.message.el = new DOMElement(nodeAll.message,{\r\n\r\n\t\t\t\t\t\t\tclasses:['l_message'],\r\n\r\n\t\t\t\t\t\t\tcontent:`<div class=\"messageBox\"><i></i><p>926</p></div>`\r\n\r\n\t\t\t\t\t\t});\r\n\tnodeAll.message.addUIEvent('click');\r\n\tnodeAll.message.listId = 'toMsgDetail';\r\n\r\n\tnew Ajax('/message_info/lists_user')\r\n\t\t\t\t.data({\r\n\t\t\t\t\t'type':1,\r\n\t\t\t\t\t'id':userSign.id,\r\n\t\t\t\t\t'did':App.uuid,\r\n\t\t\t\t\t'tk':userSign.token\r\n\t\t\t\t})\t\r\n\t    \t\t.success(function(d){\r\n\t    \t\t\t\r\n\t    \t\t\tif(d.status === 200){\r\n\r\n\t    \t\t\t\tmsgData = d.data[0];   \t\t\t\t\t\r\n    \t\t\t\t\tnodeAll.message.el.setContent(`<div class=\"messageBox\"><i></i><p>${msgData.InfoTitle}</p></div>`)\r\n\t\t\t\t\t\tnodeAll.message.noticeData = d.data[0];\r\n\t    \t\t\t}\r\n\t    \t\t\t\r\n\t    \t\t\t\t\r\n\t    \t\t}).post();\r\n\r\n}\r\n\r\n\r\n//banner\r\nfunction initBanner(nodeAll){\r\n\r\n\tnew Ajax('/app_advert/lists_user').data({'did':App.uuid}).success(function(res){\r\n\r\n\t\r\n\t\tvar bannerList = res.data;\r\n\r\n\t\tvar banner = nodeAll.addChild();\r\n\t\t\t\tbanner.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t.setAbsoluteSize(null,App.width * 49 / 75 - 20)\r\n\r\n\t\t\t\tbanner.el = new DOMElement(banner,{\r\n\t\t\t\t\tclasses:['banner']\r\n\t\t\t\t});\r\n\r\n\t\t\t\tbanner.addUIEvent('click');\r\n\r\n\t\t\t\tvar len = bannerList.length;\r\n\r\n\t\t\t\tif(len == 1){\r\n\r\n\t\t\t\t\tvar bannerItem = banner.addChild();\r\n\t\t\t\t\tbannerItem.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t\t\t\t.setAbsoluteSize(null,App.width * 49 / 75 - 20)\r\n\t\t\t\t\t\t\t\t\t\t.setAlign(0,0);\r\n\r\n\t\t\t\t\tbannerItem.el = new DOMElement(bannerItem,{\r\n\t\t\t\t\t\tcontent:`<img src=\"${bannerList[0].img}\">`\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//bannerItem\r\n\t\t\t\tvar bannerFirstItem = banner.addChild();\r\n\t\t\t\t\t\tbannerFirstItem.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t .setAbsoluteSize(null,App.width * 49 / 75 - 20)\r\n\t\t\t\t\t\t\t\t\t\t\t.setAlign(-1,0);\r\n\r\n\t\t\t\t\t\tbannerFirstItem.el = new DOMElement(bannerFirstItem,{\r\n\t\t\t\t\t\t\tcontent:`<img src=\"${bannerList[len - 1].img}\">`\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\tfor(var i = 0;i < len; i++){\r\n\r\n\t\t\t\t\tvar bannerItem = banner.addChild();\r\n\t\t\t\t\tbannerItem.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t\t\t\t.setAbsoluteSize(null,App.width * 49 / 75 - 20)\r\n\t\t\t\t\t\t\t\t\t\t.setAlign(i,0);\r\n\r\n\t\t\t\t\tbannerItem.el = new DOMElement(bannerItem,{\r\n\t\t\t\t\t\tcontent:`<img src=\"${bannerList[i].img}\">`\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\t//bannerItem\r\n\t\t\t\tvar bannerLastItem = banner.addChild();\r\n\t\t\t\t\t\tbannerLastItem.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.setAbsoluteSize(null,App.width * 49 / 75 - 20)\r\n\t\t\t\t\t\t\t\t\t\t\t.setAlign(len,0);\r\n\r\n\t\t\t\t\t\tbannerLastItem.el = new DOMElement(bannerLastItem,{\r\n\t\t\t\t\t\t\tcontent:`<img src=\"${bannerList[0].img}\">`\r\n\t\t\t\t\t\t});\r\n\r\n\t//banner\r\n  var str = '';\r\n  \r\n  for(var i = 0; i < len - 1; i++){\r\n  \tstr += '<div class=\"point\"></div>'\r\n  }\r\n\r\n  banner.pointBox = banner.addChild();\r\n  banner.pointBox.setSizeMode('relative','absolute')\r\n  \t\t\t\t\t\t\t .setAbsoluteSize(null,18)\r\n  \t\t\t\t\t\t\t .setAlign(0,1)\r\n  \t\t\t\t\t\t\t .setMountPoint(0,1);\r\n\r\n  banner.pointBox.el = new DOMElement(banner.pointBox,{\r\n  \tcontent:`<div class=\"pointBox\" id=\"pointBox\"><div class=\"point on\"></div>${str}</div>`\r\n  });\r\n  banner.pointBox.addUIEvent('click');\r\n\r\n\r\n  //banner\r\n\tvar sonGesture = new GestureHandler(banner);\r\n\tvar index = 0;\r\n\tlen += 1;\r\n\r\n  sonGesture.on('drag',function(e){\r\n\r\n    if(e.status == 'end' && e.centerDelta.x != 0){\r\n\r\n    \tbanner.childrens = banner.getChildren();\r\n\r\n    \tif(e.centerDelta.x < 0){\r\n\r\n    \t\tindex++;\r\n\r\n\t\t\t\tfor(var i = 0;i < (len + 1);i++){\r\n\r\n\t\t\t\t\t\tbanner.childrens[i].setAlign((banner.childrens[i].getAlign()[0] - 1),0);\r\n\t\t\t\t\t\tbanner.childrens[i].el.addClass('l_trans');\r\n\r\n\t\t\t\t\t\tif(i == len && index == (len-1)){\r\n\r\n\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\tfor(var i = 0;i < (len + 1);i++){\r\n\t\t\t\t\t\t\t\t\t\tbanner.childrens[i].el.removeClass('l_trans');\r\n\t\t\t\t\t\t\t\t\t\tbanner.childrens[i].setAlign((i - 1),0);\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tindex = 0;\r\n\t\t\t\t\t\t\t\t},300);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n    \t}else if(e.centerDelta.x > 0){\r\n\r\n\t    \tindex--;\r\n\r\n\t\t\t\tfor(var i = 0;i < (len + 1);i++){\r\n\r\n\t\t\t\t\t\tbanner.childrens[i].setAlign((banner.childrens[i].getAlign()[0] + 1),0);\r\n\t\t\t\t\t\tbanner.childrens[i].el.addClass('l_trans');\r\n\r\n\t\t\t\t\t\tif(i == len && index == -1){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\tfor(var i = 0;i < (len + 1);i++){\r\n\r\n\t\t\t\t\t\t\t\t\t\tbanner.childrens[i].el.removeClass('l_trans');\r\n\t\t\t\t\t\t\t\t\t\tbanner.childrens[i].setAlign((i - len + 1),0);\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tindex = len - 2;\r\n\r\n\t\t\t\t\t\t\t\t},300);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t    }\r\n\r\n\t    //banner\r\n\t    var args = {};\r\n\t    args.index = index;\r\n\t    args.len = len - 1;\r\n\r\n\t    new CrossCall(function(args){\r\n\r\n\t    \tif(args.index == args.len){\r\n\r\n\t    \t\targs.index = 0;\r\n\r\n\t    \t}else if(args.index == -1){\r\n\r\n\t    \t\targs.index = args.len - 1;\r\n\r\n\t    \t}\r\n\r\n\t    \tvar pointBox = document.getElementById('pointBox').getElementsByTagName('div');\r\n\r\n\t    \tvar len2 = pointBox.length;\r\n\r\n\t    \tfor(var i = 0; i < len2; i++){\r\n\r\n    \t\t\tpointBox[i].className = 'point';\r\n\r\n\t    \t}\r\n\r\n\t    \tpointBox[args.index].className = 'point on';\r\n\r\n\t    },[args]).exec();\r\n    }\r\n\r\n  });\r\n\r\n\r\n\t}).error(function(){\r\n\r\n\t\tvar banner = nodeAll.addChild();\r\n\t\t\t\tbanner.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t.setAbsoluteSize(null,App.width * 49 / 75 - 20)\r\n\r\n\t\t\t\tbanner.el = new DOMElement(banner,{\r\n\t\t\t\t\tclasses:['banner']\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t\tvar bannerItem = banner.addChild();\r\n\t\t\t\tbannerItem.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t\t\t.setAbsoluteSize(null,App.width * 49 / 75 - 20);\r\n\r\n\t\t\t\tbannerItem.el = new DOMElement(bannerItem,{\r\n\t\t\t\t\tcontent:`<img src=\"images/home/default_bg.png\">`\r\n\t\t\t\t});\r\n\r\n\t}).post()\r\n\r\n\r\n\r\n  \r\n}\r\n\r\nmodule.exports = home;\n},{\"./find\":94,\"./message\":97,\"./personalCenter\":100,\"Ajax\":63,\"App\":64,\"Page\":70,\"famous/components/GestureHandler\":3,\"famous/core/CrossCall\":9,\"famous/dom-renderables/DOMElement\":21,\"model/signModel\":84}],96:[function(require,module,exports){\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require( 'famous/dom-renderables/DOMElement' );\r\n\r\nfunction listItem(list,index){\r\n\r\n\t Node.call(this);\r\n\r\n\t var array = ['message_item'];\r\n\r\n\t this.setSizeMode('relative','absolute')\r\n\t\t\t\t .setAbsoluteSize(null, 75)\r\n\t\t\t\t .setPosition(0, index._id * 75);\r\n\r\n\t this.allInfo = index;\r\n\r\n\t this.el = new DOMElement(this,{\r\n\t \t\tclasses: array,\r\n\t \t\tcontent:`<dl class=\"dl${list.InfoType}\">\r\n\t\t\t\t\t\t\t\t<dt><img src=\"images/home/message${list.InfoType}.png\"><i class=\"${list.isRead}\"></i></dt>\r\n\t\t\t\t\t\t\t\t<dd>\r\n\t\t\t\t\t\t\t\t\t<h3><em>[${list.type}]</em><span>${list.InfoTitle}</span></h3>\r\n\t\t\t\t\t\t\t\t\t<p>${list.InfoCtime}</p>\r\n\t\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t\t</dl>`\r\n\t });\r\n\r\n\r\n\t//\r\n\t var inode = this.addChild();\r\n\t\t\tinode.setSizeMode('absolute','absolute')\r\n\t\t\t\t\t .setAbsoluteSize(22, 22)\r\n\t\t\t\t\t .setAlign(1,0)\r\n\t\t\t\t\t .setMountPoint(1,0)\r\n\t\t\t\t\t .setPosition(-14, 25);\r\n\r\n\t\t inode.el = new DOMElement(inode,{\r\n\t\t \t\tclasses:['l_close'],\r\n\t\t \t\tcontent:`<img src=\"images/home/close.png\">`\r\n\t\t });\r\n\r\n\t\t inode.liId = index;\r\n\t\t inode.mark = 'close';\r\n\t\t inode.addUIEvent('click');\r\n\r\n}\r\n\r\n\r\n\r\nlistItem.prototype = Object.create( Node.prototype );\r\n\r\nmodule.exports = listItem;\n},{\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21}],97:[function(require,module,exports){\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar CrossCall = require('famous/core/CrossCall');\r\nvar navbar = require('navbar');\r\nvar ListView = require('listview');\r\nvar listItem = require('./listItem');\r\nvar messageModel = require('model/messageModel');\r\nvar incrementModel = require('model/incrementModel');\r\nvar blank = require('blank');\r\nvar signModel = require('model/signModel');\r\nvar config = require('config.json');\r\n\r\n\r\nclass message extends Node{\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\r\n\t\tthis.addChild(new navbar('')).el.setContent(\"<p class='font-lg text-center'><span></span></p>\");\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setDifferentialSize(0,-44)\r\n\t\t\t\t\t\t\t\t.setPosition(0,44);\r\n\r\n\t\tthis.content.el = new DOMElement(this.content,{\r\n\t\t\tclasses:['overflow_auto']\r\n\t\t});\r\n\r\n\t\tsetTimeout(function(){\r\n\t\t\tinitPage(this.content);\r\n\t\t}.bind(this),100)\r\n\t\t\r\n\t}\r\n\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\t//\r\n\t\tif(e === 'click' && p.node.mark === 'close'){\r\n\r\n\t\t\tconfirm('',function(res){\r\n\r\n\t\t\t\tif(res == 1){\r\n\r\n\t\t\t\t\tmessageModel.remove({id:p.node.getParent().tip});\r\n\r\n\t\t\t\t\tvar num = p.node.liId._id;\r\n\r\n\t\t\t\t\tthis.content.ListView.RemoveItem(num);\r\n\r\n\t\t\t\t\t//\r\n\t\t\t\t\tif(messageModel.findOne() == undefined){\r\n\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tthis.addChild(new blank('mes'))\r\n\t\t\t\t\t\t\t\t .setDifferentialSize(0,-45)\r\n\t\t\t\t\t\t\t\t .setPosition(0,45);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsetTimeout(function(){\r\n\r\n\t\t\t\t\t\tif(!messageModel.findOne()){\r\n\r\n\t\t\t\t\t\t\tthis.content.el.removeClass('bgfff');\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}.bind(this),100);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this),'',['','']);\r\n\r\n\t\t\tp.stopPropagation();\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tif(e === 'click' && p.node.liId === 'musicList'){\r\n\r\n\t\t\tmessageModel.update({id:p.node.tip},{isRead:true});\r\n\r\n\t\t\tvar readMessage = messageModel.findOne({'id':p.node.tip});\r\n\t\t\tvar list = p.node.allInfo.data;\r\n\r\n\t\t\tp.node.el.setContent(`<dl class=\"dl${list.InfoType}\">\r\n\t\t\t\t\t\t\t\t<dt><img src=\"images/home/message${list.InfoType}.png\"><i class=\"true\"></i></dt>\r\n\t\t\t\t\t\t\t\t<dd>\r\n\t\t\t\t\t\t\t\t\t<h3><em>[${list.type}]</em><span>${list.InfoTitle}</span></h3>\r\n\t\t\t\t\t\t\t\t\t<p>${list.InfoCtime}</p>\r\n\t\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t\t</dl>`);\r\n\r\n\t\t\tthis.getParent().to('noticeDetail',{'data':readMessage});\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\t//\r\n\tif(messageModel.findOne()){\r\n\r\n\t\tvar list = messageModel.find().reverse();\r\n\t\tvar len = list.length;\r\n\r\n\t\tnodeAll.ListView = new ListView({\r\n\t\t\tthreshold:3,// item \r\n\t    throttle:16.7,// Scroll\r\n\t    itemSize:[null,75],//item  \r\n\r\n\t    createItem:function(list,index){\r\n\r\n\t    \tvar inode =  new listItem(list,index);\r\n\t      \t\tinode.liId = \"musicList\";\r\n\t\t\t\t\t\tinode.tip = list.id;\r\n\t\t\t\t\t\tinode.addUIEvent(\"click\");\r\n\r\n\t\t\t\t\t\treturn inode;\r\n\t    }\r\n\r\n\t\t})\r\n\r\n\t\tnodeAll.ListView.setSizeMode( 'relative', 'relative' ).setProportionalSize(1,1).BindData(list);\r\n\r\n\t\tnodeAll.addChild(nodeAll.ListView);\r\n\r\n\t}else{\r\n\r\n\t\t//\r\n\t\tnodeAll.getParent().addChild(new blank('mes'))\r\n\t\t\t\t\t\t\t\t\t\t\t .setDifferentialSize(0,-45)\r\n\t\t\t\t\t\t\t\t\t\t\t .setPosition(0,45);\r\n\r\n\t}\r\n\r\n\r\n\t\t//\r\n\t\tvar websocket = new WebSocket(config.webSocket);\r\n\r\n\t\t\r\n\t\twebsocket.onopen = function(evt) {\r\n\t\t\tconsole.log(evt)\r\n\t\t\twebsocket.send(JSON.stringify({msgtype:\"auth\",token:signModel.findOne().token}));\r\n\r\n\t\t};\r\n\r\n\t\twebsocket.onerror = function(evt) {\r\n\t\t\tconsole.log(evt)\r\n\t\t};\r\n\r\n\t\twebsocket.onmessage  = function(evt) {\r\n\r\n\t\t\tconsole.log(evt);\r\n\r\n\t\t\tnodeAll.el.addClass('bgfff');\r\n\r\n\t\t\tvar evt = JSON.parse(evt.data);\r\n\r\n\t\t\tvar res = evt.msg;\r\n\t\t\t\r\n\t\t\tvar obj = nodeAll.getChildren(),\r\n\t\t\t\t\ti = obj.length;\r\n\r\n\t\t\twhile(i--)\r\n\t\t\t\tnodeAll.removeChild(obj[i]);\r\n\r\n\t\t\tvar messageId = incrementModel.findOne() ? incrementModel.findOne().messageId : 0;\r\n\t\t\tincrementModel.remove();\r\n\t\t\tincrementModel.save({'messageId':(messageId + 1)});\r\n\r\n\t\t\t//\r\n\t\t\tmessageModel.save({\r\n\t\t\t\t'id':messageId,\r\n\t\t\t\t'imgSrc':res.imgSrc,\r\n\t\t\t\t'InfoType':res.InfoType,\r\n\t\t\t\t'InfoCtime':res.InfoCtime,\r\n\t\t\t\t'InfoTitle':res.InfoTitle,\r\n\t\t\t\t'type':res.type,\r\n\t\t\t\t'isRead':false,\r\n\t\t\t\t'InfoDesc':res.InfoDesc,\r\n\t\t\t\t'InfoAuthor':res.InfoAuthor\r\n\t\t\t});\r\n\r\n\t\t\tvar list = messageModel.find().reverse();\r\n\t\t\tvar len = list.length;\r\n\r\n\t\t\tnodeAll.ListView = new ListView({\r\n\t\t\t\tthreshold:3,// item \r\n\t\t    throttle:16.7,// Scroll\r\n\t\t    itemSize:[null,75],//item  \r\n\r\n\t\t    createItem:function(list,index){\r\n\r\n\t\t    \tvar inode =  new listItem(list,index);\r\n\t\t      \t\tinode.liId = \"musicList\";\r\n\t\t\t\t\t\t\tinode.tip = list.id;\r\n\r\n\t\t\t\t\t\t\tinode.addUIEvent(\"click\");\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\treturn inode;\r\n\t\t    }\r\n\r\n\t\t\t})\r\n\r\n\t\t\tnodeAll.ListView.setSizeMode( 'relative', 'relative' ).setProportionalSize(1,1).BindData(list);\r\n\r\n\t\t\tnodeAll.addChild(nodeAll.ListView);\r\n\r\n\t\t};\r\n\r\n\t\twebsocket.onclose  = function(evt) {\r\n\t\t\talert(evt,'',null,'','');\r\n\t\t};\r\n\r\n}\r\n\r\nmodule.exports = message;\n},{\"./listItem\":96,\"blank\":74,\"config.json\":76,\"famous/core/CrossCall\":9,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21,\"listview\":78,\"model/incrementModel\":81,\"model/messageModel\":82,\"model/signModel\":84,\"navbar\":85}],98:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar CrossCall = require('famous/core/CrossCall');\r\nvar navbar = require('navbar');\r\nvar ListView = require('listview');\r\nvar listItem = require('./listItem');\r\nvar messageModel = require('model/messageModel');\r\nvar incrementModel = require('model/incrementModel');\r\nvar blank = require('blank');\r\nvar signModel = require('model/signModel');\r\n\r\n\r\nclass message extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'message'\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\t\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.addChild(new navbar(''));\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setDifferentialSize(0,-44)\r\n\t\t\t\t\t\t\t\t.setPosition(0,44);\r\n\r\n\t\tthis.content.el = new DOMElement(this.content,{\r\n\t\t\tclasses:['overflow_auto']\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t\tinitPage(this.content);\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\t\t\t\t\r\n\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\t//\r\n\t\tif(e === 'click' && p.node.mark === 'close'){\r\n\r\n\t\t\tmessageModel.remove({id:p.node.getParent().tip});\r\n\r\n\t\t\tvar num = p.node.liId._id;\r\n\r\n\t\t\tthis.content.ListView.RemoveItem(num);\r\n\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tif(!messageModel.findOne()){\r\n\t\t\t\t\tthis.content.el.removeClass('bgfff');\r\n\t\t\t\t}\r\n\t\t\t}.bind(this),100)\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tif(e === 'click' && p.node.liId === 'musicList'){\r\n\r\n\t\t\tmessageModel.update({id:p.node.tip},{isRead:true});\r\n\r\n\t\t\tp.node.el.addClass('l_haveread');\r\n\r\n\t\t\tthis.to('noticeDetail');\r\n\r\n\t\t}\r\n\r\n\t\tp.stopPropagation();\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\t//\r\n\tif(messageModel.findOne()){\r\n\r\n\t\tvar list = messageModel.find().reverse();\r\n\t\tvar len = list.length;\r\n\r\n\t\tnodeAll.ListView = new ListView({\r\n\t\t\tthreshold:3,// item \r\n\t    throttle:16.7,// Scroll\r\n\t    itemSize:[null,75],//item  \r\n\r\n\t    createItem:function(list,index){\r\n\r\n\t    \tvar inode =  new listItem(list,index);\r\n\t      \t\tinode.liId = \"musicList\";\r\n\t\t\t\t\t\tinode.tip = list.id;\r\n\t\t\t\t\t\tinode.addUIEvent(\"click\");\r\n\r\n\t\t\t\t\t\treturn inode;\r\n\t    }\r\n\r\n\t\t})\r\n\r\n\t\tnodeAll.ListView.setSizeMode( 'relative', 'relative' ).setProportionalSize(1,1).BindData(list);\r\n\r\n\t\tnodeAll.addChild(nodeAll.ListView);\r\n\r\n\t}else{\r\n\r\n\t\t//\r\n\t\tnodeAll.getParent().addChild(new blank('mes'))\r\n\t\t\t\t\t\t\t\t\t\t\t .setDifferentialSize(0,-45)\r\n\t\t\t\t\t\t\t\t\t\t\t .setPosition(0,45);\r\n\r\n\t}\r\n\r\n\r\n\t\t//\r\n\t\tvar websocket = new WebSocket('ws://10.100.1.14:9999');\r\n\r\n\t\t\r\n\t\twebsocket.onopen = function(evt) {\r\n\t\t\tconsole.log(evt)\r\n\t\t\twebsocket.send(JSON.stringify({msgtype:\"auth\",token:signModel.findOne().token}));\r\n\r\n\t\t};\r\n\r\n\t\twebsocket.onerror = function(evt) {\r\n\t\t\tconsole.log(evt)\r\n\t\t};\r\n\r\n\t\twebsocket.onmessage  = function(evt) {\r\n\r\n\t\t\tnodeAll.el.addClass('bgfff');\r\n\r\n\t\t\tvar evt = JSON.parse(evt.data);\r\n\r\n\t\t\tvar res = evt.msg;\r\n\t\t\t\r\n\t\t\tvar obj = nodeAll.getChildren(),\r\n\t\t\t\t\ti = obj.length;\r\n\r\n\t\t\twhile(i--)\r\n\t\t\t\tnodeAll.removeChild(obj[i]);\r\n\r\n\t\t\tvar messageId = incrementModel.findOne() ? incrementModel.findOne().messageId : 0;\r\n\t\t\tincrementModel.remove();\r\n\t\t\tincrementModel.save({'messageId':(messageId + 1)});\r\n\r\n\t\t\t//\r\n\t\t\tmessageModel.save({\r\n\t\t\t\t'id':messageId,\r\n\t\t\t\t'imgSrc':res.imgSrc,\r\n\t\t\t\t'status':res.status,\r\n\t\t\t\t'InfoCtime':res.InfoCtime,\r\n\t\t\t\t'InfoTitle':res.InfoTitle,\r\n\t\t\t\t'type':res.type,\r\n\t\t\t\t'isRead':false,\r\n\t\t\t\t'InfoDesc':res.InfoDesc,\r\n\t\t\t\t'InfoAuthor':res.InfoAuthor\r\n\t\t\t});\r\n\r\n\t\t\tvar list = messageModel.find().reverse();\r\n\t\t\tvar len = list.length;\r\n\r\n\t\t\tnodeAll.ListView = new ListView({\r\n\t\t\t\tthreshold:3,// item \r\n\t\t    throttle:16.7,// Scroll\r\n\t\t    itemSize:[null,75],//item  \r\n\r\n\t\t    createItem:function(list,index){\r\n\r\n\t\t    \tvar inode =  new listItem(list,index);\r\n\t\t      \t\tinode.liId = \"musicList\";\r\n\t\t\t\t\t\t\tinode.tip = list.id;\r\n\t\t\t\t\t\t\tinode.addUIEvent(\"click\");\r\n\r\n\t\t\t\t\t\t\treturn inode;\r\n\t\t    }\r\n\r\n\t\t\t})\r\n\r\n\t\t\tnodeAll.ListView.setSizeMode( 'relative', 'relative' ).setProportionalSize(1,1).BindData(list);\r\n\r\n\t\t\tnodeAll.addChild(nodeAll.ListView);\r\n\r\n\t\t};\r\n\r\n\t\twebsocket.onclose  = function(evt) {\r\n\t\t\tconsole.log(evt)\r\n\t\t};\r\n\r\n}\r\n\r\nmodule.exports = message;\n},{\"./listItem\":96,\"Page\":70,\"blank\":74,\"famous/core/CrossCall\":9,\"famous/dom-renderables/DOMElement\":21,\"listview\":78,\"model/incrementModel\":81,\"model/messageModel\":82,\"model/signModel\":84,\"navbar\":85}],99:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('navbar');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar signModel = require('model/signModel');\r\nvar CrossCall = require('famous/core/CrossCall');\r\n\r\nclass myinfo extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'myinfo'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(){\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\t\r\n\r\n\t\tinitPage(this);\r\n\r\n\t\tinitContent(this);\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\r\n\t\tvar obj = this.getChildren(),\r\n\t\t\t\ti = obj.length;\r\n\r\n\t\twhile(i--){\r\n\t\t\tthis.removeChild(obj[i]);\r\n\t\t}\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'seemore'){\r\n\r\n\t\t\tnew CrossCall(function(){\r\n\r\n\t\t\t\tvar info = document.getElementsByClassName('infoShopBox');\r\n\t\t\t\tvar l_more = document.getElementsByClassName('l_more');\r\n\r\n\t\t\t\tinfo[0].className = 'infoShopBox';\r\n\t\t\t\tl_more[0].className = 'l_more hide';\r\n\r\n\t\t\t}).exec();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction initContent(nodeAll){\r\n\r\n\tnew Ajax('/user_store/list_id').data({\r\n\t\t'id':signModel.findOne().id,\r\n\t\t'did':App.uuid,\r\n\t\t'tk':signModel.findOne().token\r\n\t}).success(function(res){\r\n\r\n\t\t// res = {\r\n\t\t//   \"data\": [\r\n\t\t//     {\r\n\t\t//       \"id\": 217,\r\n\t\t//       \"name\": \"C01-1-116\"\r\n\t\t//     },\r\n\t\t//     {\r\n\t\t//       \"id\": 217,\r\n\t\t//       \"name\": \"C01-1-116\"\r\n\t\t//     },\r\n\t\t//     {\r\n\t\t//       \"id\": 217,\r\n\t\t//       \"name\": \"C01-1-116\"\r\n\t\t//     },\r\n\t\t//     {\r\n\t\t//       \"id\": 217,\r\n\t\t//       \"name\": \"C01-1-116\"\r\n\t\t//     },\r\n\t\t//     {\r\n\t\t//       \"id\": 217,\r\n\t\t//       \"name\": \"C01-1-116\"\r\n\t\t//     }\r\n\t\t//   ],\r\n\t\t//   \"msg\": \"\",\r\n\t\t//   \"status\": 200\r\n\t\t// }\r\n\r\n\t\tvar list = res.data,\r\n\t\t\t\tlen = list.length,\r\n\t\t\t\tstr = '',\r\n\t\t\t\tabc = ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','R','S','T','U','V','W','X','Y','Z'];\r\n\r\n\t\tstr += `<div class=\"infoShopBox infoShopBox_h\">`;\r\n\t\tfor(var i = 0; i < len; i++){\r\n\r\n\t\t\tstr += `<dl class=\"info_dl\">\r\n\t\t\t\t\t\t\t\t<dt>\r\n\t\t\t\t\t\t\t\t\t<h2>${abc[i]}</h2>\r\n\t\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t\t</dt>\r\n\t\t\t\t\t\t\t\t<dd>\r\n\t\t\t\t\t\t\t\t\t<h2>${list[i].name}</h2>\r\n\t\t\t\t\t\t\t\t\t<p>53  ()</p>\r\n\t\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t\t</dl>`\r\n\r\n\t\t}\r\n\r\n\t\tstr += `</div>`;\r\n\r\n\t\tnew Ajax('/grade_config/lists_user').data({\r\n\t\t\t'id':signModel.findOne().id,\r\n\t\t\t'did':App.uuid,\r\n\t\t\t'tk':signModel.findOne().token\r\n\t\t}).success(function(res){\r\n\r\n\t\t\tvar list = res.data,\r\n\t\t\t\t\tlen2 = list.list.length;\r\n\r\n\t\t\tif(len < 3){\r\n\t\t\t\tstr += `\r\n\t\t\t\t\t\t<div class=\"infoBox\">\r\n\t\t\t\t\t\t\t<div class=\"infoname\">\r\n\t\t\t\t\t\t\t\t<img src=\"images/home/myinfo.png\"/>\r\n\t\t\t\t\t\t\t\t<p>${list.gradename}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"l_info\">\r\n\t\t\t\t\t\t\t\t<h2>${list.username}:</h2>\r\n\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t`\r\n\t\t\t\t}else{\r\n\t\t\t\t\tstr += `<div class=\"l_more\"></div>\r\n\t\t\t\t\t\t<div class=\"infoBox\">\r\n\t\t\t\t\t\t\t<div class=\"infoname\">\r\n\t\t\t\t\t\t\t\t<img src=\"images/home/myinfo.png\"/>\r\n\t\t\t\t\t\t\t\t<p>${list.gradename}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"l_info\">\r\n\t\t\t\t\t\t\t\t<h2>${list.username}:</h2>\r\n\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t`\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\r\n\r\n\t\t\tfor(var j = 0; j < len2; j++){\r\n\t\t\t\tstr += `<dl>\r\n\t\t\t\t\t\t\t\t\t<dt>${list.list[j].name}</dt>\r\n\t\t\t\t\t\t\t\t\t<dd>${list.list[j].desc}</dd>\r\n\t\t\t\t\t\t\t\t</dl>`\r\n\t\t\t}\r\n\r\n\r\n\t\t\tstr += `</div>\r\n\t\t\t\t\t\t</div>`\r\n\r\n\t\t\tnodeAll.content = nodeAll.addChild();\r\n\t\t\tnodeAll.content.setDifferentialSize(-20,-100)\r\n\t\t\t\t\t\t\t\t\t\t .setPosition(10,50);\r\n\r\n\t\t\tnodeAll.content.el = new DOMElement(nodeAll.content,{\r\n\t\t\t\tclasses:['overflow_auto','myinfoContent'],\r\n\t\t\t\tcontent:str\r\n\t\t\t});\r\n\r\n\t\t\tvar seemore = nodeAll.addChild();\r\n\r\n\t\t\tseemore.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t.setAbsoluteSize(null,80)\r\n\t\t\t\t\t\t\t.setPosition(0,220);\r\n\r\n\t\t\tseemore.el = new DOMElement(seemore);\r\n\t\t\tseemore.el.setProperty('z-index','100');\r\n\r\n\t\t\tseemore.liId = 'seemore';\r\n\t\t\tseemore.addUIEvent('click');\r\n\r\n\r\n\t\t}).post();\r\n\r\n\r\n\t}).post();\r\n\r\n\t\r\n\r\n}\r\n\r\n\t\r\nfunction initPage(nodeAll){\r\n\r\n\tnodeAll.top = nodeAll.addChild();\r\n\r\n\tnodeAll.top.setSizeMode('relative','absolute')\r\n\t\t\t\t .setAbsoluteSize(null,175);\r\n\r\n\tnodeAll.top.el = new DOMElement(nodeAll.top,{\r\n\r\n\t\tclasses:['myinfo_top']\r\n\r\n\t});\r\n\r\n\tnodeAll.title = nodeAll.addChild(new navbar(''));\r\n\tnodeAll.title.el.setProperty('background','none');\r\n\r\n}\r\n\r\nmodule.exports = myinfo;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"famous/core/CrossCall\":9,\"famous/dom-renderables/DOMElement\":21,\"model/signModel\":84,\"navbar\":85}],100:[function(require,module,exports){\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require( 'famous/dom-renderables/DOMElement' );\r\nvar IconItem = require('IconItem');\r\nvar CrossCall = require(\"famous/core/CrossCall\");\r\nvar myInfoModel = require('model/myInfoModel');\r\nvar signModel = require('model/signModel');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\n\r\n\r\nclass personalCenter extends Node{\r\n\r\n\tconstructor(){\r\n\r\n\t\tsuper();\r\n\r\n\t\tinitPage(this);\r\n\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'mine1'){\r\n\r\n\t\t\tthis.getParent().to('myinfo');\r\n\r\n\t\t}\r\n\t\tif(e === 'click' && p.node.liId === 'mine2'){\r\n\r\n\t\t\tthis.getParent().to('code');\r\n\r\n\t\t}\r\n\t\tif(e === 'click' && p.node.liId === 'mine3'){\r\n\r\n\t\t\tthis.getParent().to('setting');\r\n\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'canmera'){\r\n\r\n\t\t\tnew CrossCall(function(){\r\n\r\n\t\t\t\t\tnavigator.camera.getPicture(function(imageURI){\r\n\r\n\t\t\t\t\t\tdocument.getElementById('p_avatar').src = imageURI;\r\n\r\n\t\t\t\t\t\tself._call(imageURI);\r\n\r\n\t\t\t\t\t})\r\n\r\n\t\t\t}).exec(function(imageURI){\r\n\r\n\t\t\t\tmyInfoModel.save({imgSrc:imageURI});\r\n\r\n\t\t\t\tthis.imgSrc = myInfoModel.findOne().imgSrc;\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\tsetTimeout(function(){\r\n\r\n\t\tnew Ajax('/member/detail_custom').data({\r\n\t\t\t'id':signModel.findOne().id,\r\n\t\t\t'did':App.uuid,\r\n\t\t\t'tk':signModel.findOne().token\r\n\t\t}).success(function(res){\r\n\r\n\t\t\tvar str = '';\r\n\r\n\t\t\tif(res.status === 200){\r\n\t\t\t\tvar list = res.data;\r\n\r\n\t\t\t\tif(myInfoModel.findOne()){\r\n\r\n\t\t\t\t\tstr = `<h2>${list.name}</h2>\r\n\t\t\t\t\t\t\t\t<p>APP</p>\r\n\t\t\t\t\t\t\t\t<div class=\"p_avatar\"><img src=\"${myInfoModel.findOne().imgSrc}\"  id=\"p_avatar\"/></div>\r\n\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t<img src=\"images/home/p1.png\"/>${list.address}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t<img src=\"images/home/p2.png\"/>${list.gradename}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t<img src=\"images/home/p3.png\"/>${list.store} \r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</ul>`\r\n\t\t\t\t}else{\r\n\t\t\t\t\tstr = `\r\n\t\t\t\t\t\t<h2>${list.name}</h2>\r\n\t\t\t\t\t\t<p>APP</p>\r\n\t\t\t\t\t\t<div class=\"p_avatar\"><img src=\"images/home/p_lk.jpg\"  id=\"p_avatar\"/></div>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"images/home/p1.png\"/>${list.address}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"images/home/p2.png\"/>${list.gradename}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"images/home/p3.png\"/>${list.store} \r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t`\r\n\t\t\t\t}\r\n\t\t\t}else if(res.status === 5){\r\n\t\t\t\tvar userSign = signModel.findOne();\r\n\t\t\t\talert('',function(){\r\n\t\t\t\t\tsignModel.update({'id':userSign.id},{'token':null});\r\n\t\t\t\t\tnew CrossCall(function(){\r\n\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t}).exec();\r\n\t\t\t\t},'','');\r\n\t\t\t}\r\n\r\n\r\n\t\t\tnodeAll.head = nodeAll.addChild();\r\n\t\t\tnodeAll.head.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t\t\t.setAbsoluteSize(null,310);\r\n\r\n\t\t\tnodeAll.head.el = new DOMElement(nodeAll.head,{\r\n\t\t\t\tclasses:['p_top'],\r\n\t\t\t\tcontent:str\r\n\t\t\t});\r\n\r\n\t\t\t//\r\n\t\t\tnodeAll.head.canmera = nodeAll.head.addChild();\r\n\t\t\tnodeAll.head.canmera.setSizeMode('absolute','absolute')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.setAbsoluteSize(90,90)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.setPosition(0,100)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.setAlign(.5,0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.setMountPoint(.5,0);\r\n\r\n\t\t\tnodeAll.head.canmera.el = new DOMElement(nodeAll.head.canmera);\r\n\t\t\tnodeAll.head.canmera.liId = 'canmera';\r\n\t\t\tnodeAll.head.canmera.addUIEvent('click');\r\n\r\n\r\n\t\t\t//\r\n\t\t\tnodeAll.listBox = nodeAll.addChild();\r\n\t\t\tnodeAll.listBox.setDifferentialSize(0,0);\r\n\t\t\tnodeAll.listBox.el = new DOMElement(nodeAll.listBox);\r\n\r\n\t\t\tvar inode1 = nodeAll.listBox.addChild(new IconItem({'icon':'images/home/p_list1.png','desc':''},0,50));\r\n\t\t\tinode1.liId = 'mine1';\r\n\t\t\tinode1.addUIEvent('click');\r\n\r\n\t\t\tvar inode2 = nodeAll.listBox.addChild(new IconItem({'icon':'images/home/p_list2.png','desc':''},1,50));\r\n\t\t\tinode2.liId = 'mine2';\r\n\t\t\tinode2.addUIEvent('click');\r\n\r\n\t\t\tvar inode3 = nodeAll.listBox.addChild(new IconItem({'icon':'images/home/p_list3.png','desc':''},2,50));\r\n\t\t\tinode3.liId = 'mine3';\r\n\t\t\tinode3.addUIEvent('click');\r\n\r\n\t\t\t}).post();\r\n\r\n\r\n\t},100)\r\n \r\n\t\r\n\r\n}\r\n\r\nmodule.exports = personalCenter;\n},{\"Ajax\":63,\"App\":64,\"IconItem\":67,\"famous/core/CrossCall\":9,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21,\"model/myInfoModel\":83,\"model/signModel\":84}],101:[function(require,module,exports){\nvar Page = require('Page');\r\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('navbar');\r\nvar ListView = require('ListView');\r\nvar Blank = require('blank');\r\nvar Ajax = require('Ajax');\r\nvar App = require('App');\r\nvar sign = require('model/SignModel');\r\n\r\nclass Notice extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Notice'});\t\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitNav(this);\r\n\r\n\t\tvar userSign = sign.findOne();\r\n\r\n\t\tthis.userId = userSign.id;\r\n\t\tthis.token = userSign.token;\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tif(!this._content){\r\n\t\t\tnew Ajax('/message_info/lists_user')\r\n\t\t\t\t.data({\r\n\t\t\t\t\t'type':1,\r\n\t\t\t\t\t'id':this.userId,\r\n\t\t\t\t\t'did':App.uuid,\r\n\t\t\t\t\t'tk':this.token\r\n\t\t\t\t})\t\r\n\t    \t\t.success(function(d){\r\n\t    \t\t\tthis.listjson = d.data;\r\n\t    \t\t\tinitContent(this,this.listjson);\r\n\t    \t\t}.bind(this)).post();\r\n\t\t}\r\n\r\n    \t\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._content = null;\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\t\tif(e === 'click' && p.node.clickType === 'detail'){\r\n\t\t\tthis.to('noticeDetail',{'data':p.node.noticeData});\r\n\t\t}\r\n\r\n\r\n\t\t//TODO  ?\r\n\t\t// if(e === 'click' && p.node.clickType === 'del'){\r\n\t\t\t// alert(':'+p.node.listId);\r\n\t\t\t// this.listjson.splice(p.node._index,1);\r\n\t\t\t// this._content.removeChild(p.node.getParent());\r\n\t\t\t// this._content.getChildren().forEach(function(n,i){\r\n\t\t\t// \tn.setPosition(0,i*65 + 8*(i+1))\r\n\t\t\t// })\r\n\t\t\t// this.allList.RemoveItem(p.node.obj._id);\r\n\t\t\t// if(!this.allList._domList.length){\r\n\t\t\t// \tthis._content.el.setContent('').setProperty('font-size','15px');\r\n\t\t\t// }\r\n\t\t\t// console.log(this.allList);\r\n\t\t\t// console.log(p.node.obj);\r\n\r\n\t\t// }\r\n\r\n\t\tp.stopPropagation();\r\n\t}\r\n\r\n} \r\n\r\n\r\n//\r\nfunction initNav(node){\r\n\tnode.addChild(new navbar(''));\r\n}\r\n\r\n//\r\nfunction initContent(node,data){\r\n\t\r\n\tvar content = node.addChild();\r\n\r\n\r\n\tcontent.setSizeMode('relative','relative')\r\n\t\t   .setDifferentialSize(0,- 44)\r\n\t\t   .setPosition(0,44)\r\n\t\t   .el = new DOMElement(content,{\r\n\t\t \t  classes:['notice_box','overflow_scoll']\r\n\r\n\t\t   });\r\n\r\n\tnode._content = content;\r\n\r\n\tif(data === null){\r\n\t\tcontent.addChild(new Blank('notice'));\r\n\t\treturn false;\r\n\t}\r\n\r\n\tnode.allList = new ListView({\r\n\t\tthreshold:6,// item \r\n        throttle:16.7,// Scroll\r\n        itemSize:[null,73],//item  \r\n\t\tcreateItem:function(data,obj){\r\n\t\t\tvar noticelist = new NoticeList(data,obj);\r\n\t\t\treturn noticelist;\r\n\t\t}\r\n\t})\r\n\r\n\tnode.allList.BindData(data);\r\n\r\n\tcontent.addChild(node.allList);\t   \r\n\r\n\r\n\r\n\t\r\n}\r\n\r\nclass NoticeList extends Node{\r\n\tconstructor(data,obj){\r\n\t\tsuper();\r\n\r\n\t\tvar list = this.addChild();\r\n\t\tvar del = list.addChild();\r\n\r\n\r\n\t\t//\r\n\t\tlist.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,65)\r\n\t\t\t// .setPosition(0,8)\r\n\t\t\t.el = new DOMElement(list,{\r\n\t\t\t\tclasses:['notice_list'],\r\n\t\t\t\tcontent:`<p>${data.InfoTitle}</p><span>${data.InfoCtime}</span>`\r\n\t\t\t}).setProperty('border-top','8px solid #efefef');\r\n\r\n\t\tlist.noticeData = data;\r\n\t\t\r\n\t\t//\r\n\t\t// del.setSizeMode('absolute','absolute')\r\n\t\t//   .setAbsoluteSize(40,65)\r\n\t\t//   .setAlign(1)\r\n\t\t//   .setMountPoint(1)\r\n\t\t//   .setPosition(-16)\r\n\t\t//   .el = new DOMElement(del,{\r\n\t\t//   \tcontent:'<i class=\"del_ico\"></i>'\r\n\t\t//   })\r\n\r\n\t\t//  \r\n\t\tlist.addUIEvent('click');\r\n\t\tlist.listId = data.Id;\r\n\t\tlist.clickType = 'detail';  \r\n\r\n\t\t// del.addUIEvent('click');\r\n\t\t// del.listId = data.id;\r\n\t\t// del.obj = obj;\r\n\t\t// del.clickType = 'del';\r\n\t}\r\n\r\n\t\r\n}\r\n\r\n\r\nmodule.exports = Notice;\n},{\"Ajax\":63,\"App\":64,\"ListView\":69,\"Page\":70,\"blank\":74,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21,\"model/SignModel\":79,\"navbar\":85}],102:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('navbar');\r\nvar config = require('config.json');\r\n\r\n\r\nclass NoticeDetail extends Page {\r\n\tconstructor(opt) {\r\n\t\tsuper({\r\n\t\t\tid: 'NoticeDetail'\r\n\t\t})\r\n\t}\r\n\r\n\tonCreate(opt) {\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.opt = opt;\r\n\r\n\t\tthis.type = this.opt ? this.opt.InfoType : 1;\r\n\r\n\t\tswitch (this.type) {\r\n\t\t\tcase 1:\r\n\t\t\t\tthis.title = '';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.title = '';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tthis.title = '';\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.title = '';\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tinitNav(this, this.title);\r\n\r\n\t}\r\n\r\n\tonResume() {\r\n\t\tsuper.onResume();\r\n\t\tif (!this._content) {\r\n\t\t\tinitContent(this, this.opt);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tvar _this = this,\r\n\t\t\tobj = this.getChildren(),\r\n\t\t\ti = obj.length;\r\n\r\n\t\twhile (i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._content = null;\r\n\t}\r\n}\r\n\r\nfunction initNav(node) {\r\n\tnode.addChild(new Nav(node.title));\r\n}\r\n\r\nfunction initContent(node, obj) {\r\n\tvar content = node.addChild();\r\n\r\n\tnode._content = content;\r\n\r\n\tif (obj == null) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tobj.InfoDesc = obj.InfoDesc.replace(/src=\"\\//g, 'src=\"' + config.noticehttp);\r\n\r\n\tvar DetailStr = `<div class=\"notice_header\">\r\n\t\t\t\t\t\t<h2>${obj.InfoTitle}</h2>\r\n\t\t\t\t\t\t<time>${obj.InfoCtime}</time>\r\n\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"notice_con\">${obj.InfoDesc}</div>\r\n\t\t\t\t\t<div class=\"notice_footer\">\r\n\t\t\t\t\t\t<p>${obj.InfoAuthor}</p>\r\n\t\t\t\t\t\t<time>${obj.InfoCtime}</time>\r\n\t\t\t\t\t</div>`;\t\r\n\r\n\tcontent\r\n\t\t.setSizeMode('relative', 'relative')\r\n\t\t.setDifferentialSize(0, -44)\r\n\t\t.setPosition(0, 44)\r\n\t\t.el = new DOMElement(content, {\r\n\t\t\tclasses: ['notice_bg', 'overflow_scoll'],\r\n\t\t\tcontent: DetailStr\r\n\t\t})\r\n\r\n}\r\n\r\nmodule.exports = NoticeDetail;\n},{\"Page\":70,\"config.json\":76,\"famous/dom-renderables/DOMElement\":21,\"navbar\":85}],103:[function(require,module,exports){\n/**\r\n * Created by UMZS on 2016/7/18.\r\n */\r\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar App = require('App');\r\nvar navbar = require('twoBtnNav');\r\nvar button = require('button');\r\nvar Ajax = require('Ajax');\r\nvar sign = require('model/SignModel');\r\n\r\n\r\nclass orderPage extends Page{\r\n    constructor(){\r\n        super({id:'orderPage'});\r\n    }\r\n    onCreate(){\r\n        super.onCreate();\r\n        initNav(this);\r\n        var userSign = sign.findOne();\r\n        this.userId = userSign.id;\r\n        this.token = userSign.token;\r\n        //\r\n        new Ajax('/cater_fast/status')\r\n            .data({\r\n                'id':this.userId,\r\n                'did':App.uuid,\r\n                'tk':this.token\r\n            })\r\n            .success(function(d){\r\n                if(d.status === 200){\r\n                    this.caterStatus = d.data - 0;\r\n                }\r\n            }.bind(this)).post();\r\n\r\n        //    \r\n        new Ajax('cater_fast/price')\r\n            .data({\r\n                'id':this.userId,\r\n                'did':App.uuid,\r\n                'tk':this.token\r\n            })\r\n            .success(function(d){\r\n                if(d.status === 200){\r\n                    this.caterPrice = d.data;\r\n                }\r\n            }.bind(this)).post();\r\n\r\n        //\r\n        new Ajax('user_store/list_id')\r\n            .data({\r\n                'id':this.userId,\r\n                'did':App.uuid,\r\n                'tk':this.token\r\n            })\r\n            .success(function(d){\r\n                if(d.status === 200){\r\n                    this.userShop = d.data;\r\n                }\r\n            }.bind(this)).post();\r\n\r\n        //    \r\n        new Ajax('cater_fast/remark')\r\n            .data({\r\n                'id':this.userId,\r\n                'did':App.uuid,\r\n                'tk':this.token\r\n            })\r\n            .success(function(d){\r\n                if(d.status === 200){\r\n                    this.caterRemark = d.data\r\n                }\r\n            }.bind(this)).post();\r\n\r\n    }\r\n\r\n    onResume(){\r\n        super.onResume();\r\n        if(!this._con){\r\n            initContent(this,this.caterStatus,this.caterPrice,this.userShop,this.caterRemark);\r\n        }\r\n\r\n    }\r\n\r\n    onDestroy(){\r\n        var _this = this,\r\n            obj = this.getChildren(),\r\n            i = obj.length;\r\n\r\n        while(i--)\r\n            this.removeChild(obj[i]);\r\n\r\n        super.onDestroy();\r\n        this._con = null;\r\n    }\r\n}\r\n//\r\nfunction initNav(node){\r\n    var _this = node;\r\n    var backButton = new button(\" \",\"\",\"goback2\");\r\n\r\n    // backButton.setAbsoluteSize(44,44);\r\n    backButton.clickEvent = function(){\r\n        node.back();\r\n    };\r\n\r\n    var rightText = new button('','','right_text');\r\n    rightText.setAbsoluteSize(100,44);\r\n    rightText.clickEvent = function(){\r\n        _this.to('orderRecord');\r\n    };\r\n\r\n    node.addChild(new navbar('',backButton,rightText));\r\n}\r\n//\r\nfunction either(node,data,shop,remind_txt){\r\n    var _this = node;\r\n    var con = node.addChild();\r\n    node._con = con;\r\n    _this.imgH = 120/694*(App.width - 28);\r\n    var conJ = 44+7+_this.imgH+7;\r\n    //shop = null;\r\n    //data = null;\r\n\r\n    if(data == null){\r\n        data = 13;\r\n    }\r\n\r\n    if(shop == null){\r\n        shop = [];\r\n    }\r\n    var shopData = shop;\r\n\r\n    var shopStr = '';\r\n    for(var i = 0 ; i <shopData.length;i++){\r\n        shopStr += '<option value=\"'+shopData[i].id+'\"\">'+shopData[i].name+'</option>'\r\n    }\r\n\r\n    var imgBox = _this.addChild();\r\n    imgBox\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,_this.imgH)\r\n        .setPosition(0,44+7)\r\n        .setDifferentialSize(-28)\r\n        .setAlign(.5)\r\n        .setMountPoint(.5)\r\n        .el = new DOMElement(imgBox,{\r\n        classes:['img_box'],\r\n        content:'<p><span class=\"title\"></span><span class=\"price\">'+data+'/</span></p><img width=\"100%\" src=\"./images/orderPage/orderPage-bg.png\"/>'\r\n    });\r\n\r\n    con\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,75*3)\r\n        .setDifferentialSize(-28,-conJ)\r\n        .setPosition(0,conJ)\r\n        .setAlign(.5)\r\n        .setMountPoint(.5)\r\n        .el = new DOMElement(con,{\r\n        classes:['con'],\r\n        content:\r\n        '<div class=\"dic\"><div class=\"bor\"><span></span></div>'+\r\n        '<div class=\"bor\"><span></span></div>'+\r\n        '<div class=\"bor\"><span></span><em class=\"side\"><img src=\"images/common/r_arrow_ico.png\" alt=\"\"/></em></div></div>'\r\n    });\r\n\r\n    var count = con.addChild();\r\n    count\r\n        .setSizeMode('absolute','absolute')\r\n        .setAbsoluteSize(100,75)\r\n        .setPosition(-10,0)\r\n        .setAlign(1)\r\n        .setMountPoint(1)\r\n        .el = new DOMElement(count,{\r\n    });\r\n\r\n    var reduce = count.addChild();\r\n    reduce\r\n        .setSizeMode('absolute','absolute')\r\n        .setAbsoluteSize(25,25)\r\n        .setAlign(0,.5)\r\n        .setMountPoint(0,.5)\r\n        .el = new DOMElement(reduce,{\r\n        content:'<img width=\"25px\" src=\"images/orderPage/reduce.png\">'\r\n    });\r\n\r\n    var nm = 1;\r\n    reduce.onReceive = function(e,p){\r\n        if(e === 'click'){\r\n            if(nm == 0){\r\n                return;\r\n            }\r\n            nm--;\r\n            num.el.setContent(nm);\r\n            twelve.el.setContent(''+nm*data)\r\n        }\r\n    };\r\n\r\n    reduce.addUIEvent('click');\r\n    //\r\n    var num = count.addChild();\r\n    num\r\n        .setSizeMode('absolute','absolute')\r\n        .setAbsoluteSize(15,15)\r\n        .setAlign(.5,.5)\r\n        .setMountPoint(.5,.5)\r\n        .el = new DOMElement(num,{\r\n        classes:['num'],\r\n        content:nm\r\n    });\r\n\r\n\r\n    var add = count.addChild();\r\n    add\r\n        .setSizeMode('absolute','absolute')\r\n        .setAbsoluteSize(25,25)\r\n        .setAlign(1,.5)\r\n        .setMountPoint(1,.5)\r\n        .el = new DOMElement(add,{\r\n        content:'<img width=\"25px\" src=\"images/orderPage/add.png\">'\r\n    });\r\n\r\n    add.onReceive = function(e,p){\r\n        if(e === 'click'){\r\n            nm++;\r\n            num.el.setContent(nm);\r\n            twelve.el.setContent(''+nm*data)\r\n        }\r\n    };\r\n    add.addUIEvent('click');\r\n    //\r\n    var twelve = con.addChild();\r\n    twelve\r\n        .setSizeMode('absolute','absolute')\r\n        .setAbsoluteSize(100,75)\r\n        .setPosition(-10,75)\r\n        .setAlign(1)\r\n        .setMountPoint(1)\r\n        .el = new DOMElement(twelve,{\r\n        classes:['twelve'],\r\n        content:''+data\r\n    });\r\n\r\n    var address = con.addChild();\r\n    address\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,75)\r\n        .setDifferentialSize(-60)\r\n        .setPosition(70,75*2)\r\n        .el = new DOMElement(address,{\r\n        classes:['address'],\r\n        content:'<select><option value=\"-1\"></option>'+shopStr+'</select>'\r\n    });\r\n    var add_id = '';\r\n    address.onReceive = function(e,p){\r\n        if(e === 'change'){\r\n            add_id = p.value;\r\n        }\r\n    };\r\n\r\n    address.addUIEvent('change');\r\n    var btn = node.addChild();\r\n    btn\r\n        .setSizeMode('absolute','absolute')\r\n        .setAbsoluteSize(272,42)\r\n        .setPosition(0,44+7+_this.imgH+75*3+45+7)\r\n        .setAlign(.5)\r\n        .setMountPoint(.5)\r\n        .el = new DOMElement(btn,{\r\n        classes:['btn'],\r\n        content:''\r\n    });\r\n\r\n\r\n//\r\n    btn.onReceive = function(e,p){\r\n        if(e === 'click'){\r\n            if(nm == 0 ){\r\n                alert('','','','')\r\n            }else if(add_id == ''){\r\n                alert('','','','')\r\n            }else{\r\n                new Ajax('cater_fast/apply')\r\n                    .data({\r\n                        'sid':add_id,\r\n                        'num':nm,\r\n                        'id':_this.userId,\r\n                        'did':App.uuid,\r\n                        'tk':_this.token\r\n                    })\r\n                    .success(function(d){\r\n                        if(d.status === 200){\r\n\r\n                            alert('12',function(){\r\n                                _this.to('orderRecord');\r\n                                add_id = '';\r\n                                nm = 1;\r\n                                num.el.setContent(nm);\r\n                                address.el.setContent('<select><option value=\"-1\"></option>'+shopStr+'</select>');\r\n                            },'','');\r\n                        }else{\r\n                            alert(d.msg,'','','')\r\n                        }\r\n                    }.bind(_this)).post();\r\n            }\r\n\r\n        }\r\n    };\r\n\r\n    btn.addUIEvent('click');\r\n    var remindData = remind_txt;\r\n    var remindStr = '';\r\n\r\n    var remind = node.addChild();\r\n\r\n    if(remindData == null){\r\n        remindData = ['09:00-10:30','10:30',''];\r\n    }\r\n\r\n    for(var i = 0;i<remindData.length;i++){\r\n        remindStr +='<p><em></em>'+remindData[i]+'</p>'\r\n    }\r\n\r\n    remind\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,App.width*308/750)\r\n        .setAlign(1,1)\r\n        .setMountPoint(1,1)\r\n        .el = new DOMElement(remind,{\r\n        classes:['remind'],\r\n        content:'<h2><i></i></h2>'+remindStr\r\n    });\r\n\r\n}\r\n//\r\nfunction initContent(node,flag,price,shop,remind_txt){\r\n    //\r\n\r\n    if(flag === 1 ){\r\n        var _this = node;\r\n        var eggplant = _this.addChild();\r\n        eggplant\r\n            .setSizeMode('relative','absolute')\r\n            .setAbsoluteSize(null,App.width*594/726)\r\n            .setProportionalSize(.8)\r\n            .setAlign(.5,.5)\r\n            .setMountPoint(.5,.5)\r\n            .el = new DOMElement(eggplant,{\r\n            classes:['eggplant'],\r\n            content:'<img class=\"egg\" width=\"100%\" src=\"images/blank/eggplant.png\">'\r\n        });\r\n\r\n        var mask = _this.addChild();\r\n        mask\r\n            .setPosition(0,44)\r\n            .el = new DOMElement(mask,{\r\n            classes:['mask']\r\n        });\r\n    }\r\n    either(node,price,shop,remind_txt);\r\n\r\n}\r\nmodule.exports = orderPage;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"button\":75,\"famous/dom-renderables/DOMElement\":21,\"model/SignModel\":79,\"twoBtnNav\":87}],104:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('navbar');\r\nvar Blank = require('blank');\r\nvar Ajax = require('Ajax');\r\nvar App = require('App');\r\nvar sign = require('model/SignModel');\r\n\r\nclass AdRecord extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Record'})\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\t\t\r\n\t\tvar userSign = sign.findOne();\r\n\r\n\t\tnew Ajax('/advert_apply/lists_user')\r\n\t\t\t.data({\r\n\t\t\t\t'id':userSign.id,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':userSign.token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\tthis.data = d.data;\r\n\t\t\t\t}\r\n\t\t}.bind(this)).post();\r\n\r\n\t\tinitNav(this);\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\t// var data = null;\r\n\t\tinitListCon(this,this.data);\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\t// this._content = null;\r\n\t}\r\n}\r\n\r\nfunction initNav(node){\r\n\t\r\n\tnode.addChild(new Nav(''));\r\n}\r\n\r\nfunction initListCon(node,data){\r\n\tvar content = node.addChild();\r\n\r\n\tif(data == null){\r\n\t\tcontent.addChild(new Blank('apply'));\r\n\t\treturn false;\r\n\t}\t\r\n\r\n\tvar recordStr = '';\r\n\r\n\tfor(var i = 0 ; i < data.length;i++){\r\n\t\trecordStr += `<div class=\"record_list\"><i class=\"record_status status_${data[i].status}\"></i><table border=\"1\">\r\n\t\t\t\t\t\t<tr><td class=\"title\"></td><td>${data[i].store}</td></tr>\r\n\t\t\t\t\t\t<tr><td class=\"title\"></td><td>${data[i].adposition}</td></tr>\r\n\t\t\t\t\t\t<tr><td class=\"title\"></td><td>${data[i].adtype}</td></tr>\r\n\t\t\t\t\t\t<tr><td class=\"title\"></td><td>${data[i].ctime}</td></tr>\r\n\t\t\t\t\t</table></div>`;\r\n\t}\r\n\r\n\t\r\n\t\r\n\tcontent\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setDifferentialSize(0,-(44+8))\r\n\t\t.setPosition(0,44)\r\n\t\t.el = new DOMElement(content,{\r\n\t\t\tclasses:['con','overflow_scoll'],\r\n\t\t\tcontent:recordStr\r\n\t\t})\r\n\r\n}\r\n\r\nmodule.exports = AdRecord;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"blank\":74,\"famous/dom-renderables/DOMElement\":21,\"model/SignModel\":79,\"navbar\":85}],105:[function(require,module,exports){\n/**\r\n * Created by UMZS on 2016/8/4.\r\n */\r\nvar Page = require('Page');\r\nvar Node = require('famous/core/Node');\r\nvar nav = require('navbar');\r\nvar Blank  = require('../../node_modules/blank.js');\r\nvar Ajax  = require('Ajax');\r\n\r\nclass businessRecord extends Page{\r\n    constructor(){\r\n        super({id: 'businessRecord'});\r\n    }\r\n\r\n    onCreate(){\r\n        super.onCreate();\r\n        initNav(this);\r\n    }\r\n\r\n    onResume(){\r\n        super.onResume();\r\n        initContent(this);\r\n    }\r\n\r\n    onDestroy(){\r\n        var cor = this.getChildren(),\r\n            len = cor.length;\r\n        while (len--) {\r\n            this.removeChild(cor[len]);\r\n        }\r\n        //this._content = null;\r\n        super.onDestroy()\r\n    }\r\n}\r\n\r\n\r\nfunction initNav (node){\r\n    node.addChild(new nav(''));\r\n}\r\n\r\nfunction initContent(node){\r\n    node.addChild(new Blank('business'));\r\n}\r\n\r\nmodule.exports = businessRecord;\n},{\"../../node_modules/blank.js\":74,\"Ajax\":63,\"Page\":70,\"famous/core/Node\":13,\"navbar\":85}],106:[function(require,module,exports){\n/**\r\n * Created by UMZS on 2016/7/21.\r\n */\r\nvar Page = require('Page');\r\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar App = require('App');\r\nvar nav = require('navbar');\r\nvar ListView = require('ListView');\r\nvar Blank  = require('../../node_modules/blank.js');\r\nvar Ajax  = require('Ajax');\r\nvar sign = require('model/SignModel.js');\r\n\r\nclass orderRecord extends Page{\r\n    constructor(){\r\n        super({id:'orderRecord'});\r\n    }\r\n    onCreate(){\r\n        super.onCreate();\r\n        initNav(this);\r\n        var userSign = sign.findOne();\r\n        this.userId = userSign.id;\r\n        this.token = userSign.token;\r\n\r\n        //\r\n        new Ajax('cater_fast/lists_user')\r\n            .data({\r\n                'id':this.userId,\r\n                'did':App.uuid,\r\n                'tk':this.token\r\n            })\r\n            .success(function(d){\r\n                if(d.status === 200){\r\n                    this.caterLists_user = d.data;\r\n                }\r\n            }.bind(this)).post();\r\n    }\r\n\r\n    onResume(){\r\n        super.onResume();\r\n        if(!this._content){\r\n            initContent(this,this.caterLists_user);\r\n        }\r\n        \r\n    }\r\n\r\n    onDestroy(){\r\n        var cor = this.getChildren(),\r\n            len = cor.length;\r\n        while(len--){\r\n            this.removeChild(cor[len]);\r\n        }\r\n        this._content = null;\r\n        super.onDestroy()\r\n    }\r\n\r\n    onReceive(e,p){\r\n        if(e === 'click' && p.node.btnId === 'cancel'){\r\n            confirm('',function(index){\r\n                if(index === 1){\r\n                    new Ajax('cater_fast/cancel')\r\n                        .data({\r\n                            'fid':p.node.orderId,\r\n                            'id':this.userId,\r\n                            'did':App.uuid,\r\n                            'tk':this.token\r\n                        })\r\n                        .success(function(d){\r\n                            if(d.status === 200){\r\n                                p.node.el.setContent('');\r\n                                p.node.el.removeClass('cancel');\r\n                                alert('','','','')\r\n                            }else{\r\n                                alert('','','','')\r\n                            }\r\n                        }).post();\r\n                }\r\n            }.bind(this),'',['','']);\r\n\r\n        }\r\n        p.stopPropagation();\r\n    }\r\n}\r\n\r\nfunction initNav (node){\r\n    node.addChild(new nav(''));\r\n}\r\n\r\nfunction initContent(node,data) {\r\n\r\n    var content = node.addChild();\r\n\r\n    content.setSizeMode('relative','relative')\r\n        .setDifferentialSize(0,-44)\r\n        .setPosition(0,44)\r\n        .el = new DOMElement(content,{\r\n        classes:['overflow_scoll']\r\n\r\n    });\r\n\r\n    node._content = content;\r\n\r\n    if (data === null) {\r\n        node.addChild(new Blank('order'));\r\n\r\n    } else {\r\n\r\n        node.allList = new ListView({\r\n            threshold: 7,// item \r\n            throttle: 16.7,// Scroll\r\n            itemSize: [null, 108],//item  \r\n            createItem: function (data, obj) {\r\n                var recordlist = new RecordList(data, obj);\r\n                return recordlist;\r\n            }\r\n        });\r\n\r\n        node.allList.BindData(data);\r\n\r\n        content.addChild(node.allList);\r\n\r\n    }\r\n}\r\n\r\nclass RecordList extends Node{\r\n    constructor(data,obj){\r\n        super();\r\n        var list = this.addChild();\r\n        var statusTxt = '';\r\n        list\r\n            .setSizeMode('relative', 'absolute')\r\n            .setAbsoluteSize(null, 101)\r\n            .el = new DOMElement(list,{\r\n            classes: ['con'],\r\n            content: '<div class=\"title\"><span></span></div>' +\r\n            '<div class=\"time\"><span>' + data.time + '</span></div>' +\r\n            '<div class=\"count\"><span>' + data.num + '</span> <em>' + data.money + '</em></div>'\r\n        });\r\n\r\n        var num = data.status;\r\n        switch (num) {\r\n            case 0:\r\n                statusTxt = '';\r\n                break;\r\n            case 1:\r\n                statusTxt = '';\r\n                break;\r\n            case 2:\r\n                statusTxt = '';\r\n                break;\r\n        }\r\n\r\n        var cancel = list.addChild();\r\n        cancel\r\n            .setSizeMode('absolute', 'absolute')\r\n            .setAbsoluteSize(App.width * 200 / 326, '60')\r\n            .setAlign(1)\r\n            .setMountPoint(1)\r\n            .el = new DOMElement(cancel, {\r\n            classes: ['statusTxt'],\r\n            content: statusTxt\r\n        });\r\n\r\n        cancel.btnId = 'cancel';\r\n        cancel.orderId = data.id;\r\n        num === 0 && cancel.el.addClass('cancel') && cancel.addUIEvent('click');\r\n    }\r\n}\r\nmodule.exports = orderRecord;\n},{\"../../node_modules/blank.js\":74,\"Ajax\":63,\"App\":64,\"ListView\":69,\"Page\":70,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21,\"model/SignModel.js\":79,\"navbar\":85}],107:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('navbar');\r\nvar blank = require('blank');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar signModel = require('model/signModel');\r\n\r\nclass record_hall extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'record_hall'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(){\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.addChild(new navbar(''));\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setDifferentialSize(-30,-70).setPosition(15,60);\r\n\t\tthis.content.el = new DOMElement(this.content,{\r\n\t\t\tclasses:['overflow_auto']\r\n\t\t});\r\n\r\n\t\tinitPage(this.content);\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\r\n\t\tvar obj = this.getChildren(),\r\n\t\t\t\ti = obj.length;\r\n\r\n\t\twhile(i--){\r\n\t\t\tthis.removeChild(obj[i]);\r\n\t\t}\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\tnew Ajax('/hall_apply/lists_user').data({\r\n\t\t'id':signModel.findOne().id,\r\n\t\t'did':App.uuid,\r\n\t\t'tk':signModel.findOne().token\r\n\t}).success(function(res){\r\n\r\n\t\tvar list = res.data;\r\n\t\t\t\t\r\n\r\n\t\tif(list == null){\r\n\r\n\t\t\tnodeAll.addChild(new blank('apply'));\r\n\r\n\r\n\t\t}else{\r\n\r\n\t\t\tvar len = list.length,\r\n\t\t\t\t\tstr = '';\r\n\r\n\t\t\tfor(var i = 0; i < len; i++){\r\n\t\t\t\tstr += `\r\n\t\t\t\t\t<div class=\"table_div\">\r\n\t\t\t\t\t <img src=\"images/record/status_${list[i].status}.png\">\t\r\n\t\t\t\t\t <table>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>${list[i].store}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td rowspan=\"2\">/</td>\r\n\t\t\t\t\t\t\t<td>${list[i].size}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style=\"background:#fff;color:#666;\">${list[i].size}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>/</td>\r\n\t\t\t\t\t\t\t<td>${list[i].cycle}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>${list[i].ctime}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t </table>\r\n\t\t\t\t  </div>\r\n\t\t\t\t`\r\n\t\t\t}\r\n\r\n\t\t\tnodeAll.el = new DOMElement(nodeAll,{\r\n\t\t\t\tclasses:['table_hall'],\r\n\t\t\t\tcontent:str\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}).post();\r\n\r\n\t\r\n\r\n}\r\n\r\n\r\nmodule.exports = record_hall;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"blank\":74,\"famous/dom-renderables/DOMElement\":21,\"model/signModel\":84,\"navbar\":85}],108:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('navbar');\r\nvar blank = require('blank');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar signModel = require('model/signModel');\r\n\r\nclass record_yard extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'record_hall'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(){\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.addChild(new navbar(''));\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setDifferentialSize(-30,-70).setPosition(15,60);\r\n\t\tthis.content.el = new DOMElement(this.content,{\r\n\t\t\tclasses:['overflow_auto']\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t\tinitPage(this.content);\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\r\n\t\tvar obj = this.getChildren(),\r\n\t\t\t\ti = obj.length;\r\n\r\n\t\twhile(i--){\r\n\t\t\tthis.removeChild(obj[i]);\r\n\t\t}\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\tnew Ajax('/yard_apply/lists_user').data({\r\n\t\t'id':signModel.findOne().id,\r\n\t\t'did':App.uuid,\r\n\t\t'tk':signModel.findOne().token\r\n\t}).success(function(res){\r\n\r\n\t\tvar list = res.data;\r\n\r\n\t\tif(list == null){\r\n\r\n\t\t\tnodeAll.addChild(new blank('apply'));\r\n\r\n\t\t}else{\r\n\r\n\t\t\tvar len = list.length,\r\n\t\t\t\t\tstr = '';\r\n\t\t\tfor(var i = 0; i < len; i++){\r\n\t\t\t\tstr += `\r\n\t\t\t\t\t<div class=\"table_div\">\r\n\t\t\t\t\t <img src=\"images/record/status_${list[i].status}.png\">\t\r\n\t\t\t\t\t <table>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>${list[i].id}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>/</td>\r\n\t\t\t\t\t\t\t<td>${list[i].size}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>${list[i].ctime}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>${list[i].etime}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>${list[i].stime}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t </table>\r\n\t\t\t\t  </div>\r\n\t\t\t\t`\r\n\r\n\t\t\t}\r\n\r\n\t\t\tnodeAll.el = new DOMElement(nodeAll,{\r\n\t\t\t\tclasses:['table_hall'],\r\n\t\t\t\tcontent:str\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}).post()\r\n\r\n\t\r\n\r\n}\r\n\r\n\r\nmodule.exports = record_yard;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"blank\":74,\"famous/dom-renderables/DOMElement\":21,\"model/signModel\":84,\"navbar\":85}],109:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('navbar');\r\nvar Blank = require('blank');\r\nvar App = require('App');\r\nvar sign = require('model/SignModel');\r\nvar Ajax = require('Ajax');\r\n\r\nclass RepairRecord extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Record'})\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\t\t\r\n\t\tinitNav(this);\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tvar userSign = sign.findOne();\r\n\t\tnew Ajax('/property_repair/lists_user')\r\n\t\t\t.data({\r\n\t\t\t\t'id':userSign.id,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':userSign.token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\tthis.data = d.data;\r\n\t\t\t\t\tinitListCon(this,this.data);\r\n\t\t\t\t}\r\n\t\t\t}.bind(this)).post();\r\n\r\n\t\t\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\t// this._content = null;\r\n\t}\r\n}\r\n\r\nfunction initNav(node){\r\n\t\r\n\tnode.addChild(new Nav(''));\r\n}\r\n\r\nfunction initListCon(node,data){\r\n\tvar content = node.addChild();\r\n\r\n\tif(data === null){\r\n\t\tcontent.addChild(new Blank('apply'));\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tvar recordStr = '';\r\n\r\n\tfor(var i = 0 ; i < data.length;i++){\r\n\t\trecordStr += `<div class=\"record_list\"><i class=\"record_status status_${data[i].status}\"></i><table border=\"1\">`+\r\n\t\t\t\t\t\t`<tr><td class=\"title\"></td><td>${data[i].ctime}</td></tr>`+\r\n\t\t\t\t\t\t`<tr><td class=\"title\"></td><td>${data[i].phone}</td></tr>`+\r\n\t\t\t\t\t\t`<tr><td class=\"title\"></td><td>${data[i].store}</td></tr>`+\r\n\t\t\t\t\t\t`<tr><td class=\"title\"></td><td>${data[i].desc}</td></tr>`+\r\n\t\t\t\t\t`</table></div>`;\r\n\t}\r\n\r\n\t\r\n\tcontent\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setDifferentialSize(0,-(44+8))\r\n\t\t.setPosition(0,44)\r\n\t\t.el = new DOMElement(content,{\r\n\t\t\tclasses:['con','overflow_scoll'],\r\n\t\t\tcontent:recordStr\r\n\t\t})\r\n\r\n}\r\n\r\nmodule.exports = RepairRecord;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"blank\":74,\"famous/dom-renderables/DOMElement\":21,\"model/SignModel\":79,\"navbar\":85}],110:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Navbar = require('navbar');\r\nvar IconText = require('IconText');\r\nvar Tips = require('Tips');\r\n\r\nclass Card extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Card'});\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitNav(this);\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tinitContent(this);\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\t\t// this._content = null;\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\tif( e === 'click' && p.node.listId === 'type0'){\r\n\t\t\talert('','','','');\r\n\t\t}\r\n\t\tif(\te === 'click' && p.node.listId === 'type1'){\r\n\t\t\talert('','','','');\r\n\t\t}\r\n\t\tif( e === 'click' && p.node.listId === 'type2'){\r\n\t\t\talert('','','','');\r\n\t\t}\r\n\t\t\r\n\r\n\t\tp.stopPropagation();\r\n\t}\r\n}\r\n\r\nfunction initNav(node){\r\n\tnode.addChild( new Navbar(''));\r\n}\r\n\r\n//\r\nfunction initContent( node ){\r\n\tvar content = node.addChild();\r\n\t\r\n\tcontent\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setDifferentialSize(0,-44)\r\n\t\t.setPosition(0,44)\r\n\r\n\tvar IconJson = [\r\n\t\t{'icon':'./images/service/wuye.png','text':''},\r\n\t\t{'icon':'./images/service/tingche.png','text':''},\r\n\t\t{'icon':'./images/service/canyin.png','text':''}\r\n\t]\r\n\r\n\tfor(var i = 0 ; i < IconJson.length; i++){\r\n\r\n\t\t//icon\r\n\t\tvar CardType = new IconText(IconJson[i],i,3,85,33,'ico_box');\r\n\r\n\t\tCardType.listId = 'type'+i;\r\n\t\tCardType.addUIEvent('click');\r\n\r\n\t\tcontent.addChild(CardType);\r\n\r\n\t}\t\r\n\r\n}\r\n\r\nmodule.exports = Card;\n},{\"IconText\":68,\"Page\":70,\"Tips\":73,\"famous/dom-renderables/DOMElement\":21,\"navbar\":85}],111:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Navbar = require('navbar');\r\nvar IconText = require('IconText');\r\nvar Ajax = require('Ajax');\r\nvar App = require('App');\r\nvar sign = require('model/SignModel');\r\n\r\nclass ServiceIndex extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'ServiceIndex'})\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitNav(this);\r\n\r\n\t\tvar userSign = sign.findOne();\r\n\r\n\t\tnew Ajax('/user_store/list_id')\r\n\t\t\t.data({\r\n\t\t\t\t'id':userSign.id,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':userSign.token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\tthis.shopData = d.data;\r\n\t\t\t\t\tthis.shopLen = this.shopData.length;\r\n\t\t\t\t}\r\n\t\t\t}.bind(this)).post();\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume()\r\n\r\n\t\tif(!this._content){\r\n\t\t\tinitContent(this);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._content = null;\r\n\t}\r\n\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\tif( e === 'click' && p.node.listId === 'type0'){\r\n\t\t\t//\r\n\t\t\tif(this.shopLen === 1){\r\n\t\t\t\tthis.to('adApply',{data:this.shopData[0].id});\r\n\t\t\t\tp.stopPropagation();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.to('shopChoose',{data:1});\r\n\t\t}\r\n\t\t\t\r\n\t\tif( e === 'click' && p.node.listId === 'type1'){\r\n\t\t\t//\r\n\t\t\tif(this.shopLen === 1){\r\n\t\t\t\tthis.to('apply_yard',{data:this.shopData[0].id});\r\n\t\t\t\tp.stopPropagation();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.to('shopChoose',{data:2});\r\n\t\t}\r\n\t\tif( e === 'click' && p.node.listId === 'type2'){\r\n\t\t\t//\r\n\t\t\tif(this.shopLen === 1){\r\n\t\t\t\tthis.to('apply_hall',{data:this.shopData[0].id});\r\n\t\t\t\tp.stopPropagation();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.to('shopChoose',{data:3});\r\n\t\t}\r\n\t\tif(\te === 'click' && p.node.listId === 'type3'){\r\n\t\t\tthis.to('orderPage');\r\n\t\t}\r\n\t\tif( e === 'click' && p.node.listId === 'type4'){\r\n\t\t\tthis.to('licence')\r\n\t\t}\r\n\t\tif( e === 'click' && p.node.listId === 'type5'){\r\n\t\t\tthis.to('apply_wl');\r\n\t\t}\r\n\t\t\r\n\r\n\t\tp.stopPropagation();\r\n\t}\r\n} \r\n\r\n\r\n//\r\nfunction initNav (node) {\r\n\t node.addChild( new Navbar('') );\r\n}\r\n\r\n//\r\nfunction initContent( node ){\r\n\tvar content = node.addChild();\r\n\t\r\n\tcontent\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setDifferentialSize(0,-44)\r\n\t\t.setPosition(0,44)\r\n\r\n\tnode._content = content;\r\n\r\n\tvar IconJson = [\r\n\t\t{'icon':'./images/service/guanggao.png','text':''},\r\n\t\t{'icon':'./images/service/duichang.png','text':''},\r\n\t\t{'icon':'./images/service/dating.png','text':''},\r\n\t\t{'icon':'./images/service/dingcan.png','text':''},\r\n\t\t{'icon':'./images/service/zhizhao.png','text':''},\r\n\t\t{'icon':'./images/service/banjia.png','text':''}\r\n\t]\r\n\r\n\tfor(var i = 0 ; i < IconJson.length; i++){\r\n\r\n\t\t//icon\r\n\t\tvar ServeType = new IconText(IconJson[i],i,3,85,51,'ico_box');\r\n\r\n\t\tServeType.listId = 'type'+i;\r\n\t\tServeType.addUIEvent('click');\r\n\r\n\t\tcontent.addChild(ServeType);\r\n\r\n\t}\t\r\n\r\n}\r\n\r\nmodule.exports = ServiceIndex;\n},{\"Ajax\":63,\"App\":64,\"IconText\":68,\"Page\":70,\"famous/dom-renderables/DOMElement\":21,\"model/SignModel\":79,\"navbar\":85}],112:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('navbar');\r\nvar App = require('App');\r\n\r\nclass Licence extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Licence'});\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitPage(this);\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\t// this._content = null;\r\n\t}\r\n\r\n}\r\n\r\nfunction initPage(node){\r\n\tnode.addChild(new Nav(''));\r\n\r\n\r\n\tvar con = node.addChild();\r\n\tcon\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setDifferentialSize(0,-44)\r\n\t\t.setPosition(0,44)\r\n\t\t.el = new DOMElement(con,{\r\n\t\t\tclasses:['img_con','overflow_scoll'],\r\n\t\t\tcontent:function(){\r\n\t\t\t\tvar str = '';\r\n\t\t\t\tvar imgW = App.width -28;\r\n\t\t\t\tvar imgSrc = './images/service/step_';\r\n\t\t\t\tfor(var i = 1 ; i < 5;i++){\r\n\t\t\t\t\tstr += `<img width=\"${imgW}\" style=\"margin-top:34px;\" src = \"${imgSrc}${i}.png\"/>`\r\n\t\t\t\t}\r\n\t\t\t\tstr += `<img width=\"${App.width}\" style=\"margin-top:34px;\" src = \"${imgSrc}5.png\"/>`\r\n\r\n\t\t\t\treturn str;\r\n\t\t\t}(),\r\n\t\t\tproperties:{\r\n\t\t\t\t'fontSize':'0',\r\n\t\t\t\t'textAlign':'center'\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\n\r\nmodule.exports = Licence;\n},{\"App\":64,\"Page\":70,\"famous/dom-renderables/DOMElement\":21,\"navbar\":85}],113:[function(require,module,exports){\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('twoBtnNav');\r\nvar button = require('button');\r\nvar inputCustom = require('inputCustom');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar sign = require('model/SignModel');\r\nvar datetime = '',mobile = '',adds = '',desc = ''; \r\n\r\nclass Repair extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Repair'})\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitNav(this);\r\n\r\n\t\tvar userSign = sign.findOne();\r\n\r\n\t\tnew Ajax('/user_store/list_id')\r\n\t\t\t.data({\r\n\t\t\t\t'id':userSign.id,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':userSign.token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\tthis.shopData = d.data;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.shopData = null;\r\n\t\t\t\t}\r\n\t\t\t}.bind(this)).post();\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tif(!this._content){\r\n\r\n\t\t\tinitContent(this,this.shopData);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._content = null;\r\n\t}\r\n\r\n\tclean(){\r\n\t\tthis.telInput.el.setAttribute('value','').draw();\r\n\t\tthis.descTextarea.el.setAttribute('value','').draw()\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction initNav(node){\r\n\tvar backButton = new button(\" \",\"\",\"goback2\");\r\n\tvar _this = node;\r\n\r\n\t// backButton.setAbsoluteSize(44,44);\r\n\tbackButton.clickEvent = function(){\r\n\t\t_this.clean();\r\n\t\t_this.back();\r\n\t};\r\n\r\n\tvar rightText = new button('','','right_text');\r\n\trightText.setAbsoluteSize(100,44);\r\n\trightText.clickEvent = function(){\r\n\t\t_this.to('repairRecord');\r\n\t};\r\n\r\n\tnode.addChild(new navbar('',backButton,rightText));\r\n}\r\n\r\nfunction getNowDate(){\r\n\tvar date = new Date();\r\n\r\n\tvar year = date.getFullYear(),\r\n\t\tmon = ('0'+(date.getMonth()+1)).substr(-2),\r\n\t\tday = ('0'+date.getDate()).substr(-2),\r\n\t\thour = ('0'+date.getHours()).substr(-2),\r\n\t\tmin = ('0'+date.getMinutes()).substr(-2),\r\n\t\tsec = ('0'+date.getSeconds()).substr(-2)\r\n\r\n\treturn year+'-'+mon+'-'+day+'T'+hour+':'+min+':'+sec;\r\n}\r\n\r\nfunction initContent(node,data){\r\n\r\n\tvar _this = node;\r\n\r\n\tvar shopJson = data;\r\n\r\n\tvar content = node.addChild();\r\n\tcontent.setSizeMode('relative','relative')\r\n\t\t   .setDifferentialSize(0,-44)\r\n\t\t   .setPosition(0,44)\r\n\t\t   .el = new DOMElement(content,{\r\n\t\t   \t\tclasses:['repair_con']\r\n\t\t   })\r\n\r\n\tnode._content = content;\t   \r\n\r\n\tvar form = content.addChild();\r\n\tvar form_item = `<ul>\r\n\t\t\t\t\t\t<li class=\"date\"><span></span></li>\r\n\t\t\t\t\t\t<li class=\"tel\"><span></span></li>\r\n\t\t\t\t\t\t<li class=\"adds\"><span></span></li>\r\n\t\t\t\t\t\t<li class=\"desc\"><span></span></li>\r\n\t\t\t\t    </ul>`;\r\n\r\n\tform.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,414)\r\n\t\t.setDifferentialSize(-28)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.setPosition(0,16)\r\n\t\t.el = new DOMElement(form,{\r\n\t\t\tclasses:['repair_form'],\r\n\t\t\tcontent:form_item\r\n\r\n\t\t});\r\n\r\n\r\n\tvar dateInput = new inputCustom();\r\n\t\t\r\n\tdatetime = getNowDate();\r\n\t\t// console.log(nowTime);\r\n\r\n\t\tdateInput\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,60)\r\n\t\t\t.setDifferentialSize(-120)\r\n\t\t\t.setPosition(120)\r\n\t\t\t.el.setProperty('line-height','60px')\r\n\t\t\t   .setAttribute('value',datetime)\r\n\t\t\t   // .setAttribute('min', nowTime)\r\n\t\t\t   .setAttribute('type','datetime-local')\r\n\t\t\t   .setAttribute('readonly','readonly');\r\n\t\t\t\r\n\t\t// dateInput.addUIEvent('change')\r\n\t\t// dateInput.onReceive = function(e,p){\r\n\t\t// \t\tif(e === 'change'){\r\n\t\t// \t\t\tdatetime = p.value;\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\r\n\tform.addChild(dateInput);\r\n\r\n\t_this.telInput = new inputCustom();\r\n\r\n\t_this.telInput\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,60)\r\n\t\t\t.setDifferentialSize(-120)\r\n\t\t\t.setPosition(120,60)\r\n\t\t\t.el.setAttribute('type','tel')\r\n\t\t\t   .setAttribute('placeholder','')\r\n\t\t\t   .setAttribute('maxlength', '11')\r\n\t\t\r\n\t\t_this.telInput.inputEvent = function(e,p){\r\n\t\t\t\tif(e === 'input'){\r\n\t\t\t\t\tmobile = p.value;\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\tform.addChild(_this.telInput);\r\n\r\n\tvar addsSelect = form.addChild();\r\n\r\n\t\taddsSelect\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,60)\r\n\t\t\t.setDifferentialSize(-120)\r\n\t\t\t.setPosition(120,120)\r\n\t\t\t.el = new DOMElement(addsSelect,{\r\n\t\t\t\tclasses:['adds_select'],\r\n\t\t\t\tcontent:function(){\r\n\t\t\t\t\tvar str = `<select>`;\r\n\t\t\t\t\t// console.log(shopJson);\r\n\t\t\t\t\tif(shopJson){\r\n\t\t\t\t\t\tshopJson.forEach(v =>{\r\n\t\t\t\t\t\t\tstr += `<option value=\"${v.id}\">${v.name}</option>`\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tadds = shopJson[0].id;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn str + `</select>`;\r\n\t\t\t\t}()\r\n\t\t\t})\r\n\r\n\t\taddsSelect.addUIEvent('change')\r\n\t\taddsSelect.onReceive = function(e,p){\r\n\t\t\tif(e === 'change'){\r\n\t\t\t\tadds = p.value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t_this.descTextarea = form.addChild();\r\n\r\n\t_this.descTextarea\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,150)\r\n\t\t\t.setDifferentialSize(-46)\r\n\t\t\t.setPosition(34,230)\r\n\t\t\t.el = new DOMElement(_this.descTextarea,{\r\n\t\t\t\ttagName:'textarea',\r\n\t\t\t\tclasses:['desc_textarea']\r\n\t\t\t}).setAttribute('placeholder','')\r\n\t\t\r\n\t\t_this.descTextarea.addUIEvent('input')\r\n\t\t_this.descTextarea.onReceive = function(e,p){\r\n\t\t\tif(e === 'input'){\r\n\t\t\t\tdesc = p.value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\tvar submit = new button('','#fe6a71','submit_btn')\r\n\tsubmit.setSizeMode('relative','absolute')\r\n\t\t  .setAbsoluteSize(null,40)\r\n\t\t  .setPosition(0,16+414+27)\r\n\t\t  .setProportionalSize(.7)\r\n\t\t  .setAlign(.5)\r\n\t\t  .setMountPoint(.5)\r\n\t\t  .clickEvent = function(e,p){\r\n\t\t  \tif(e === 'click'){\r\n\t\t  \t\tif(!/^(\\+?86 ?)?1\\d{10}$/g.test(mobile)){\r\n\t\t\t\t\talert('','','','');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}else if(!adds){\r\n\t\t\t\t\talert(' ','','','');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}else if(!desc){\r\n\t\t  \t\t\talert('','','','');\r\n\t\t  \t\t\treturn false;\r\n\t\t  \t\t}else{\r\n\t\t  \t\t\tvar userSign = sign.findOne();\r\n\r\n\t\t  \t\t\tnew Ajax('/property_repair/add')\r\n\t\t  \t\t\t\t.data({\r\n\t\t  \t\t\t\t\t'store':adds,\r\n\t\t  \t\t\t\t\t'desc':desc,\r\n\t\t  \t\t\t\t\t'id':userSign.id,\r\n\t\t  \t\t\t\t\t'datetime':datetime.split('T')[0]+' '+datetime.split('T')[1],\r\n\t\t  \t\t\t\t\t'phone':mobile,\r\n\t\t  \t\t\t\t\t'did':App.uuid,\r\n\t\t  \t\t\t\t\t'tk':userSign.token\r\n\t\t  \t\t\t\t})\r\n\t\t  \t\t\t\t.success(function(d){\r\n\t\t  \t\t\t\t\tif(d.status === 200){\r\n\t\t  \t\t\t\t\t\talert('',function(){\r\n\t\t  \t\t\t\t\t\t\t_this.clean();\r\n\t\t\t\t\t  \t\t\t\t_this.back();\r\n\t\t\t\t\t  \t\t\t},'','');\r\n\t\t  \t\t\t\t\t}else{\r\n\t\t  \t\t\t\t\t\talert(d.msg,'','','');\r\n\t\t  \t\t\t\t\t}\r\n\t\t  \t\t\t\t}).post();\r\n\t\t  \t\t\t\r\n\t\t  \t\t}\r\n\t\t  \t\t\r\n\t\t  \t\t\r\n\t\t  \t}\r\n\t\t  }\r\n\r\n\tcontent.addChild(submit);\r\n\r\n}\r\n\r\nmodule.exports = Repair;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"button\":75,\"famous/dom-renderables/DOMElement\":21,\"inputCustom\":77,\"model/SignModel\":79,\"twoBtnNav\":87}],114:[function(require,module,exports){\n/**\r\n * Created by UMZS on 2016/8/1.\r\n */\r\nvar Page = require('Page');\r\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar App = require('App');\r\nvar Nav = require('navbar');\r\nvar IconItem = require('IconItem');\r\nvar sign = require('model/SignModel');\r\n\r\n\r\nclass aboutUs extends Page{\r\n    constructor(data){\r\n        super({id:'aboutUs'});\r\n\r\n        this._version = data ? data : 'V1.0.1';\r\n    }\r\n    onCreate(){\r\n        super.onCreate();\r\n        initNav(this);\r\n    }\r\n\r\n    onResume(){\r\n        super.onResume();\r\n        if(!this._content){\r\n            initContent(this,this._version);\r\n        }\r\n    }\r\n\r\n    onDestroy(){\r\n        var cor = this.getChildren(),\r\n            len = cor.length;\r\n        while(len--){\r\n            this.removeChild(cor[len]);\r\n        }\r\n        super.onDestroy();\r\n        this._content = null;\r\n    }\r\n\r\n//    \r\n    onReceive(e,p){\r\n        if(e === 'click'&& p.node.listId === 'type0'){\r\n            this.to('merchantGrade');\r\n        }\r\n\r\n        if(e === 'click'&& p.node.listId === 'type1'){\r\n            this.to('companyIntro');\r\n        }\r\n        p.stopPropagation();\r\n    }\r\n}\r\n\r\n//\r\nfunction initNav (node){\r\n    var navbar = new Nav('');\r\n    navbar.el.addClass('red_nav');\r\n    node.addChild(navbar);\r\n    node._nav = navbar;\r\n}\r\n\r\n//\r\nfunction initContent(node,version){\r\n\r\n    var content = node.addChild();\r\n    content\r\n        .setSizeMode('relative','relative')\r\n        .setPosition(0,44)\r\n        .el = new DOMElement(content,{\r\n        classes:['overflow_scoll']\r\n    });\r\n\r\n    node._content = content;\r\n\r\n    var bgH = 432/750*App.width;\r\n    var headerBg = content.addChild();\r\n    headerBg\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,bgH)\r\n        .el = new DOMElement(headerBg,{\r\n        content:'<img width=\"100%\" src = \"images/setting/headerbg_01.jpg\">'\r\n    });\r\n\r\n    var icn = headerBg.addChild();\r\n    icn\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,102)\r\n        .setAlign(.5)\r\n        .setMountPoint(.5)\r\n        .setPosition(0,bgH/2)\r\n        .el = new DOMElement(icn,{\r\n        classes:['icn'],\r\n        content:`<p>${version}</p>`\r\n    });\r\n\r\n    var aboutJson = [\r\n        {'icon':'./images/setting/level.png','desc':''},\r\n        {'icon':'./images/setting/me.png','desc':''}\r\n    ];\r\n\r\n    var usBox = content.addChild();\r\n\r\n    usBox\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,2*50)\r\n        .setPosition(0,bgH)\r\n\r\n    aboutJson.forEach(function(obj,i){\r\n        var about_item = new IconItem(obj,i,50)\r\n\r\n        about_item.listId = 'type'+i;\r\n        about_item.addUIEvent('click');\r\n        usBox.addChild(about_item);\r\n    })\r\n\r\n} //initContent end\r\n\r\nmodule.exports = aboutUs;\r\n\n},{\"App\":64,\"IconItem\":67,\"Page\":70,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21,\"model/SignModel\":79,\"navbar\":85}],115:[function(require,module,exports){\n/**\r\n * Created by UMZS on 2016/8/2.\r\n */\r\nvar Page = require('Page');\r\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar App = require('App');\r\nvar Nav = require('navbar');\r\nvar sign = require('model/SignModel.js');\r\n\r\nclass companyIntro extends Page{\r\n    constructor(){\r\n        super({id:'companyIntro'});\r\n    }\r\n    onCreate(){\r\n        super.onCreate();\r\n        initNav(this);\r\n\r\n    }\r\n\r\n    onResume(){\r\n        super.onResume();\r\n        if(!this._content){\r\n            initContent(this);\r\n        }\r\n    }\r\n\r\n    onDestroy(){\r\n        var cor = this.getChildren(),\r\n            len = cor.length;\r\n        while(len--){\r\n            this.removeChild(cor[len]);\r\n        }\r\n        super.onDestroy();\r\n        this._content = null;\r\n    }\r\n}\r\n\r\n//\r\nfunction initNav (node){\r\n    var navbar = new Nav('');\r\n    navbar.el.addClass('red_nav');\r\n    node.addChild(navbar);\r\n    node._nav = navbar;\r\n}\r\n//\r\nfunction initContent(node){\r\n    var content = node.addChild();\r\n    content\r\n        .setSizeMode('relative','relative')\r\n        .setPosition(0,44)\r\n        .el = new DOMElement(content,{\r\n        classes:['overflow_scoll']\r\n    });\r\n\r\n    node._content = content;\r\n\r\n    var bgH = 324/750*App.width;\r\n    var headerBg = content.addChild();\r\n    headerBg\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,bgH)\r\n        .el = new DOMElement(headerBg,{\r\n        content:'<img width=\"100%\" src = \"images/setting/headerbg_02.jpg\">'\r\n    });\r\n\r\n\r\n    var write = content.addChild();\r\n    write\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,235)\r\n        .setPosition(0,44+bgH)\r\n        .el = new DOMElement(write,{\r\n        classes:['write'],\r\n        content:'<h2></h2>' +\r\n        '<p><em></em></p>' +\r\n        '<p><em></em>' +\r\n        '</p>'\r\n    })\r\n}\r\n\r\nmodule.exports = companyIntro;\n},{\"App\":64,\"Page\":70,\"famous/core/Node\":13,\"famous/dom-renderables/DOMElement\":21,\"model/SignModel.js\":79,\"navbar\":85}],116:[function(require,module,exports){\nvar Page = require('Page')\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('navbar');\r\nvar IconItem = require('IconItem');\r\nvar App = require('App');\r\nvar CrossCall = require('famous/core/CrossCall');\r\nvar Tips = require('Tips');\r\nvar Ajax = require('Ajax');\r\nvar sign = require('model/SignModel');\r\nvar versionModel = require('model/VersionModel');\r\n\r\nclass Setting extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Setting'})\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitNav(this);\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\t\t\r\n\t\tinitContent(this);\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar obj = this.getChildren(),\r\n\t\t\ti = obj.length;\r\n\r\n\t\twhile( i--){\r\n\t\t\tthis.removeChild(obj[i]);\r\n\t\t}\r\n\r\n\t\tsuper.onDestroy();\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\t\tif(e === 'click' && p.node.listId === 'type0'){\r\n\t\t\tvar version = versionModel ? versionModel.findOne().version : '1.0.5';\r\n\r\n\t\t\tversion ? this.to('aboutUs',{data:version}) : this.to('aboutUs');\r\n\t\t}\t\r\n\r\n\t\tif(e === 'click' && p.node.listId === 'type1'){\r\n\t\t\t// console.log('update');\r\n\r\n\t\t\tnew CrossCall(function(){\r\n\t\t\t\tcordova.getAppVersion.getVersionNumber(function (v) {\r\n\r\n\t   \t\t\tself._call(v);\r\n\t\t\t\t\t});\r\n\t\t\t}).exec(function(v){\r\n\t\t\t\tcheckUpdate(v);\r\n\t\t\t});\r\n\r\n\t\t\t// alert('','','','');\r\n\t\t}\t\r\n\r\n\t\tif(e === 'click'  && p.node.listId === 'type2'){\r\n\t\t\tvar userSign = sign.findOne();\r\n\t\t\tconfirm('',function(i){\r\n\t\t\t\tif(i === 1){\r\n\t\t\t\t\tnew Ajax('/users/loginout')\r\n\t\t\t\t\t\t.path({'id':userSign.id,'tk':userSign.token,'did':App.uuid})\r\n\t\t\t\t\t\t.success(function(d){\r\n\t\t\t\t\t\t\talert('',function(){\r\n\t\t\t\t\t\t\t\tsign.update({'id':userSign.id},{'token':null});\r\n\t\t\t\t\t\t\t\tnew CrossCall(function(){\r\n\t\t\t\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\t\t\t}).exec();\r\n\t\t\t\t\t\t\t},'','');\r\n\t\t\t\t\t\t}).get();\r\n\t\t\t\t}\r\n\t\t\t},'',['',''])\r\n\t\t\t\r\n\t\t} \r\n\r\n\t\tp.stopPropagation();\r\n\t}\r\n}\r\n\r\nfunction initNav(node){\r\n\tvar navbar = new Nav('');\r\n\tnavbar.el.addClass('no_color_nav');\r\n\tnode.addChild(navbar);\r\n}\r\n\r\nfunction initContent(node){\r\n\t\r\n\t//itemJson('android')\r\n\tvar SetJson = [\r\n\t\t{'icon':'./images/setting/about_us.png','desc':'','tp':'type0'},\r\n\t\t{'icon':'./images/setting/check.png','desc':'','tp':'type1'},\r\n\t\t{'icon':'./images/setting/sign_out.png','desc':'','tp':'type2'},\r\n\t]\r\n\r\n\tif(App.platform == 'ios'){\r\n\t\tSetJson = [\r\n\t\t\t{'icon':'./images/setting/about_us.png','desc':'','tp':'type0'},\r\n\t\t\t{'icon':'./images/setting/sign_out.png','desc':'','tp':'type2'},\r\n\t\t]\r\n\t}\r\n\t\r\n\t\r\n\tvar con = node.addChild();\r\n\r\n\tcon\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.el = new DOMElement(con,{\r\n\t\t\tclasses:['setting_con']\r\n\t\t});\r\n\r\n\tvar headerBg = con.addChild();\r\n\tvar bgH = 0.4226666*App.width;\r\n\r\n\theaderBg\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,bgH)\r\n\t\t.el =  new DOMElement(headerBg,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':'./images/setting/header_bg.jpg'\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tvar itemBox = con.addChild()\r\n\r\n\titemBox\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,3*50)\r\n\t\t.setPosition(0,bgH)\t\r\n\r\n\tSetJson.forEach(function(obj,i){\r\n\t\tvar setting_item = new IconItem(obj,i,50)\r\n\r\n\t\tsetting_item.listId = obj.tp;\r\n\t\tsetting_item.addUIEvent('click');\r\n\r\n\t\titemBox.addChild(setting_item); \r\n\r\n\t})\r\n}\r\n\r\n//\r\nfunction checkUpdate(v){\r\n    \tnew Ajax('/app_version/single').data({'did':App.uuid}).success(function(d){\r\n    \t\tif(d.status === 200){\r\n    \t\t\tif (d.data) {\r\n\r\n\t    \t\t\tvar data = d.data;\r\n\t    \t\t\t// console.log(data)\r\n\t    \t\t\tvar serverV = data.version.split('.')[2];\r\n\t    \t\t\tvar currentV = v.split('.')[2];\r\n\r\n\t    \t\t\tif(currentV !== serverV){\r\n\r\n\t    \t\t\t\tconfirm('',function(i){\r\n\t    \t\t\t\t\tif(i == 1){\r\n\t    \t\t\t\t\tnew CrossCall(function(data){\r\n\t\t\t\t\t\t\t\twindow.open(data.path);\r\n\t\t\t\t\t\t\t},[data]).exec();\r\n\t    \t\t\t\t\t}\r\n\t    \t\t\t\t},'',['','']);\r\n\t    \t\t\t}else{\r\n\t    \t\t\t\talert('',null,'','');\r\n\t    \t\t\t}\r\n\t    \t\t}else{\r\n\t    \t\t\talert('',null,'','');\r\n\t    \t\t}\r\n    \t\t}else{\r\n    \t\t\talert(d.msg,null,'','');\r\n    \t\t}\r\n    \t}).post();\r\n}\r\n\r\nmodule.exports = Setting;\n},{\"Ajax\":63,\"App\":64,\"IconItem\":67,\"Page\":70,\"Tips\":73,\"famous/core/CrossCall\":9,\"famous/dom-renderables/DOMElement\":21,\"model/SignModel\":79,\"model/VersionModel\":80,\"navbar\":85}],117:[function(require,module,exports){\n/**\r\n * Created by UMZS on 2016/8/5.\r\n */\r\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('navbar');\r\nvar App = require('App');\r\nvar CrossCall = require('famous/core/CrossCall');\r\nvar sign = require('model/SignModel');\r\nvar Ajax = require('Ajax');\r\n\r\nclass merchantGrade extends Page{\r\n    constructor(){\r\n        super({id:'merchantGrade'});\r\n    }\r\n    //\r\n    onCreate(){\r\n        super.onCreate();\r\n        initNav(this);\r\n        this.tabList = [];\r\n\r\n        var userSign = sign.findOne();\r\n        this.userId = userSign.id;\r\n        this.token = userSign.token;\r\n\r\n        new Ajax('/grade/lists_user')\r\n            .data({\r\n                'id':this.userId,\r\n                'did':App.uuid,\r\n                'tk':this.token\r\n            })\r\n            .success(function(d){\r\n                if(d.status === 200){\r\n                    this.listsUser = d.data.reverse();\r\n                }\r\n            }.bind(this)).post();\r\n    }\r\n\r\n    onResume(){\r\n        super.onResume();\r\n        if(!this.headBg){\r\n            initContent(this,this.listsUser);\r\n        }\r\n\r\n    }\r\n    //\r\n    onDestroy(){\r\n        var obj = this.getChildren(),\r\n            i = obj.length;\r\n        while(i--){\r\n            this.removeChild(obj[i]);\r\n        }\r\n        super.onDestroy();\r\n        this.headBg = null;\r\n    }\r\n\r\n    onReceive(e,p){\r\n        if(e === 'click' && p.node.listId === 'tab'){\r\n            var  allChild = p.node.getParent().getChildren(),\r\n                len = allChild.length;\r\n            for(var i = 0; i < len;i++ ){\r\n                allChild[i].el.removeClass('tab_color');\r\n            }\r\n\r\n            p.node.el.addClass('tab_color');\r\n\r\n            new Ajax('/grade_config/lists_id')\r\n                .data({\r\n                    'gid': p.node.gId,\r\n                    'id':this.userId,\r\n                    'did':App.uuid,\r\n                    'tk':this.token\r\n                })\r\n                .success(function(d){\r\n                    if(d.status === 200 ){\r\n                        var liData = d.data;\r\n                        var htmlStr = '';\r\n                        if(liData != null){\r\n                            for(var i = 0;i<liData.length;i++){\r\n                                htmlStr += `<li><em>${liData[i].name}</em><span>${liData[i].desc}</span></li>`;\r\n                            }\r\n                        }else{\r\n                            htmlStr = '<img src=\"./images/setting/levelblank.png\">';\r\n                        }\r\n                        this.mes.el.setContent(`<ul>${htmlStr}</ul>`);\r\n                    }\r\n                }.bind(this)).post();\r\n        }\r\n        p.stopPropagation();\r\n    }\r\n}\r\n//\r\nfunction initNav(node){\r\n    var navbar = new Nav('',function(){\r\n        //console.log( node.tabList);\r\n        for(var i =0;i<node.tabList.length;i++){\r\n            node.tabList[i].el.removeClass('tab_color')\r\n        }\r\n\r\n\r\n    });\r\n    navbar.el.addClass('white_nav');\r\n    node.addChild(navbar);\r\n}\r\n\r\n//\r\nfunction initContent(node,listsUser){\r\n    var _this = node;\r\n    var bgSize = App.width*315/750;\r\n    var headBg = _this.addChild();\r\n    headBg\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,bgSize)\r\n        .setPosition(0,44)\r\n        .el = new DOMElement(headBg,{\r\n        content:'<img width=\"100%\" src=\"./images/setting/grade_bg.jpg\">'\r\n    });\r\n\r\n    node.headBg = headBg;\r\n\r\n    var merchant = _this.addChild();\r\n    merchant\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,50)\r\n        .setPosition(0,44+bgSize)\r\n        .el = new DOMElement(merchant,{\r\n        classes:['merchant']\r\n    });\r\n\r\n    for(var i = 0; i<listsUser.length;i++){\r\n        var tab = merchant.addChild();\r\n        tab\r\n            .setAlign(i/3)\r\n            .setProportionalSize(1/3)\r\n            .el = new DOMElement(tab,{\r\n            classes:['tab'],\r\n            content:'<span>'+listsUser[i].name+'</span>'\r\n        });\r\n\r\n        tab.addUIEvent('click');\r\n        tab.listId = 'tab';\r\n        tab.gId = listsUser[i].id;\r\n\r\n        i == 0 &&  tab.el.addClass('tab_color');\r\n\r\n        _this.tabList.push(tab);\r\n    }\r\n\r\n    _this.mes = _this.addChild();\r\n    _this.mes\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,App.height-44-bgSize-50-10)\r\n        .setPosition(0,44+bgSize+50+10)\r\n        .setAlign(.5)\r\n        .setMountPoint(.5)\r\n        .el = new DOMElement(_this.mes,{\r\n        classes:['mes','overflow_scoll']\r\n    });\r\n\r\n    new Ajax('/grade_config/lists_id')\r\n        .data({\r\n            'gid':1,\r\n            'id':_this.userId,\r\n            'did':App.uuid,\r\n            'tk':_this.token\r\n        })\r\n        .success(function(d){\r\n            if(d.status === 200){\r\n                var htmlStr = '';\r\n                var firData = d.data;\r\n\r\n                if(firData != null){\r\n                    for(var i = 0;i<firData.length;i++){\r\n                        htmlStr += `<li><em>${firData[i].name}</em><span>${firData[i].desc}</span></li>`;\r\n                    }\r\n                    _this.mes.el.setContent(`<ul>${htmlStr}</ul>`)\r\n                }else{\r\n                    _this.mes.el.setContent(`<img src=\"./images/setting/levelblank.png\">`)\r\n                }\r\n            }\r\n      }).post();\r\n\r\n}// initContent end\r\n\r\nmodule.exports = merchantGrade;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"famous/core/CrossCall\":9,\"famous/dom-renderables/DOMElement\":21,\"model/SignModel\":79,\"navbar\":85}],118:[function(require,module,exports){\nvar DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Page = require('Page');\r\nvar Nav = require('navbar');\r\nvar Button = require('button');\r\nvar InputCustom = require('inputCustom');\r\nvar App = require('App');\r\nvar Tips = require('Tips');\r\nvar Ajax = require('Ajax');\r\n\r\n\r\nvar pwd = '',\r\n\trpwd = ''; \r\n\r\nclass ResetPwd extends Page{\r\n\tconstructor(data){\r\n\t\tsuper({id:'ResetPwd'});\r\n\r\n\t\tthis.data = data;\r\n\t\t// console.log(data);\r\n\t}\r\n\r\n\tonCreate(data){\r\n\t\tsuper.onCreate();\r\n\t\tinitHeader(this);\r\n\t\t\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tif(!this._formCon){\r\n\t\t\tinitForm(this);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._formCon = null;\r\n\t}\r\n}\r\n\r\n//\r\nfunction initHeader(node){\r\n\tvar navbar = new Nav('');\r\n\tnavbar.el.addClass('no_color_nav');\r\n\tnode.addChild(navbar);\r\n\r\n\tvar resetBg = node.addChild();\r\n\r\n\tresetBg\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,0.741333*App.width)\r\n\t\t.el = new DOMElement(resetBg,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':'./images/sign/setpwd_bg.jpg'\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tvar logo = node.addChild();\r\n\t\r\n\tlogo\r\n\t\t.setSizeMode('absolute','absolute')\r\n\t\t.setAbsoluteSize(90,90)\r\n\t\t.setAlign(0.5,0.2)\r\n\t\t.setMountPoint(0.5,0.2)\r\n\t\t.el = new DOMElement(logo,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':'./images/sign/login_logo.png'\r\n\t\t\t}\r\n\t\t})\t\r\n\r\n}\r\n\r\n//\r\nfunction initForm(node){\r\n\tvar _this = node;\r\n\tvar FormCon = node.addChild();\r\n\r\n\tFormCon\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setProportionalSize(0.7,0.5)\r\n\t\t.setAlign(.5,.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(FormCon,{\r\n\t\t\tclasses:['form_con']\r\n\t\t})\r\n\r\n\tnode._formCon = FormCon; \t\r\n\r\n\t\r\n\r\n\r\n\tvar pwdInput_1 = FormCon.addChild(new InputCustom());\r\n\r\n\tpwdInput_1\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.8)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(pwdInput_1,{\r\n\t\t\tclasses:['pwd_input'],\r\n\t\t\tattributes:{\r\n\t\t\t\t'type':'password',\r\n\t\t\t\t'placeholder':'',\r\n\t\t\t\t'maxlength':12\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tpwdInput_1.inputEvent = function(e,p){\r\n\t\tpwd = p.value;\r\n\t}\r\n\r\n\tvar pwdInput_2 = FormCon.addChild(new InputCustom());\r\n\r\n\tpwdInput_2\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.8)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.setPosition(0,50+20)\r\n\t\t.el = new DOMElement(pwdInput_2,{\r\n\t\t\tclasses:['pwd_input'],\r\n\t\t\tattributes:{\r\n\t\t\t\t'type':'password',\r\n\t\t\t\t'placeholder':'',\r\n\t\t\t\t'maxlength':12\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tpwdInput_2.inputEvent = function(e,p){\r\n\t\trpwd = p.value;\r\n\t}\r\n\r\n\r\n\tvar submitBtn = FormCon.addChild(new Button(''));\r\n\r\n\tsubmitBtn\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setPosition(0,135+20)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(submitBtn,{\r\n\t\t\tclasses:['submit_btn']\r\n\t\t})\r\n\r\n\tsubmitBtn.clickEvent = function(e,p){\r\n\r\n\t\tif(!pwd || ! rpwd){\r\n\t\t\talert('','','','');\r\n\t\t\treturn false;\r\n\r\n\t\t}else if(pwd != rpwd){\r\n\t\t\talert('','','','');\r\n\t\t\treturn false;\r\n\t\t}else{\r\n\t\t\tnew Ajax('/users/retrieve')\r\n\t\t\t\t.data({\r\n\t\t\t\t\t'phone':_this.data.tel,\r\n\t\t\t\t\t'vcode':_this.data.vcode,\r\n\t\t\t\t\t'pwd':pwd,\r\n\t\t\t\t\t'rpwd':rpwd,\r\n\t\t\t\t\t'did':App.uuid\r\n\t\t\t\t})\r\n\t\t\t\t.success(function(d){\r\n\t\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\t\t_this.to('home');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\talert(d.msg,'','','');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).post();\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n}\r\n\r\nmodule.exports = ResetPwd;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"Tips\":73,\"button\":75,\"famous/dom-renderables/DOMElement\":21,\"inputCustom\":77,\"navbar\":85}],119:[function(require,module,exports){\nvar DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Page = require('Page');\r\nvar Button = require('button');\r\nvar InputCustom = require('inputCustom');\r\nvar Tips = require('Tips');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar sign = require('model/SignModel');\r\n\r\nvar phoneNum = '',\r\n\tpsd = '';\r\n\r\nclass Login extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Login'});\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitContent(this);\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n}\r\n\r\nfunction initContent(node){\r\n\tvar _this = node;\r\n\r\n\tvar logo = node.addChild();\r\n\t\r\n\tlogo\r\n\t\t.setSizeMode('absolute','absolute')\r\n\t\t.setAbsoluteSize(90,90)\r\n\t\t.setAlign(0.5,0.2)\r\n\t\t.setMountPoint(0.5,0.2)\r\n\t\t.el = new DOMElement(logo,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':'./images/sign/login_logo.png'\r\n\t\t\t}\r\n\t\t})\r\n\r\n\r\n\tvar loginCon = node.addChild();\r\n\r\n\tloginCon\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setProportionalSize(0.7,0.5)\r\n\t\t.setAlign(.5,.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(loginCon,{\r\n\t\t\tclasses:['login_con']\r\n\t\t})\r\n\r\n\t\r\n\r\n\t//input\r\n\tvar phoneInput = loginCon.addChild(new InputCustom());\r\n\r\n\tphoneInput\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.8)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(phoneInput,{\r\n\t\t\tclasses:['phone_input'],\r\n\t\t\tattributes:{\r\n\t\t\t\t'type':'tel',\r\n\t\t\t\t'maxlength':'11',\r\n\t\t\t\t'placeholder':''\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tphoneInput.inputEvent = function(e,p){\r\n\t\tphoneNum = p.value;\r\n\t}\r\n\r\n    //input\r\n\tvar pwdInput = loginCon.addChild(new InputCustom());\r\n\r\n\tpwdInput\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.8)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.setPosition(0,50+20)\r\n\t\t.el = new DOMElement(pwdInput,{\r\n\t\t\tclasses:['password_input'],\r\n\t\t\tattributes:{\r\n\t\t\t\t'type':'password',\r\n\t\t\t\t'placeholder':''\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tpwdInput.inputEvent = function(e,p){\r\n\t\tpsd = p.value;\r\n\t}\r\n\r\n\t//\r\n\tvar loginBtn = loginCon.addChild(new Button(''));\r\n\r\n\tloginBtn\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setPosition(0,135+20)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(loginBtn,{\r\n\t\t\tclasses:['login_btn']\r\n\t\t})\r\n\r\n\tloginBtn.clickEvent = function(e,p){\r\n\t\tif(!/^(\\+?86 ?)?1\\d{10}$/g.test(phoneNum)){\r\n\t\t\talert('','','','');\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar userSign = sign.findOne();\r\n\r\n\t\tnew Ajax('users/login')\r\n\t\t\t.data({'name':phoneNum,'pwd':psd,'did':App.uuid})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\tvar data = d.data;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(userSign){\r\n\t\t\t\t\t\tsign.update({'id':userSign.id},{'id':data.id,'token':data.tk,'tel':phoneNum,'first':false});\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsign.save({'id':data.id,'token':data.tk,'tel':phoneNum,'first':true});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_this.to('home',{data:{'checkLogin':0}});\r\n\t\t\t\t\tphoneInput.el.setAttribute('value','').draw();\r\n\t\t\t\t\tpwdInput.el.setAttribute('value','').draw();\r\n\t\t\t\t\tphoneNum = '';\r\n\t\t\t\t\tpsd = '';\r\n\r\n\t\t\t\t\t_this.onDestroy();\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\talert(d.msg,'','','');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.error(function(){\r\n\t\t\t\talert('','','','');\r\n\t\t\t})\r\n\t\t\t.timeout(function(){\r\n\t\t\t\talert('','','','');\r\n\t\t\t}).post();\r\n\t}\r\n\r\n\t//\r\n\tvar changePwd = loginCon.addChild(new Button(''));\r\n\r\n\tchangePwd\r\n\t\t.setSizeMode('absolute','absolute')\r\n\t\t.setAbsoluteSize(80,30)\r\n\t\t.setAlign(.5,.9)\r\n\t\t.setMountPoint(.5,.9)\r\n\t\t.el = new DOMElement(changePwd,{\r\n\t\t\tclasses:['change_pwd']\r\n\t\t})\r\n\r\n\tchangePwd.clickEvent = function(e,p){\r\n\t\t_this.to('resetPwd',{data:{'checkLogin':0}});\r\n\r\n\t}\r\n\t\t\r\n}\r\n\r\n\r\nmodule.exports = Login;\r\n\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"Tips\":73,\"button\":75,\"famous/dom-renderables/DOMElement\":21,\"inputCustom\":77,\"model/SignModel\":79}],120:[function(require,module,exports){\nvar DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Page = require('Page');\r\nvar Nav = require('navbar');\r\nvar Button = require('button');\r\nvar InputCustom = require('inputCustom');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar Tips = require('Tips');\r\n\r\nvar phoneNum = '',\r\n\tcodeNum = '';\r\nvar timer = null;\r\nvar loading = false;\r\n\r\nclass ResetPwd extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'ResetPwd'});\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\t\tinitHeader(this);\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tif(!this._fromCon){\r\n\t\t\tinitForm(this);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\t\tthis._fromCon = null;\r\n\t}\r\n}\r\n\r\nfunction initHeader(node){\r\n\tvar navbar = new Nav('');\r\n\tnavbar.el.addClass('no_color_nav');\r\n\tnode.addChild(navbar);\r\n\r\n\tvar resetBg = node.addChild();\r\n\r\n\tresetBg\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,0.741333*App.width)\r\n\t\t.el = new DOMElement(resetBg,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':'./images/sign/setpwd_bg.jpg'\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tvar logo = node.addChild();\r\n\t\r\n\tlogo\r\n\t\t.setSizeMode('absolute','absolute')\r\n\t\t.setAbsoluteSize(90,90)\r\n\t\t.setAlign(0.5,0.2)\r\n\t\t.setMountPoint(0.5,0.2)\r\n\t\t.el = new DOMElement(logo,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':'./images/sign/login_logo.png'\r\n\t\t\t}\r\n\t\t})\t\r\n\r\n}\r\n\r\nfunction initForm(node){\r\n\tvar _this = node;\r\n\tvar FormCon = node.addChild();\r\n\r\n\tFormCon\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setProportionalSize(0.7,0.5)\r\n\t\t.setAlign(.5,.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(FormCon,{\r\n\t\t\tclasses:['form_con']\r\n\t\t})\r\n\r\n\tnode._fromCon = FormCon;\t\r\n\t\r\n\r\n\r\n\tvar phoneInput = FormCon.addChild(new InputCustom());\r\n\r\n\tphoneInput\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.8)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(phoneInput,{\r\n\t\t\tclasses:['phone_input'],\r\n\t\t\tattributes:{\r\n\t\t\t\t'type':'tel',\r\n\t\t\t\t'maxlength':'11',\r\n\t\t\t\t'placeholder':''\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tphoneInput.inputEvent = function(e,p){\r\n\t\tphoneNum = p.value;\r\n\t}\r\n\r\n\tvar codeBox = FormCon.addChild();\r\n\r\n\tcodeBox\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.8)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.setPosition(0,50+20)\r\n\t\t.el = new DOMElement(codeBox,{\r\n\t\t\tclasses:['code_box']\r\n\t\t})\r\n\r\n\tvar codeInput = codeBox.addChild(new InputCustom());\r\n\r\n\tcodeInput\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.4)\r\n\t\t.el = new DOMElement(codeInput,{\r\n\t\t\tclasses:['code_input'],\r\n\t\t\tattributes:{\r\n\t\t\t\t'type':'text',\r\n\t\t\t\t'placeholder':'',\r\n\t\t\t\t'maxlength':'6'\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tcodeInput.inputEvent = function(e,p){\r\n\t\tcodeNum = p.value;\r\n\t}\r\n\r\n\tvar codeBtn = codeBox.addChild(new Button(''));\r\n\r\n\tcodeBtn\r\n\t\t.setSizeMode('absolute','absolute')\r\n\t\t.setAbsoluteSize(85,25)\r\n\t\t.setPosition(0,18)\r\n\t\t.setAlign(1)\r\n\t\t.setMountPoint(1)\r\n\t\t.el = new DOMElement(codeBtn,{\r\n\t\t\tclasses:['code_btn']\r\n\t\t})\r\n\r\n\tcodeBtn.clickEvent = function(e,p){\r\n\t\t\r\n\t\tif(!/^(\\+?86 ?)?1\\d{10}$/g.test(phoneNum)){\r\n\t\t\talert('','','','');\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tnew Ajax('/users/vcode')\r\n\t\t\t.path({'phone':phoneNum,'gtype':2,'did':App.uuid})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\talert('3',codeTimer(codeBtn,d.data.time),'','');\r\n\t\t\t\t}else{\r\n\t\t\t\t\talert(d.msg,'','','');\r\n\t\t\t\t}\r\n\t\t\t}).get();\r\n\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\r\n\tvar nextBtn = FormCon.addChild(new Button(''));\r\n\r\n\tnextBtn\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setPosition(0,135+20)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(nextBtn,{\r\n\t\t\tclasses:['login_btn']\r\n\t\t})\r\n\r\n\tnextBtn.clickEvent = function(e,p){\r\n\t\tif(!/^(\\+?86 ?)?1\\d{10}$/g.test(phoneNum)){\r\n\t\t\talert('','','','');\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif(!codeNum){\r\n\t\t\talert('','','','');\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t_this.to('confirmPwd',{data:{'tel':phoneNum,'vcode':codeNum,'checkLogin':0}});\r\n\t\t\r\n\t\tphoneNum = '';\r\n\t\tcodeNum = '';\r\n\t\tclearValue([phoneInput,codeInput]);\r\n\t}\r\n}\r\n\r\n//\r\nfunction codeTimer(node,t){\r\n\tvar _this = node;\r\n\tvar time = t;\r\n\t\r\n\tif(!loading){\r\n\t\t_this.el.setContent(time+'s');\r\n\t\ttimer = setInterval(function(){\r\n\t\t\tloading = true;\r\n\t\t\ttime--;\r\n\t\t\tif(time < 0){\r\n\t\t\t\tclearInterval(timer);\r\n\t\t\t\t_this.el.setContent('');\r\n\t\t\t\tloading = false;\r\n\t\t\t}else{\r\n\t\t\t\t_this.el.setContent(time+'s');\r\n\t\t\t}\r\n\r\n\t\t},1000)\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n//value\r\nfunction clearValue(obj){\r\n\tobj.forEach(function(o){\r\n\t\to.el.setAttribute('value','').draw();\r\n\t});\r\n\t\r\n}\r\n\r\nmodule.exports = ResetPwd;\n},{\"Ajax\":63,\"App\":64,\"Page\":70,\"Tips\":73,\"button\":75,\"famous/dom-renderables/DOMElement\":21,\"inputCustom\":77,\"navbar\":85}],121:[function(require,module,exports){\nvar FamousEngine = require('famous/core/FamousEngine');\r\nvar CrossCall = require('famous/core/CrossCall');\r\n\t// require( 'StorageModel' );\r\nvar App = require('App');\r\n\trequire( 'Dialogs' );\r\nvar Tips = require('Tips');\r\nvar sign = require('model/SignModel');\r\n\r\nnew CrossCall(function (){\r\n\tvar App = {};\r\n\r\n\t// \r\n\r\n\tvar device = {\r\n\t\tuuid: '0123456789',\r\n\t\tmodel: 'x86',\r\n\t\tversion: '9.0',\r\n\t\tplatform: 'android'\r\n\t};\r\n\r\n\tApp.height = screen.height;\r\n\t// \r\n\tApp.width = screen.width;\r\n\t// \r\n\tApp.devicePixelRatio = 2;\r\n\t// uuid\r\n\tApp.uuid = device.uuid.toLowerCase();\r\n\t// \r\n\tApp.model = device.model;\r\n\t// \r\n\tApp.version = device.version;\r\n\t//  IOS / ANDROID\r\n\tApp.platform = device.platform.toLowerCase();\r\n\r\n\tself._call(App);\r\n\t\r\n\t\r\n    \r\n}).exec(function (arg) {\r\n\t// FamousEngine.createScene();\r\n\tvar Scene = FamousEngine.createScene();\r\n   \r\n\t\r\n\tfor (var k in arg) {\r\n\t\tApp[k] = arg[k];\r\n\t}\r\n\r\n\tScene.addChild( Tips );\r\n\tTips.hide();\r\n    \r\n    var userSign = sign.findOne();\r\n\r\n    if(userSign && userSign.token){\r\n\t\trequire( 'Router' ).load('home').setAlign(0,0,0);\r\n    }else{\r\n    \trequire( 'Router' ).load('login').setAlign(0,0,0);\r\n    }\r\n\t\r\n\r\n\r\n});\r\n\n},{\"App\":64,\"Dialogs\":65,\"Router\":71,\"Tips\":73,\"famous/core/CrossCall\":9,\"famous/core/FamousEngine\":12,\"model/SignModel\":79}]},{},[121])\n\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Commands = require('../core/Commands');\r\n\r\n/**\r\n * Camera is a component that is responsible for sending information to the renderer about where\r\n * the camera is in the scene.  This allows the user to set the type of projection, the focal depth,\r\n * and other properties to adjust the way the scenes are rendered.\r\n *\r\n * @class Camera\r\n *\r\n * @param {Node} node to which the instance of Camera will be a component of\r\n */\r\nfunction Camera(node) {\r\n    this._node = node;\r\n    this._projectionType = Camera.ORTHOGRAPHIC_PROJECTION;\r\n    this._focalDepth = 0;\r\n    this._near = 0;\r\n    this._far = 0;\r\n    this._requestingUpdate = false;\r\n    this._id = node.addComponent(this);\r\n    this._viewTransform = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\r\n    this._viewDirty = false;\r\n    this._perspectiveDirty = false;\r\n    this.setFlat();\r\n}\r\n\r\nCamera.FRUSTUM_PROJECTION = 0;\r\nCamera.PINHOLE_PROJECTION = 1;\r\nCamera.ORTHOGRAPHIC_PROJECTION = 2;\r\n\r\n/**\r\n * @method\r\n *\r\n * @return {String} Name of the component\r\n */\r\nCamera.prototype.toString = function toString() {\r\n    return 'Camera';\r\n};\r\n\r\n/**\r\n * Gets object containing serialized data for the component\r\n *\r\n * @method\r\n *\r\n * @return {Object} the state of the component\r\n */\r\nCamera.prototype.getValue = function getValue() {\r\n    return {\r\n        component: this.toString(),\r\n        projectionType: this._projectionType,\r\n        focalDepth: this._focalDepth,\r\n        near: this._near,\r\n        far: this._far\r\n    };\r\n};\r\n\r\n/**\r\n * Set the components state based on some serialized data\r\n *\r\n * @method\r\n *\r\n * @param {Object} state an object defining what the state of the component should be\r\n *\r\n * @return {Boolean} status of the set\r\n */\r\nCamera.prototype.setValue = function setValue(state) {\r\n    if (this.toString() === state.component) {\r\n        this.set(state.projectionType, state.focalDepth, state.near, state.far);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * Set the internals of the component\r\n *\r\n * @method\r\n *\r\n * @param {Number} type an id corresponding to the type of projection to use\r\n * @param {Number} depth the depth for the pinhole projection model\r\n * @param {Number} near the distance of the near clipping plane for a frustum projection\r\n * @param {Number} far the distance of the far clipping plane for a frustum projection\r\n *\r\n * @return {Boolean} status of the set\r\n */\r\nCamera.prototype.set = function set(type, depth, near, far) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n    this._projectionType = type;\r\n    this._focalDepth = depth;\r\n    this._near = near;\r\n    this._far = far;\r\n};\r\n\r\n/**\r\n * Set the camera depth for a pinhole projection model\r\n *\r\n * @method\r\n *\r\n * @param {Number} depth the distance between the Camera and the origin\r\n *\r\n * @return {Camera} this\r\n */\r\nCamera.prototype.setDepth = function setDepth(depth) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n    this._perspectiveDirty = true;\r\n    this._projectionType = Camera.PINHOLE_PROJECTION;\r\n    this._focalDepth = depth;\r\n    this._near = 0;\r\n    this._far = 0;\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets object containing serialized data for the component\r\n *\r\n * @method\r\n *\r\n * @param {Number} near distance from the near clipping plane to the camera\r\n * @param {Number} far distance from the far clipping plane to the camera\r\n *\r\n * @return {Camera} this\r\n */\r\nCamera.prototype.setFrustum = function setFrustum(near, far) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    this._perspectiveDirty = true;\r\n    this._projectionType = Camera.FRUSTUM_PROJECTION;\r\n    this._focalDepth = 0;\r\n    this._near = near;\r\n    this._far = far;\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Set the Camera to have orthographic projection\r\n *\r\n * @method\r\n *\r\n * @return {Camera} this\r\n */\r\nCamera.prototype.setFlat = function setFlat() {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    this._perspectiveDirty = true;\r\n    this._projectionType = Camera.ORTHOGRAPHIC_PROJECTION;\r\n    this._focalDepth = 0;\r\n    this._near = 0;\r\n    this._far = 0;\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * When the node this component is attached to updates, the Camera will\r\n * send new camera information to the Compositor to update the rendering\r\n * of the scene.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCamera.prototype.onUpdate = function onUpdate() {\r\n    this._requestingUpdate = false;\r\n\r\n    var path = this._node.getLocation();\r\n\r\n    this._node\r\n        .sendDrawCommand(Commands.WITH)\r\n        .sendDrawCommand(path);\r\n\r\n    if (this._perspectiveDirty) {\r\n        this._perspectiveDirty = false;\r\n\r\n        switch (this._projectionType) {\r\n            case Camera.FRUSTUM_PROJECTION:\r\n                this._node.sendDrawCommand(Commands.FRUSTRUM_PROJECTION);\r\n                this._node.sendDrawCommand(this._near);\r\n                this._node.sendDrawCommand(this._far);\r\n                break;\r\n            case Camera.PINHOLE_PROJECTION:\r\n                this._node.sendDrawCommand(Commands.PINHOLE_PROJECTION);\r\n                this._node.sendDrawCommand(this._focalDepth);\r\n                break;\r\n            case Camera.ORTHOGRAPHIC_PROJECTION:\r\n                this._node.sendDrawCommand(Commands.ORTHOGRAPHIC_PROJECTION);\r\n                break;\r\n        }\r\n    }\r\n\r\n    if (this._viewDirty) {\r\n        this._viewDirty = false;\r\n\r\n        this._node.sendDrawCommand(Commands.CHANGE_VIEW_TRANSFORM);\r\n        this._node.sendDrawCommand(this._viewTransform[0]);\r\n        this._node.sendDrawCommand(this._viewTransform[1]);\r\n        this._node.sendDrawCommand(this._viewTransform[2]);\r\n        this._node.sendDrawCommand(this._viewTransform[3]);\r\n\r\n        this._node.sendDrawCommand(this._viewTransform[4]);\r\n        this._node.sendDrawCommand(this._viewTransform[5]);\r\n        this._node.sendDrawCommand(this._viewTransform[6]);\r\n        this._node.sendDrawCommand(this._viewTransform[7]);\r\n\r\n        this._node.sendDrawCommand(this._viewTransform[8]);\r\n        this._node.sendDrawCommand(this._viewTransform[9]);\r\n        this._node.sendDrawCommand(this._viewTransform[10]);\r\n        this._node.sendDrawCommand(this._viewTransform[11]);\r\n\r\n        this._node.sendDrawCommand(this._viewTransform[12]);\r\n        this._node.sendDrawCommand(this._viewTransform[13]);\r\n        this._node.sendDrawCommand(this._viewTransform[14]);\r\n        this._node.sendDrawCommand(this._viewTransform[15]);\r\n    }\r\n};\r\n\r\n/**\r\n * When the transform of the node this component is attached to\r\n * changes, have the Camera update its projection matrix and\r\n * if needed, flag to node to update.\r\n *\r\n * @method\r\n *\r\n * @param {Array} transform an array denoting the transform matrix of the node\r\n *\r\n * @return {Camera} this\r\n */\r\nCamera.prototype.onTransformChange = function onTransformChange(transform) {\r\n    var a = transform;\r\n    this._viewDirty = true;\r\n\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\r\n    a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\r\n    a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\r\n    a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\r\n\r\n    b00 = a00 * a11 - a01 * a10,\r\n    b01 = a00 * a12 - a02 * a10,\r\n    b02 = a00 * a13 - a03 * a10,\r\n    b03 = a01 * a12 - a02 * a11,\r\n    b04 = a01 * a13 - a03 * a11,\r\n    b05 = a02 * a13 - a03 * a12,\r\n    b06 = a20 * a31 - a21 * a30,\r\n    b07 = a20 * a32 - a22 * a30,\r\n    b08 = a20 * a33 - a23 * a30,\r\n    b09 = a21 * a32 - a22 * a31,\r\n    b10 = a21 * a33 - a23 * a31,\r\n    b11 = a22 * a33 - a23 * a32,\r\n\r\n    det = 1/(b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06);\r\n\r\n    this._viewTransform[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n    this._viewTransform[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n    this._viewTransform[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n    this._viewTransform[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\r\n    this._viewTransform[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n    this._viewTransform[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n    this._viewTransform[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n    this._viewTransform[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\r\n    this._viewTransform[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n    this._viewTransform[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n    this._viewTransform[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n    this._viewTransform[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\r\n    this._viewTransform[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\r\n    this._viewTransform[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\r\n    this._viewTransform[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\r\n    this._viewTransform[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\r\n};\r\n\r\nmodule.exports = Camera;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar CallbackStore = require('../utilities/CallbackStore');\r\nvar Vec2 = require('../math/Vec2');\r\n\r\nvar VEC_REGISTER = new Vec2();\r\n\r\nvar gestures = {drag: true, tap: true, rotate: true, pinch: true};\r\n\r\n/**\r\n * Component to manage gesture events. Will track 'pinch', 'rotate', 'tap', and 'drag' events, on an\r\n * as-requested basis.\r\n *\r\n * @class GestureHandler\r\n *\r\n * @param {Node} node The node with which to register the handler.\r\n * @param {Array} events An array of event objects specifying .event and .callback properties.\r\n */\r\nfunction GestureHandler(node, events) {\r\n    this.node = node;\r\n    this.id = node.addComponent(this);\r\n\r\n    this._events = new CallbackStore();\r\n\r\n    this.last1 = new Vec2();\r\n    this.last2 = new Vec2();\r\n\r\n    this.delta1 = new Vec2();\r\n    this.delta2 = new Vec2();\r\n\r\n    this.velocity1 = new Vec2();\r\n    this.velocity2 = new Vec2();\r\n\r\n    this.dist = 0;\r\n    this.diff12 = new Vec2();\r\n\r\n    this.center = new Vec2();\r\n    this.centerDelta = new Vec2();\r\n    this.centerVelocity = new Vec2();\r\n\r\n    this.pointer1 = {\r\n        position: this.last1,\r\n        delta: this.delta1,\r\n        velocity: this.velocity1\r\n    };\r\n\r\n    this.pointer2 = {\r\n        position: this.last2,\r\n        delta: this.delta2,\r\n        velocity: this.velocity2\r\n    };\r\n\r\n    this.event = {\r\n        status: null,\r\n        time: 0,\r\n        pointers: [],\r\n        center: this.center,\r\n        centerDelta: this.centerDelta,\r\n        centerVelocity: this.centerVelocity,\r\n        points: 0,\r\n        current: 0\r\n    };\r\n\r\n    this.trackedPointerIDs = [-1, -1];\r\n    this.timeOfPointer = 0;\r\n    this.multiTap = 0;\r\n\r\n    this.mice = [];\r\n\r\n    this.gestures = [];\r\n    this.options = {};\r\n    this.trackedGestures = {};\r\n\r\n    var i;\r\n    var len;\r\n\r\n    if (events) {\r\n        for (i = 0, len = events.length; i < len; i++) {\r\n            this.on(events[i], events[i].callback);\r\n        }\r\n    }\r\n\r\n    node.addUIEvent('touchstart');\r\n    node.addUIEvent('mousedown');\r\n    node.addUIEvent('touchmove');\r\n    node.addUIEvent('mousemove');\r\n    node.addUIEvent('touchend');\r\n    node.addUIEvent('mouseup');\r\n    node.addUIEvent('mouseleave');\r\n}\r\n\r\n\r\n/**\r\n * onReceive fires when the node this component is attached to gets an event.\r\n *\r\n * @method\r\n *\r\n * @param {String} ev name of the event\r\n * @param {Object} payload data associated with the event\r\n *\r\n * @return {undefined} undefined\r\n */\r\nGestureHandler.prototype.onReceive = function onReceive (ev, payload) {\r\n    switch(ev) {\r\n        case 'touchstart':\r\n        case 'mousedown':\r\n            _processPointerStart.call(this, payload);\r\n            break;\r\n        case 'touchmove':\r\n        case 'mousemove':\r\n            _processPointerMove.call(this, payload);\r\n            break;\r\n        case 'touchend':\r\n        case 'mouseup':\r\n            _processPointerEnd.call(this, payload);\r\n            break;\r\n        case 'mouseleave':\r\n            _processMouseLeave.call(this, payload);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n};\r\n\r\n/**\r\n * Return the name of the GestureHandler component\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the component\r\n */\r\nGestureHandler.prototype.toString = function toString() {\r\n    return 'GestureHandler';\r\n};\r\n\r\n/**\r\n * Register a callback to be invoked on an event.\r\n *\r\n * @method\r\n *\r\n * @param {Object|String} ev The event object or event name.\r\n * @param {Function} cb The callback\r\n *\r\n * @return {undefined} undefined\r\n */\r\nGestureHandler.prototype.on = function on(ev, cb) {\r\n    var gesture = ev.event || ev;\r\n    if (gestures[gesture]) {\r\n        this.trackedGestures[gesture] = true;\r\n        this.gestures.push(gesture);\r\n        if (ev.event) this.options[gesture] = ev;\r\n        this._events.on(gesture, cb);\r\n    }\r\n};\r\n\r\n/**\r\n * Trigger gestures in the order they were requested, if they occurred.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nGestureHandler.prototype.triggerGestures = function() {\r\n    var payload = this.event;\r\n    for (var i = 0, len = this.gestures.length; i < len; i++) {\r\n        var gesture = this.gestures[i];\r\n        switch (gesture) {\r\n            case 'rotate':\r\n            case 'pinch':\r\n                if (payload.points === 2) this.trigger(gesture, payload);\r\n                break;\r\n            case 'tap':\r\n                if (payload.status === 'start') {\r\n                    if (this.options.tap) {\r\n                        var pts = this.options.tap.points || 1;\r\n                        if(this.multiTap >= pts && payload.points >= pts) this.trigger(gesture, payload);\r\n                    }\r\n                    else this.trigger(gesture, payload);\r\n                }\r\n                break;\r\n            default:\r\n                this.trigger(gesture, payload);\r\n                break;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Trigger the callback associated with an event, passing in a payload.\r\n *\r\n * @method trigger\r\n *\r\n * @param {String} ev The event name\r\n * @param {Object} payload The event payload\r\n *\r\n * @return {undefined} undefined\r\n */\r\nGestureHandler.prototype.trigger = function trigger (ev, payload) {\r\n    this._events.trigger(ev, payload);\r\n};\r\n\r\n/**\r\n * Process up to the first two touch/mouse move events. Exit out if the first two points are already being tracked.\r\n *\r\n * @method _processPointerStart\r\n * @private\r\n *\r\n * @param {Object} e The event object\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction _processPointerStart(e) {\r\n    var t;\r\n    if (!e.targetTouches) {\r\n        this.mice[0] = e;\r\n        t = this.mice;\r\n        e.identifier = 1;\r\n    }\r\n    else t = e.targetTouches;\r\n\r\n    if (t[0] && t[1] && this.trackedPointerIDs[0] === t[0].identifier && this.trackedPointerIDs[1] === t[1].identifier) {\r\n        return;\r\n    }\r\n\r\n    this.event.time = Date.now();\r\n\r\n    var threshold;\r\n    var id;\r\n\r\n    if (this.trackedPointerIDs[0] !== t[0].identifier) {\r\n        if (this.trackedGestures.tap) {\r\n            threshold = (this.options.tap && this.options.tap.threshold) || 250;\r\n            if (this.event.time - this.timeOfPointer < threshold) this.event.taps++;\r\n            else this.event.taps = 1;\r\n            this.timeOfPointer = this.event.time;\r\n            this.multiTap = 1;\r\n        }\r\n        this.event.current = 1;\r\n        this.event.points = 1;\r\n        id = t[0].identifier;\r\n        this.trackedPointerIDs[0] = id;\r\n\r\n        this.last1.set(t[0].pageX, t[0].pageY);\r\n        this.velocity1.clear();\r\n        this.delta1.clear();\r\n        this.event.pointers.push(this.pointer1);\r\n    }\r\n    if (t[1] && this.trackedPointerIDs[1] !== t[1].identifier) {\r\n        if (this.trackedGestures.tap) {\r\n            threshold = (this.options.tap && this.options.tap.threshold) || 250;\r\n            if (this.event.time - this.timeOfPointer < threshold) this.multiTap = 2;\r\n        }\r\n        this.event.current = 2;\r\n        this.event.points = 2;\r\n        id = t[1].identifier;\r\n        this.trackedPointerIDs[1] = id;\r\n\r\n        this.last2.set(t[1].pageX, t[1].pageY);\r\n        this.velocity2.clear();\r\n        this.delta2.clear();\r\n\r\n        Vec2.add(this.last1, this.last2, this.center).scale(0.5);\r\n        this.centerDelta.clear();\r\n        this.centerVelocity.clear();\r\n\r\n        Vec2.subtract(this.last2, this.last1, this.diff12);\r\n        this.dist = this.diff12.length();\r\n\r\n        if (this.trackedGestures.pinch) {\r\n            this.event.scale = this.event.scale || 1;\r\n            this.event.scaleDelta = 0;\r\n            this.event.scaleVelocity = 0;\r\n        }\r\n        if (this.trackedGestures.rotate) {\r\n            this.event.rotation = this.event.rotation || 0;\r\n            this.event.rotationDelta = 0;\r\n            this.event.rotationVelocity = 0;\r\n        }\r\n        this.event.pointers.push(this.pointer2);\r\n    }\r\n\r\n    this.event.status = 'start';\r\n    if (this.event.points === 1) {\r\n        this.center.copy(this.last1);\r\n        this.centerDelta.clear();\r\n        this.centerVelocity.clear();\r\n        if (this.trackedGestures.pinch) {\r\n            this.event.scale = 1;\r\n            this.event.scaleDelta = 0;\r\n            this.event.scaleVelocity = 0;\r\n        }\r\n        if (this.trackedGestures.rotate) {\r\n            this.event.rotation = 0;\r\n            this.event.rotationDelta = 0;\r\n            this.event.rotationVelocity = 0;\r\n        }\r\n    }\r\n    this.triggerGestures();\r\n}\r\n\r\n/**\r\n * Process up to the first two touch/mouse move events.\r\n *\r\n * @method _processPointerMove\r\n * @private\r\n *\r\n * @param {Object} e The event object.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction _processPointerMove(e) {\r\n    var t;\r\n    if (!e.targetTouches) {\r\n        if (!this.event.current) return;\r\n        this.mice[0] = e;\r\n        t = this.mice;\r\n        e.identifier = 1;\r\n    }\r\n    else t = e.targetTouches;\r\n\r\n    var time = Date.now();\r\n    var dt = time - this.event.time;\r\n    if (dt === 0) return;\r\n    var invDt = 1000 / dt;\r\n    this.event.time = time;\r\n\r\n    this.event.current = 1;\r\n    this.event.points = 1;\r\n    if (this.trackedPointerIDs[0] === t[0].identifier) {\r\n        VEC_REGISTER.set(t[0].pageX, t[0].pageY);\r\n        Vec2.subtract(VEC_REGISTER, this.last1, this.delta1);\r\n        Vec2.scale(this.delta1, invDt, this.velocity1);\r\n        this.last1.copy(VEC_REGISTER);\r\n\r\n    }\r\n    if (t[1]) {\r\n        this.event.current = 2;\r\n        this.event.points = 2;\r\n        VEC_REGISTER.set(t[1].pageX, t[1].pageY);\r\n        Vec2.subtract(VEC_REGISTER, this.last2, this.delta2);\r\n        Vec2.scale(this.delta2, invDt, this.velocity2);\r\n        this.last2.copy(VEC_REGISTER);\r\n\r\n        Vec2.add(this.last1, this.last2, VEC_REGISTER).scale(0.5);\r\n        Vec2.subtract(VEC_REGISTER, this.center, this.centerDelta);\r\n        Vec2.add(this.velocity1, this.velocity2, this.centerVelocity).scale(0.5);\r\n        this.center.copy(VEC_REGISTER);\r\n\r\n        Vec2.subtract(this.last2, this.last1, VEC_REGISTER);\r\n\r\n        if (this.trackedGestures.rotate) {\r\n            var dot = VEC_REGISTER.dot(this.diff12);\r\n            var cross = VEC_REGISTER.cross(this.diff12);\r\n            var theta = -Math.atan2(cross, dot);\r\n            this.event.rotation += theta;\r\n            this.event.rotationDelta = theta;\r\n            this.event.rotationVelocity = theta * invDt;\r\n        }\r\n\r\n        var dist = VEC_REGISTER.length();\r\n        var scale = dist / this.dist;\r\n        this.diff12.copy(VEC_REGISTER);\r\n        this.dist = dist;\r\n\r\n        if (this.trackedGestures.pinch) {\r\n            this.event.scale *= scale;\r\n            scale -= 1.0;\r\n            this.event.scaleDelta = scale;\r\n            this.event.scaleVelocity = scale * invDt;\r\n        }\r\n    }\r\n\r\n    this.event.status = 'move';\r\n    if (this.event.points === 1) {\r\n        this.center.copy(this.last1);\r\n        this.centerDelta.copy(this.delta1);\r\n        this.centerVelocity.copy(this.velocity1);\r\n        if (this.trackedGestures.pinch) {\r\n            this.event.scale = 1;\r\n            this.event.scaleDelta = 0;\r\n            this.event.scaleVelocity = 0;\r\n        }\r\n        if (this.trackedGestures.rotate) {\r\n            this.event.rotation = 0;\r\n            this.event.rotationDelta = 0;\r\n            this.event.rotationVelocity = 0;\r\n        }\r\n    }\r\n    this.triggerGestures();\r\n}\r\n\r\n/**\r\n * Process up to the first two touch/mouse end events. Exit out if the two points being tracked are still active.\r\n *\r\n * @method _processPointerEnd\r\n * @private\r\n *\r\n * @param {Object} e The event object\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction _processPointerEnd(e) {\r\n    var t;\r\n    if (!e.targetTouches) {\r\n        if (!this.event.current) return;\r\n        this.mice.pop();\r\n        t = this.mice;\r\n    }\r\n    else t = e.targetTouches;\r\n\r\n    if (t[0] && t[1] && this.trackedPointerIDs[0] === t[0].identifier && this.trackedPointerIDs[1] === t[1].identifier) {\r\n            return;\r\n    }\r\n\r\n    var id;\r\n\r\n    this.event.status = 'end';\r\n    if (!t[0]) {\r\n        this.event.current = 0;\r\n        this.trackedPointerIDs[0] = -1;\r\n        this.trackedPointerIDs[1] = -1;\r\n        this.triggerGestures();\r\n        this.event.pointers.pop();\r\n        this.event.pointers.pop();\r\n        return;\r\n    }\r\n    else if(this.trackedPointerIDs[0] !== t[0].identifier) {\r\n        this.trackedPointerIDs[0] = -1;\r\n        id = t[0].identifier;\r\n        this.trackedPointerIDs[0] = id;\r\n\r\n        this.last1.set(t[0].pageX, t[0].pageY);\r\n        this.velocity1.clear();\r\n        this.delta1.clear();\r\n    }\r\n    if (!t[1]) {\r\n        this.event.current = 1;\r\n        this.trackedPointerIDs[1] = -1;\r\n        this.triggerGestures();\r\n        this.event.points = 1;\r\n        this.event.pointers.pop();\r\n    }\r\n    else if (this.trackedPointerIDs[1] !== t[1].identifier) {\r\n        this.trackedPointerIDs[1] = -1;\r\n        this.event.points = 2;\r\n        id = t[1].identifier;\r\n        this.trackedPointerIDs[1] = id;\r\n\r\n        this.last2.set(t[1].pageX, t[1].pageY);\r\n        this.velocity2.clear();\r\n        this.delta2.clear();\r\n\r\n        Vec2.add(this.last1, this.last2, this.center).scale(0.5);\r\n        this.centerDelta.clear();\r\n        this.centerVelocity.clear();\r\n\r\n        Vec2.subtract(this.last2, this.last1, this.diff12);\r\n        this.dist = this.diff12.length();\r\n    }\r\n}\r\n\r\n/**\r\n * Treats a mouseleave event as a gesture end.\r\n *\r\n * @method _processMouseLeave\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction _processMouseLeave() {\r\n    if (this.event.current) {\r\n        this.event.status = 'end';\r\n        this.event.current = 0;\r\n        this.trackedPointerIDs[0] = -1;\r\n        this.triggerGestures();\r\n        this.event.pointers.pop();\r\n    }\r\n}\r\n\r\nmodule.exports = GestureHandler;\r\n","/**\r\n * The MIT License (MIT)\r\n * \r\n * Copyright (c) 2015 Famous Industries Inc.\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Transitionable = require('../transitions/Transitionable');\r\n\r\n/**\r\n * The Position component serves as a way to tween to translation of a Node.\r\n *  It is also the base class for the other core components that interact\r\n * with the Vec3 properties on the Node\r\n *\r\n * @class Position\r\n *\r\n * @param {Node} node Node that the Position component will be attached to\r\n */\r\nfunction Position(node) {\r\n    this._node = node;\r\n    this._id = node.addComponent(this);\r\n  \r\n    this._requestingUpdate = false;\r\n    \r\n    var initialPosition = node.getPosition();\r\n\r\n    this._x = new Transitionable(initialPosition[0]);\r\n    this._y = new Transitionable(initialPosition[1]);\r\n    this._z = new Transitionable(initialPosition[2]);\r\n}\r\n\r\n/**\r\n * Return the name of the Position component\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the component\r\n */\r\nPosition.prototype.toString = function toString() {\r\n    return 'Position';\r\n};\r\n\r\n/**\r\n * Gets object containing stringified constructor, and corresponding dimensional values\r\n *\r\n * @method\r\n *\r\n * @return {Object} the internal state of the component\r\n */\r\nPosition.prototype.getValue = function getValue() {\r\n    return {\r\n        component: this.toString(),\r\n        x: this._x.get(),\r\n        y: this._y.get(),\r\n        z: this._z.get()\r\n    };\r\n};\r\n\r\n/**\r\n * Set the translation of the Node\r\n *\r\n * @method\r\n *\r\n * @param {Object} state Object -- component: stringified constructor, x: number, y: number, z: number\r\n *\r\n * @return {Boolean} status of the set\r\n */\r\nPosition.prototype.setValue = function setValue(state) {\r\n    if (this.toString() === state.component) {\r\n        this.set(state.x, state.y, state.z);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * Getter for X translation\r\n *\r\n * @method\r\n *\r\n * @return {Number} the Node's translation along its x-axis\r\n */\r\nPosition.prototype.getX = function getX() {\r\n    return this._x.get();\r\n};\r\n\r\n/**\r\n * Getter for Y translation\r\n *\r\n * @method\r\n *\r\n * @return {Number} the Node's translation along its Y-axis\r\n */\r\nPosition.prototype.getY = function getY() {\r\n    return this._y.get();\r\n};\r\n\r\n/**\r\n * Getter for z translation\r\n *\r\n * @method\r\n *\r\n * @return {Number} the Node's translation along its z-axis\r\n */\r\nPosition.prototype.getZ = function getZ() {\r\n    return this._z.get();\r\n};\r\n\r\n/**\r\n * Whether or not the Position is currently changing\r\n *\r\n * @method\r\n *\r\n * @return {Boolean} whether or not the Position is changing the Node's position\r\n */\r\nPosition.prototype.isActive = function isActive() {\r\n    return this._x.isActive() || this._y.isActive() || this._z.isActive();\r\n};\r\n\r\n/**\r\n * Decide whether the component needs to be updated on the next tick.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nPosition.prototype._checkUpdate = function _checkUpdate() {\r\n    if (this.isActive()) this._node.requestUpdateOnNextTick(this._id);\r\n    else this._requestingUpdate = false;\r\n};\r\n\r\n/**\r\n * When the node this component is attached to updates, update the value\r\n * of the Node's position\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nPosition.prototype.update = function update () {\r\n    this._node.setPosition(this._x.get(), this._y.get(), this._z.get());\r\n    this._checkUpdate();\r\n};\r\n\r\nPosition.prototype.onUpdate = Position.prototype.update;\r\n\r\n/** \r\n * Setter for X position\r\n *\r\n * @method\r\n * \r\n * @param {Number} val used to set x coordinate\r\n * @param {Object} transition options for the transition\r\n * @param {Function} callback function to execute after setting X \r\n *\r\n * @return {Position} this\r\n */\r\nPosition.prototype.setX = function setX(val, transition, callback) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    this._x.set(val, transition, callback);\r\n    return this;\r\n};\r\n\r\n/** \r\n * Setter for Y position\r\n *\r\n * @method\r\n * \r\n * @param {Number} val used to set y coordinate\r\n * @param {Object} transition options for the transition\r\n * @param {Function} callback function to execute after setting Y \r\n *\r\n * @return {Position} this\r\n */\r\nPosition.prototype.setY = function setY(val, transition, callback) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    this._y.set(val, transition, callback);\r\n    return this;\r\n};\r\n\r\n/** \r\n * Setter for Z position\r\n *\r\n * @method\r\n * \r\n * @param {Number} val used to set z coordinate\r\n * @param {Object} transition options for the transition\r\n * @param {Function} callback function to execute after setting Z \r\n *\r\n * @return {Position} this\r\n */\r\nPosition.prototype.setZ = function setZ(val, transition, callback) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    this._z.set(val, transition, callback);\r\n    return this;\r\n};\r\n\r\n\r\n/** \r\n * Setter for X, Y, and Z positions\r\n *\r\n * @method\r\n * \r\n * @param {Number} x used to set x coordinate\r\n * @param {Number} y used to set y coordinate\r\n * @param {Number} z used to set z coordinate\r\n * @param {Object} transition options for the transition\r\n * @param {Function} callback function to execute after setting X \r\n *\r\n * @return {Position} this\r\n */\r\nPosition.prototype.set = function set(x, y, z, transition, callback) {\r\n    if (!this._requestingUpdate) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n\r\n    var xCallback;\r\n    var yCallback;\r\n    var zCallback;\r\n\r\n    if (z != null) {\r\n        zCallback = callback;\r\n    }\r\n    else if (y != null) {\r\n        yCallback = callback;\r\n    }\r\n    else if (x != null) {\r\n        xCallback = callback;\r\n    }\r\n\r\n    if (x != null) this._x.set(x, transition, xCallback);\r\n    if (y != null) this._y.set(y, transition, yCallback);\r\n    if (z != null) this._z.set(z, transition, zCallback);\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Stops transition of Position component\r\n *\r\n * @method\r\n *\r\n * @return {Position} this\r\n */\r\nPosition.prototype.halt = function halt() {\r\n    this._x.halt();\r\n    this._y.halt();\r\n    this._z.halt();\r\n    return this;\r\n};\r\n\r\nmodule.exports = Position;\r\n","'use strict';\r\nvar Commands = require(\"./Commands\");\r\n\r\n/**\r\n * webworker\r\n *\r\n * @class Chan\r\n * @constructor\r\n * @return {undefined} undefined\r\n */\r\nfunction Chan () {\r\n\tthis.running = false;\r\n\tthis._funList={};\r\n\tthis._CallList={};\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @method\r\n *\r\n * @param {channel} \r\n */\r\nChan.prototype.setChannel = function( ch ) {\r\n\tthis._channel = ch;\r\n\tthis.start();\r\n};\r\n\r\nChan.prototype.start = function () {\r\n\tthis._running = true;\r\n}\r\n\r\nChan.prototype.stop = function(){\r\n\tthis._running = false;\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @method\r\n *\r\n * @param {function} \r\n * @param {function} \r\n */\r\nChan.prototype.add = function( fun, call , param ){ \r\n    var id = new Date();\r\n        id = \"id\"+id.getTime()+ Math.ceil((Math.random()*10000));\r\n\r\n    this._funList[id] = call;\r\n    this._push({id: id, args: param, fun: fun.toString()});\r\n\r\n}\r\n\r\n/**\r\n *channel \r\n *\r\n * @method\r\n *\r\n * @param {object} obj.id obj.res obj.fun\r\n */\r\nChan.prototype._push = function( arg ){\r\n\tif( !this._running)return;\r\n\r\n    var CROSS_THREAD_MESSAGE = [Commands.ENGINE, Commands.CROSS_THREAD, arg];\r\n    if( this._channel.sendMessage)\r\n        this._channel.sendMessage(CROSS_THREAD_MESSAGE);\r\n    else\r\n    \tthis._channel.postMessage(CROSS_THREAD_MESSAGE);\r\n}\r\n\r\n/**\r\n *channel.onMessage \r\n *\r\n * @method\r\n *\r\n * @param {object} obj.id obj.res obj.fun\r\n */\r\nChan.prototype.callback = function ( arg ) {\r\n    \r\n\tif(!arg.hasOwnProperty(\"res\")){\r\n\t\tnew funCaller(this, arg).exec();\r\n     \r\n\t}else if(this._funList[arg.id]){\r\n\r\n\t\tthis._funList[arg.id]( arg.res );\r\n\t\tthis._funList[arg.id] = null;\r\n\r\n\t\tdelete this._funList[arg.id];\r\n\t}\r\n}\r\n\r\nfunction funCaller  (ch, arg) {\r\n\t\r\n\tthis.chan = ch \r\n\tthis.fun = arg.fun;\r\n\tthis.id = arg.id;\r\n\r\n\tif( !Array.isArray(arg.args) )\r\n\t\targ.args = [];\r\n\tthis.arg = arg.args;\r\n}\r\n\r\n\r\nfunCaller.prototype.exec = function  (argument) {\r\n\tvar self = this;\r\n    //Function  \r\n    this.fun = eval(\"(\"+this.fun+\")\");\r\n\r\n    var res = this.fun.apply(this, this.arg);\r\n\r\n\tif( typeof res != \"undefined\")\r\n\t\tself._call(res);\r\n}\r\n\r\nfunCaller.prototype._call = function ( arg ) {\r\n\r\n\tthis.chan._push({id:this.id, res:arg});\r\n}\r\n\r\n\r\nmodule.exports =  new Chan();","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Channels are being used for interacting with the UI Thread when running in\r\n * a Web Worker or with the UIManager/ Compositor when running in single\r\n * threaded mode (no Web Worker).\r\n *\r\n * @class Channel\r\n * @constructor\r\n */\r\nfunction Channel() {\r\n    if (typeof self !== 'undefined' && self.window !== self) {\r\n        this._enterWorkerMode();\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Called during construction. Subscribes for `message` event and routes all\r\n * future `sendMessage` messages to the Main Thread (\"UI Thread\").\r\n *\r\n * Primarily used for testing.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nChannel.prototype._enterWorkerMode = function _enterWorkerMode() {\r\n    this._workerMode = true;\r\n    var _this = this;\r\n    self.addEventListener('message', function onmessage(ev) {\r\n        _this.onMessage(ev.data);\r\n    });\r\n};\r\n\r\n/**\r\n * Meant to be overridden by `Famous`.\r\n * Assigned method will be invoked for every received message.\r\n *\r\n * @type {Function}\r\n * @override\r\n *\r\n * @return {undefined} undefined\r\n */\r\nChannel.prototype.onMessage = null;\r\n\r\n/**\r\n * Sends a message to the UIManager.\r\n *\r\n * @param  {Any}    message Arbitrary message object.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nChannel.prototype.sendMessage = function sendMessage (message) {\r\n    if (this._workerMode) {\r\n        self.postMessage(message);\r\n    }\r\n    else {\r\n        this.onmessage(message);\r\n    }\r\n};\r\n\r\n/**\r\n * Meant to be overriden by the UIManager when running in the UI Thread.\r\n * Used for preserving API compatibility with Web Workers.\r\n * When running in Web Worker mode, this property won't be mutated.\r\n *\r\n * Assigned method will be invoked for every message posted by `famous-core`.\r\n *\r\n * @type {Function}\r\n * @override\r\n */\r\nChannel.prototype.onmessage = null;\r\n\r\n/**\r\n * Sends a message to the manager of this channel (the `Famous` singleton) by\r\n * invoking `onMessage`.\r\n * Used for preserving API compatibility with Web Workers.\r\n *\r\n * @private\r\n * @alias onMessage\r\n *\r\n * @param {Any} message a message to send over the channel\r\n *\r\n * @return {undefined} undefined\r\n */\r\nChannel.prototype.postMessage = function postMessage(message) {\r\n    return this.onMessage(message);\r\n};\r\n\r\nmodule.exports = Channel;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Equivalent of an Engine in the Worker Thread. Used to synchronize and manage\r\n * time across different Threads.\r\n *\r\n * @class  Clock\r\n * @constructor\r\n * @private\r\n */\r\nfunction Clock () {\r\n    this._time = 0;\r\n    this._frame = 0;\r\n    this._timerQueue = [];\r\n    this._updatingIndex = 0;\r\n\r\n    this._scale = 1;\r\n    this._scaledTime = this._time;\r\n}\r\n\r\n/**\r\n * Sets the scale at which the clock time is passing.\r\n * Useful for slow-motion or fast-forward effects.\r\n *\r\n * `1` means no time scaling (\"realtime\"),\r\n * `2` means the clock time is passing twice as fast,\r\n * `0.5` means the clock time is passing two times slower than the \"actual\"\r\n * time at which the Clock is being updated via `.step`.\r\n *\r\n * Initally the clock time is not being scaled (factor `1`).\r\n *\r\n * @method  setScale\r\n * @chainable\r\n *\r\n * @param {Number} scale    The scale at which the clock time is passing.\r\n *\r\n * @return {Clock} this\r\n */\r\nClock.prototype.setScale = function setScale (scale) {\r\n    this._scale = scale;\r\n    return this;\r\n};\r\n\r\n/**\r\n * @method  getScale\r\n *\r\n * @return {Number} scale    The scale at which the clock time is passing.\r\n */\r\nClock.prototype.getScale = function getScale () {\r\n    return this._scale;\r\n};\r\n\r\n/**\r\n * Updates the internal clock time.\r\n *\r\n * @method  step\r\n * @chainable\r\n *\r\n * @param  {Number} time high resolution timestamp used for invoking the\r\n *                       `update` method on all registered objects\r\n * @return {Clock}       this\r\n */\r\nClock.prototype.step = function step (time) {\r\n    this._frame++;\r\n\r\n    this._scaledTime = this._scaledTime + (time - this._time)*this._scale;\r\n    this._time = time;\r\n\r\n    for (var i = 0; i < this._timerQueue.length; i++) {\r\n        if (this._timerQueue[i](this._scaledTime)) {\r\n            this._timerQueue.splice(i, 1);\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns the internal clock time.\r\n *\r\n * @method  now\r\n *\r\n * @return  {Number} time high resolution timestamp used for invoking the\r\n *                       `update` method on all registered objects\r\n */\r\nClock.prototype.now = function now () {\r\n    return this._scaledTime;\r\n};\r\n\r\n/**\r\n * Returns the internal clock time.\r\n *\r\n * @method  getTime\r\n * @deprecated Use #now instead\r\n *\r\n * @return  {Number} time high resolution timestamp used for invoking the\r\n *                       `update` method on all registered objects\r\n */\r\nClock.prototype.getTime = Clock.prototype.now;\r\n\r\n/**\r\n * Returns the number of frames elapsed so far.\r\n *\r\n * @method getFrame\r\n *\r\n * @return {Number} frames\r\n */\r\nClock.prototype.getFrame = function getFrame () {\r\n    return this._frame;\r\n};\r\n\r\n/**\r\n * Wraps a function to be invoked after a certain amount of time.\r\n * After a set duration has passed, it executes the function and\r\n * removes it as a listener to 'prerender'.\r\n *\r\n * @method setTimeout\r\n *\r\n * @param {Function} callback function to be run after a specified duration\r\n * @param {Number} delay milliseconds from now to execute the function\r\n *\r\n * @return {Function} timer function used for Clock#clearTimer\r\n */\r\nClock.prototype.setTimeout = function (callback, delay) {\r\n    var params = Array.prototype.slice.call(arguments, 2);\r\n    var startedAt = this._time;\r\n    var timer = function(time) {\r\n        if (time - startedAt >= delay) {\r\n            callback.apply(null, params);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    this._timerQueue.push(timer);\r\n    return timer;\r\n};\r\n\r\n\r\n/**\r\n * Wraps a function to be invoked after a certain amount of time.\r\n *  After a set duration has passed, it executes the function and\r\n *  resets the execution time.\r\n *\r\n * @method setInterval\r\n *\r\n * @param {Function} callback function to be run after a specified duration\r\n * @param {Number} delay interval to execute function in milliseconds\r\n *\r\n * @return {Function} timer function used for Clock#clearTimer\r\n */\r\nClock.prototype.setInterval = function setInterval(callback, delay) {\r\n    var params = Array.prototype.slice.call(arguments, 2);\r\n    var startedAt = this._time;\r\n    var timer = function(time) {\r\n        if (time - startedAt >= delay) {\r\n            callback.apply(null, params);\r\n            startedAt = time;\r\n        }\r\n        return false;\r\n    };\r\n    this._timerQueue.push(timer);\r\n    return timer;\r\n};\r\n\r\n/**\r\n * Removes previously via `Clock#setTimeout` or `Clock#setInterval`\r\n * registered callback function\r\n *\r\n * @method clearTimer\r\n * @chainable\r\n *\r\n * @param  {Function} timer  previously by `Clock#setTimeout` or\r\n *                              `Clock#setInterval` returned callback function\r\n * @return {Clock}              this\r\n */\r\nClock.prototype.clearTimer = function (timer) {\r\n    var index = this._timerQueue.indexOf(timer);\r\n    if (index !== -1) {\r\n        this._timerQueue.splice(index, 1);\r\n    }\r\n    return this;\r\n};\r\n\r\nmodule.exports = Clock;\r\n\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * An enumeration of the commands in our command queue.\r\n */\r\nvar Commands = {\r\n    INIT_DOM: 0,\r\n    DOM_RENDER_SIZE: 1,\r\n    CHANGE_TRANSFORM: 2,\r\n    CHANGE_SIZE: 3,\r\n    CHANGE_PROPERTY: 4,\r\n    CHANGE_CONTENT: 5,\r\n    CHANGE_ATTRIBUTE: 6,\r\n    ADD_CLASS: 7,\r\n    REMOVE_CLASS: 8,\r\n    SUBSCRIBE: 9,\r\n    GL_SET_DRAW_OPTIONS: 10,\r\n    GL_AMBIENT_LIGHT: 11,\r\n    GL_LIGHT_POSITION: 12,\r\n    GL_LIGHT_COLOR: 13,\r\n    MATERIAL_INPUT: 14,\r\n    GL_SET_GEOMETRY: 15,\r\n    GL_UNIFORMS: 16,\r\n    GL_BUFFER_DATA: 17,\r\n    GL_CUTOUT_STATE: 18,\r\n    GL_MESH_VISIBILITY: 19,\r\n    GL_REMOVE_MESH: 20,\r\n    PINHOLE_PROJECTION: 21,\r\n    ORTHOGRAPHIC_PROJECTION: 22,\r\n    CHANGE_VIEW_TRANSFORM: 23,\r\n    WITH: 24,\r\n    FRAME: 25,\r\n    ENGINE: 26,\r\n    START: 27,\r\n    STOP: 28,\r\n    TIME: 29,\r\n    TRIGGER: 30,\r\n    NEED_SIZE_FOR: 31,\r\n    DOM: 32,\r\n    READY: 33,\r\n    ALLOW_DEFAULT: 34,\r\n    PREVENT_DEFAULT: 35,\r\n    UNSUBSCRIBE: 36,\r\n    CROSS_THREAD:37,\r\n    prettyPrint: function (buffer, start, count) {\r\n        var callback;\r\n        start = start ? start : 0;\r\n        var data = {\r\n            i: start,\r\n            result: ''\r\n        };\r\n        for (var len = count ? count + start : buffer.length ; data.i < len ; data.i++) {\r\n            callback = commandPrinters[buffer[data.i]];\r\n            if (!callback) throw new Error('PARSE ERROR: no command registered for: ' + buffer[data.i]);\r\n            callback(buffer, data);\r\n        }\r\n        return data.result;\r\n    }\r\n};\r\n\r\nvar commandPrinters = [];\r\n\r\ncommandPrinters[Commands.INIT_DOM] = function init_dom (buffer, data) {\r\n    data.result += data.i + '. INIT_DOM\\n    tagName: ' + buffer[++data.i] + '\\n\\n';\r\n}; \r\n\r\ncommandPrinters[Commands.DOM_RENDER_SIZE] = function dom_render_size (buffer, data) {\r\n    data.result += data.i + '. DOM_RENDER_SIZE\\n    selector: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.CHANGE_TRANSFORM] = function change_transform (buffer, data) {\r\n    data.result += data.i + '. CHANGE_TRANSFORM\\n    val: [';\r\n    for (var j = 0 ; j < 16 ; j++) data.result += buffer[++data.i] + (j < 15 ? ', ' : '');\r\n    data.result += ']\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.CHANGE_SIZE] = function change_size (buffer, data) {\r\n    data.result += data.i + '. CHANGE_SIZE\\n    x: ' + buffer[++data.i] + ', y: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.CHANGE_PROPERTY] = function change_property (buffer, data) {\r\n    data.result += data.i + '. CHANGE_PROPERTY\\n    key: ' + buffer[++data.i] + ', value: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.CHANGE_CONTENT] = function change_content (buffer, data) {\r\n    data.result += data.i + '. CHANGE_CONTENT\\n    content: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.CHANGE_ATTRIBUTE] = function change_attribute (buffer, data) {\r\n    data.result += data.i + '. CHANGE_ATTRIBUTE\\n    key: ' + buffer[++data.i] + ', value: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.ADD_CLASS] = function add_class (buffer, data) {\r\n    data.result += data.i + '. ADD_CLASS\\n    className: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.REMOVE_CLASS] = function remove_class (buffer, data) {\r\n    data.result += data.i + '. REMOVE_CLASS\\n    className: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.SUBSCRIBE] = function subscribe (buffer, data) {\r\n    data.result += data.i + '. SUBSCRIBE\\n    event: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_SET_DRAW_OPTIONS] = function gl_set_draw_options (buffer, data) {\r\n    data.result += data.i + '. GL_SET_DRAW_OPTIONS\\n    options: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_AMBIENT_LIGHT] = function gl_ambient_light (buffer, data) {\r\n    data.result += data.i + '. GL_AMBIENT_LIGHT\\n    r: ' + buffer[++data.i] + 'g: ' + buffer[++data.i] + 'b: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_LIGHT_POSITION] = function gl_light_position (buffer, data) {\r\n    data.result += data.i + '. GL_LIGHT_POSITION\\n    x: ' + buffer[++data.i] + 'y: ' + buffer[++data.i] + 'z: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_LIGHT_COLOR] = function gl_light_color (buffer, data) {\r\n    data.result += data.i + '. GL_LIGHT_COLOR\\n    r: ' + buffer[++data.i] + 'g: ' + buffer[++data.i] + 'b: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.MATERIAL_INPUT] = function material_input (buffer, data) {\r\n    data.result += data.i + '. MATERIAL_INPUT\\n    key: ' + buffer[++data.i] + ', value: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_SET_GEOMETRY] = function gl_set_geometry (buffer, data) {\r\n    data.result += data.i + '. GL_SET_GEOMETRY\\n   x: ' + buffer[++data.i] + ', y: ' + buffer[++data.i] + ', z: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_UNIFORMS] = function gl_uniforms (buffer, data) {\r\n    data.result += data.i + '. GL_UNIFORMS\\n    key: ' + buffer[++data.i] + ', value: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_BUFFER_DATA] = function gl_buffer_data (buffer, data) {\r\n    data.result += data.i + '. GL_BUFFER_DATA\\n    data: ';\r\n    for (var i = 0; i < 5 ; i++) data.result += buffer[++data.i] + ', ';\r\n    data.result += '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_CUTOUT_STATE] = function gl_cutout_state (buffer, data) {\r\n    data.result += data.i + '. GL_CUTOUT_STATE\\n    state: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_MESH_VISIBILITY] = function gl_mesh_visibility (buffer, data) {\r\n    data.result += data.i + '. GL_MESH_VISIBILITY\\n    visibility: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.GL_REMOVE_MESH] = function gl_remove_mesh (buffer, data) {\r\n    data.result += data.i + '. GL_REMOVE_MESH\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.PINHOLE_PROJECTION] = function pinhole_projection (buffer, data) {\r\n    data.result += data.i + '. PINHOLE_PROJECTION\\n    depth: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.ORTHOGRAPHIC_PROJECTION] = function orthographic_projection (buffer, data) {\r\n    data.result += data.i + '. ORTHOGRAPHIC_PROJECTION\\n';\r\n};\r\n\r\ncommandPrinters[Commands.CHANGE_VIEW_TRANSFORM] = function change_view_transform (buffer, data) {\r\n    data.result += data.i + '. CHANGE_VIEW_TRANSFORM\\n   value: [';\r\n    for (var i = 0; i < 16 ; i++) data.result += buffer[++data.i] + (i < 15 ? ', ' : '');\r\n    data.result += ']\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.PREVENT_DEFAULT] = function prevent_default (buffer, data) {\r\n    data.result += data.i + '. PREVENT_DEFAULT\\n    value: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.ALLOW_DEFAULT] = function allow_default (buffer, data) {\r\n    data.result += data.i + '. ALLOW_DEFAULT\\n    value: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.READY] = function ready (buffer, data) {\r\n    data.result += data.i + '. READY\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.WITH] = function w (buffer, data) {\r\n    data.result += data.i + '. **WITH**\\n     path: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.TIME] = function time (buffer, data) {\r\n    data.result += data.i + '. TIME\\n     ms: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\ncommandPrinters[Commands.NEED_SIZE_FOR] = function need_size_for (buffer, data) {\r\n    data.result += data.i + '. NEED_SIZE_FOR\\n    selector: ' + buffer[++data.i] + '\\n\\n';\r\n};\r\n\r\nmodule.exports = Commands;\r\n\r\n","'use strict';\r\n\r\n\r\nvar Chan = require(\"./Chan\");\r\n/**\r\n *CrossCall \r\n *worker windowdocument \r\n *\r\n * @method\r\n *\r\n * @param {function}   {id:32, text:\"I`m Tester\"}\r\n */\r\nfunction CrossCall( fun , param){\r\n    this._fun = fun;\r\n    this._param = param;\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @method\r\n *\r\n * @param {function}  {id:32, text:\"I`m Tester\"}\r\n */\r\nCrossCall.prototype.setFun = function ( fun , param) {\r\n\tif( typeof fun !==\"function\" ) return;\r\n\tthis._fun  = fun;\r\n    this._param = param;\r\n\treturn this;\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @method\r\n *\r\n * @param {function} _fun\r\n */\r\nCrossCall.prototype.exec = function( fun ) {\r\n\r\n\t\tChan.add( this._fun, fun , this._param);\r\n};\r\n\r\nmodule.exports = CrossCall;","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Event = require('./Event');\r\nvar PathUtils = require('./Path');\r\n\r\n/**\r\n * The Dispatch class is used to propogate events down the\r\n * scene graph.\r\n *\r\n * @class Dispatch\r\n * @param {Scene} context The context on which it operates\r\n * @constructor\r\n */\r\nfunction Dispatch () {\r\n    this._nodes = {}; // a container for constant time lookup of nodes\r\n\r\n    this._queue = []; // The queue is used for two purposes\r\n                      // 1. It is used to list indicies in the\r\n                      //    Nodes path which are then used to lookup\r\n                      //    a node in the scene graph.\r\n                      // 2. It is used to assist dispatching\r\n                      //    such that it is possible to do a breadth first\r\n                      //    traversal of the scene graph.\r\n}\r\n\r\n/**\r\n * Protected method that sets the updater for the dispatch. The updater will\r\n * almost certainly be the FamousEngine class.\r\n *\r\n * @method\r\n * @protected\r\n *\r\n * @param {FamousEngine} updater The updater which will be passed through the scene graph\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDispatch.prototype._setUpdater = function _setUpdater (updater) {\r\n    this._updater = updater;\r\n\r\n    for (var key in this._nodes) this._nodes[key]._setUpdater(updater);\r\n};\r\n\r\n/**\r\n * Enque the children of a node within the dispatcher. Does not clear\r\n * the dispatchers queue first.\r\n *\r\n * @method addChildrenToQueue\r\n * @return {void}\r\n *\r\n * @param {Node} node from which to add children to the queue\r\n */\r\nDispatch.prototype.addChildrenToQueue = function addChildrenToQueue (node) {\r\n    var children = node.getChildren();\r\n    var child;\r\n    for (var i = 0, len = children.length ; i < len ; i++) {\r\n        child = children[i];\r\n        if (child) this._queue.push(child);\r\n    }\r\n};\r\n\r\n/**\r\n * Returns the next item in the Dispatch's queue.\r\n *\r\n * @method next\r\n * @return {Node} next node in the queue\r\n */\r\nDispatch.prototype.next = function next () {\r\n    return this._queue.shift();\r\n};\r\n\r\n/**\r\n * Returns the next node in the queue, but also adds its children to\r\n * the end of the queue. Continually calling this method will result\r\n * in a breadth first traversal of the render tree.\r\n *\r\n * @method breadthFirstNext\r\n * @return {Node | undefined} the next node in the traversal if one exists\r\n */\r\nDispatch.prototype.breadthFirstNext = function breadthFirstNext () {\r\n    var child = this._queue.shift();\r\n    if (!child) return void 0;\r\n    this.addChildrenToQueue(child);\r\n    return child;\r\n};\r\n\r\n/**\r\n * Calls the onMount method for the node at a given path and\r\n * properly registers all of that nodes children to their proper\r\n * paths. Throws if that path doesn't have a node registered as\r\n * a parent or if there is no node registered at that path.\r\n *\r\n * @method mount\r\n *\r\n * @param {String} path at which to begin mounting\r\n * @param {Node} node the node that was mounted\r\n *\r\n * @return {void}\r\n */\r\nDispatch.prototype.mount = function mount (path, node) {\r\n    if (!node) throw new Error('Dispatch: no node passed to mount at: ' + path);\r\n    if (this._nodes[path])\r\n        throw new Error('Dispatch: there is a node already registered at: ' + path);\r\n\r\n    node._setUpdater(this._updater);\r\n    this._nodes[path] = node;\r\n    var parentPath = PathUtils.parent(path);\r\n\r\n    // scenes are their own parents\r\n    var parent = !parentPath ? node : this._nodes[parentPath];\r\n\r\n    if (!parent)\r\n        throw new Error(\r\n                'Parent to path: ' + path +\r\n                ' doesn\\'t exist at expected path: ' + parentPath\r\n        );\r\n\r\n    var children = node.getChildren();\r\n    var components = node.getComponents();\r\n    var i;\r\n    var len;\r\n\r\n    if (parent.isMounted()) node._setMounted(true, path);\r\n    if (parent.isShown()) node._setShown(true);\r\n\r\n    if (parent.isMounted()) {\r\n        node._setParent(parent);\r\n        if (node.onMount) node.onMount(path);\r\n\r\n        for (i = 0, len = components.length ; i < len ; i++)\r\n            if (components[i] && components[i].onMount)\r\n                components[i].onMount(node, i);\r\n\r\n        for (i = 0, len = children.length ; i < len ; i++)\r\n            if (children[i] && children[i].mount) children[i].mount(path + '/' + i);\r\n            else if (children[i]) this.mount(path + '/' + i, children[i]);\r\n    }\r\n\r\n    if (parent.isShown()) {\r\n        if (node.onShow) node.onShow();\r\n        for (i = 0, len = components.length ; i < len ; i++)\r\n            if (components[i] && components[i].onShow)\r\n                components[i].onShow();\r\n    }\r\n};\r\n\r\n/**\r\n * Calls the onDismount method for the node at a given path\r\n * and deregisters all of that nodes children. Throws if there\r\n * is no node registered at that path.\r\n *\r\n * @method dismount\r\n * @return {void}\r\n *\r\n * @param {String} path at which to begin dismounting\r\n */\r\nDispatch.prototype.dismount = function dismount (path) {\r\n    var node = this._nodes[path];\r\n\r\n    if (!node)\r\n        throw new Error(\r\n                'No node registered to path: ' + path\r\n        );\r\n\r\n    var children = node.getRawChildren();\r\n    var components = node.getComponents();\r\n    var i;\r\n    var len;\r\n\r\n    if (node.isShown()) {\r\n        node._setShown(false);\r\n        if (node.onHide) node.onHide();\r\n        for (i = 0, len = components.length ; i < len ; i++)\r\n            if (components[i] && components[i].onHide)\r\n                components[i].onHide();\r\n    }\r\n\r\n    if (node.isMounted()) {\r\n        if (node.onDismount) node.onDismount(path);\r\n\r\n        for (i = 0, len = children.length ; i < len ; i++)\r\n            if (children[i] && children[i].dismount) children[i].dismount();\r\n            else if (children[i]) this.dismount(path + '/' + i);\r\n\r\n        for (i = 0, len = components.length ; i < len ; i++)\r\n            if (components[i] && components[i].onDismount)\r\n                components[i].onDismount();\r\n\r\n        node._setMounted(false);\r\n        node._setParent(null);\r\n    }\r\n\r\n    this._nodes[path] = null;\r\n};\r\n\r\n/**\r\n * Returns a the node registered to the given path, or none\r\n * if no node exists at that path.\r\n *\r\n * @method getNode\r\n * @return {Node | void} node at the given path\r\n *\r\n * @param {String} path at which to look up the node\r\n */\r\nDispatch.prototype.getNode = function getNode (path) {\r\n    return this._nodes[path];\r\n};\r\n\r\n/**\r\n * Issues the onShow method to the node registered at the given path,\r\n * and shows the entire subtree below that node. Throws if no node\r\n * is registered to this path.\r\n *\r\n * @method show\r\n * @return {void}\r\n *\r\n * @param {String} path the path of the node to show\r\n */\r\nDispatch.prototype.show = function show (path) {\r\n    var node = this._nodes[path];\r\n\r\n    if (!node)\r\n        throw new Error(\r\n                'No node registered to path: ' + path\r\n        );\r\n\r\n    if (node.onShow) node.onShow();\r\n\r\n    var components = node.getComponents();\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onShow)\r\n            components[i].onShow();\r\n\r\n\r\n    this.addChildrenToQueue(node);\r\n    var child;\r\n\r\n    while ((child = this.breadthFirstNext()))\r\n        this.show(child.getLocation());\r\n\r\n};\r\n\r\n/**\r\n * Issues the onHide method to the node registered at the given path,\r\n * and hides the entire subtree below that node. Throws if no node\r\n * is registered to this path.\r\n *\r\n * @method hide\r\n * @return {void}\r\n *\r\n * @param {String} path the path of the node to hide\r\n */\r\nDispatch.prototype.hide = function hide (path) {\r\n    var node = this._nodes[path];\r\n\r\n    if (!node)\r\n        throw new Error(\r\n                'No node registered to path: ' + path\r\n        );\r\n\r\n    if (node.onHide) node.onHide();\r\n\r\n    var components = node.getComponents();\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onHide)\r\n            components[i].onHide();\r\n\r\n\r\n    this.addChildrenToQueue(node);\r\n    var child;\r\n\r\n    while ((child = this.breadthFirstNext()))\r\n        this.hide(child.getLocation());\r\n\r\n};\r\n\r\n/**\r\n * lookupNode takes a path and returns the node at the location specified\r\n * by the path, if one exists. If not, it returns undefined.\r\n *\r\n * @param {String} location The location of the node specified by its path\r\n *\r\n * @return {Node | undefined} The node at the requested path\r\n */\r\nDispatch.prototype.lookupNode = function lookupNode (location) {\r\n    if (!location) throw new Error('lookupNode must be called with a path');\r\n\r\n    this._queue.length = 0;\r\n    var path = this._queue;\r\n\r\n    _splitTo(location, path);\r\n\r\n    for (var i = 0, len = path.length ; i < len ; i++)\r\n        path[i] = this._nodes[path[i]];\r\n\r\n    return path[path.length - 1];\r\n};\r\n\r\n/**\r\n * dispatch takes an event name and a payload and dispatches it to the\r\n * entire scene graph below the node that the dispatcher is on. The nodes\r\n * receive the events in a breadth first traversal, meaning that parents\r\n * have the opportunity to react to the event before children.\r\n *\r\n * @param {String} path path of the node to send the event to\r\n * @param {String} event name of the event\r\n * @param {Any} payload data associated with the event\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDispatch.prototype.dispatch = function dispatch (path, event, payload) {\r\n    if (!path) throw new Error('dispatch requires a path as it\\'s first argument');\r\n    if (!event) throw new Error('dispatch requires an event name as it\\'s second argument');\r\n\r\n    var node = this._nodes[path];\r\n    \r\n    if (!node) return;\r\n\r\n    this.addChildrenToQueue(node);\r\n    var child;\r\n\r\n    while ((child = this.breadthFirstNext()))\r\n        if (child && child.onReceive)\r\n            child.onReceive(event, payload);\r\n\r\n};\r\n\r\n/**\r\n * dispatchUIevent takes a path, an event name, and a payload and dispatches them in\r\n * a manner anologous to DOM bubbling. It first traverses down to the node specified at\r\n * the path. That node receives the event first, and then every ancestor receives the event\r\n * until the context.\r\n *\r\n * @param {String} path the path of the node\r\n * @param {String} event the event name\r\n * @param {Any} payload the payload\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDispatch.prototype.dispatchUIEvent = function dispatchUIEvent (path, event, payload) {\r\n    if (!path) throw new Error('dispatchUIEvent needs a valid path to dispatch to');\r\n    if (!event) throw new Error('dispatchUIEvent needs an event name as its second argument');\r\n    var node;\r\n\r\n    Event.call(payload);\r\n    node = this.getNode(path);\r\n    if (node) {\r\n        var parent;\r\n        var components;\r\n        var i;\r\n        var len;\r\n\r\n        payload.node = node;\r\n\r\n        while (node) {\r\n            if (node.onReceive) node.onReceive(event, payload);\r\n            components = node.getComponents();\r\n\r\n            for (i = 0, len = components.length ; i < len ; i++)\r\n                if (components[i] && components[i].onReceive)\r\n                    components[i].onReceive(event, payload);\r\n\r\n            if (payload.propagationStopped) break;\r\n            parent = node.getParent();\r\n            if (parent === node) return;\r\n            node = parent;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * _splitTo is a private method which takes a path and splits it at every '/'\r\n * pushing the result into the supplied array. This is a destructive change.\r\n *\r\n * @private\r\n * @param {String} string the specified path\r\n * @param {Array} target the array to which the result should be written\r\n *\r\n * @return {Array} the target after having been written to\r\n */\r\nfunction _splitTo (string, target) {\r\n    target.length = 0; // clears the array first.\r\n    var last = 0;\r\n    var i;\r\n    var len = string.length;\r\n\r\n    for (i = 0 ; i < len ; i++) {\r\n        if (string[i] === '/') {\r\n            target.push(string.substring(last, i));\r\n            last = i + 1;\r\n        }\r\n    }\r\n\r\n    if (i - last > 0) target.push(string.substring(last, i));\r\n\r\n    return target;\r\n}\r\n\r\nmodule.exports = new Dispatch();\r\n","/**\r\n * The MIT License (MIT)\r\n * \r\n * Copyright (c) 2015 Famous Industries Inc.\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * The Event class adds the stopPropagation functionality\r\n * to the UIEvents within the scene graph.\r\n *\r\n * @constructor Event\r\n */\r\nfunction Event () {\r\n    this.propagationStopped = false;\r\n    this.stopPropagation = stopPropagation;\r\n}\r\n\r\n/**\r\n * stopPropagation ends the bubbling of the event in the\r\n * scene graph.\r\n *\r\n * @method stopPropagation\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction stopPropagation () {\r\n    this.propagationStopped = true;\r\n}\r\n\r\nmodule.exports = Event;\r\n\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Clock = require('./Clock');\r\nvar Scene = require('./Scene');\r\nvar Channel = require('./Channel');\r\nvar Chan = require('./Chan');\r\nvar Dispatch = require('./Dispatch');\r\nvar UIManager = require('../renderers/UIManager');\r\nvar Compositor = require('../renderers/Compositor');\r\nvar RequestAnimationFrameLoop = require('../render-loops/RequestAnimationFrameLoop');\r\nvar TransformSystem = require('./TransformSystem');\r\nvar SizeSystem = require('./SizeSystem');\r\nvar Commands = require('./Commands');\r\n\r\nvar ENGINE_START = [Commands.ENGINE, Commands.START];\r\nvar ENGINE_STOP = [Commands.ENGINE, Commands.STOP];\r\nvar TIME_UPDATE = [Commands.TIME, null];\r\n\r\n/**\r\n * Famous has two responsibilities, one to act as the highest level\r\n * updater and another to send messages over to the renderers. It is\r\n * a singleton.\r\n *\r\n * @class FamousEngine\r\n * @constructor\r\n */\r\nfunction FamousEngine() {\r\n    var _this = this;\r\n\r\n    Dispatch._setUpdater(this);\r\n\r\n    this._updateQueue = []; // The updateQueue is a place where nodes\r\n                            // can place themselves in order to be\r\n                            // updated on the frame.\r\n\r\n    this._nextUpdateQueue = []; // the nextUpdateQueue is used to queue\r\n                                // updates for the next tick.\r\n                                // this prevents infinite loops where during\r\n                                // an update a node continuously puts itself\r\n                                // back in the update queue.\r\n\r\n    this._scenes = {}; // a hash of all of the scenes's that the FamousEngine\r\n                         // is responsible for.\r\n\r\n    this._messages = TIME_UPDATE;   // a queue of all of the draw commands to\r\n                                    // send to the the renderers this frame.\r\n\r\n    this._inUpdate = false; // when the famous is updating this is true.\r\n                            // all requests for updates will get put in the\r\n                            // nextUpdateQueue\r\n\r\n    this._clock = new Clock(); // a clock to keep track of time for the scene\r\n                               // graph.\r\n\r\n\r\n    this._channel = new Channel();\r\n    this._channel.onMessage = function (message) {\r\n        _this.handleMessage(message);\r\n    };\r\n    Chan.setChannel(this._channel);\r\n}\r\n\r\n\r\n/**\r\n * An init script that initializes the FamousEngine with options\r\n * or default parameters.\r\n *\r\n * @method\r\n *\r\n * @param {Object} options a set of options containing a compositor and a render loop\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.init = function init(options) {\r\n    if (typeof window === 'undefined') {\r\n        throw new Error(\r\n            'FamousEngine#init needs to have access to the global window object. ' +\r\n            'Instantiate Compositor and UIManager manually in the UI thread.'\r\n        );\r\n    }\r\n    this.compositor = options && options.compositor || new Compositor();\r\n    this.renderLoop = options && options.renderLoop || new RequestAnimationFrameLoop();\r\n    this.uiManager = new UIManager(this.getChannel(), this.compositor, this.renderLoop);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the channel that the engine will use to communicate to\r\n * the renderers.\r\n *\r\n * @method\r\n *\r\n * @param {Channel} channel     The channel to be used for communicating with\r\n *                              the `UIManager`/ `Compositor`.\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.setChannel = function setChannel(channel) {\r\n    this._channel = channel;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns the channel that the engine is currently using\r\n * to communicate with the renderers.\r\n *\r\n * @method\r\n *\r\n * @return {Channel} channel    The channel to be used for communicating with\r\n *                              the `UIManager`/ `Compositor`.\r\n */\r\nFamousEngine.prototype.getChannel = function getChannel () {\r\n    return this._channel;\r\n};\r\n\r\n/**\r\n * _update is the body of the update loop. The frame consists of\r\n * pulling in appending the nextUpdateQueue to the currentUpdate queue\r\n * then moving through the updateQueue and calling onUpdate with the current\r\n * time on all nodes. While _update is called _inUpdate is set to true and\r\n * all requests to be placed in the update queue will be forwarded to the\r\n * nextUpdateQueue.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nFamousEngine.prototype._update = function _update () {\r\n    this._inUpdate = true;\r\n    var time = this._clock.now();\r\n    var nextQueue = this._nextUpdateQueue;\r\n    var queue = this._updateQueue;\r\n    var item;\r\n\r\n    this._messages[1] = time;\r\n\r\n    SizeSystem.update();\r\n    TransformSystem.update();\r\n\r\n    while (nextQueue.length) queue.unshift(nextQueue.pop());\r\n\r\n    while (queue.length) {\r\n        item = queue.shift();\r\n        if (item && item.update) item.update(time);\r\n        if (item && item.onUpdate) item.onUpdate(time);\r\n    }\r\n\r\n    this._inUpdate = false;\r\n};\r\n\r\n/**\r\n * requestUpdates takes a class that has an onUpdate method and puts it\r\n * into the updateQueue to be updated at the next frame.\r\n * If FamousEngine is currently in an update, requestUpdate\r\n * passes its argument to requestUpdateOnNextTick.\r\n *\r\n * @method\r\n *\r\n * @param {Object} requester an object with an onUpdate method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nFamousEngine.prototype.requestUpdate = function requestUpdate (requester) {\r\n    if (!requester)\r\n        throw new Error(\r\n            'requestUpdate must be called with a class to be updated'\r\n        );\r\n\r\n    if (this._inUpdate) this.requestUpdateOnNextTick(requester);\r\n    else this._updateQueue.push(requester);\r\n};\r\n\r\n/**\r\n * requestUpdateOnNextTick is requests an update on the next frame.\r\n * If FamousEngine is not currently in an update than it is functionally equivalent\r\n * to requestUpdate. This method should be used to prevent infinite loops where\r\n * a class is updated on the frame but needs to be updated again next frame.\r\n *\r\n * @method\r\n *\r\n * @param {Object} requester an object with an onUpdate method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nFamousEngine.prototype.requestUpdateOnNextTick = function requestUpdateOnNextTick (requester) {\r\n    this._nextUpdateQueue.push(requester);\r\n};\r\n\r\n/**\r\n * postMessage sends a message queue into FamousEngine to be processed.\r\n * These messages will be interpreted and sent into the scene graph\r\n * as events if necessary.\r\n *\r\n * @method\r\n *\r\n * @param {Array} messages an array of commands.\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.handleMessage = function handleMessage (messages) {\r\n    if (!messages)\r\n        throw new Error(\r\n            'onMessage must be called with an array of messages'\r\n        );\r\n\r\n    var command;\r\n\r\n    while (messages.length > 0) {\r\n        command = messages.shift();\r\n        switch (command) {\r\n            case Commands.WITH:\r\n                this.handleWith(messages);\r\n                break;\r\n            case Commands.FRAME:\r\n                this.handleFrame(messages);\r\n                break;\r\n            case Commands.ENGINE:\r\n\r\n                Chan.callback(messages[1]);\r\n                messages.length = 0;\r\n                break;\r\n            default:\r\n                throw new Error('received unknown command: ' + command);\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * handleWith is a method that takes an array of messages following the\r\n * WITH command. It'll then issue the next commands to the path specified\r\n * by the WITH command.\r\n *\r\n * @method\r\n *\r\n * @param {Array} messages array of messages.\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.handleWith = function handleWith (messages) {\r\n    var path = messages.shift();\r\n    var command = messages.shift();\r\n    switch (command) {\r\n        case Commands.TRIGGER: // the TRIGGER command sends a UIEvent to the specified path\r\n            var type = messages.shift();\r\n            var ev = messages.shift();\r\n            Dispatch.dispatchUIEvent(path, type, ev);\r\n            break;\r\n        default:\r\n            throw new Error('received unknown command: ' + command);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * handleFrame is called when the renderers issue a FRAME command to\r\n * FamousEngine. FamousEngine will then step updating the scene graph to the current time.\r\n *\r\n * @method\r\n *\r\n * @param {Array} messages array of messages.\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.handleFrame = function handleFrame (messages) {\r\n    if (!messages) throw new Error('handleFrame must be called with an array of messages');\r\n    if (!messages.length) throw new Error('FRAME must be sent with a time');\r\n\r\n    this.step(messages.shift());\r\n    return this;\r\n};\r\n\r\n/**\r\n * step updates the clock and the scene graph and then sends the draw commands\r\n * that accumulated in the update to the renderers.\r\n *\r\n * @method\r\n *\r\n * @param {Number} time current engine time\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.step = function step (time) {\r\n    if (time == null) throw new Error('step must be called with a time');\r\n\r\n    this._clock.step(time);\r\n    this._update();\r\n\r\n    if (this._messages.length) {\r\n        this._channel.sendMessage(this._messages);\r\n        while (this._messages.length > 2) this._messages.pop();\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * returns the context of a particular path. The context is looked up by the selector\r\n * portion of the path and is listed from the start of the string to the first\r\n * '/'.\r\n *\r\n * @method\r\n *\r\n * @param {String} selector the path to look up the context for.\r\n *\r\n * @return {Context | Undefined} the context if found, else undefined.\r\n */\r\nFamousEngine.prototype.getContext = function getContext (selector) {\r\n    if (!selector) throw new Error('getContext must be called with a selector');\r\n\r\n    var index = selector.indexOf('/');\r\n    selector = index === -1 ? selector : selector.substring(0, index);\r\n\r\n    return this._scenes[selector];\r\n};\r\n\r\n/**\r\n * Returns the instance of clock used by the FamousEngine.\r\n *\r\n * @method\r\n *\r\n * @return {Clock} FamousEngine's clock\r\n */\r\nFamousEngine.prototype.getClock = function getClock () {\r\n    return this._clock;\r\n};\r\n\r\n/**\r\n * Enqueues a message to be transfered to the renderers.\r\n *\r\n * @method\r\n *\r\n * @param {Any} command Draw Command\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.message = function message (command) {\r\n    this._messages.push(command);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Creates a scene under which a scene graph could be built.\r\n *\r\n * @method\r\n *\r\n * @param {String} selector a dom selector for where the scene should be placed\r\n *\r\n * @return {Scene} a new instance of Scene.\r\n */\r\nFamousEngine.prototype.createScene = function createScene (selector) {\r\n    selector = selector || 'body';\r\n\r\n    if (this._scenes[selector]) this._scenes[selector].dismount();\r\n    this._scenes[selector] = new Scene(selector, this);\r\n    return this._scenes[selector];\r\n};\r\n\r\n/**\r\n * Introduce an already instantiated scene to the engine.\r\n *\r\n * @method\r\n *\r\n * @param {Scene} scene the scene to reintroduce to the engine\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.addScene = function addScene (scene) {\r\n    var selector = scene._selector;\r\n\r\n    var current = this._scenes[selector];\r\n    if (current && current !== scene) current.dismount();\r\n    if (!scene.isMounted()) scene.mount(scene.getSelector());\r\n    this._scenes[selector] = scene;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Remove a scene.\r\n *\r\n * @method\r\n *\r\n * @param {Scene} scene the scene to remove from the engine\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.removeScene = function removeScene (scene) {\r\n    var selector = scene._selector;\r\n\r\n    var current = this._scenes[selector];\r\n    if (current && current === scene) {\r\n        if (scene.isMounted()) scene.dismount();\r\n        delete this._scenes[selector];\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Starts the engine running in the Main-Thread.\r\n * This effects **every** updateable managed by the Engine.\r\n *\r\n * @method\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.startRenderLoop = function startRenderLoop() {\r\n    this._channel.sendMessage(ENGINE_START);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Stops the engine running in the Main-Thread.\r\n * This effects **every** updateable managed by the Engine.\r\n *\r\n * @method\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.stopRenderLoop = function stopRenderLoop() {\r\n    this._channel.sendMessage(ENGINE_STOP);\r\n    return this;\r\n};\r\n\r\n/**\r\n * @method\r\n * @deprecated Use {@link FamousEngine#startRenderLoop} instead!\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.startEngine = function startEngine() {\r\n    console.warn(\r\n        'FamousEngine.startEngine is deprecated! Use ' +\r\n        'FamousEngine.startRenderLoop instead!'\r\n    );\r\n    return this.startRenderLoop();\r\n};\r\n\r\n/**\r\n * @method\r\n * @deprecated Use {@link FamousEngine#stopRenderLoop} instead!\r\n *\r\n * @return {FamousEngine} this\r\n */\r\nFamousEngine.prototype.stopEngine = function stopEngine() {\r\n    console.warn(\r\n        'FamousEngine.stopEngine is deprecated! Use ' +\r\n        'FamousEngine.stopRenderLoop instead!'\r\n    );\r\n    return this.stopRenderLoop();\r\n};\r\n\r\nmodule.exports = new FamousEngine();\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n/*jshint -W079 */\r\n\r\n'use strict';\r\n\r\nvar SizeSystem = require('./SizeSystem');\r\nvar Dispatch = require('./Dispatch');\r\nvar TransformSystem = require('./TransformSystem');\r\nvar Size = require('./Size');\r\nvar Transform = require('./Transform');\r\n\r\n/**\r\n * Nodes define hierarchy and geometrical transformations. They can be moved\r\n * (translated), scaled and rotated.\r\n *\r\n * A Node is either mounted or unmounted. Unmounted nodes are detached from the\r\n * scene graph. Unmounted nodes have no parent node, while each mounted node has\r\n * exactly one parent. Nodes have an arbitrary number of children, which can be\r\n * dynamically added using {@link Node#addChild}.\r\n *\r\n * Each Node has an arbitrary number of `components`. Those components can\r\n * send `draw` commands to the renderer or mutate the node itself, in which case\r\n * they define behavior in the most explicit way. Components that send `draw`\r\n * commands are considered `renderables`. From the node's perspective, there is\r\n * no distinction between nodes that send draw commands and nodes that define\r\n * behavior.\r\n *\r\n * Because of the fact that Nodes themself are very unopinioted (they don't\r\n * \"render\" to anything), they are often being subclassed in order to add e.g.\r\n * components at initialization to them. Because of this flexibility, they might\r\n * as well have been called `Entities`.\r\n *\r\n * @example\r\n * // create three detached (unmounted) nodes\r\n * var parent = new Node();\r\n * var child1 = new Node();\r\n * var child2 = new Node();\r\n *\r\n * // build an unmounted subtree (parent is still detached)\r\n * parent.addChild(child1);\r\n * parent.addChild(child2);\r\n *\r\n * // mount parent by adding it to the context\r\n * var context = Famous.createContext(\"body\");\r\n * context.addChild(parent);\r\n *\r\n * @class Node\r\n * @constructor\r\n */\r\nfunction Node () {\r\n    this._requestingUpdate = false;\r\n    this._inUpdate = false;\r\n    this._mounted = false;\r\n    this._shown = true;\r\n    this._showInEngine = true;\r\n    this._updater = null;\r\n    this._opacity = 1;\r\n    this._UIEvents = [];\r\n\r\n    this._updateQueue = [];\r\n    this._nextUpdateQueue = [];\r\n\r\n    this._freedComponentIndicies = [];\r\n    this._components = [];\r\n\r\n    this._freedChildIndicies = [];\r\n    this._children = [];\r\n\r\n    this._fullChildren = [];\r\n\r\n    this._parent = null;\r\n\r\n    this._id = null;\r\n\r\n    this._transformID = null;\r\n    this._sizeID = null;\r\n\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS) this._init();\r\n}\r\n\r\nNode.RELATIVE_SIZE = 0;\r\nNode.ABSOLUTE_SIZE = 1;\r\nNode.RENDER_SIZE = 2;\r\nNode.DEFAULT_SIZE = 0;\r\nNode.NO_DEFAULT_COMPONENTS = false;\r\n\r\n/**\r\n * Protected method. Initializes a node with a default Transform and Size component\r\n *\r\n * @method\r\n * @protected\r\n *\r\n * @return {undefined} undefined\r\n */\r\nNode.prototype._init = function _init () {\r\n    this._transformID = this.addComponent(new Transform());\r\n    this._sizeID = this.addComponent(new Size());\r\n};\r\n\r\n/**\r\n * Protected method. Sets the parent of this node such that it can be looked up.\r\n *\r\n * @method\r\n *\r\n * @param {Node} parent The node to set as the parent of this\r\n *\r\n * @return {undefined} undefined;\r\n */\r\nNode.prototype._setParent = function _setParent (parent) {\r\n    if (this._parent && this._parent.getChildren().indexOf(this) !== -1) {\r\n        this._parent.removeChild(this);\r\n    }\r\n    this._parent = parent;\r\n};\r\n\r\n/**\r\n * Protected method. Sets the mount state of the node. Should only be called\r\n * by the dispatch\r\n *\r\n * @method\r\n *\r\n * @param {Boolean} mounted whether or not the Node is mounted.\r\n * @param {String} path The path that the node will be mounted to\r\n *\r\n * @return {undefined} undefined\r\n */\r\nNode.prototype._setMounted = function _setMounted (mounted, path) {\r\n    this._mounted = mounted;\r\n    this._id = path ? path : null;\r\n};\r\n\r\n/**\r\n * Protected method, sets whether or not the Node is shown. Should only\r\n * be called by the dispatch\r\n *\r\n * @method\r\n *\r\n * @param {Boolean} shown whether or not the node is shown\r\n *\r\n * @return {undefined} undefined\r\n */\r\nNode.prototype._setShown = function _setShown (shown) {\r\n    this._shown = shown;\r\n};\r\n\r\n/**\r\n * Protected method. Sets the updater of the node.\r\n *\r\n * @method\r\n *\r\n * @param {FamousEngine} updater the Updater of the node.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nNode.prototype._setUpdater = function _setUpdater (updater) {\r\n    this._updater = updater;\r\n    if (this._requestingUpdate) this._updater.requestUpdate(this);\r\n};\r\n\r\n/**\r\n * Determine the node's location in the scene graph hierarchy.\r\n * A location of `body/0/1` can be interpreted as the following scene graph\r\n * hierarchy (ignoring siblings of ancestors and additional child nodes):\r\n *\r\n * `Context:body` -> `Node:0` -> `Node:1`, where `Node:1` is the node the\r\n * `getLocation` method has been invoked on.\r\n *\r\n * @method getLocation\r\n *\r\n * @return {String} location (path), e.g. `body/0/1`\r\n */\r\nNode.prototype.getLocation = function getLocation () {\r\n    return this._id;\r\n};\r\n\r\n/**\r\n * @alias getId\r\n *\r\n * @return {String} the path of the Node\r\n */\r\nNode.prototype.getId = Node.prototype.getLocation;\r\n\r\n/**\r\n * Dispatches the event using the Dispatch. All descendent nodes will\r\n * receive the dispatched event.\r\n *\r\n * @method emit\r\n *\r\n * @param  {String} event   Event type.\r\n * @param  {Object} payload Event object to be dispatched.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.emit = function emit (event, payload) {\r\n    Dispatch.dispatch(this.getLocation(), event, payload);\r\n    return this;\r\n};\r\n\r\n// THIS WILL BE DEPRECATED\r\nNode.prototype.sendDrawCommand = function sendDrawCommand (message) {\r\n    this._updater.message(message);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Recursively serializes the Node, including all previously added components.\r\n *\r\n * @method getValue\r\n *\r\n * @return {Object}     Serialized representation of the node, including\r\n *                      components.\r\n */\r\nNode.prototype.getValue = function getValue () {\r\n    var numberOfChildren = this._children.length;\r\n    var numberOfComponents = this._components.length;\r\n    var i = 0;\r\n\r\n    var value = {\r\n        location: this.getId(),\r\n        spec: {\r\n            location: this.getId(),\r\n            showState: {\r\n                mounted: this.isMounted(),\r\n                shown: this.isShown(),\r\n                opacity: this.getOpacity() || null\r\n            },\r\n            offsets: {\r\n                mountPoint: [0, 0, 0],\r\n                align: [0, 0, 0],\r\n                origin: [0, 0, 0]\r\n            },\r\n            vectors: {\r\n                position: [0, 0, 0],\r\n                rotation: [0, 0, 0, 1],\r\n                scale: [1, 1, 1]\r\n            },\r\n            size: {\r\n                sizeMode: [0, 0, 0],\r\n                proportional: [1, 1, 1],\r\n                differential: [0, 0, 0],\r\n                absolute: [0, 0, 0],\r\n                render: [0, 0, 0]\r\n            }\r\n        },\r\n        UIEvents: this._UIEvents,\r\n        components: [],\r\n        children: []\r\n    };\r\n\r\n    if (value.location) {\r\n        var transform = TransformSystem.get(this.getId());\r\n        var size = SizeSystem.get(this.getId());\r\n\r\n        for (i = 0 ; i < 3 ; i++) {\r\n            value.spec.offsets.mountPoint[i] = transform.offsets.mountPoint[i];\r\n            value.spec.offsets.align[i] = transform.offsets.align[i];\r\n            value.spec.offsets.origin[i] = transform.offsets.origin[i];\r\n            value.spec.vectors.position[i] = transform.vectors.position[i];\r\n            value.spec.vectors.rotation[i] = transform.vectors.rotation[i];\r\n            value.spec.vectors.scale[i] = transform.vectors.scale[i];\r\n            value.spec.size.sizeMode[i] = size.sizeMode[i];\r\n            value.spec.size.proportional[i] = size.proportionalSize[i];\r\n            value.spec.size.differential[i] = size.differentialSize[i];\r\n            value.spec.size.absolute[i] = size.absoluteSize[i];\r\n            value.spec.size.render[i] = size.renderSize[i];\r\n        }\r\n\r\n        value.spec.vectors.rotation[3] = transform.vectors.rotation[3];\r\n    }\r\n\r\n    for (i = 0; i < numberOfChildren ; i++)\r\n        if (this._children[i] && this._children[i].getValue)\r\n            value.children.push(this._children[i].getValue());\r\n\r\n    for (i = 0 ; i < numberOfComponents ; i++)\r\n        if (this._components[i] && this._components[i].getValue)\r\n            value.components.push(this._components[i].getValue());\r\n\r\n    return value;\r\n};\r\n\r\n/**\r\n * Similar to {@link Node#getValue}, but returns the actual \"computed\" value. E.g.\r\n * a proportional size of 0.5 might resolve into a \"computed\" size of 200px\r\n * (assuming the parent has a width of 400px).\r\n *\r\n * @method getComputedValue\r\n *\r\n * @return {Object}     Serialized representation of the node, including\r\n *                      children, excluding components.\r\n */\r\nNode.prototype.getComputedValue = function getComputedValue () {\r\n    console.warn('Node.getComputedValue is depricated. Use Node.getValue instead');\r\n    var numberOfChildren = this._children.length;\r\n\r\n    var value = {\r\n        location: this.getId(),\r\n        computedValues: {\r\n            transform: this.isMounted() ? TransformSystem.get(this.getLocation()).getLocalTransform() : null,\r\n            size: this.isMounted() ? SizeSystem.get(this.getLocation()).get() : null\r\n        },\r\n        children: []\r\n    };\r\n\r\n    for (var i = 0 ; i < numberOfChildren ; i++)\r\n        if (this._children[i] && this._children[i].getComputedValue)\r\n            value.children.push(this._children[i].getComputedValue());\r\n\r\n    return value;\r\n};\r\n\r\n/**\r\n * Retrieves all children of the current node.\r\n *\r\n * @method getChildren\r\n *\r\n * @return {Array.<Node>}   An array of children.\r\n */\r\nNode.prototype.getChildren = function getChildren () {\r\n    return this._fullChildren;\r\n};\r\n\r\n/**\r\n * Method used internally to retrieve the children of a node. Each index in the\r\n * returned array represents a path fragment.\r\n *\r\n * @method getRawChildren\r\n * @private\r\n *\r\n * @return {Array}  An array of children. Might contain `null` elements.\r\n */\r\nNode.prototype.getRawChildren = function getRawChildren() {\r\n    return this._children;\r\n};\r\n\r\n/**\r\n * Retrieves the parent of the current node. Unmounted nodes do not have a\r\n * parent node.\r\n *\r\n * @method getParent\r\n *\r\n * @return {Node}       Parent node.\r\n */\r\nNode.prototype.getParent = function getParent () {\r\n    return this._parent;\r\n};\r\n\r\n/**\r\n * Schedules the {@link Node#update} function of the node to be invoked on the\r\n * next frame (if no update during this frame has been scheduled already).\r\n * If the node is currently being updated (which means one of the requesters\r\n * invoked requestsUpdate while being updated itself), an update will be\r\n * scheduled on the next frame.\r\n *\r\n * @method requestUpdate\r\n *\r\n * @param  {Object} requester   If the requester has an `onUpdate` method, it\r\n *                              will be invoked during the next update phase of\r\n *                              the node.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.requestUpdate = function requestUpdate (requester) {\r\n    if (this._inUpdate || !this.isMounted())\r\n        return this.requestUpdateOnNextTick(requester);\r\n    if (this._updateQueue.indexOf(requester) === -1) {\r\n        this._updateQueue.push(requester);\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Schedules an update on the next tick. Similarily to\r\n * {@link Node#requestUpdate}, `requestUpdateOnNextTick` schedules the node's\r\n * `onUpdate` function to be invoked on the frame after the next invocation on\r\n * the node's onUpdate function.\r\n *\r\n * @method requestUpdateOnNextTick\r\n *\r\n * @param  {Object} requester   If the requester has an `onUpdate` method, it\r\n *                              will be invoked during the next update phase of\r\n *                              the node.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.requestUpdateOnNextTick = function requestUpdateOnNextTick (requester) {\r\n    if (this._nextUpdateQueue.indexOf(requester) === -1)\r\n        this._nextUpdateQueue.push(requester);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Checks if the node is mounted. Unmounted nodes are detached from the scene\r\n * graph.\r\n *\r\n * @method isMounted\r\n *\r\n * @return {Boolean}    Boolean indicating whether the node is mounted or not.\r\n */\r\nNode.prototype.isMounted = function isMounted () {\r\n    return this._mounted;\r\n};\r\n\r\n/**\r\n * Checks if the node is being rendered. A node is being rendererd when it is\r\n * mounted to a parent node **and** shown.\r\n *\r\n * @method isRendered\r\n *\r\n * @return {Boolean}    Boolean indicating whether the node is rendered or not.\r\n */\r\nNode.prototype.isRendered = function isRendered () {\r\n    return this._mounted && this._shown;\r\n};\r\n\r\n/**\r\n * Checks if the node is visible (\"shown\").\r\n *\r\n * @method isShown\r\n *\r\n * @return {Boolean}    Boolean indicating whether the node is visible\r\n *                      (\"shown\") or not.\r\n */\r\nNode.prototype.isShown = function isShown () {\r\n    return this._shown;\r\n};\r\n\r\n/**\r\n * Determines the node's relative opacity.\r\n * The opacity needs to be within [0, 1], where 0 indicates a completely\r\n * transparent, therefore invisible node, whereas an opacity of 1 means the\r\n * node is completely solid.\r\n *\r\n * @method getOpacity\r\n *\r\n * @return {Number}         Relative opacity of the node.\r\n */\r\nNode.prototype.getOpacity = function getOpacity () {\r\n    return this._opacity;\r\n};\r\n\r\n/**\r\n * Determines the node's previously set mount point.\r\n *\r\n * @method getMountPoint\r\n *\r\n * @return {Float32Array}   An array representing the mount point.\r\n */\r\nNode.prototype.getMountPoint = function getMountPoint () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._transformID).getMountPoint();\r\n    else if (this.isMounted())\r\n        return TransformSystem.get(this.getLocation()).getMountPoint();\r\n    else throw new Error('This node does not have access to a transform component');\r\n};\r\n\r\n/**\r\n * Determines the node's previously set align.\r\n *\r\n * @method getAlign\r\n *\r\n * @return {Float32Array}   An array representing the align.\r\n */\r\nNode.prototype.getAlign = function getAlign () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._transformID).getAlign();\r\n    else if (this.isMounted())\r\n        return TransformSystem.get(this.getLocation()).getAlign();\r\n    else throw new Error('This node does not have access to a transform component');\r\n};\r\n\r\n/**\r\n * Determines the node's previously set origin.\r\n *\r\n * @method getOrigin\r\n *\r\n * @return {Float32Array}   An array representing the origin.\r\n */\r\nNode.prototype.getOrigin = function getOrigin () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._transformID).getOrigin();\r\n    else if (this.isMounted())\r\n        return TransformSystem.get(this.getLocation()).getOrigin();\r\n    else throw new Error('This node does not have access to a transform component');\r\n};\r\n\r\n/**\r\n * Determines the node's previously set position.\r\n *\r\n * @method getPosition\r\n *\r\n * @return {Float32Array}   An array representing the position.\r\n */\r\nNode.prototype.getPosition = function getPosition () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._transformID).getPosition();\r\n    else if (this.isMounted())\r\n        return TransformSystem.get(this.getLocation()).getPosition();\r\n    else throw new Error('This node does not have access to a transform component');\r\n};\r\n\r\n/**\r\n * Returns the node's current rotation\r\n *\r\n * @method getRotation\r\n *\r\n * @return {Float32Array} an array of four values, showing the rotation as a quaternion\r\n */\r\nNode.prototype.getRotation = function getRotation () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._transformID).getRotation();\r\n    else if (this.isMounted())\r\n        return TransformSystem.get(this.getLocation()).getRotation();\r\n    else throw new Error('This node does not have access to a transform component');\r\n};\r\n\r\n/**\r\n * Returns the scale of the node\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} an array showing the current scale vector\r\n */\r\nNode.prototype.getScale = function getScale () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._transformID).getScale();\r\n    else if (this.isMounted())\r\n        return TransformSystem.get(this.getLocation()).getScale();\r\n    else throw new Error('This node does not have access to a transform component');\r\n};\r\n\r\n/**\r\n * Returns the current size mode of the node\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} an array of numbers showing the current size mode\r\n */\r\nNode.prototype.getSizeMode = function getSizeMode () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._sizeID).getSizeMode();\r\n    else if (this.isMounted())\r\n        return SizeSystem.get(this.getLocation()).getSizeMode();\r\n    else throw new Error('This node does not have access to a size component');\r\n};\r\n\r\n/**\r\n * Returns the current proportional size\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} a vector 3 showing the current proportional size\r\n */\r\nNode.prototype.getProportionalSize = function getProportionalSize () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._sizeID).getProportional();\r\n    else if (this.isMounted())\r\n        return SizeSystem.get(this.getLocation()).getProportional();\r\n    else throw new Error('This node does not have access to a size component');\r\n};\r\n\r\n/**\r\n * Returns the differential size of the node\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} a vector 3 showing the current differential size\r\n */\r\nNode.prototype.getDifferentialSize = function getDifferentialSize () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._sizeID).getDifferential();\r\n    else if (this.isMounted())\r\n        return SizeSystem.get(this.getLocation()).getDifferential();\r\n    else throw new Error('This node does not have access to a size component');\r\n};\r\n\r\n/**\r\n * Returns the absolute size of the node\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} a vector 3 showing the current absolute size of the node\r\n */\r\nNode.prototype.getAbsoluteSize = function getAbsoluteSize () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._sizeID).getAbsolute();\r\n    else if (this.isMounted())\r\n        return SizeSystem.get(this.getLocation()).getAbsolute();\r\n    else throw new Error('This node does not have access to a size component');\r\n};\r\n\r\n/**\r\n * Returns the current Render Size of the node. Note that the render size\r\n * is asynchronous (will always be one frame behind) and needs to be explicitely\r\n * calculated by setting the proper size mode.\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} a vector 3 showing the current render size\r\n */\r\nNode.prototype.getRenderSize = function getRenderSize () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._sizeID).getRender();\r\n    else if (this.isMounted())\r\n        return SizeSystem.get(this.getLocation()).getRender();\r\n    else throw new Error('This node does not have access to a size component');\r\n};\r\n\r\n/**\r\n * Returns the external size of the node\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} a vector 3 of the final calculated side of the node\r\n */\r\nNode.prototype.getSize = function getSize () {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        return this.getComponent(this._sizeID).get();\r\n    else if (this.isMounted())\r\n        return SizeSystem.get(this.getLocation()).get();\r\n    else throw new Error('This node does not have access to a size component');\r\n};\r\n\r\n/**\r\n * Returns the current world transform of the node\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} a 16 value transform\r\n */\r\nNode.prototype.getTransform = function getTransform () {\r\n    return TransformSystem.get(this.getLocation());\r\n};\r\n\r\n/**\r\n * Get the list of the UI Events that are currently associated with this node\r\n *\r\n * @method\r\n *\r\n * @return {Array} an array of strings representing the current subscribed UI event of this node\r\n */\r\nNode.prototype.getUIEvents = function getUIEvents () {\r\n    return this._UIEvents;\r\n};\r\n\r\n/**\r\n * Adds a new child to this node. If this method is called with no argument it will\r\n * create a new node, however it can also be called with an existing node which it will\r\n * append to the node that this method is being called on. Returns the new or passed in node.\r\n *\r\n * @method\r\n *\r\n * @param {Node | void} child the node to appended or no node to create a new node.\r\n *\r\n * @return {Node} the appended node.\r\n */\r\nNode.prototype.addChild = function addChild (child) {\r\n    var index = child ? this._children.indexOf(child) : -1;\r\n    child = child ? child : new Node();\r\n\r\n    if (index === -1) {\r\n        index = this._freedChildIndicies.length ?\r\n                this._freedChildIndicies.pop() : this._children.length;\r\n\r\n        this._children[index] = child;\r\n        this._fullChildren.push(child);\r\n    }\r\n\r\n    if (this.isMounted())\r\n        child.mount(this.getLocation() + '/' + index);\r\n\r\n    return child;\r\n};\r\n\r\n/**\r\n * Removes a child node from another node. The passed in node must be\r\n * a child of the node that this method is called upon.\r\n *\r\n * @method\r\n *\r\n * @param {Node} child node to be removed\r\n *\r\n * @return {Boolean} whether or not the node was successfully removed\r\n */\r\nNode.prototype.removeChild = function removeChild (child) {\r\n    var index = this._children.indexOf(child);\r\n\r\n    if (index > - 1) {\r\n        this._freedChildIndicies.push(index);\r\n\r\n        this._children[index] = null;\r\n\r\n        if (child.isMounted()) child.dismount();\r\n\r\n        var fullChildrenIndex = this._fullChildren.indexOf(child);\r\n        var len = this._fullChildren.length;\r\n        var i = 0;\r\n\r\n        for (i = fullChildrenIndex; i < len-1; i++)\r\n            this._fullChildren[i] = this._fullChildren[i + 1];\r\n\r\n        this._fullChildren.pop();\r\n\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n};\r\n\r\n/**\r\n * Each component can only be added once per node.\r\n *\r\n * @method addComponent\r\n *\r\n * @param {Object} component    A component to be added.\r\n * @return {Number} index       The index at which the component has been\r\n *                              registered. Indices aren't necessarily\r\n *                              consecutive.\r\n */\r\nNode.prototype.addComponent = function addComponent (component) {\r\n    var index = this._components.indexOf(component);\r\n    if (index === -1) {\r\n        index = this._freedComponentIndicies.length ? this._freedComponentIndicies.pop() : this._components.length;\r\n        this._components[index] = component;\r\n\r\n        if (this.isMounted() && component.onMount)\r\n            component.onMount(this, index);\r\n\r\n        if (this.isShown() && component.onShow)\r\n            component.onShow();\r\n    }\r\n\r\n    return index;\r\n};\r\n\r\n/**\r\n * @method  getComponent\r\n *\r\n * @param  {Number} index   Index at which the component has been registered\r\n *                          (using `Node#addComponent`).\r\n * @return {*}              The component registered at the passed in index (if\r\n *                          any).\r\n */\r\nNode.prototype.getComponent = function getComponent (index) {\r\n    return this._components[index];\r\n};\r\n\r\n/**\r\n * Removes a previously via {@link Node#addComponent} added component.\r\n *\r\n * @method removeComponent\r\n *\r\n * @param  {Object} component   An component that has previously been added\r\n *                              using {@link Node#addComponent}.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.removeComponent = function removeComponent (component) {\r\n    var index = this._components.indexOf(component);\r\n    if (index !== -1) {\r\n        this._freedComponentIndicies.push(index);\r\n        if (this.isShown() && component.onHide)\r\n            component.onHide();\r\n\r\n        if (this.isMounted() && component.onDismount)\r\n            component.onDismount();\r\n\r\n        this._components[index] = null;\r\n    }\r\n    return component;\r\n};\r\n\r\n/**\r\n * Removes a node's subscription to a particular UIEvent. All components\r\n * on the node will have the opportunity to remove all listeners depending\r\n * on this event.\r\n *\r\n * @method\r\n *\r\n * @param {String} eventName the name of the event\r\n *\r\n * @return {undefined} undefined\r\n */\r\nNode.prototype.removeUIEvent = function removeUIEvent (eventName) {\r\n    var UIEvents = this.getUIEvents();\r\n    var components = this._components;\r\n    var component;\r\n\r\n    var index = UIEvents.indexOf(eventName);\r\n    if (index !== -1) {\r\n        UIEvents.splice(index, 1);\r\n        for (var i = 0, len = components.length ; i < len ; i++) {\r\n            component = components[i];\r\n            if (component && component.onRemoveUIEvent) component.onRemoveUIEvent(eventName);\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Subscribes a node to a UI Event. All components on the node\r\n * will have the opportunity to begin listening to that event\r\n * and alerting the scene graph.\r\n *\r\n * @method\r\n *\r\n * @param {String} eventName the name of the event\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.addUIEvent = function addUIEvent (eventName) {\r\n    var UIEvents = this.getUIEvents();\r\n    var components = this._components;\r\n    var component;\r\n\r\n    var added = UIEvents.indexOf(eventName) !== -1;\r\n    if (!added) {\r\n        UIEvents.push(eventName);\r\n        for (var i = 0, len = components.length ; i < len ; i++) {\r\n            component = components[i];\r\n            if (component && component.onAddUIEvent) component.onAddUIEvent(eventName);\r\n        }\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Private method for the Node to request an update for itself.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Boolean} force whether or not to force the update\r\n *\r\n * @return {undefined} undefined\r\n */\r\nNode.prototype._requestUpdate = function _requestUpdate (force) {\r\n    if (force || !this._requestingUpdate) {\r\n        if (this._updater)\r\n            this._updater.requestUpdate(this);\r\n        this._requestingUpdate = true;\r\n    }\r\n};\r\n\r\n/**\r\n * Private method to set an optional value in an array, and\r\n * request an update if this changes the value of the array.\r\n *\r\n * @method\r\n *\r\n * @param {Array} vec the array to insert the value into\r\n * @param {Number} index the index at which to insert the value\r\n * @param {Any} val the value to potentially insert (if not null or undefined)\r\n *\r\n * @return {Boolean} whether or not a new value was inserted.\r\n */\r\nNode.prototype._vecOptionalSet = function _vecOptionalSet (vec, index, val) {\r\n    if (val != null && vec[index] !== val) {\r\n        vec[index] = val;\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * Shows the node, which is to say, calls onShow on all of the\r\n * node's components. Renderable components can then issue the\r\n * draw commands necessary to be shown.\r\n *\r\n * @method\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.show = function show () {\r\n    Dispatch.show(this.getLocation());\r\n    this._shown = true;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Hides the node, which is to say, calls onHide on all of the\r\n * node's components. Renderable components can then issue\r\n * the draw commands necessary to be hidden\r\n *\r\n * @method\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.hide = function hide () {\r\n    Dispatch.hide(this.getLocation());\r\n    this._shown = false;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the showInEngine value of the node. \r\n *\r\n * @method\r\n *\r\n * @param {Boolean} Bool showInEngine value.\r\n *\r\n * @return {Node} this\r\n * @return {Boolean} this.showInEngine\r\n */\r\nNode.prototype.showInEngine = function(Bool){\r\n    if(typeof Bool != \"boolean\") return this._showInEngine;\r\n    this._showInEngine = Bool;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the align value of the node. Will call onAlignChange\r\n * on all of the Node's components.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x Align value in the x dimension.\r\n * @param {Number} y Align value in the y dimension.\r\n * @param {Number} z Align value in the z dimension.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setAlign = function setAlign (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._transformID).setAlign(x, y, z);\r\n    else if (this.isMounted())\r\n        TransformSystem.get(this.getLocation()).setAlign(x, y, z);\r\n    else throw new Error('This node does not have access to a transform component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the mount point value of the node. Will call onMountPointChange\r\n * on all of the node's components.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x MountPoint value in x dimension\r\n * @param {Number} y MountPoint value in y dimension\r\n * @param {Number} z MountPoint value in z dimension\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setMountPoint = function setMountPoint (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._transformID).setMountPoint(x, y, z);\r\n    else if (this.isMounted())\r\n        TransformSystem.get(this.getLocation()).setMountPoint(x, y, z);\r\n    else throw new Error('This node does not have access to a transform component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the origin value of the node. Will call onOriginChange\r\n * on all of the node's components.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x Origin value in x dimension\r\n * @param {Number} y Origin value in y dimension\r\n * @param {Number} z Origin value in z dimension\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setOrigin = function setOrigin (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._transformID).setOrigin(x, y, z);\r\n    else if (this.isMounted())\r\n        TransformSystem.get(this.getLocation()).setOrigin(x, y, z);\r\n    else throw new Error('This node does not have access to a transform component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the position of the node. Will call onPositionChange\r\n * on all of the node's components.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x Position in x\r\n * @param {Number} y Position in y\r\n * @param {Number} z Position in z\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setPosition = function setPosition (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._transformID).setPosition(x, y, z);\r\n    else if (this.isMounted())\r\n        TransformSystem.get(this.getLocation()).setPosition(x, y, z);\r\n    else throw new Error('This node does not have access to a transform component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the rotation of the node. Will call onRotationChange\r\n * on all of the node's components. This method takes either\r\n * Euler angles or a quaternion. If the fourth argument is undefined\r\n * Euler angles are assumed.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x Either the rotation around the x axis or the magnitude in x of the axis of rotation.\r\n * @param {Number} y Either the rotation around the y axis or the magnitude in y of the axis of rotation.\r\n * @param {Number} z Either the rotation around the z axis or the magnitude in z of the axis of rotation.\r\n * @param {Number|undefined} w the amount of rotation around the axis of rotation, if a quaternion is specified.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setRotation = function setRotation (x, y, z, w) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._transformID).setRotation(x, y, z, w);\r\n    else if (this.isMounted())\r\n        TransformSystem.get(this.getLocation()).setRotation(x, y, z, w);\r\n    else throw new Error('This node does not have access to a transform component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the scale of the node. The default value is 1 in all dimensions.\r\n * The node's components will have onScaleChanged called on them.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x Scale value in x\r\n * @param {Number} y Scale value in y\r\n * @param {Number} z Scale value in z\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setScale = function setScale (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._transformID).setScale(x, y, z);\r\n    else if (this.isMounted())\r\n        TransformSystem.get(this.getLocation()).setScale(x, y, z);\r\n    else throw new Error('This node does not have access to a transform component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the value of the opacity of this node. All of the node's\r\n * components will have onOpacityChange called on them/\r\n *\r\n * @method\r\n *\r\n * @param {Number} val Value of the opacity. 1 is the default.\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setOpacity = function setOpacity (val) {\r\n    if (val !== this._opacity) {\r\n        this._opacity = val;\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n\r\n        var i = 0;\r\n        var list = this._components;\r\n        var len = list.length;\r\n        var item;\r\n        for (; i < len ; i++) {\r\n            item = list[i];\r\n            if (item && item.onOpacityChange) item.onOpacityChange(val);\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the size mode being used for determining the node's final width, height\r\n * and depth.\r\n * Size modes are a way to define the way the node's size is being calculated.\r\n * Size modes are enums set on the {@link Size} constructor (and aliased on\r\n * the Node).\r\n *\r\n * @example\r\n * node.setSizeMode(Node.RELATIVE_SIZE, Node.ABSOLUTE_SIZE, Node.ABSOLUTE_SIZE);\r\n * // Instead of null, any proportional height or depth can be passed in, since\r\n * // it would be ignored in any case.\r\n * node.setProportionalSize(0.5, null, null);\r\n * node.setAbsoluteSize(null, 100, 200);\r\n *\r\n * @method setSizeMode\r\n *\r\n * @param {SizeMode} x    The size mode being used for determining the size in\r\n *                        x direction (\"width\").\r\n * @param {SizeMode} y    The size mode being used for determining the size in\r\n *                        y direction (\"height\").\r\n * @param {SizeMode} z    The size mode being used for determining the size in\r\n *                        z direction (\"depth\").\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setSizeMode = function setSizeMode (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._sizeID).setSizeMode(x, y, z);\r\n    else if (this.isMounted())\r\n        SizeSystem.get(this.getLocation()).setSizeMode(x, y, z);\r\n    else throw new Error('This node does not have access to a size component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * A proportional size defines the node's dimensions relative to its parents\r\n * final size.\r\n * Proportional sizes need to be within the range of [0, 1].\r\n *\r\n * @method setProportionalSize\r\n *\r\n * @param {Number} x    x-Size in pixels (\"width\").\r\n * @param {Number} y    y-Size in pixels (\"height\").\r\n * @param {Number} z    z-Size in pixels (\"depth\").\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setProportionalSize = function setProportionalSize (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._sizeID).setProportional(x, y, z);\r\n    else if (this.isMounted())\r\n        SizeSystem.get(this.getLocation()).setProportional(x, y, z);\r\n    else throw new Error('This node does not have access to a size component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Differential sizing can be used to add or subtract an absolute size from an\r\n * otherwise proportionally sized node.\r\n * E.g. a differential width of `-10` and a proportional width of `0.5` is\r\n * being interpreted as setting the node's size to 50% of its parent's width\r\n * *minus* 10 pixels.\r\n *\r\n * @method setDifferentialSize\r\n *\r\n * @param {Number} x    x-Size to be added to the relatively sized node in\r\n *                      pixels (\"width\").\r\n * @param {Number} y    y-Size to be added to the relatively sized node in\r\n *                      pixels (\"height\").\r\n * @param {Number} z    z-Size to be added to the relatively sized node in\r\n *                      pixels (\"depth\").\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setDifferentialSize = function setDifferentialSize (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._sizeID).setDifferential(x, y, z);\r\n    else if (this.isMounted())\r\n        SizeSystem.get(this.getLocation()).setDifferential(x, y, z);\r\n    else throw new Error('This node does not have access to a size component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the node's size in pixels, independent of its parent.\r\n *\r\n * @method setAbsoluteSize\r\n *\r\n * @param {Number} x x-Size in pixels (\"width\").\r\n * @param {Number} y y-Size in pixels (\"height\").\r\n * @param {Number} z z-Size in pixels (\"depth\").\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.setAbsoluteSize = function setAbsoluteSize (x, y, z) {\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS)\r\n        this.getComponent(this._sizeID).setAbsolute(x, y, z);\r\n    else if (this.isMounted())\r\n        SizeSystem.get(this.getLocation()).setAbsolute(x, y, z);\r\n    else throw new Error('This node does not have access to a size component');\r\n    return this;\r\n};\r\n\r\n/**\r\n * Method for getting the current frame. Will be deprecated.\r\n *\r\n * @method\r\n *\r\n * @return {Number} current frame\r\n */\r\nNode.prototype.getFrame = function getFrame () {\r\n    return this._updater.getFrame();\r\n};\r\n\r\n/**\r\n * returns an array of the components currently attached to this\r\n * node.\r\n *\r\n * @method getComponents\r\n *\r\n * @return {Array} list of components.\r\n */\r\nNode.prototype.getComponents = function getComponents () {\r\n    return this._components;\r\n};\r\n\r\n/**\r\n * Enters the node's update phase while updating its own spec and updating its components.\r\n *\r\n * @method update\r\n *\r\n * @param  {Number} time    high-resolution timestamp, usually retrieved using\r\n *                          requestAnimationFrame\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.update = function update (time){\r\n    this._inUpdate = true;\r\n    var nextQueue = this._nextUpdateQueue;\r\n    var queue = this._updateQueue;\r\n    var item;\r\n\r\n    while (nextQueue.length) queue.unshift(nextQueue.pop());\r\n\r\n    while (queue.length) {\r\n        item = this._components[queue.shift()];\r\n        if (item && item.onUpdate) item.onUpdate(time);\r\n    }\r\n\r\n    this._inUpdate = false;\r\n    this._requestingUpdate = false;\r\n\r\n    if (!this.isMounted()) {\r\n        // last update\r\n        this._parent = null;\r\n        this._id = null;\r\n    }\r\n    else if (this._nextUpdateQueue.length) {\r\n        this._updater.requestUpdateOnNextTick(this);\r\n        this._requestingUpdate = true;\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Mounts the node and therefore its subtree by setting it as a child of the\r\n * passed in parent.\r\n *\r\n * @method mount\r\n *\r\n * @param  {String} path unique path of node (e.g. `body/0/1`)\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.mount = function mount (path) {\r\n    if (this.isMounted())\r\n        throw new Error('Node is already mounted at: ' + this.getLocation());\r\n\r\n    if (!this.constructor.NO_DEFAULT_COMPONENTS){\r\n        TransformSystem.registerTransformAtPath(path, this.getComponent(this._transformID));\r\n        SizeSystem.registerSizeAtPath(path, this.getComponent(this._sizeID));\r\n    }\r\n    else {\r\n        TransformSystem.registerTransformAtPath(path);\r\n        SizeSystem.registerSizeAtPath(path);\r\n    }\r\n    Dispatch.mount(path, this);\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n    return this;\r\n\r\n};\r\n\r\n/**\r\n * Dismounts (detaches) the node from the scene graph by removing it as a\r\n * child of its parent.\r\n *\r\n * @method\r\n *\r\n * @return {Node} this\r\n */\r\nNode.prototype.dismount = function dismount () {\r\n    if (!this.isMounted())\r\n        throw new Error('Node is not mounted');\r\n\r\n    var path = this.getLocation();\r\n\r\n    TransformSystem.deregisterTransformAtPath(path);\r\n    SizeSystem.deregisterSizeAtPath(path);\r\n    Dispatch.dismount(path);\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\nmodule.exports = Node;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * A collection of utilities for handling paths.\r\n *\r\n * @namespace\r\n */\r\nvar Path = {\r\n\r\n    /**\r\n     * determines if the passed in path has a trailing slash. Paths of the form\r\n     * 'body/0/1/' return true, while paths of the form 'body/0/1' return false.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} path the path\r\n     *\r\n     * @return {Boolean} whether or not the path has a trailing slash\r\n     */\r\n    hasTrailingSlash: function hasTrailingSlash (path) {\r\n        return path[path.length - 1] === '/';\r\n    },\r\n\r\n    /**\r\n     * Returns the depth in the tree this path represents. Essentially counts\r\n     * the slashes ignoring a trailing slash.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} path the path\r\n     *\r\n     * @return {Number} the depth in the tree that this path represents\r\n     */\r\n    depth: function depth (path) {\r\n        var count = 0;\r\n        var length = path.length;\r\n        var len = this.hasTrailingSlash(path) ? length - 1 : length;\r\n        var i = 0;\r\n        for (; i < len ; i++) count += path[i] === '/' ? 1 : 0;\r\n        return count;\r\n    },\r\n\r\n    /**\r\n     * Gets the position of this path in relation to its siblings.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} path the path\r\n     *\r\n     * @return {Number} the index of this path in relation to its siblings.\r\n     */\r\n    index: function index (path) {\r\n        var length = path.length;\r\n        var len = this.hasTrailingSlash(path) ? length - 1 : length;\r\n        while (len--) if (path[len] === '/') break;\r\n        var result = parseInt(path.substring(len + 1));\r\n        return isNaN(result) ? 0 : result;\r\n    },\r\n\r\n    /**\r\n     * Gets the position of the path at a particular breadth in relationship\r\n     * to its siblings\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} path the path\r\n     * @param {Number} depth the breadth at which to find the index\r\n     *\r\n     * @return {Number} index at the particular depth\r\n     */\r\n    indexAtDepth: function indexAtDepth (path, depth) {\r\n        var i = 0;\r\n        var len = path.length;\r\n        var index = 0;\r\n        for (; i < len ; i++) {\r\n            if (path[i] === '/') index++;\r\n            if (index === depth) {\r\n                path = path.substring(i ? i + 1 : i);\r\n                index = path.indexOf('/');\r\n                path = index === -1 ? path : path.substring(0, index);\r\n                index = parseInt(path);\r\n                return isNaN(index) ? path : index;\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * returns the path of the passed in path's parent.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} path the path\r\n     *\r\n     * @return {String} the path of the passed in path's parent\r\n     */\r\n    parent: function parent (path) {\r\n        return path.substring(0, path.lastIndexOf('/', path.length - 2));\r\n    },\r\n\r\n    /**\r\n     * Determines whether or not the first argument path is the direct child\r\n     * of the second argument path.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} child the path that may be a child\r\n     * @param {String} parent the path that may be a parent\r\n     *\r\n     * @return {Boolean} whether or not the first argument path is a child of the second argument path\r\n     */\r\n    isChildOf: function isChildOf (child, parent) {\r\n        return this.isDescendentOf(child, parent) && this.depth(child) === this.depth(parent) + 1;\r\n    },\r\n\r\n    /**\r\n     * Returns true if the first argument path is a descendent of the second argument path.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} child potential descendent path\r\n     * @param {String} parent potential ancestor path\r\n     *\r\n     * @return {Boolean} whether or not the path is a descendent\r\n     */\r\n    isDescendentOf: function isDescendentOf(child, parent) {\r\n        if (child === parent) return false;\r\n        child = this.hasTrailingSlash(child) ? child : child + '/';\r\n        parent = this.hasTrailingSlash(parent) ? parent : parent + '/';\r\n        return this.depth(parent) < this.depth(child) && child.indexOf(parent) === 0;\r\n    },\r\n\r\n    /**\r\n     * returns the selector portion of the path.\r\n     *\r\n     * @method\r\n     *\r\n     * @param {String} path the path\r\n     *\r\n     * @return {String} the selector portion of the path.\r\n     */\r\n    getSelector: function getSelector(path) {\r\n        var index = path.indexOf('/');\r\n        return index === -1 ? path : path.substring(0, index);\r\n    }\r\n\r\n};\r\n\r\nmodule.exports = Path;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n/*jshint -W079 */\r\n\r\n'use strict';\r\n\r\nvar PathUtils = require('./Path');\r\n\r\n/**\r\n * A class that can be used to associate any item with a path.\r\n * Items and paths are kept in flat arrays for easy iteration\r\n * and a memo is used to provide constant time lookup.\r\n *\r\n * @class\r\n *\r\n */\r\nfunction PathStore () {\r\n    this.items = [];\r\n    this.paths = [];\r\n    this.memo = {};\r\n}\r\n\r\n/**\r\n * Associates an item with the given path. Errors if an item\r\n * already exists at the given path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to insert the item\r\n * @param {Any} item The item to associate with the given path.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nPathStore.prototype.insert = function(path, item){\r\n    var parent = PathUtils.parent(path);\r\n    var paths = this.paths;\r\n    var index = paths.indexOf(path);\r\n    var i = paths.length;\r\n    if (index !== -1)\r\n        throw new Error('item already exists at path: ' + path);\r\n    if (i){\r\n        // The item will be inserted at a point in the array\r\n        // such that it is within its own breadth in the tree\r\n        // that the paths represent\r\n        while(!this.memo.hasOwnProperty(parent) ){\r\n            parent = PathUtils.parent(parent);\r\n        }\r\n\r\n        parent = paths.indexOf(parent);\r\n        index = 1+parent;\r\n        while( index <i && PathUtils.isDescendentOf(paths[index], paths[parent]) )\r\n            index++;\r\n        i = index;\r\n    }\r\n    // insert the items in the path\r\n    paths.splice(i, 0, path);\r\n    this.items.splice(i, 0, item);\r\n\r\n    // store the relationship between path and index in the memo\r\n    this.memo[path] = i;\r\n\r\n    // all items behind the inserted item are now no longer\r\n    // accurately stored in the memo. Thus the memo must be cleared for\r\n    // these items.\r\n    for (var len = this.paths.length ; i < len ; i++)\r\n        this.memo[this.paths[i]] = null;\r\n}\r\n\r\n/**\r\n * Removes the the item from the store at the given path.\r\n * Errors if no item exists at the given path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to remove the item.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nPathStore.prototype.remove = function remove (path) {\r\n    var paths = this.paths;\r\n    var index = this.memo[path] ? this.memo[path] : paths.indexOf(path);\r\n    if (index === -1)\r\n        throw new Error('Cannot remove. No item exists at path: ' + path);\r\n\r\n    paths.splice(index, 1);\r\n    this.items.splice(index, 1);\r\n\r\n    this.memo[path] = null;\r\n\r\n    for (var len = this.paths.length ; index < len ; index++)\r\n        this.memo[this.paths[index]] = null;\r\n};\r\n\r\n/**\r\n * Returns the item stored at the current path. Returns undefined\r\n * if no item is stored at that path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path to lookup the item for\r\n *\r\n * @return {Any | undefined} the item stored or undefined\r\n */\r\nPathStore.prototype.get = function get (path) {\r\n    if (this.memo[path]) return this.items[this.memo[path]];\r\n\r\n    var index = this.paths.indexOf(path);\r\n\r\n    if (index === -1) return void 0;\r\n\r\n    this.memo[path] = index;\r\n\r\n    return this.items[index];\r\n};\r\n\r\n/**\r\n * Returns an array of the items currently stored in this\r\n * PathStore.\r\n *\r\n * @method\r\n *\r\n * @return {Array} items currently stored\r\n */\r\nPathStore.prototype.getItems = function getItems () {\r\n    return this.items;\r\n};\r\n\r\n/**\r\n * Returns an array of the paths currently stored in this\r\n * PathStore.\r\n *\r\n * @method\r\n *\r\n * @return {Array} paths currently stored\r\n */\r\nPathStore.prototype.getPaths = function getPaths () {\r\n    return this.paths;\r\n};\r\n\r\nmodule.exports = PathStore;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n/*jshint -W079 */\r\n\r\n'use strict';\r\n\r\nvar Node = require('./Node');\r\nvar Dispatch = require('./Dispatch');\r\nvar Commands = require('./Commands');\r\nvar TransformSystem = require('./TransformSystem');\r\nvar SizeSystem = require('./SizeSystem');\r\n\r\n/**\r\n * Scene is the bottom of the scene graph. It is its own\r\n * parent and provides the global updater to the scene graph.\r\n *\r\n * @class Scene\r\n * @constructor\r\n * @extends Node\r\n *\r\n * @param {String} selector a string which is a dom selector\r\n *                 signifying which dom element the context\r\n *                 should be set upon\r\n * @param {Famous} updater a class which conforms to Famous' interface\r\n *                 it needs to be able to send methods to\r\n *                 the renderers and update nodes in the scene graph\r\n */\r\nfunction Scene (selector, updater) {\r\n    if (!selector) throw new Error('Scene needs to be created with a DOM selector');\r\n    if (!updater) throw new Error('Scene needs to be created with a class like Famous');\r\n\r\n    Node.call(this);         // Scene inherits from node\r\n\r\n    this._globalUpdater = updater; // The updater that will both\r\n                                   // send messages to the renderers\r\n                                   // and update dirty nodes\r\n\r\n    this._selector = selector; // reference to the DOM selector\r\n                               // that represents the element\r\n                               // in the dom that this context\r\n                               // inhabits\r\n\r\n    this.mount(selector); // Mount the context to itself\r\n                          // (it is its own parent)\r\n\r\n    this._globalUpdater                  // message a request for the dom\r\n        .message(Commands.NEED_SIZE_FOR)  // size of the context so that\r\n        .message(selector);               // the scene graph has a total size\r\n\r\n    this.show(); // the context begins shown (it's already present in the dom)\r\n}\r\n\r\n// Scene inherits from node\r\nScene.prototype = Object.create(Node.prototype);\r\nScene.prototype.constructor = Scene;\r\nScene.NO_DEFAULT_COMPONENTS = true;\r\n\r\n/**\r\n * Scene getUpdater function returns the passed in updater\r\n *\r\n * @return {Famous} the updater for this Scene\r\n */\r\nScene.prototype.getUpdater = function getUpdater () {\r\n    return this._updater;\r\n};\r\n\r\n/**\r\n * Returns the selector that the context was instantiated with\r\n *\r\n * @return {String} dom selector\r\n */\r\nScene.prototype.getSelector = function getSelector () {\r\n    return this._selector;\r\n};\r\n\r\n/**\r\n * Returns the dispatcher of the context. Used to send events\r\n * to the nodes in the scene graph.\r\n *\r\n * @return {Dispatch} the Scene's Dispatch\r\n * @deprecated\r\n */\r\nScene.prototype.getDispatch = function getDispatch () {\r\n    console.warn('Scene#getDispatch is deprecated, require the dispatch directly');\r\n    return Dispatch;\r\n};\r\n\r\n/**\r\n * Receives an event. If the event is 'CONTEXT_RESIZE' it sets the size of the scene\r\n * graph to the payload, which must be an array of numbers of at least\r\n * length three representing the pixel size in 3 dimensions.\r\n *\r\n * @param {String} event the name of the event being received\r\n * @param {*} payload the object being sent\r\n *\r\n * @return {undefined} undefined\r\n */\r\nScene.prototype.onReceive = function onReceive (event, payload) {\r\n    // TODO: In the future the dom element that the context is attached to\r\n    // should have a representation as a component. It would be render sized\r\n    // and the context would receive its size the same way that any render size\r\n    // component receives its size.\r\n    if (event === 'CONTEXT_RESIZE') {\r\n        if (payload.length < 2)\r\n            throw new Error(\r\n                    'CONTEXT_RESIZE\\'s payload needs to be at least a pair' +\r\n                    ' of pixel sizes'\r\n            );\r\n\r\n        this.setSizeMode('absolute', 'absolute', 'absolute');\r\n        this.setAbsoluteSize(payload[0],\r\n                             payload[1],\r\n                             payload[2] ? payload[2] : 0);\r\n\r\n        this._updater.message(Commands.WITH).message(this._selector).message(Commands.READY);\r\n    }\r\n};\r\n\r\n\r\nScene.prototype.mount = function mount (path) {\r\n    if (this.isMounted())\r\n        throw new Error('Scene is already mounted at: ' + this.getLocation());\r\n    Dispatch.mount(path, this);\r\n    this._id = path;\r\n    this._mounted = true;\r\n    this._parent = this;\r\n    TransformSystem.registerTransformAtPath(path);\r\n    SizeSystem.registerSizeAtPath(path);\r\n};\r\n\r\nmodule.exports = Scene;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar ONES = [1, 1, 1];\r\nvar ZEROS = [0, 0, 0];\r\n\r\n/**\r\n * The Size class is responsible for processing Size from a node\r\n * @constructor Size\r\n *\r\n * @param {Size} parent the parent size\r\n */\r\nfunction Size (parent) {\r\n\r\n    this.finalSize = new Float32Array(3);\r\n    this.sizeChanged = false;\r\n\r\n    this.sizeMode = new Uint8Array(3);\r\n    this.sizeModeChanged = false;\r\n\r\n    this.absoluteSize = new Float32Array(3);\r\n    this.absoluteSizeChanged = false;\r\n\r\n    this.proportionalSize = new Float32Array(ONES);\r\n    this.proportionalSizeChanged = false;\r\n\r\n    this.differentialSize = new Float32Array(3);\r\n    this.differentialSizeChanged = false;\r\n\r\n    this.renderSize = new Float32Array(3);\r\n    this.renderSizeChanged = false;\r\n\r\n    this.parent = parent != null ? parent : null;\r\n}\r\n\r\n// an enumeration of the different types of size modes\r\nSize.RELATIVE = 0;\r\nSize.ABSOLUTE = 1;\r\nSize.RENDER = 2;\r\nSize.DEFAULT = Size.RELATIVE;\r\n\r\n/**\r\n * Private method which sets a value within an array\r\n * and report if the value has changed.\r\n *\r\n * @method\r\n *\r\n * @param {Array} vec The array to set the value in\r\n * @param {Number} index The index at which to set the value\r\n * @param {Any} val If the val is undefined or null, or if the value\r\n *                  is the same as what is already there, then nothing\r\n *                  is set.\r\n *\r\n * @return {Boolean} returns true if anything changed\r\n */\r\nfunction _vecOptionalSet (vec, index, val) {\r\n    if (val != null && vec[index] !== val) {\r\n        vec[index] = val;\r\n        return true;\r\n    } else return false;\r\n}\r\n\r\n/**\r\n * Private method which sets three values within an array of three\r\n * using _vecOptionalSet. Returns whether anything has changed.\r\n *\r\n * @method\r\n *\r\n * @param {Array} vec The array to set the values of\r\n * @param {Any} x The first value to set within the array\r\n * @param {Any} y The second value to set within the array\r\n * @param {Any} z The third value to set within the array\r\n *\r\n * @return {Boolean} whether anything has changed\r\n */\r\nfunction setVec (vec, x, y, z) {\r\n    var propagate = false;\r\n\r\n    propagate = _vecOptionalSet(vec, 0, x) || propagate;\r\n    propagate = _vecOptionalSet(vec, 1, y) || propagate;\r\n    propagate = _vecOptionalSet(vec, 2, z) || propagate;\r\n\r\n    return propagate;\r\n}\r\n\r\n/**\r\n * Private method to allow for polymorphism in the size mode such that strings\r\n * or the numbers from the enumeration can be used.\r\n *\r\n * @method\r\n *\r\n * @param {String|Number} val The Size mode to resolve.\r\n *\r\n * @return {Number} the resolved size mode from the enumeration.\r\n */\r\nfunction resolveSizeMode (val) {\r\n    if (val.constructor === String) {\r\n        switch (val.toLowerCase()) {\r\n            case 'relative':\r\n            case 'default': return Size.RELATIVE;\r\n            case 'absolute': return Size.ABSOLUTE;\r\n            case 'render': return Size.RENDER;\r\n            default: throw new Error('unknown size mode: ' + val);\r\n        }\r\n    }\r\n    else if (val < 0 || val > Size.RENDER) throw new Error('unknown size mode: ' + val);\r\n    return val;\r\n}\r\n\r\n/**\r\n * Sets the parent of this size.\r\n *\r\n * @method\r\n *\r\n * @param {Size} parent The parent size component\r\n *\r\n * @return {Size} this\r\n */\r\nSize.prototype.setParent = function setParent (parent) {\r\n    this.parent = parent;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets the parent of this size.\r\n *\r\n * @method\r\n *\r\n * @returns {Size|undefined} the parent if one exists\r\n */\r\nSize.prototype.getParent = function getParent () {\r\n    return this.parent;\r\n};\r\n\r\n/**\r\n * Gets the size mode of this size representation\r\n *\r\n * @method\r\n *\r\n * @param {Number} x the size mode to use for the width\r\n * @param {Number} y the size mode to use for the height\r\n * @param {Number} z the size mode to use for the depth\r\n *\r\n * @return {array} array of size modes\r\n */\r\nSize.prototype.setSizeMode = function setSizeMode (x, y, z) {\r\n    if (x != null) x = resolveSizeMode(x);\r\n    if (y != null) y = resolveSizeMode(y);\r\n    if (z != null) z = resolveSizeMode(z);\r\n    this.sizeModeChanged = setVec(this.sizeMode, x, y, z);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Returns the size mode of this component.\r\n *\r\n * @method\r\n *\r\n * @return {Array} the current size mode of the this.\r\n */\r\nSize.prototype.getSizeMode = function getSizeMode () {\r\n    return this.sizeMode;\r\n};\r\n\r\n/**\r\n * Sets the absolute size of this size representation.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The x dimension of the absolute size\r\n * @param {Number} y The y dimension of the absolute size\r\n * @param {Number} z The z dimension of the absolute size\r\n *\r\n * @return {Size} this\r\n */\r\nSize.prototype.setAbsolute = function setAbsolute (x, y, z) {\r\n    this.absoluteSizeChanged = setVec(this.absoluteSize, x, y, z);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets the absolute size of this size representation\r\n *\r\n * @method\r\n *\r\n * @return {array} array of absolute size\r\n */\r\nSize.prototype.getAbsolute = function getAbsolute () {\r\n    return this.absoluteSize;\r\n};\r\n\r\n/**\r\n * Sets the proportional size of this size representation.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The x dimension of the proportional size\r\n * @param {Number} y The y dimension of the proportional size\r\n * @param {Number} z The z dimension of the proportional size\r\n *\r\n * @return {Size} this\r\n */\r\nSize.prototype.setProportional = function setProportional (x, y, z) {\r\n    this.proportionalSizeChanged = setVec(this.proportionalSize, x, y, z);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets the propotional size of this size representation\r\n *\r\n * @method\r\n *\r\n * @return {array} array of proportional size\r\n */\r\nSize.prototype.getProportional = function getProportional () {\r\n    return this.proportionalSize;\r\n};\r\n\r\n/**\r\n * Sets the differential size of this size representation.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The x dimension of the differential size\r\n * @param {Number} y The y dimension of the differential size\r\n * @param {Number} z The z dimension of the differential size\r\n *\r\n * @return {Size} this\r\n */\r\nSize.prototype.setDifferential = function setDifferential (x, y, z) {\r\n    this.differentialSizeChanged = setVec(this.differentialSize, x, y, z);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Gets the differential size of this size representation\r\n *\r\n * @method\r\n *\r\n * @return {array} array of differential size\r\n */\r\nSize.prototype.getDifferential = function getDifferential () {\r\n    return this.differentialSize;\r\n};\r\n\r\n/**\r\n * Sets the size of this size representation.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The x dimension of the size\r\n * @param {Number} y The y dimension of the size\r\n * @param {Number} z The z dimension of the size\r\n *\r\n * @return {Size} this\r\n */\r\nSize.prototype.get = function get () {\r\n    return this.finalSize;\r\n};\r\n\r\n/**\r\n * fromSpecWithParent takes the parent node's size, the target node's spec,\r\n * and a target array to write to. Using the node's size mode it calculates\r\n * a final size for the node from the node's spec. Returns whether or not\r\n * the final size has changed from its last value.\r\n *\r\n * @method\r\n *\r\n * @param {Array} components the node's components\r\n *\r\n * @return {Boolean} true if the size of the node has changed.\r\n */\r\nSize.prototype.fromComponents = function fromComponents (components) {\r\n    var mode = this.sizeMode;\r\n    var target = this.finalSize;\r\n    var parentSize = this.parent ? this.parent.get() : ZEROS;\r\n    var prev;\r\n    var changed = false;\r\n    var len = components.length;\r\n    var j;\r\n    for (var i = 0 ; i < 3 ; i++) {\r\n        prev = target[i];\r\n        switch (mode[i]) {\r\n            case Size.RELATIVE:\r\n                target[i] = parentSize[i] * this.proportionalSize[i] + this.differentialSize[i];\r\n                break;\r\n            case Size.ABSOLUTE:\r\n                target[i] = this.absoluteSize[i];\r\n                break;\r\n            case Size.RENDER:\r\n                var candidate;\r\n                var component;\r\n                for (j = 0; j < len ; j++) {\r\n                    component = components[j];\r\n                    if (component && component.getRenderSize) {\r\n                        candidate = component.getRenderSize()[i];\r\n                        target[i] = target[i] < candidate || target[i] === 0 ? candidate : target[i];\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        changed = changed || prev !== target[i];\r\n    }\r\n    this.sizeChanged = changed;\r\n    return changed;\r\n};\r\n\r\nmodule.exports = Size;\r\n\r\n","/**\r\n * The MIT License (MIT)\r\n * \r\n * Copyright (c) 2015 Famous Industries Inc.\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar PathStore = require('./PathStore');\r\nvar Size = require('./Size');\r\nvar Dispatch = require('./Dispatch');\r\nvar PathUtils = require('./Path');\r\n\r\n/**\r\n * The size system is used to calculate size throughout the scene graph.\r\n * It holds size components and operates upon them.\r\n *\r\n * @constructor\r\n */\r\nfunction SizeSystem () {\r\n    this.pathStore = new PathStore();\r\n}\r\n\r\n/**\r\n * Registers a size component to a give path. A size component can be passed as the second argument\r\n * or a default one will be created. Throws if no size component has been added at the parent path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to register the size component\r\n * @param {Size | undefined} size The size component to be registered or undefined.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nSizeSystem.prototype.registerSizeAtPath = function registerSizeAtPath (path, size) {\r\n    if (!PathUtils.depth(path)) return this.pathStore.insert(path, size ? size : new Size());\r\n\r\n    var parent = this.pathStore.get(PathUtils.parent(path));\r\n\r\n    if (!parent) throw new Error(\r\n            'No parent size registered at expected path: ' + PathUtils.parent(path)\r\n    );\r\n\r\n    if (size) size.setParent(parent);\r\n\r\n    this.pathStore.insert(path, size ? size : new Size(parent));\r\n};\r\n\r\n/**\r\n * Removes the size component from the given path. Will throw if no component is at that\r\n * path\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to remove the size.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nSizeSystem.prototype.deregisterSizeAtPath = function deregisterSizeAtPath(path) {\r\n    this.pathStore.remove(path);\r\n};\r\n\r\n/**\r\n * Returns the size component stored at a given path. Returns undefined if no\r\n * size component is registered to that path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to get the size component.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nSizeSystem.prototype.get = function get (path) {\r\n    return this.pathStore.get(path);\r\n};\r\n\r\n/**\r\n * Updates the sizes in the scene graph. Called internally by the famous engine.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nSizeSystem.prototype.update = function update () {\r\n    var sizes = this.pathStore.getItems();\r\n    var paths = this.pathStore.getPaths();\r\n    var node;\r\n    var size;\r\n    var i;\r\n    var len;\r\n    var components;\r\n    var j;\r\n\r\n    for (i = 0, len = sizes.length ; i < len ; i++) {\r\n        node = Dispatch.getNode(paths[i]);\r\n        components = node.getComponents();\r\n        if (!node) continue;\r\n        if (!node.showInEngine()){\r\n            j = i+1;\r\n            while(j<len && PathUtils.isDescendentOf(paths[j], paths[i]))\r\n                j++;\r\n            i = j-1;\r\n            continue;\r\n        }\r\n        size = sizes[i];\r\n        if (size.sizeModeChanged) sizeModeChanged(node, components, size);\r\n        if (size.absoluteSizeChanged) absoluteSizeChanged(node, components, size);\r\n        if (size.proportionalSizeChanged) proportionalSizeChanged(node, components, size);\r\n        if (size.differentialSizeChanged) differentialSizeChanged(node, components, size);\r\n        if (size.renderSizeChanged) renderSizeChanged(node, components, size);\r\n        if (size.fromComponents(components)) sizeChanged(node, components, size);\r\n    }\r\n};\r\n\r\n// private methods\r\n\r\n/**\r\n * Private method to alert the node and components that size mode changed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node Node to potentially call sizeModeChanged on\r\n * @param {Array} components a list of the nodes' components\r\n * @param {Size} size the size class for the Node\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction sizeModeChanged (node, components, size) {\r\n    var sizeMode = size.getSizeMode();\r\n    var x = sizeMode[0];\r\n    var y = sizeMode[1];\r\n    var z = sizeMode[2];\r\n    if (node.onSizeModeChange) node.onSizeModeChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onSizeModeChange)\r\n            components[i].onSizeModeChange(x, y, z);\r\n    size.sizeModeChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to alert the node and components that absoluteSize changed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node Node to potentially call onAbsoluteSizeChange on\r\n * @param {Array} components a list of the nodes' components\r\n * @param {Size} size the size class for the Node\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction absoluteSizeChanged (node, components, size) {\r\n    var absoluteSize = size.getAbsolute();\r\n    var x = absoluteSize[0];\r\n    var y = absoluteSize[1];\r\n    var z = absoluteSize[2];\r\n    if (node.onAbsoluteSizeChange) node.onAbsoluteSizeChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onAbsoluteSizeChange)\r\n            components[i].onAbsoluteSizeChange(x, y, z);\r\n    size.absoluteSizeChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to alert the node and components that the proportional size changed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node Node to potentially call onProportionalSizeChange on\r\n * @param {Array} components a list of the nodes' components\r\n * @param {Size} size the size class for the Node\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction proportionalSizeChanged (node, components, size) {\r\n    var proportionalSize = size.getProportional();\r\n    var x = proportionalSize[0];\r\n    var y = proportionalSize[1];\r\n    var z = proportionalSize[2];\r\n    if (node.onProportionalSizeChange) node.onProportionalSizeChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onProportionalSizeChange)\r\n            components[i].onProportionalSizeChange(x, y, z);\r\n    size.proportionalSizeChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to alert the node and components that differential size changed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node Node to potentially call onDifferentialSize on\r\n * @param {Array} components a list of the nodes' components\r\n * @param {Size} size the size class for the Node\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction differentialSizeChanged (node, components, size) {\r\n    var differentialSize = size.getDifferential();\r\n    var x = differentialSize[0];\r\n    var y = differentialSize[1];\r\n    var z = differentialSize[2];\r\n    if (node.onDifferentialSizeChange) node.onDifferentialSizeChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onDifferentialSizeChange)\r\n            components[i].onDifferentialSizeChange(x, y, z);\r\n    size.differentialSizeChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to alert the node and components that render size changed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node Node to potentially call onRenderSizeChange on\r\n * @param {Array} components a list of the nodes' components\r\n * @param {Size} size the size class for the Node\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction renderSizeChanged (node, components, size) {\r\n    var renderSize = size.getRenderSize();\r\n    var x = renderSize[0];\r\n    var y = renderSize[1];\r\n    var z = renderSize[2];\r\n    if (node.onRenderSizeChange) node.onRenderSizeChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onRenderSizeChange)\r\n            components[i].onRenderSizeChange(x, y, z);\r\n    size.renderSizeChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to alert the node and components that the size changed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node Node to potentially call onSizeChange on\r\n * @param {Array} components a list of the nodes' components\r\n * @param {Size} size the size class for the Node\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction sizeChanged (node, components, size) {\r\n    var finalSize = size.get();\r\n    var x = finalSize[0];\r\n    var y = finalSize[1];\r\n    var z = finalSize[2];\r\n    if (node.onSizeChange) node.onSizeChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onSizeChange)\r\n            components[i].onSizeChange(x, y, z);\r\n    size.sizeChanged = false;\r\n}\r\n\r\nmodule.exports = new SizeSystem();\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar QUAT = [0, 0, 0, 1];\r\nvar ONES = [1, 1, 1];\r\n\r\n/**\r\n * The transform class is responsible for calculating the transform of a particular\r\n * node from the data on the node and its parent\r\n *\r\n * @constructor Transform\r\n *\r\n * @param {Transform} parent the parent Transform\r\n */\r\nfunction Transform (parent) {\r\n    this.local = new Float32Array(Transform.IDENT);\r\n    this.global = new Float32Array(Transform.IDENT);\r\n    this.offsets = {\r\n        align: new Float32Array(3),\r\n        alignChanged: false,\r\n        mountPoint: new Float32Array(3),\r\n        mountPointChanged: false,\r\n        origin: new Float32Array(3),\r\n        originChanged: false\r\n    };\r\n    this.vectors = {\r\n        position: new Float32Array(3),\r\n        positionChanged: false,\r\n        rotation: new Float32Array(QUAT),\r\n        rotationChanged: false,\r\n        scale: new Float32Array(ONES),\r\n        scaleChanged: false\r\n    };\r\n    this._lastEulerVals = [0, 0, 0];\r\n    this._lastEuler = false;\r\n    this.parent = parent ? parent : null;\r\n    this.breakPoint = false;\r\n    this.calculatingWorldMatrix = false;\r\n}\r\n\r\nTransform.IDENT = [ 1, 0, 0, 0,\r\n                    0, 1, 0, 0,\r\n                    0, 0, 1, 0,\r\n                    0, 0, 0, 1 ];\r\n\r\nTransform.WORLD_CHANGED = 1;\r\nTransform.LOCAL_CHANGED = 2;\r\n\r\n/**\r\n * resets the transform state such that it no longer has a parent\r\n * and is not a breakpoint.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.reset = function reset () {\r\n    this.parent = null;\r\n    this.breakPoint = false;\r\n    this.calculatingWorldMatrix = false;\r\n};\r\n\r\n/**\r\n * sets the parent of this transform.\r\n *\r\n * @method\r\n *\r\n * @param {Transform} parent The transform class that parents this class\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setParent = function setParent (parent) {\r\n    this.parent = parent;\r\n};\r\n\r\n/**\r\n * returns the parent of this transform\r\n *\r\n * @method\r\n *\r\n * @return {Transform | null} the parent of this transform if one exists\r\n */\r\nTransform.prototype.getParent = function getParent () {\r\n    return this.parent;\r\n};\r\n\r\n/**\r\n * Makes this transform a breakpoint. This will cause it to calculate\r\n * both a local (relative to the nearest ancestor breakpoint) and a world\r\n * matrix (relative to the scene).\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setBreakPoint = function setBreakPoint () {\r\n    this.breakPoint = true;\r\n    this.calculatingWorldMatrix = true;\r\n};\r\n\r\n/**\r\n * Set this node to calculate the world matrix.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setCalculateWorldMatrix = function setCalculateWorldMatrix () {\r\n    this.calculatingWorldMatrix = true;\r\n};\r\n\r\n/**\r\n * returns whether or not this transform is a breakpoint.\r\n *\r\n * @method\r\n *\r\n * @return {Boolean} true if this transform is a breakpoint\r\n */\r\nTransform.prototype.isBreakPoint = function isBreakPoint () {\r\n    return this.breakPoint;\r\n};\r\n\r\n/**\r\n * returns the local transform\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} local transform\r\n */\r\nTransform.prototype.getLocalTransform = function getLocalTransform () {\r\n    return this.local;\r\n};\r\n\r\n/**\r\n * returns the world transform. Requires that this transform is a breakpoint.\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} world transform.\r\n */\r\nTransform.prototype.getWorldTransform = function getWorldTransform () {\r\n    if (!this.isBreakPoint() && !this.calculatingWorldMatrix)\r\n        throw new Error('This transform is not calculating world transforms');\r\n    return this.global;\r\n};\r\n\r\n/**\r\n * Takes a node and calculates the proper transform from it.\r\n *\r\n * @method\r\n *\r\n * @param {Node} node the node to calculate the transform from\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.calculate = function calculate (node) {\r\n    if (!this.parent || this.parent.isBreakPoint())\r\n        return fromNode(node, this);\r\n    else return fromNodeWithParent(node, this);\r\n};\r\n\r\n/**\r\n * A private method to potentially set a value within an\r\n * array. Will set the value if a value was given\r\n * for the third argument and if that value is different\r\n * than the value that is currently in the array at the given index.\r\n * Returns true if a value was set and false if not.\r\n *\r\n * @method\r\n *\r\n * @param {Array} vec The array to set the value within\r\n * @param {Number} index The index at which to set the value\r\n * @param {Any} val The value to potentially set in the array\r\n *\r\n * @return {Boolean} whether or not a value was set\r\n */\r\nfunction _vecOptionalSet (vec, index, val) {\r\n    if (val != null && vec[index] !== val) {\r\n        vec[index] = val;\r\n        return true;\r\n    } else return false;\r\n}\r\n\r\n/**\r\n * private method to set values within an array.\r\n * Returns whether or not the array has been changed.\r\n *\r\n * @method\r\n *\r\n * @param {Array} vec The vector to be operated upon\r\n * @param {Number | null | undefined} x The x value of the vector\r\n * @param {Number | null | undefined} y The y value of the vector\r\n * @param {Number | null | undefined} z The z value of the vector\r\n * @param {Number | null | undefined} w the w value of the vector\r\n *\r\n * @return {Boolean} whether or not the array was changed\r\n */\r\nfunction setVec (vec, x, y, z, w) {\r\n    var propagate = false;\r\n\r\n    propagate = _vecOptionalSet(vec, 0, x) || propagate;\r\n    propagate = _vecOptionalSet(vec, 1, y) || propagate;\r\n    propagate = _vecOptionalSet(vec, 2, z) || propagate;\r\n    if (w != null)\r\n        propagate = _vecOptionalSet(vec, 3, w) || propagate;\r\n\r\n    return propagate;\r\n}\r\n\r\n/**\r\n * Gets the position component of the transform\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} the position component of the transform\r\n */\r\nTransform.prototype.getPosition = function getPosition () {\r\n    return this.vectors.position;\r\n};\r\n\r\n/**\r\n * Sets the position component of the transform.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The x dimension of the position\r\n * @param {Number} y The y dimension of the position\r\n * @param {Number} z The z dimension of the position\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setPosition = function setPosition (x, y, z) {\r\n    this.vectors.positionChanged = setVec(this.vectors.position, x, y, z);\r\n};\r\n\r\n/**\r\n * Gets the rotation component of the transform. Will return a quaternion.\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} the quaternion representation of the transform's rotation\r\n */\r\nTransform.prototype.getRotation = function getRotation () {\r\n    return this.vectors.rotation;\r\n};\r\n\r\n/**\r\n * Sets the rotation component of the transform. Can take either Euler\r\n * angles or a quaternion.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The rotation about the x axis or the extent in the x dimension\r\n * @param {Number} y The rotation about the y axis or the extent in the y dimension\r\n * @param {Number} z The rotation about the z axis or the extent in the z dimension\r\n * @param {Number} w The rotation about the proceeding vector\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setRotation = function setRotation (x, y, z, w) {\r\n    var quat = this.vectors.rotation;\r\n    var qx, qy, qz, qw;\r\n\r\n    if (w != null) {\r\n        qx = x;\r\n        qy = y;\r\n        qz = z;\r\n        qw = w;\r\n        this._lastEulerVals[0] = null;\r\n        this._lastEulerVals[1] = null;\r\n        this._lastEulerVals[2] = null;\r\n        this._lastEuler = false;\r\n    }\r\n    else {\r\n        if (x == null || y == null || z == null) {\r\n            if (this._lastEuler) {\r\n                x = x == null ? this._lastEulerVals[0] : x;\r\n                y = y == null ? this._lastEulerVals[1] : y;\r\n                z = z == null ? this._lastEulerVals[2] : z;\r\n            }\r\n            else {\r\n                var sp = -2 * (quat[1] * quat[2] - quat[3] * quat[0]);\r\n\r\n                if (Math.abs(sp) > 0.99999) {\r\n                    y = y == null ? Math.PI * 0.5 * sp : y;\r\n                    x = x == null ? Math.atan2(-quat[0] * quat[2] + quat[3] * quat[1], 0.5 - quat[1] * quat[1] - quat[2] * quat[2]) : x;\r\n                    z = z == null ? 0 : z;\r\n                }\r\n                else {\r\n                    y = y == null ? Math.asin(sp) : y;\r\n                    x = x == null ? Math.atan2(quat[0] * quat[2] + quat[3] * quat[1], 0.5 - quat[0] * quat[0] - quat[1] * quat[1]) : x;\r\n                    z = z == null ? Math.atan2(quat[0] * quat[1] + quat[3] * quat[2], 0.5 - quat[0] * quat[0] - quat[2] * quat[2]) : z;\r\n                }\r\n            }\r\n        }\r\n\r\n        var hx = x * 0.5;\r\n        var hy = y * 0.5;\r\n        var hz = z * 0.5;\r\n\r\n        var sx = Math.sin(hx);\r\n        var sy = Math.sin(hy);\r\n        var sz = Math.sin(hz);\r\n        var cx = Math.cos(hx);\r\n        var cy = Math.cos(hy);\r\n        var cz = Math.cos(hz);\r\n\r\n        var sysz = sy * sz;\r\n        var cysz = cy * sz;\r\n        var sycz = sy * cz;\r\n        var cycz = cy * cz;\r\n\r\n        qx = sx * cycz + cx * sysz;\r\n        qy = cx * sycz - sx * cysz;\r\n        qz = cx * cysz + sx * sycz;\r\n        qw = cx * cycz - sx * sysz;\r\n\r\n        this._lastEuler = true;\r\n        this._lastEulerVals[0] = x;\r\n        this._lastEulerVals[1] = y;\r\n        this._lastEulerVals[2] = z;\r\n    }\r\n\r\n    this.vectors.rotationChanged = setVec(quat, qx, qy, qz, qw);\r\n};\r\n\r\n/**\r\n * Gets the scale component of the transform\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} the scale component of the transform\r\n */\r\nTransform.prototype.getScale = function getScale () {\r\n    return this.vectors.scale;\r\n};\r\n\r\n/**\r\n * Sets the scale component of the transform.\r\n *\r\n * @method\r\n *\r\n * @param {Number | null | undefined} x The x dimension of the scale\r\n * @param {Number | null | undefined} y The y dimension of the scale\r\n * @param {Number | null | undefined} z The z dimension of the scale\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setScale = function setScale (x, y, z) {\r\n    this.vectors.scaleChanged = setVec(this.vectors.scale, x, y, z);\r\n};\r\n\r\n/**\r\n * Gets the align value of the transform\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} the align value of the transform\r\n */\r\nTransform.prototype.getAlign = function getAlign () {\r\n    return this.offsets.align;\r\n};\r\n\r\n/**\r\n * Sets the align value of the transform.\r\n *\r\n * @method\r\n *\r\n * @param {Number | null | undefined} x The x dimension of the align\r\n * @param {Number | null | undefined} y The y dimension of the align\r\n * @param {Number | null | undefined} z The z dimension of the align\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setAlign = function setAlign (x, y, z) {\r\n    this.offsets.alignChanged = setVec(this.offsets.align, x, y, z != null ? z - 0.5 : z);\r\n};\r\n\r\n/**\r\n * Gets the mount point value of the transform.\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} the mount point of the transform\r\n */\r\nTransform.prototype.getMountPoint = function getMountPoint () {\r\n    return this.offsets.mountPoint;\r\n};\r\n\r\n/**\r\n * Sets the mount point value of the transform.\r\n *\r\n * @method\r\n *\r\n * @param {Number | null | undefined} x the x dimension of the mount point\r\n * @param {Number | null | undefined} y the y dimension of the mount point\r\n * @param {Number | null | undefined} z the z dimension of the mount point\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setMountPoint = function setMountPoint (x, y, z) {\r\n    this.offsets.mountPointChanged = setVec(this.offsets.mountPoint, x, y, z != null ? z - 0.5 : z);\r\n};\r\n\r\n/**\r\n * Gets the origin of the transform.\r\n *\r\n * @method\r\n *\r\n * @return {Float32Array} the origin\r\n */\r\nTransform.prototype.getOrigin = function getOrigin () {\r\n    return this.offsets.origin;\r\n};\r\n\r\n/**\r\n * Sets the origin of the transform.\r\n *\r\n * @method\r\n *\r\n * @param {Number | null | undefined} x the x dimension of the origin\r\n * @param {Number | null | undefined} y the y dimension of the origin\r\n * @param {Number | null | undefined} z the z dimension of the origin\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.setOrigin = function setOrigin (x, y, z) {\r\n    this.offsets.originChanged = setVec(this.offsets.origin, x, y, z != null ? z - 0.5 : z);\r\n};\r\n\r\n/**\r\n * Calculates the world for this particular transform.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransform.prototype.calculateWorldMatrix = function calculateWorldMatrix () {\r\n    var nearestBreakPoint = this.parent;\r\n\r\n    while (nearestBreakPoint && !nearestBreakPoint.isBreakPoint())\r\n        nearestBreakPoint = nearestBreakPoint.parent;\r\n\r\n    if (nearestBreakPoint) return multiply(this.global, nearestBreakPoint.getWorldTransform(), this.local);\r\n    else {\r\n        for (var i = 0; i < 16 ; i++) this.global[i] = this.local[i];\r\n        return false;\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Private function. Creates a transformation matrix from a Node's spec.\r\n *\r\n * @param {Node} node the node to create a transform for\r\n * @param {Transform} transform transform to apply\r\n *\r\n * @return {Boolean} whether or not the target array was changed\r\n */\r\nfunction fromNode (node, transform) {\r\n    var target = transform.getLocalTransform();\r\n    var mySize = node.getSize();\r\n    var vectors = transform.vectors;\r\n    var offsets = transform.offsets;\r\n    var parentSize = node.getParent().getSize();\r\n    var changed = 0;\r\n\r\n    var t00         = target[0];\r\n    var t01         = target[1];\r\n    var t02         = target[2];\r\n    var t10         = target[4];\r\n    var t11         = target[5];\r\n    var t12         = target[6];\r\n    var t20         = target[8];\r\n    var t21         = target[9];\r\n    var t22         = target[10];\r\n    var t30         = target[12];\r\n    var t31         = target[13];\r\n    var t32         = target[14];\r\n    var posX        = vectors.position[0];\r\n    var posY        = vectors.position[1];\r\n    var posZ        = vectors.position[2];\r\n    var rotX        = vectors.rotation[0];\r\n    var rotY        = vectors.rotation[1];\r\n    var rotZ        = vectors.rotation[2];\r\n    var rotW        = vectors.rotation[3];\r\n    var scaleX      = vectors.scale[0];\r\n    var scaleY      = vectors.scale[1];\r\n    var scaleZ      = vectors.scale[2];\r\n    var alignX      = offsets.align[0] * parentSize[0];\r\n    var alignY      = offsets.align[1] * parentSize[1];\r\n    var alignZ      = offsets.align[2] * parentSize[2];\r\n    var mountPointX = offsets.mountPoint[0] * mySize[0];\r\n    var mountPointY = offsets.mountPoint[1] * mySize[1];\r\n    var mountPointZ = offsets.mountPoint[2] * mySize[2];\r\n    var originX     = offsets.origin[0] * mySize[0];\r\n    var originY     = offsets.origin[1] * mySize[1];\r\n    var originZ     = offsets.origin[2] * mySize[2];\r\n\r\n    var wx = rotW * rotX;\r\n    var wy = rotW * rotY;\r\n    var wz = rotW * rotZ;\r\n    var xx = rotX * rotX;\r\n    var yy = rotY * rotY;\r\n    var zz = rotZ * rotZ;\r\n    var xy = rotX * rotY;\r\n    var xz = rotX * rotZ;\r\n    var yz = rotY * rotZ;\r\n\r\n    target[0] = (1 - 2 * (yy + zz)) * scaleX;\r\n    target[1] = (2 * (xy + wz)) * scaleX;\r\n    target[2] = (2 * (xz - wy)) * scaleX;\r\n    target[3] = 0;\r\n    target[4] = (2 * (xy - wz)) * scaleY;\r\n    target[5] = (1 - 2 * (xx + zz)) * scaleY;\r\n    target[6] = (2 * (yz + wx)) * scaleY;\r\n    target[7] = 0;\r\n    target[8] = (2 * (xz + wy)) * scaleZ;\r\n    target[9] = (2 * (yz - wx)) * scaleZ;\r\n    target[10] = (1 - 2 * (xx + yy)) * scaleZ;\r\n    target[11] = 0;\r\n    target[12] = alignX + posX - mountPointX + originX -\r\n                 (target[0] * originX + target[4] * originY + target[8] * originZ);\r\n    target[13] = alignY + posY - mountPointY + originY -\r\n                 (target[1] * originX + target[5] * originY + target[9] * originZ);\r\n    target[14] = alignZ + posZ - mountPointZ + originZ -\r\n                 (target[2] * originX + target[6] * originY + target[10] * originZ);\r\n    target[15] = 1;\r\n\r\n    if (transform.calculatingWorldMatrix && transform.calculateWorldMatrix())\r\n        changed |= Transform.WORLD_CHANGED;\r\n\r\n    if (t00 !== target[0] ||\r\n        t01 !== target[1] ||\r\n        t02 !== target[2] ||\r\n        t10 !== target[4] ||\r\n        t11 !== target[5] ||\r\n        t12 !== target[6] ||\r\n        t20 !== target[8] ||\r\n        t21 !== target[9] ||\r\n        t22 !== target[10] ||\r\n        t30 !== target[12] ||\r\n        t31 !== target[13] ||\r\n        t32 !== target[14]) changed |= Transform.LOCAL_CHANGED;\r\n\r\n    return changed;\r\n}\r\n\r\n/**\r\n * Private function. Uses the parent transform, the node's spec, the node's size, and the parent's size\r\n * to calculate a final transform for the node. Returns true if the transform has changed.\r\n *\r\n * @private\r\n *\r\n * @param {Node} node the node to create a transform for\r\n * @param {Transform} transform transform to apply\r\n *\r\n * @return {Boolean} whether or not the transform changed\r\n */\r\nfunction fromNodeWithParent (node, transform) {\r\n    var target = transform.getLocalTransform();\r\n    var parentMatrix = transform.parent.getLocalTransform();\r\n    var mySize = node.getSize();\r\n    var vectors = transform.vectors;\r\n    var offsets = transform.offsets;\r\n    var parentSize = node.getParent().getSize();\r\n    var changed = false;\r\n\r\n    // local cache of everything\r\n    var t00         = target[0];\r\n    var t01         = target[1];\r\n    var t02         = target[2];\r\n    var t10         = target[4];\r\n    var t11         = target[5];\r\n    var t12         = target[6];\r\n    var t20         = target[8];\r\n    var t21         = target[9];\r\n    var t22         = target[10];\r\n    var t30         = target[12];\r\n    var t31         = target[13];\r\n    var t32         = target[14];\r\n    var p00         = parentMatrix[0];\r\n    var p01         = parentMatrix[1];\r\n    var p02         = parentMatrix[2];\r\n    var p10         = parentMatrix[4];\r\n    var p11         = parentMatrix[5];\r\n    var p12         = parentMatrix[6];\r\n    var p20         = parentMatrix[8];\r\n    var p21         = parentMatrix[9];\r\n    var p22         = parentMatrix[10];\r\n    var p30         = parentMatrix[12];\r\n    var p31         = parentMatrix[13];\r\n    var p32         = parentMatrix[14];\r\n    var posX        = vectors.position[0];\r\n    var posY        = vectors.position[1];\r\n    var posZ        = vectors.position[2];\r\n    var rotX        = vectors.rotation[0];\r\n    var rotY        = vectors.rotation[1];\r\n    var rotZ        = vectors.rotation[2];\r\n    var rotW        = vectors.rotation[3];\r\n    var scaleX      = vectors.scale[0];\r\n    var scaleY      = vectors.scale[1];\r\n    var scaleZ      = vectors.scale[2];\r\n    var alignX      = offsets.align[0] * parentSize[0];\r\n    var alignY      = offsets.align[1] * parentSize[1];\r\n    var alignZ      = offsets.align[2] * parentSize[2];\r\n    var mountPointX = offsets.mountPoint[0] * mySize[0];\r\n    var mountPointY = offsets.mountPoint[1] * mySize[1];\r\n    var mountPointZ = offsets.mountPoint[2] * mySize[2];\r\n    var originX     = offsets.origin[0] * mySize[0];\r\n    var originY     = offsets.origin[1] * mySize[1];\r\n    var originZ     = offsets.origin[2] * mySize[2];\r\n\r\n    var wx = rotW * rotX;\r\n    var wy = rotW * rotY;\r\n    var wz = rotW * rotZ;\r\n    var xx = rotX * rotX;\r\n    var yy = rotY * rotY;\r\n    var zz = rotZ * rotZ;\r\n    var xy = rotX * rotY;\r\n    var xz = rotX * rotZ;\r\n    var yz = rotY * rotZ;\r\n\r\n    var rs0 = (1 - 2 * (yy + zz)) * scaleX;\r\n    var rs1 = (2 * (xy + wz)) * scaleX;\r\n    var rs2 = (2 * (xz - wy)) * scaleX;\r\n    var rs3 = (2 * (xy - wz)) * scaleY;\r\n    var rs4 = (1 - 2 * (xx + zz)) * scaleY;\r\n    var rs5 = (2 * (yz + wx)) * scaleY;\r\n    var rs6 = (2 * (xz + wy)) * scaleZ;\r\n    var rs7 = (2 * (yz - wx)) * scaleZ;\r\n    var rs8 = (1 - 2 * (xx + yy)) * scaleZ;\r\n\r\n    var tx = alignX + posX - mountPointX + originX - (rs0 * originX + rs3 * originY + rs6 * originZ);\r\n    var ty = alignY + posY - mountPointY + originY - (rs1 * originX + rs4 * originY + rs7 * originZ);\r\n    var tz = alignZ + posZ - mountPointZ + originZ - (rs2 * originX + rs5 * originY + rs8 * originZ);\r\n\r\n    target[0] = p00 * rs0 + p10 * rs1 + p20 * rs2;\r\n    target[1] = p01 * rs0 + p11 * rs1 + p21 * rs2;\r\n    target[2] = p02 * rs0 + p12 * rs1 + p22 * rs2;\r\n    target[3] = 0;\r\n    target[4] = p00 * rs3 + p10 * rs4 + p20 * rs5;\r\n    target[5] = p01 * rs3 + p11 * rs4 + p21 * rs5;\r\n    target[6] = p02 * rs3 + p12 * rs4 + p22 * rs5;\r\n    target[7] = 0;\r\n    target[8] = p00 * rs6 + p10 * rs7 + p20 * rs8;\r\n    target[9] = p01 * rs6 + p11 * rs7 + p21 * rs8;\r\n    target[10] = p02 * rs6 + p12 * rs7 + p22 * rs8;\r\n    target[11] = 0;\r\n    target[12] = p00 * tx + p10 * ty + p20 * tz + p30;\r\n    target[13] = p01 * tx + p11 * ty + p21 * tz + p31;\r\n    target[14] = p02 * tx + p12 * ty + p22 * tz + p32;\r\n    target[15] = 1;\r\n\r\n    if (transform.calculatingWorldMatrix && transform.calculateWorldMatrix())\r\n        changed |= Transform.WORLD_CHANGED;\r\n\r\n    if (t00 !== target[0] ||\r\n        t01 !== target[1] ||\r\n        t02 !== target[2] ||\r\n        t10 !== target[4] ||\r\n        t11 !== target[5] ||\r\n        t12 !== target[6] ||\r\n        t20 !== target[8] ||\r\n        t21 !== target[9] ||\r\n        t22 !== target[10] ||\r\n        t30 !== target[12] ||\r\n        t31 !== target[13] ||\r\n        t32 !== target[14]) changed |= Transform.LOCAL_CHANGED;\r\n\r\n    return changed;\r\n}\r\n\r\n/**\r\n * private method to multiply two transforms.\r\n *\r\n * @method\r\n *\r\n * @param {Array} out The array to write the result to\r\n * @param {Array} a the left hand transform\r\n * @param {Array} b the right hand transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction multiply (out, a, b) {\r\n    var a00 = a[0], a01 = a[1], a02 = a[2],\r\n        a10 = a[4], a11 = a[5], a12 = a[6],\r\n        a20 = a[8], a21 = a[9], a22 = a[10],\r\n        a30 = a[12], a31 = a[13], a32 = a[14];\r\n\r\n    var changed = false;\r\n    var res;\r\n\r\n    // Cache only the current line of the second matrix\r\n    var b0  = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\r\n\r\n    res = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    changed = changed ? changed : out[0] !== res;\r\n    out[0] = res;\r\n\r\n    res = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    changed = changed ? changed : out[1] !== res;\r\n    out[1] = res;\r\n\r\n    res = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    changed = changed ? changed : out[2] !== res;\r\n    out[2] = res;\r\n\r\n    out[3] = 0;\r\n\r\n    b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\r\n\r\n    res = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    changed = changed ? changed : out[4] !== res;\r\n    out[4] = res;\r\n\r\n    res = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    changed = changed ? changed : out[5] !== res;\r\n    out[5] = res;\r\n\r\n    res = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    changed = changed ? changed : out[6] !== res;\r\n    out[6] = res;\r\n\r\n    out[7] = 0;\r\n\r\n    b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\r\n\r\n    res = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    changed = changed ? changed : out[8] !== res;\r\n    out[8] = res;\r\n\r\n    res = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    changed = changed ? changed : out[9] !== res;\r\n    out[9] = res;\r\n\r\n    res = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    changed = changed ? changed : out[10] !== res;\r\n    out[10] = res;\r\n\r\n    out[11] = 0;\r\n\r\n    b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\r\n\r\n    res = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    changed = changed ? changed : (0|out[12]) !== (0|res);\r\n    out[12] = res;\r\n\r\n    res = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    changed = changed ? changed : (0|out[13]) !== (0|res);\r\n    out[13] = res;\r\n\r\n    res = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    changed = changed ? changed : out[14] !== res;\r\n    out[14] = res;\r\n\r\n    out[15] = 1;\r\n\r\n    return changed;\r\n}\r\n\r\nmodule.exports = Transform;\r\n","/**\r\n * The MIT License (MIT)\r\n * \r\n * Copyright (c) 2015 Famous Industries Inc.\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar PathUtils = require('./Path');\r\nvar Transform = require('./Transform');\r\nvar Dispatch = require('./Dispatch');\r\nvar PathStore = require('./PathStore');\r\n\r\n/**\r\n * The transform class is responsible for calculating the transform of a particular\r\n * node from the data on the node and its parent\r\n *\r\n * @constructor {TransformSystem}\r\n */\r\nfunction TransformSystem () {\r\n    this.pathStore = new PathStore();\r\n}\r\n\r\n/**\r\n * registers a new Transform for the given path. This transform will be updated\r\n * when the TransformSystem updates.\r\n *\r\n * @method registerTransformAtPath\r\n * @return {undefined} undefined\r\n *\r\n * @param {String} path for the transform to be registered to.\r\n * @param {Transform | undefined} transform optional transform to register.\r\n */\r\nTransformSystem.prototype.registerTransformAtPath = function registerTransformAtPath (path, transform) {\r\n    if (!PathUtils.depth(path))\r\n        return this.pathStore.insert(path, transform ? transform : new Transform());\r\n\r\n    var parent = this.pathStore.get(PathUtils.parent(path));\r\n\r\n    if (!parent) throw new Error(\r\n            'No parent transform registered at expected path: ' + PathUtils.parent(path)\r\n    );\r\n\r\n    if (transform) transform.setParent(parent);\r\n\r\n    this.pathStore.insert(path, transform ? transform : new Transform(parent));\r\n};\r\n\r\n/**\r\n * deregisters a transform registered at the given path.\r\n *\r\n * @method deregisterTransformAtPath\r\n * @return {void}\r\n *\r\n * @param {String} path at which to register the transform\r\n */\r\nTransformSystem.prototype.deregisterTransformAtPath = function deregisterTransformAtPath (path) {\r\n    this.pathStore.remove(path);\r\n};\r\n\r\n/**\r\n * Method which will make the transform currently stored at the given path a breakpoint.\r\n * A transform being a breakpoint means that both a local and world transform will be calculated\r\n * for that point. The local transform being the concatinated transform of all ancestor transforms up\r\n * until the nearest breakpoint, and the world being the concatinated transform of all ancestor transforms.\r\n * This method throws if no transform is at the provided path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to turn the transform into a breakpoint\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransformSystem.prototype.makeBreakPointAt = function makeBreakPointAt (path) {\r\n    var transform = this.pathStore.get(path);\r\n    if (!transform) throw new Error('No transform Registered at path: ' + path);\r\n    transform.setBreakPoint();\r\n};\r\n\r\n/**\r\n * Method that will make the transform at this location calculate a world matrix.\r\n *\r\n * @method\r\n *\r\n * @param {String} path The path at which to make the transform calculate a world matrix\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransformSystem.prototype.makeCalculateWorldMatrixAt = function makeCalculateWorldMatrixAt (path) {\r\n        var transform = this.pathStore.get(path);\r\n        if (!transform) throw new Error('No transform Registered at path: ' + path);\r\n        transform.setCalculateWorldMatrix();\r\n};\r\n\r\n/**\r\n * Returns the instance of the transform class associated with the given path,\r\n * or undefined if no transform is associated.\r\n *\r\n * @method\r\n * \r\n * @param {String} path The path to lookup\r\n *\r\n * @return {Transform | undefined} the transform at that path is available, else undefined.\r\n */\r\nTransformSystem.prototype.get = function get (path) {\r\n    return this.pathStore.get(path);\r\n};\r\n\r\n/**\r\n * update is called when the transform system requires an update.\r\n * It traverses the transform array and evaluates the necessary transforms\r\n * in the scene graph with the information from the corresponding node\r\n * in the scene graph\r\n *\r\n * @method update\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTransformSystem.prototype.update = function update () {\r\n    var transforms = this.pathStore.getItems();\r\n    var paths = this.pathStore.getPaths();\r\n    var transform;\r\n    var changed;\r\n    var node;\r\n    var vectors;\r\n    var offsets;\r\n    var components;\r\n    var j;\r\n\r\n    for (var i = 0, len = transforms.length ; i < len ; i++) {\r\n        node = Dispatch.getNode(paths[i]);\r\n        if (!node) continue;\r\n        if (!node.showInEngine()){\r\n            j = i+1;\r\n            while(j<len && PathUtils.isDescendentOf(paths[j], paths[i]))\r\n                j++;\r\n            i = j-1;\r\n            continue;\r\n        }\r\n        components = node.getComponents();\r\n        transform = transforms[i];\r\n        vectors = transform.vectors;\r\n        offsets = transform.offsets;\r\n        if (offsets.alignChanged) alignChanged(node, components, offsets);\r\n        if (offsets.mountPointChanged) mountPointChanged(node, components, offsets);\r\n        if (offsets.originChanged) originChanged(node, components, offsets);\r\n        if (vectors.positionChanged) positionChanged(node, components, vectors);\r\n        if (vectors.rotationChanged) rotationChanged(node, components, vectors);\r\n        if (vectors.scaleChanged) scaleChanged(node, components, vectors);\r\n        if (changed = transform.calculate(node)) {\r\n            transformChanged(node, components, transform);\r\n            if (changed & Transform.LOCAL_CHANGED) localTransformChanged(node, components, transform.getLocalTransform());\r\n            if (changed & Transform.WORLD_CHANGED) worldTransformChanged(node, components, transform.getWorldTransform());\r\n        }\r\n    }\r\n};\r\n\r\n// private methods\r\n\r\n/**\r\n * Private method to call when align changes. Triggers 'onAlignChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to call onAlignChange if necessary\r\n * @param {Array} components the components on which to call onAlignChange if necessary\r\n * @param {Object} offsets the set of offsets from the transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction alignChanged (node, components, offsets) {\r\n    var x = offsets.align[0];\r\n    var y = offsets.align[1];\r\n    var z = offsets.align[2];\r\n    if (node.onAlignChange) node.onAlignChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onAlignChange)\r\n            components[i].onAlignChange(x, y, z);\r\n    offsets.alignChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to call when MountPoint changes. Triggers 'onMountPointChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Object} offsets the set of offsets from the transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction mountPointChanged (node, components, offsets) {\r\n    var x = offsets.mountPoint[0];\r\n    var y = offsets.mountPoint[1];\r\n    var z = offsets.mountPoint[2];\r\n    if (node.onMountPointChange) node.onMountPointChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onMountPointChange)\r\n            components[i].onMountPointChange(x, y, z);\r\n    offsets.mountPointChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to call when Origin changes. Triggers 'onOriginChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Object} offsets the set of offsets from the transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction originChanged (node, components, offsets) {\r\n    var x = offsets.origin[0];\r\n    var y = offsets.origin[1];\r\n    var z = offsets.origin[2];\r\n    if (node.onOriginChange) node.onOriginChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onOriginChange)\r\n            components[i].onOriginChange(x, y, z);\r\n    offsets.originChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to call when Position changes. Triggers 'onPositionChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Object} vectors the set of vectors from the transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction positionChanged (node, components, vectors) {\r\n    var x = vectors.position[0];\r\n    var y = vectors.position[1];\r\n    var z = vectors.position[2];\r\n    if (node.onPositionChange) node.onPositionChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onPositionChange)\r\n            components[i].onPositionChange(x, y, z);\r\n    vectors.positionChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to call when Rotation changes. Triggers 'onRotationChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Object} vectors the set of vectors from the transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction rotationChanged (node, components, vectors) {\r\n    var x = vectors.rotation[0];\r\n    var y = vectors.rotation[1];\r\n    var z = vectors.rotation[2];\r\n    var w = vectors.rotation[3];\r\n    if (node.onRotationChange) node.onRotationChange(x, y, z, w);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onRotationChange)\r\n            components[i].onRotationChange(x, y, z, w);\r\n    vectors.rotationChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to call when Scale changes. Triggers 'onScaleChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Object} vectors the set of vectors from the transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction scaleChanged (node, components, vectors) {\r\n    var x = vectors.scale[0];\r\n    var y = vectors.scale[1];\r\n    var z = vectors.scale[2];\r\n    if (node.onScaleChange) node.onScaleChange(x, y, z);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onScaleChange)\r\n            components[i].onScaleChange(x, y, z);\r\n    vectors.scaleChanged = false;\r\n}\r\n\r\n/**\r\n * Private method to call when either the Local or World Transform changes.\r\n * Triggers 'onTransformChange' methods on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Transform} transform the transform class that changed\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction transformChanged (node, components, transform) {\r\n    if (node.onTransformChange) node.onTransformChange(transform);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onTransformChange)\r\n            components[i].onTransformChange(transform);\r\n}\r\n\r\n/**\r\n * Private method to call when the local transform changes. Triggers 'onLocalTransformChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Array} transform the local transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction localTransformChanged (node, components, transform) {\r\n    if (node.onLocalTransformChange) node.onLocalTransformChange(transform);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onLocalTransformChange)\r\n            components[i].onLocalTransformChange(transform);\r\n}\r\n\r\n/**\r\n * Private method to call when the world transform changes. Triggers 'onWorldTransformChange' methods\r\n * on the node and all of the node's components\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Node} node the node on which to trigger a change event if necessary\r\n * @param {Array} components the components on which to trigger a change event if necessary\r\n * @param {Array} transform the world transform\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction worldTransformChanged (node, components, transform) {\r\n    if (node.onWorldTransformChange) node.onWorldTransformChange(transform);\r\n    for (var i = 0, len = components.length ; i < len ; i++)\r\n        if (components[i] && components[i].onWorldTransformChange)\r\n            components[i].onWorldTransformChange(transform);\r\n}\r\n\r\nmodule.exports = new TransformSystem();\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar CallbackStore = require('../utilities/CallbackStore');\r\nvar TransformSystem = require('../core/TransformSystem');\r\nvar Commands = require('../core/Commands');\r\nvar Size = require('../core/Size');\r\n\r\n/**\r\n * A DOMElement is a component that can be added to a Node with the\r\n * purpose of sending draw commands to the renderer. Renderables send draw commands\r\n * to through their Nodes to the Compositor where they are acted upon.\r\n *\r\n * @class DOMElement\r\n *\r\n * @param {Node} node                   The Node to which the `DOMElement`\r\n *                                      renderable should be attached to.\r\n * @param {Object} options              Initial options used for instantiating\r\n *                                      the Node.\r\n * @param {Object} options.properties   CSS properties that should be added to\r\n *                                      the actual DOMElement on the initial draw.\r\n * @param {Object} options.attributes   Element attributes that should be added to\r\n *                                      the actual DOMElement.\r\n * @param {String} options.id           String to be applied as 'id' of the actual\r\n *                                      DOMElement.\r\n * @param {String} options.content      String to be applied as the content of the\r\n *                                      actual DOMElement.\r\n * @param {Boolean} options.cutout      Specifies the presence of a 'cutout' in the\r\n *                                      WebGL canvas over this element which allows\r\n *                                      for DOM and WebGL layering.  On by default.\r\n */\r\nfunction DOMElement(node, options) {\r\n    if (!node) throw new Error('DOMElement must be instantiated on a node');\r\n\r\n    this._changeQueue = [];\r\n\r\n    this._requestingUpdate = false;\r\n    this._renderSized = false;\r\n    this._requestRenderSize = false;\r\n\r\n    this._UIEvents = node.getUIEvents().slice(0);\r\n    this._classes = ['famous-dom-element'];\r\n    this._requestingEventListeners = [];\r\n    this._styles = {};\r\n\r\n    this._attributes = {};\r\n    this._content = '';\r\n\r\n    this._tagName = options && options.tagName ? options.tagName : 'div';\r\n    this._renderSize = [0, 0, 0];\r\n\r\n    this._node = node;\r\n\r\n    if (node) node.addComponent(this);\r\n\r\n    this._callbacks = new CallbackStore();\r\n\r\n    this.setProperty('display', node.isShown() ? 'block' : 'none');\r\n    this.onOpacityChange(node.getOpacity());\r\n\r\n    if (!options) return;\r\n\r\n    var i;\r\n    var key;\r\n\r\n    if (options.classes)\r\n        for (i = 0; i < options.classes.length; i++)\r\n            this.addClass(options.classes[i]);\r\n\r\n    if (options.attributes)\r\n        for (key in options.attributes)\r\n            this.setAttribute(key, options.attributes[key]);\r\n\r\n    if (options.properties)\r\n        for (key in options.properties)\r\n            this.setProperty(key, options.properties[key]);\r\n\r\n    if (options.id) this.setId(options.id);\r\n    if (options.content) this.setContent(options.content);\r\n    if (options.cutout === false) this.setCutoutState(options.cutout);\r\n}\r\n\r\n/**\r\n * Serializes the state of the DOMElement.\r\n *\r\n * @method\r\n *\r\n * @return {Object} serialized interal state\r\n */\r\nDOMElement.prototype.getValue = function getValue() {\r\n    return {\r\n        classes: this._classes,\r\n        styles: this._styles,\r\n        attributes: this._attributes,\r\n        content: this._content,\r\n        id: this._attributes.id,\r\n        tagName: this._tagName\r\n    };\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as an update occurs. This allows\r\n * the DOMElement renderable to dynamically react to state changes on the Node.\r\n *\r\n * This flushes the internal draw command queue by sending individual commands\r\n * to the node using `sendDrawCommand`.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onUpdate = function onUpdate () {\r\n    var node = this._node;\r\n    var queue = this._changeQueue;\r\n    var len = queue.length;\r\n\r\n    if (len && node) {\r\n        node.sendDrawCommand(Commands.WITH);\r\n        node.sendDrawCommand(node.getLocation());\r\n\r\n        while (len--) node.sendDrawCommand(queue.shift());\r\n        if (this._requestRenderSize) {\r\n            node.sendDrawCommand(Commands.DOM_RENDER_SIZE);\r\n            node.sendDrawCommand(node.getLocation());\r\n            this._requestRenderSize = false;\r\n        }\r\n\r\n    }\r\n\r\n    this._requestingUpdate = false;\r\n};\r\n\r\n/**\r\n * Method to be invoked by the Node as soon as the node (or any of its\r\n * ancestors) is being mounted.\r\n *\r\n * @method onMount\r\n *\r\n * @param {Node} node      Parent node to which the component should be added.\r\n * @param {String} id      Path at which the component (or node) is being\r\n *                          attached. The path is being set on the actual\r\n *                          DOMElement as a `data-fa-path`-attribute.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onMount = function onMount(node, id) {\r\n    this._node = node;\r\n    this._id = id;\r\n    this._UIEvents = node.getUIEvents().slice(0);\r\n    TransformSystem.makeBreakPointAt(node.getLocation());\r\n    this.onSizeModeChange.apply(this, node.getSizeMode());\r\n    this.draw();\r\n    this.setAttribute('data-fa-path', node.getLocation());\r\n};\r\n\r\n/**\r\n * Method to be invoked by the Node as soon as the node is being dismounted\r\n * either directly or by dismounting one of its ancestors.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onDismount = function onDismount() {\r\n    this.setProperty('display', 'none');\r\n    this.setAttribute('data-fa-path', '');\r\n    this.setCutoutState(false);\r\n\r\n    this.onUpdate();\r\n    this._initialized = false;\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as the DOMElement is being shown.\r\n * This results into the DOMElement setting the `display` property to `block`\r\n * and therefore visually showing the corresponding DOMElement (again).\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onShow = function onShow() {\r\n    this.setProperty('display', 'block');\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as the DOMElement is being hidden.\r\n * This results into the DOMElement setting the `display` property to `none`\r\n * and therefore visually hiding the corresponding DOMElement (again).\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onHide = function onHide() {\r\n    this.setProperty('display', 'none');\r\n};\r\n\r\n/**\r\n * Enables or disables WebGL 'cutout' for this element, which affects\r\n * how the element is layered with WebGL objects in the scene.\r\n *\r\n * @method\r\n *\r\n * @param {Boolean} usesCutout  The presence of a WebGL 'cutout' for this element.\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.setCutoutState = function setCutoutState (usesCutout) {\r\n    if (this._initialized)\r\n        this._changeQueue.push(Commands.GL_CUTOUT_STATE, usesCutout);\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n    return this;\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as the transform matrix associated\r\n * with the node changes. The DOMElement will react to transform changes by sending\r\n * `CHANGE_TRANSFORM` commands to the `DOMRenderer`.\r\n *\r\n * @method\r\n *\r\n * @param {Float32Array} transform The final transform matrix\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onTransformChange = function onTransformChange (transform) {\r\n    this._changeQueue.push(Commands.CHANGE_TRANSFORM);\r\n    transform = transform.getLocalTransform();\r\n\r\n    for (var i = 0, len = transform.length ; i < len ; i++)\r\n        this._changeQueue.push(transform[i]);\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as its computed size changes.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x width of the Node the DOMElement is attached to\r\n * @param {Number} y height of the Node the DOMElement is attached to\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.onSizeChange = function onSizeChange(x, y) {\r\n    var sizeMode = this._node.getSizeMode();\r\n    var sizedX = sizeMode[0] !== Size.RENDER;\r\n    var sizedY = sizeMode[1] !== Size.RENDER;\r\n    if (this._initialized)\r\n        this._changeQueue.push(Commands.CHANGE_SIZE,\r\n            sizedX ? x : sizedX,\r\n            sizedY ? y : sizedY);\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n    return this;\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as its opacity changes\r\n *\r\n * @method\r\n *\r\n * @param {Number} opacity The new opacity, as a scalar from 0 to 1\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.onOpacityChange = function onOpacityChange(opacity) {\r\n    return this.setProperty('opacity', opacity);\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as a new UIEvent is being added.\r\n * This results into an `ADD_EVENT_LISTENER` command being sent.\r\n *\r\n * @param {String} uiEvent uiEvent to be subscribed to (e.g. `click`)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onAddUIEvent = function onAddUIEvent(uiEvent) {\r\n    if (this._UIEvents.indexOf(uiEvent) === -1) {\r\n        this._subscribe(uiEvent);\r\n        this._UIEvents.push(uiEvent);\r\n    }\r\n    else if (this._inDraw) {\r\n        this._subscribe(uiEvent);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as a UIEvent is removed from\r\n * the node.  This results into an `UNSUBSCRIBE` command being sent.\r\n *\r\n * @param {String} UIEvent UIEvent to be removed (e.g. `mousedown`)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onRemoveUIEvent = function onRemoveUIEvent(UIEvent) {\r\n    var index = this._UIEvents.indexOf(UIEvent);\r\n    if (index !== -1) {\r\n        this._unsubscribe(UIEvent);\r\n        this._UIEvents.splice(index, 1);\r\n    }\r\n    else if (this._inDraw) {\r\n        this._unsubscribe(UIEvent);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Appends an `SUBSCRIBE` command to the command queue.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {String} uiEvent Event type (e.g. `click`)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype._subscribe = function _subscribe (uiEvent) {\r\n    if (this._initialized) {\r\n        this._changeQueue.push(Commands.SUBSCRIBE, uiEvent);\r\n    }\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\n/**\r\n * When running in a worker, the browser's default action for specific events\r\n * can't be prevented on a case by case basis (via `e.preventDefault()`).\r\n * Instead this function should be used to register an event to be prevented by\r\n * default.\r\n *\r\n * @method\r\n *\r\n * @param  {String} uiEvent     UI Event (e.g. wheel) for which to prevent the\r\n *                              browser's default action (e.g. form submission,\r\n *                              scrolling)\r\n * @return {undefined}          undefined\r\n */\r\nDOMElement.prototype.preventDefault = function preventDefault (uiEvent) {\r\n    if (this._initialized) {\r\n        this._changeQueue.push(Commands.PREVENT_DEFAULT, uiEvent);\r\n    }\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\n/**\r\n * Opposite of {@link DOMElement#preventDefault}. No longer prevent the\r\n * browser's default action on subsequent events of this type.\r\n *\r\n * @method\r\n *\r\n * @param  {type} uiEvent       UI Event previously registered using\r\n *                              {@link DOMElement#preventDefault}.\r\n * @return {undefined}          undefined\r\n */\r\nDOMElement.prototype.allowDefault = function allowDefault (uiEvent) {\r\n    if (this._initialized) {\r\n        this._changeQueue.push(Commands.ALLOW_DEFAULT, uiEvent);\r\n    }\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\n/**\r\n * Appends an `UNSUBSCRIBE` command to the command queue.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {String} UIEvent Event type (e.g. `click`)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype._unsubscribe = function _unsubscribe (UIEvent) {\r\n    if (this._initialized) {\r\n        this._changeQueue.push(Commands.UNSUBSCRIBE, UIEvent);\r\n    }\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\n/**\r\n * Method to be invoked by the node as soon as the underlying size mode\r\n * changes. This results into the size being fetched from the node in\r\n * order to update the actual, rendered size.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x the sizing mode in use for determining size in the x direction\r\n * @param {Number} y the sizing mode in use for determining size in the y direction\r\n * @param {Number} z the sizing mode in use for determining size in the z direction\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onSizeModeChange = function onSizeModeChange(x, y, z) {\r\n    if (x === Size.RENDER || y === Size.RENDER || z === Size.RENDER) {\r\n        this._renderSized = true;\r\n        this._requestRenderSize = true;\r\n    }\r\n    var size = this._node.getSize();\r\n    this.onSizeChange(size[0], size[1]);\r\n};\r\n\r\n/**\r\n * Method to be retrieve the rendered size of the DOM element that is\r\n * drawn for this node.\r\n *\r\n * @method\r\n *\r\n * @return {Array} size of the rendered DOM element in pixels\r\n */\r\nDOMElement.prototype.getRenderSize = function getRenderSize() {\r\n    return this._renderSize;\r\n};\r\n\r\n/**\r\n * Method to have the component request an update from its Node\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype._requestUpdate = function _requestUpdate() {\r\n    if (!this._requestingUpdate && this._id) {\r\n        this._node.requestUpdate(this._id);\r\n        this._requestingUpdate = true;\r\n    }\r\n};\r\n\r\n/**\r\n * Initializes the DOMElement by sending the `INIT_DOM` command. This creates\r\n * or reallocates a new Element in the actual DOM hierarchy.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.init = function init () {\r\n    this._changeQueue.push(Commands.INIT_DOM, this._tagName);\r\n    this._initialized = true;\r\n    this.onTransformChange(TransformSystem.get(this._node.getLocation()));\r\n    var size = this._node.getSize();\r\n    this.onSizeChange(size[0], size[1]);\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n};\r\n\r\n/**\r\n * Sets the id attribute of the DOMElement.\r\n *\r\n * @method\r\n *\r\n * @param {String} id New id to be set\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.setId = function setId (id) {\r\n    this.setAttribute('id', id);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Adds a new class to the internal class list of the underlying Element in the\r\n * DOM.\r\n *\r\n * @method\r\n *\r\n * @param {String} value New class name to be added\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.addClass = function addClass (value) {\r\n    if (this._classes.indexOf(value) < 0) {\r\n        if (this._initialized) this._changeQueue.push(Commands.ADD_CLASS, value);\r\n        this._classes.push(value);\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n        if (this._renderSized) this._requestRenderSize = true;\r\n        return this;\r\n    }\r\n\r\n    if (this._inDraw) {\r\n        if (this._initialized) this._changeQueue.push(Commands.ADD_CLASS, value);\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes a class from the DOMElement's classList.\r\n *\r\n * @method\r\n *\r\n * @param {String} value Class name to be removed\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.removeClass = function removeClass (value) {\r\n    var index = this._classes.indexOf(value);\r\n\r\n    if (index < 0) return this;\r\n\r\n    this._changeQueue.push(Commands.REMOVE_CLASS, value);\r\n\r\n    this._classes.splice(index, 1);\r\n\r\n    if (!this._requestingUpdate) this._requestUpdate();\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Checks if the DOMElement has the passed in class.\r\n *\r\n * @method\r\n *\r\n * @param {String} value The class name\r\n *\r\n * @return {Boolean} Boolean value indicating whether the passed in class name is in the DOMElement's class list.\r\n */\r\nDOMElement.prototype.hasClass = function hasClass (value) {\r\n    return this._classes.indexOf(value) !== -1;\r\n};\r\n\r\n/**\r\n * Sets an attribute of the DOMElement.\r\n *\r\n * @method\r\n *\r\n * @param {String} name Attribute key (e.g. `src`)\r\n * @param {String} value Attribute value (e.g. `http://famo.us`)\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.setAttribute = function setAttribute (name, value) {\r\n    if (this._attributes[name] !== value || this._inDraw) {\r\n        this._attributes[name] = value;\r\n        if (this._initialized) this._changeQueue.push(Commands.CHANGE_ATTRIBUTE, name, value);\r\n        if (!this._requestUpdate) this._requestUpdate();\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets a CSS property\r\n *\r\n * @chainable\r\n *\r\n * @param {String} name  Name of the CSS rule (e.g. `background-color`)\r\n * @param {String} value Value of CSS property (e.g. `red`)\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.setProperty = function setProperty (name, value) {\r\n    if (this._styles[name] !== value || this._inDraw) {\r\n        this._styles[name] = value;\r\n        if (this._initialized) this._changeQueue.push(Commands.CHANGE_PROPERTY, name, value);\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n        if (this._renderSized) this._requestRenderSize = true;\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Sets the content of the DOMElement. This is using `innerHTML`, escaping user\r\n * generated content is therefore essential for security purposes.\r\n *\r\n * @method\r\n *\r\n * @param {String} content Content to be set using `.innerHTML = ...`\r\n *\r\n * @return {DOMElement} this\r\n */\r\nDOMElement.prototype.setContent = function setContent (content) {\r\n    if (this._content !== content || this._inDraw) {\r\n        this._content = content;\r\n        if (this._initialized) this._changeQueue.push(Commands.CHANGE_CONTENT, content);\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n        if (this._renderSized) this._requestRenderSize = true;\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Subscribes to a DOMElement using.\r\n *\r\n * @method on\r\n *\r\n * @param {String} event       The event type (e.g. `click`).\r\n * @param {Function} listener  Handler function for the specified event type\r\n *                              in which the payload event object will be\r\n *                              passed into.\r\n *\r\n * @return {Function} A function to call if you want to remove the callback\r\n */\r\nDOMElement.prototype.on = function on (event, listener) {\r\n    return this._callbacks.on(event, listener);\r\n};\r\n\r\n/**\r\n * Function to be invoked by the Node whenever an event is being received.\r\n * There are two different ways to subscribe for those events:\r\n *\r\n * 1. By overriding the onReceive method (and possibly using `switch` in order\r\n *     to differentiate between the different event types).\r\n * 2. By using DOMElement and using the built-in CallbackStore.\r\n *\r\n * @method\r\n *\r\n * @param {String} event Event type (e.g. `click`)\r\n * @param {Object} payload Event object.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.onReceive = function onReceive (event, payload) {\r\n    if (event === 'resize') {\r\n        this._renderSize[0] = payload.val[0];\r\n        this._renderSize[1] = payload.val[1];\r\n        if (!this._requestingUpdate) this._requestUpdate();\r\n    }\r\n    this._callbacks.trigger(event, payload);\r\n};\r\n\r\n/**\r\n * The draw function is being used in order to allow mutating the DOMElement\r\n * before actually mounting the corresponding node.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMElement.prototype.draw = function draw() {\r\n    var key;\r\n    var i;\r\n    var len;\r\n\r\n    this._inDraw = true;\r\n\r\n    this.init();\r\n\r\n    for (i = 0, len = this._classes.length ; i < len ; i++)\r\n        this.addClass(this._classes[i]);\r\n\r\n    if (this._content) this.setContent(this._content);\r\n\r\n    for (key in this._styles)\r\n        if (this._styles[key] != null)\r\n            this.setProperty(key, this._styles[key]);\r\n\r\n    for (key in this._attributes)\r\n        if (this._attributes[key] != null)\r\n            this.setAttribute(key, this._attributes[key]);\r\n\r\n    for (i = 0, len = this._UIEvents.length ; i < len ; i++)\r\n        this.onAddUIEvent(this._UIEvents[i]);\r\n\r\n    this._inDraw = false;\r\n};\r\n\r\nmodule.exports = DOMElement;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar ElementCache = require('./ElementCache');\r\nvar math = require('./Math');\r\nvar PathUtils = require('../core/Path');\r\nvar vendorPrefix = require('../utilities/vendorPrefix');\r\nvar CallbackStore = require('../utilities/CallbackStore');\r\nvar eventMap = require('./events/EventMap');\r\n\r\nvar TRANSFORM = null;\r\n\r\n/**\r\n * DOMRenderer is a class responsible for adding elements\r\n * to the DOM and writing to those elements.\r\n * There is a DOMRenderer per context, represented as an\r\n * element and a selector. It is instantiated in the\r\n * context class.\r\n *\r\n * @class DOMRenderer\r\n *\r\n * @param {HTMLElement} element an element.\r\n * @param {String} selector the selector of the element.\r\n * @param {Compositor} compositor the compositor controlling the renderer\r\n */\r\nfunction DOMRenderer (element, selector, compositor) {\r\n    var _this = this;\r\n\r\n    element.classList.add('famous-dom-renderer');\r\n\r\n    TRANSFORM = TRANSFORM || vendorPrefix('transform');\r\n    this._compositor = compositor; // a reference to the compositor\r\n\r\n    this._target = null; // a register for holding the current\r\n                         // element that the Renderer is operating\r\n                         // upon\r\n\r\n    this._parent = null; // a register for holding the parent\r\n                         // of the target\r\n\r\n    this._path = null; // a register for holding the path of the target\r\n                       // this register must be set first, and then\r\n                       // children, target, and parent are all looked\r\n                       // up from that.\r\n\r\n    this._children = []; // a register for holding the children of the\r\n                         // current target.\r\n\r\n     this._insertElCallbackStore = new CallbackStore();\r\n     this._removeElCallbackStore = new CallbackStore();\r\n\r\n    this._root = new ElementCache(element, selector); // the root\r\n                                                      // of the dom tree that this\r\n                                                      // renderer is responsible\r\n                                                      // for\r\n\r\n    this._boundTriggerEvent = function (ev) {\r\n        return _this._triggerEvent(ev);\r\n    };\r\n\r\n    this._selector = selector;\r\n\r\n    this._elements = {};\r\n\r\n    this._elements[selector] = this._root;\r\n\r\n    this.perspectiveTransform = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\r\n    this._VPtransform = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\r\n\r\n    this._lastEv = null;\r\n}\r\n\r\n\r\n/**\r\n * Attaches an EventListener to the element associated with the passed in path.\r\n * Prevents the default browser action on all subsequent events if\r\n * `preventDefault` is truthy.\r\n * All incoming events will be forwarded to the compositor by invoking the\r\n * `sendEvent` method.\r\n * Delegates events if possible by attaching the event listener to the context.\r\n *\r\n * @method\r\n *\r\n * @param {String} type DOM event type (e.g. click, mouseover).\r\n * @param {Boolean} preventDefault Whether or not the default browser action should be prevented.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.subscribe = function subscribe(type) {\r\n    this._assertTargetLoaded();\r\n    this._listen(type);\r\n    this._target.subscribe[type] = true;\r\n};\r\n\r\n/**\r\n * Used to preventDefault if an event of the specified type is being emitted on\r\n * the currently loaded target.\r\n *\r\n * @method\r\n *\r\n * @param  {String} type    The type of events that should be prevented.\r\n * @return {undefined}      undefined\r\n */\r\nDOMRenderer.prototype.preventDefault = function preventDefault(type) {\r\n    this._assertTargetLoaded();\r\n    this._listen(type);\r\n    this._target.preventDefault[type] = true;\r\n};\r\n\r\n/**\r\n * Used to undo a previous call to preventDefault. No longer `preventDefault`\r\n * for this event on the loaded target.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param  {String} type    The event type that should no longer be affected by\r\n *                          `preventDefault`.\r\n * @return {undefined}      undefined\r\n */\r\nDOMRenderer.prototype.allowDefault = function allowDefault(type) {\r\n    this._assertTargetLoaded();\r\n    this._listen(type);\r\n    this._target.preventDefault[type] = false;\r\n};\r\n\r\n/**\r\n * Internal helper function used for adding an event listener for the the\r\n * currently loaded ElementCache.\r\n *\r\n * If the event can be delegated as specified in the {@link EventMap}, the\r\n * bound {@link _triggerEvent} function will be added as a listener on the\r\n * root element. Otherwise, the listener will be added directly to the target\r\n * element.\r\n *\r\n * @private\r\n * @method\r\n *\r\n * @param  {String} type    The event type to listen to (e.g. click).\r\n * @return {undefined}      undefined\r\n */\r\nDOMRenderer.prototype._listen = function _listen(type) {\r\n    this._assertTargetLoaded();\r\n\r\n    if (\r\n        !this._target.listeners[type] && !this._root.listeners[type]\r\n    ) {\r\n        // FIXME Add to content DIV if available\r\n        var target = eventMap[type][1] ? this._root : this._target;\r\n        target.listeners[type] = this._boundTriggerEvent;\r\n        target.element.addEventListener(type, this._boundTriggerEvent);\r\n    }\r\n};\r\n\r\n/**\r\n * Unsubscribes from all events that are of the specified type.\r\n *\r\n * @method\r\n *\r\n * @param {String} type DOM event type (e.g. click, mouseover).\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.unsubscribe = function unsubscribe(type) {\r\n    this._assertTargetLoaded();\r\n    this._target.subscribe[type] = false;\r\n};\r\n\r\n/**\r\n * Function to be added using `addEventListener` to the corresponding\r\n * DOMElement.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Event} ev DOM Event payload\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype._triggerEvent = function _triggerEvent(ev) {\r\n    if (this._lastEv === ev) return;\r\n\r\n    // Use ev.path, which is an array of Elements (polyfilled if needed).\r\n    var evPath = ev.path ? ev.path : _getPath(ev);\r\n    // First element in the path is the element on which the event has actually\r\n    // been emitted.\r\n    for (var i = 0; i < evPath.length; i++) {\r\n        // Skip nodes that don't have a dataset property or data-fa-path\r\n        // attribute.\r\n        if (!evPath[i].dataset) continue;\r\n        var path = evPath[i].dataset.faPath;\r\n        if (!path) continue;\r\n\r\n        // Optionally preventDefault. This needs forther consideration and\r\n        // should be optional. Eventually this should be a separate command/\r\n        // method.\r\n        if (this._elements[path].preventDefault[ev.type]) {\r\n            ev.preventDefault();\r\n        }\r\n\r\n        // Stop further event propogation and path traversal as soon as the\r\n        // first ElementCache subscribing for the emitted event has been found.\r\n        if (this._elements[path] && this._elements[path].subscribe[ev.type]) {\r\n            this._lastEv = ev;\r\n\r\n            var NormalizedEventConstructor = eventMap[ev.type][0];\r\n\r\n            // Finally send the event to the Worker Thread through the\r\n            // compositor.\r\n            this._compositor.sendEvent(path, ev.type, new NormalizedEventConstructor(ev));\r\n\r\n            break;\r\n        }\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * getSizeOf gets the dom size of a particular DOM element.  This is\r\n * needed for render sizing in the scene graph.\r\n *\r\n * @method\r\n *\r\n * @param {String} path path of the Node in the scene graph\r\n *\r\n * @return {Array} a vec3 of the offset size of the dom element\r\n */\r\nDOMRenderer.prototype.getSizeOf = function getSizeOf(path) {\r\n    var element = this._elements[path];\r\n    if (!element) return null;\r\n\r\n    var res = {val: element.size};\r\n    this._compositor.sendEvent(path, 'resize', res);\r\n    return res;\r\n};\r\n\r\nfunction _getPath(ev) {\r\n    // TODO move into _triggerEvent, avoid object allocation\r\n    var path = [];\r\n    var node = ev.target;\r\n    while (node !== document.body) {\r\n        path.push(node);\r\n        node = node.parentNode;\r\n    }\r\n    return path;\r\n}\r\n\r\n/**\r\n * Executes the retrieved draw commands. Draw commands only refer to the\r\n * cross-browser normalized `transform` property.\r\n *\r\n * @method\r\n *\r\n * @param {Object} renderState description\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.draw = function draw(renderState) {\r\n    if (renderState.perspectiveDirty) {\r\n        this.perspectiveDirty = true;\r\n\r\n        this.perspectiveTransform[0] = renderState.perspectiveTransform[0];\r\n        this.perspectiveTransform[1] = renderState.perspectiveTransform[1];\r\n        this.perspectiveTransform[2] = renderState.perspectiveTransform[2];\r\n        this.perspectiveTransform[3] = renderState.perspectiveTransform[3];\r\n\r\n        this.perspectiveTransform[4] = renderState.perspectiveTransform[4];\r\n        this.perspectiveTransform[5] = renderState.perspectiveTransform[5];\r\n        this.perspectiveTransform[6] = renderState.perspectiveTransform[6];\r\n        this.perspectiveTransform[7] = renderState.perspectiveTransform[7];\r\n\r\n        this.perspectiveTransform[8] = renderState.perspectiveTransform[8];\r\n        this.perspectiveTransform[9] = renderState.perspectiveTransform[9];\r\n        this.perspectiveTransform[10] = renderState.perspectiveTransform[10];\r\n        this.perspectiveTransform[11] = renderState.perspectiveTransform[11];\r\n\r\n        this.perspectiveTransform[12] = renderState.perspectiveTransform[12];\r\n        this.perspectiveTransform[13] = renderState.perspectiveTransform[13];\r\n        this.perspectiveTransform[14] = renderState.perspectiveTransform[14];\r\n        this.perspectiveTransform[15] = renderState.perspectiveTransform[15];\r\n    }\r\n\r\n    if (renderState.viewDirty || renderState.perspectiveDirty) {\r\n        math.multiply(this._VPtransform, this.perspectiveTransform, renderState.viewTransform);\r\n        this._root.element.style[TRANSFORM] = this._stringifyMatrix(this._VPtransform);\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Internal helper function used for ensuring that a path is currently loaded.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype._assertPathLoaded = function _asserPathLoaded() {\r\n    if (!this._path) throw new Error('path not loaded');\r\n};\r\n\r\n/**\r\n * Internal helper function used for ensuring that a parent is currently loaded.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype._assertParentLoaded = function _assertParentLoaded() {\r\n    if (!this._parent) throw new Error('parent not loaded');\r\n};\r\n\r\n/**\r\n * Internal helper function used for ensuring that children are currently\r\n * loaded.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype._assertChildrenLoaded = function _assertChildrenLoaded() {\r\n    if (!this._children) throw new Error('children not loaded');\r\n};\r\n\r\n/**\r\n * Internal helper function used for ensuring that a target is currently loaded.\r\n *\r\n * @method  _assertTargetLoaded\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype._assertTargetLoaded = function _assertTargetLoaded() {\r\n    if (!this._target) throw new Error('No target loaded');\r\n};\r\n\r\n/**\r\n * Finds and sets the parent of the currently loaded element (path).\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {ElementCache} Parent element.\r\n */\r\nDOMRenderer.prototype.findParent = function findParent () {\r\n    this._assertPathLoaded();\r\n\r\n    var path = this._path;\r\n    var parent;\r\n\r\n    while (!parent && path.length) {\r\n        path = path.substring(0, path.lastIndexOf('/'));\r\n        parent = this._elements[path];\r\n    }\r\n\r\n    this._parent = parent;\r\n    return parent;\r\n};\r\n\r\n/**\r\n * Used for determining the target loaded under the current path.\r\n *\r\n * @method\r\n * @deprecated\r\n *\r\n * @return {ElementCache|undefined} Element loaded under defined path.\r\n */\r\nDOMRenderer.prototype.findTarget = function findTarget() {\r\n    this._target = this._elements[this._path];\r\n    return this._target;\r\n};\r\n\r\n/**\r\n * Loads the passed in path into the DOMRenderer.\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path to be loaded\r\n *\r\n * @return {String} Loaded path\r\n */\r\nDOMRenderer.prototype.loadPath = function loadPath (path) {\r\n    this._path = path;\r\n    this._target = this._elements[this._path];\r\n    return this._path;\r\n};\r\n\r\n/**\r\n * Finds children of a parent element that are descendents of a inserted element in the scene\r\n * graph. Appends those children to the inserted element.\r\n *\r\n * @method resolveChildren\r\n * @return {void}\r\n *\r\n * @param {HTMLElement} element the inserted element\r\n * @param {HTMLElement} parent the parent of the inserted element\r\n */\r\nDOMRenderer.prototype.resolveChildren = function resolveChildren (element, parent) {\r\n    var i = 0;\r\n    var childNode;\r\n    var path = this._path;\r\n    var childPath;\r\n\r\n    while ((childNode = parent.childNodes[i])) {\r\n        if (!childNode.dataset) {\r\n            i++;\r\n            continue;\r\n        }\r\n        childPath = childNode.dataset.faPath;\r\n        if (!childPath) {\r\n            i++;\r\n            continue;\r\n        }\r\n        if (PathUtils.isDescendentOf(childPath, path)) element.appendChild(childNode);\r\n        else i++;\r\n    }\r\n};\r\n\r\n/**\r\n * Inserts a DOMElement at the currently loaded path, assuming no target is\r\n * loaded. Only one DOMElement can be associated with each path.\r\n *\r\n * @method\r\n *\r\n * @param {String} tagName Tag name (capitalization will be normalized).\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.insertEl = function insertEl (tagName) {\r\n\r\n    this.findParent();\r\n\r\n    this._assertParentLoaded();\r\n\r\n    if (this._parent.void)\r\n        throw new Error(\r\n            this._parent.path + ' is a void element. ' +\r\n            'Void elements are not allowed to have children.'\r\n        );\r\n\r\n    if (!this._target) this._target = new ElementCache(document.createElement(tagName), this._path);\r\n\r\n    var el = this._target.element;\r\n    var parent = this._parent.element;\r\n\r\n    this.resolveChildren(el, parent);\r\n\r\n    parent.appendChild(el);\r\n    this._elements[this._path] = this._target;\r\n\r\n    this._insertElCallbackStore.trigger(this._path, this._target);\r\n\r\n};\r\n\r\n\r\n/**\r\n * Sets a property on the currently loaded target.\r\n *\r\n * @method\r\n *\r\n * @param {String} name Property name (e.g. background, color, font)\r\n * @param {String} value Proprty value (e.g. black, 20px)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setProperty = function setProperty (name, value) {\r\n    this._assertTargetLoaded();\r\n    this._target.element.style[name] = value;\r\n};\r\n\r\n\r\n/**\r\n * Sets the size of the currently loaded target.\r\n * Removes any explicit sizing constraints when passed in `false`\r\n * (\"true-sizing\").\r\n *\r\n * Invoking setSize is equivalent to a manual invocation of `setWidth` followed\r\n * by `setHeight`.\r\n *\r\n * @method\r\n *\r\n * @param {Number|false} width   Width to be set.\r\n * @param {Number|false} height  Height to be set.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setSize = function setSize (width, height) {\r\n    this._assertTargetLoaded();\r\n\r\n    this.setWidth(width);\r\n    this.setHeight(height);\r\n};\r\n\r\n/**\r\n * Sets the width of the currently loaded ElementCache.\r\n *\r\n * @method\r\n *\r\n * @param  {Number|false} width     The explicit width to be set on the\r\n *                                  ElementCache's target (and content) element.\r\n *                                  `false` removes any explicit sizing\r\n *                                  constraints from the underlying DOM\r\n *                                  Elements.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setWidth = function setWidth(width) {\r\n    this._assertTargetLoaded();\r\n\r\n    var contentWrapper = this._target.content;\r\n\r\n    if (width === false) {\r\n        this._target.explicitWidth = true;\r\n        if (contentWrapper) contentWrapper.style.width = '';\r\n        width = contentWrapper ? contentWrapper.offsetWidth : 0;\r\n        this._target.element.style.width = width + 'px';\r\n    }\r\n    else {\r\n        this._target.explicitWidth = false;\r\n        if (contentWrapper) contentWrapper.style.width = width + 'px';\r\n        this._target.element.style.width = width + 'px';\r\n    }\r\n\r\n    this._target.size[0] = width;\r\n};\r\n\r\n/**\r\n * Sets the height of the currently loaded ElementCache.\r\n *\r\n * @method  setHeight\r\n *\r\n * @param  {Number|false} height    The explicit height to be set on the\r\n *                                  ElementCache's target (and content) element.\r\n *                                  `false` removes any explicit sizing\r\n *                                  constraints from the underlying DOM\r\n *                                  Elements.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setHeight = function setHeight(height) {\r\n    this._assertTargetLoaded();\r\n\r\n    var contentWrapper = this._target.content;\r\n\r\n    if (height === false) {\r\n        this._target.explicitHeight = true;\r\n        if (contentWrapper) contentWrapper.style.height = '';\r\n        height = contentWrapper ? contentWrapper.offsetHeight : 0;\r\n        this._target.element.style.height = height + 'px';\r\n    }\r\n    else {\r\n        this._target.explicitHeight = false;\r\n        if (contentWrapper) contentWrapper.style.height = height + 'px';\r\n        this._target.element.style.height = height + 'px';\r\n    }\r\n\r\n    this._target.size[1] = height;\r\n};\r\n\r\n/**\r\n * Sets an attribute on the currently loaded target.\r\n *\r\n * @method\r\n *\r\n * @param {String} name Attribute name (e.g. href)\r\n * @param {String} value Attribute value (e.g. http://famous.org)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setAttribute = function setAttribute(name, value) {\r\n    this._assertTargetLoaded();\r\n    this._target.element.setAttribute(name, value);\r\n    if (name ===\"value\")\r\n        this._target.element.value = value;\r\n};\r\n\r\n/**\r\n * Sets the `innerHTML` content of the currently loaded target.\r\n *\r\n * @method\r\n *\r\n * @param {String} content Content to be set as `innerHTML`\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setContent = function setContent(content) {\r\n    this._assertTargetLoaded();\r\n\r\n    if (this._target.formElement) {\r\n        this._target.element.value = content;\r\n    }\r\n    else {\r\n        if (!this._target.content) {\r\n            this._target.content = document.createElement('div');\r\n            this._target.content.classList.add('famous-dom-element-content');\r\n            this._target.element.insertBefore(\r\n                this._target.content,\r\n                this._target.element.firstChild\r\n            );\r\n        }\r\n        this._target.content.innerHTML = content;\r\n    }\r\n\r\n\r\n    this.setSize(\r\n        this._target.explicitWidth ? false : this._target.size[0],\r\n        this._target.explicitHeight ? false : this._target.size[1]\r\n    );\r\n};\r\n\r\n\r\n/**\r\n * Sets the passed in transform matrix (world space). Inverts the parent's world\r\n * transform.\r\n *\r\n * @method\r\n *\r\n * @param {Float32Array} transform The transform for the loaded DOM Element in world space\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.setMatrix = function setMatrix (transform) {\r\n    this._assertTargetLoaded();\r\n    this._target.element.style[TRANSFORM] = this._stringifyMatrix(transform);\r\n};\r\n\r\n\r\n/**\r\n * Adds a class to the classList associated with the currently loaded target.\r\n *\r\n * @method\r\n *\r\n * @param {String} domClass Class name to be added to the current target.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.addClass = function addClass(domClass) {\r\n    this._assertTargetLoaded();\r\n    this._target.element.classList.add(domClass);\r\n};\r\n\r\n\r\n/**\r\n * Removes a class from the classList associated with the currently loaded\r\n * target.\r\n *\r\n * @method\r\n *\r\n * @param {String} domClass Class name to be removed from currently loaded target.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nDOMRenderer.prototype.removeClass = function removeClass(domClass) {\r\n    this._assertTargetLoaded();\r\n    this._target.element.classList.remove(domClass);\r\n};\r\n\r\n\r\n/**\r\n * Stringifies the passed in matrix for setting the `transform` property.\r\n *\r\n * @method  _stringifyMatrix\r\n * @private\r\n *\r\n * @param {Array} m    Matrix as an array or array-like object.\r\n * @return {String}     Stringified matrix as `matrix3d`-property.\r\n */\r\nDOMRenderer.prototype._stringifyMatrix = function _stringifyMatrix(m) {\r\n    var r = 'matrix3d(';\r\n\r\n    r += (m[0] < 0.000001 && m[0] > -0.000001) ? '0,' : m[0] + ',';\r\n    r += (m[1] < 0.000001 && m[1] > -0.000001) ? '0,' : m[1] + ',';\r\n    r += (m[2] < 0.000001 && m[2] > -0.000001) ? '0,' : m[2] + ',';\r\n    r += (m[3] < 0.000001 && m[3] > -0.000001) ? '0,' : m[3] + ',';\r\n    r += (m[4] < 0.000001 && m[4] > -0.000001) ? '0,' : m[4] + ',';\r\n    r += (m[5] < 0.000001 && m[5] > -0.000001) ? '0,' : m[5] + ',';\r\n    r += (m[6] < 0.000001 && m[6] > -0.000001) ? '0,' : m[6] + ',';\r\n    r += (m[7] < 0.000001 && m[7] > -0.000001) ? '0,' : m[7] + ',';\r\n    r += (m[8] < 0.000001 && m[8] > -0.000001) ? '0,' : m[8] + ',';\r\n    r += (m[9] < 0.000001 && m[9] > -0.000001) ? '0,' : m[9] + ',';\r\n    r += (m[10] < 0.000001 && m[10] > -0.000001) ? '0,' : m[10] + ',';\r\n    r += (m[11] < 0.000001 && m[11] > -0.000001) ? '0,' : m[11] + ',';\r\n    r += (m[12] < 0.000001 && m[12] > -0.000001) ? '0,' : m[12] + ',';\r\n    r += (m[13] < 0.000001 && m[13] > -0.000001) ? '0,' : m[13] + ',';\r\n    r += (m[14] < 0.000001 && m[14] > -0.000001) ? '0,' : m[14] + ',';\r\n\r\n    r += m[15] + ')';\r\n    return r;\r\n};\r\n\r\n/**\r\n * Registers a function to be executed when a new element is being inserted at\r\n * the specified path.\r\n *\r\n * @method\r\n *\r\n * @param  {String}   path      Path at which to listen for element insertion.\r\n * @param  {Function} callback  Function to be executed when an insertion\r\n *                              occurs.\r\n * @return {DOMRenderer}        this\r\n */\r\nDOMRenderer.prototype.onInsertEl = function onInsertEl(path, callback) {\r\n    this._insertElCallbackStore.on(path, callback);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Deregisters a listener function to be no longer executed on future element\r\n * insertions at the specified path.\r\n *\r\n * @method\r\n *\r\n * @param  {String}   path      Path at which the listener function has been\r\n *                              registered.\r\n * @param  {Function} callback  Callback function to be deregistered.\r\n * @return {DOMRenderer}        this\r\n */\r\nDOMRenderer.prototype.offInsertEl = function offInsertEl(path, callback) {\r\n    this._insertElCallbackStore.off(path, callback);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Registers an event handler to be triggered as soon as an element at the\r\n * specified path is being removed.\r\n *\r\n * @method\r\n *\r\n * @param  {String}   path      Path at which to listen for the removal of an\r\n *                              element.\r\n * @param  {Function} callback  Function to be executed when an element is\r\n *                              being removed at the specified path.\r\n * @return {DOMRenderer}        this\r\n */\r\nDOMRenderer.prototype.onRemoveEl = function onRemoveEl(path, callback) {\r\n    this._removeElCallbackStore.on(path, callback);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Deregisters a listener function to be no longer executed when an element is\r\n * being removed from the specified path.\r\n *\r\n * @method\r\n *\r\n * @param  {String}   path      Path at which the listener function has been\r\n *                              registered.\r\n * @param  {Function} callback  Callback function to be deregistered.\r\n * @return {DOMRenderer}        this\r\n */\r\nDOMRenderer.prototype.offRemoveEl = function offRemoveEl(path, callback) {\r\n    this._removeElCallbackStore.off(path, callback);\r\n    return this;\r\n};\r\n\r\nmodule.exports = DOMRenderer;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar VoidElements = require('./VoidElements');\r\n\r\n/**\r\n * ElementCache is being used for keeping track of an element's DOM Element,\r\n * path, world transform, inverted parent, final transform (as being used for\r\n * setting the actual `transform`-property) and post render size (final size as\r\n * being rendered to the DOM).\r\n *\r\n * @class ElementCache\r\n *\r\n * @param {Element} element DOMElement\r\n * @param {String} path Path used for uniquely identifying the location in the\r\n *                      scene graph.\r\n */\r\nfunction ElementCache (element, path) {\r\n    this.tagName = element.tagName.toLowerCase();\r\n    this.void = VoidElements[this.tagName];\r\n\r\n    var constructor = element.constructor;\r\n\r\n    this.formElement = constructor === HTMLInputElement ||\r\n        constructor === HTMLTextAreaElement ||\r\n        constructor === HTMLSelectElement;\r\n\r\n    this.element = element;\r\n    this.path = path;\r\n    this.content = null;\r\n    this.size = new Int16Array(3);\r\n    this.explicitHeight = false;\r\n    this.explicitWidth = false;\r\n    this.postRenderSize = new Float32Array(2);\r\n    this.listeners = {};\r\n    this.preventDefault = {};\r\n    this.subscribe = {};\r\n}\r\n\r\nmodule.exports = ElementCache;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * A method for inverting a transform matrix\r\n *\r\n * @method\r\n *\r\n * @param {Array} out array to store the return of the inversion\r\n * @param {Array} a transform matrix to inverse\r\n *\r\n * @return {Array} out\r\n *   output array that is storing the transform matrix\r\n */\r\nfunction invert (out, a) {\r\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\r\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\r\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\r\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\r\n\r\n        b00 = a00 * a11 - a01 * a10,\r\n        b01 = a00 * a12 - a02 * a10,\r\n        b02 = a00 * a13 - a03 * a10,\r\n        b03 = a01 * a12 - a02 * a11,\r\n        b04 = a01 * a13 - a03 * a11,\r\n        b05 = a02 * a13 - a03 * a12,\r\n        b06 = a20 * a31 - a21 * a30,\r\n        b07 = a20 * a32 - a22 * a30,\r\n        b08 = a20 * a33 - a23 * a30,\r\n        b09 = a21 * a32 - a22 * a31,\r\n        b10 = a21 * a33 - a23 * a31,\r\n        b11 = a22 * a33 - a23 * a32,\r\n\r\n        // Calculate the determinant\r\n        det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n\r\n    if (!det) {\r\n        return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\r\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\r\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\r\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\r\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\r\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\r\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * A method for multiplying two matricies\r\n *\r\n * @method\r\n *\r\n * @param {Array} out array to store the return of the multiplication\r\n * @param {Array} a transform matrix to multiply\r\n * @param {Array} b transform matrix to multiply\r\n *\r\n * @return {Array} out\r\n *   output array that is storing the transform matrix\r\n */\r\nfunction multiply (out, a, b) {\r\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\r\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\r\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\r\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\r\n\r\n        b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3],\r\n        b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7],\r\n        b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11],\r\n        b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];\r\n\r\n    var changed = false;\r\n    var out0, out1, out2, out3;\r\n\r\n    out0 = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    out1 = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    out2 = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    out3 = b0*a03 + b1*a13 + b2*a23 + b3*a33;\r\n\r\n    changed = changed ?\r\n              changed : out0 === out[0] ||\r\n                        out1 === out[1] ||\r\n                        out2 === out[2] ||\r\n                        out3 === out[3];\r\n\r\n    out[0] = out0;\r\n    out[1] = out1;\r\n    out[2] = out2;\r\n    out[3] = out3;\r\n\r\n    b0 = b4; b1 = b5; b2 = b6; b3 = b7;\r\n    out0 = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    out1 = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    out2 = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    out3 = b0*a03 + b1*a13 + b2*a23 + b3*a33;\r\n\r\n    changed = changed ?\r\n              changed : out0 === out[4] ||\r\n                        out1 === out[5] ||\r\n                        out2 === out[6] ||\r\n                        out3 === out[7];\r\n\r\n    out[4] = out0;\r\n    out[5] = out1;\r\n    out[6] = out2;\r\n    out[7] = out3;\r\n\r\n    b0 = b8; b1 = b9; b2 = b10; b3 = b11;\r\n    out0 = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    out1 = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    out2 = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    out3 = b0*a03 + b1*a13 + b2*a23 + b3*a33;\r\n\r\n    changed = changed ?\r\n              changed : out0 === out[8] ||\r\n                        out1 === out[9] ||\r\n                        out2 === out[10] ||\r\n                        out3 === out[11];\r\n\r\n    out[8] = out0;\r\n    out[9] = out1;\r\n    out[10] = out2;\r\n    out[11] = out3;\r\n\r\n    b0 = b12; b1 = b13; b2 = b14; b3 = b15;\r\n    out0 = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n    out1 = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n    out2 = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n    out3 = b0*a03 + b1*a13 + b2*a23 + b3*a33;\r\n\r\n    changed = changed ?\r\n              changed : out0 === out[12] ||\r\n                        out1 === out[13] ||\r\n                        out2 === out[14] ||\r\n                        out3 === out[15];\r\n\r\n    out[12] = out0;\r\n    out[13] = out1;\r\n    out[14] = out2;\r\n    out[15] = out3;\r\n\r\n    return out;\r\n}\r\n\r\nmodule.exports = {\r\n    multiply: multiply,\r\n    invert: invert\r\n};\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Map of void elements as defined by the\r\n * [HTML5 spec](http://www.w3.org/TR/html5/syntax.html#elements-0).\r\n *\r\n * @type {Object}\r\n */\r\nvar VoidElements = {\r\n    area  : true,\r\n    base  : true,\r\n    br    : true,\r\n    col   : true,\r\n    embed : true,\r\n    hr    : true,\r\n    img   : true,\r\n    input : true,\r\n    keygen: true,\r\n    link  : true,\r\n    meta  : true,\r\n    param : true,\r\n    source: true,\r\n    track : true,\r\n    wbr   : true\r\n};\r\n\r\nmodule.exports = VoidElements;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar UIEvent = require('./UIEvent');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428/#events-compositionevents).\r\n *\r\n * @class CompositionEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction CompositionEvent(ev) {\r\n    // [Constructor(DOMString typeArg, optional CompositionEventInit compositionEventInitDict)]\r\n    // interface CompositionEvent : UIEvent {\r\n    //     readonly    attribute DOMString data;\r\n    // };\r\n\r\n    UIEvent.call(this, ev);\r\n\r\n    /**\r\n     * @name CompositionEvent#data\r\n     * @type String\r\n     */\r\n    this.data = ev.data;\r\n}\r\n\r\nCompositionEvent.prototype = Object.create(UIEvent.prototype);\r\nCompositionEvent.prototype.constructor = CompositionEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nCompositionEvent.prototype.toString = function toString () {\r\n    return 'CompositionEvent';\r\n};\r\n\r\nmodule.exports = CompositionEvent;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * The Event class is being used in order to normalize native DOM events.\r\n * Events need to be normalized in order to be serialized through the structured\r\n * cloning algorithm used by the `postMessage` method (Web Workers).\r\n *\r\n * Wrapping DOM events also has the advantage of providing a consistent\r\n * interface for interacting with DOM events across browsers by copying over a\r\n * subset of the exposed properties that is guaranteed to be consistent across\r\n * browsers.\r\n *\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428/#interface-Event).\r\n *\r\n * @class Event\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction Event(ev) {\r\n    // [Constructor(DOMString type, optional EventInit eventInitDict),\r\n    //  Exposed=Window,Worker]\r\n    // interface Event {\r\n    //   readonly attribute DOMString type;\r\n    //   readonly attribute EventTarget? target;\r\n    //   readonly attribute EventTarget? currentTarget;\r\n\r\n    //   const unsigned short NONE = 0;\r\n    //   const unsigned short CAPTURING_PHASE = 1;\r\n    //   const unsigned short AT_TARGET = 2;\r\n    //   const unsigned short BUBBLING_PHASE = 3;\r\n    //   readonly attribute unsigned short eventPhase;\r\n\r\n    //   void stopPropagation();\r\n    //   void stopImmediatePropagation();\r\n\r\n    //   readonly attribute boolean bubbles;\r\n    //   readonly attribute boolean cancelable;\r\n    //   void preventDefault();\r\n    //   readonly attribute boolean defaultPrevented;\r\n\r\n    //   [Unforgeable] readonly attribute boolean isTrusted;\r\n    //   readonly attribute DOMTimeStamp timeStamp;\r\n\r\n    //   void initEvent(DOMString type, boolean bubbles, boolean cancelable);\r\n    // };\r\n\r\n    /**\r\n     * @name Event#type\r\n     * @type String\r\n     */\r\n    this.type = ev.type;\r\n\r\n    /**\r\n     * @name Event#defaultPrevented\r\n     * @type Boolean\r\n     */\r\n    this.defaultPrevented = ev.defaultPrevented;\r\n\r\n    /**\r\n     * @name Event#timeStamp\r\n     * @type Number\r\n     */\r\n    this.timeStamp = ev.timeStamp;\r\n\r\n\r\n    /**\r\n     * Used for exposing the current target's value.\r\n     *\r\n     * @name Event#value\r\n     * @type String\r\n     */\r\n    var targetConstructor = ev.target.constructor;\r\n    // TODO Support HTMLKeygenElement\r\n    if (\r\n        targetConstructor === HTMLInputElement ||\r\n        targetConstructor === HTMLTextAreaElement ||\r\n        targetConstructor === HTMLSelectElement\r\n    ) {\r\n        this.value = ev.target.value;\r\n\r\n        if( typeof ev.target.files !== 'undefined')\r\n            this.files = ev.target.files;\r\n    }\r\n    \r\n    \r\n}\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nEvent.prototype.toString = function toString () {\r\n    return 'Event';\r\n};\r\n\r\nmodule.exports = Event;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar CompositionEvent = require('./CompositionEvent');\r\nvar Event = require('./Event');\r\nvar FocusEvent = require('./FocusEvent');\r\nvar InputEvent = require('./InputEvent');\r\nvar KeyboardEvent = require('./KeyboardEvent');\r\nvar ScrollEvent = require('./ScrollEvent');\r\nvar MouseEvent = require('./MouseEvent');\r\nvar TouchEvent = require('./TouchEvent');\r\nvar UIEvent = require('./UIEvent');\r\nvar WheelEvent = require('./WheelEvent');\r\n\r\n/**\r\n * A mapping of DOM events to the corresponding handlers\r\n *\r\n * @name EventMap\r\n * @type Object\r\n */\r\nvar EventMap = {\r\n    change                         : [Event, true],\r\n    submit                         : [Event, true],\r\n\r\n    // UI Events (http://www.w3.org/TR/uievents/)\r\n    abort                          : [Event, false],\r\n    beforeinput                    : [InputEvent, true],\r\n    blur                           : [FocusEvent, false],\r\n    click                          : [MouseEvent, true],\r\n    compositionend                 : [CompositionEvent, true],\r\n    compositionstart               : [CompositionEvent, true],\r\n    compositionupdate              : [CompositionEvent, true],\r\n    dblclick                       : [MouseEvent, true],\r\n    focus                          : [FocusEvent, false],\r\n    focusin                        : [FocusEvent, true],\r\n    focusout                       : [FocusEvent, true],\r\n    input                          : [InputEvent, true],\r\n    keydown                        : [KeyboardEvent, true],\r\n    keyup                          : [KeyboardEvent, true],\r\n    load                           : [Event, false],\r\n    mousedown                      : [MouseEvent, true],\r\n    mouseenter                     : [MouseEvent, false],\r\n    mouseleave                     : [MouseEvent, false],\r\n    animationiteration             : [UIEvent, false],\r\n    animationend                   : [UIEvent, false],\r\n    transitionend                  : [UIEvent, false],\r\n\r\n    // bubbles, but will be triggered very frequently\r\n    mousemove                      : [MouseEvent, false],\r\n\r\n    mouseout                       : [MouseEvent, true],\r\n    mouseover                      : [MouseEvent, true],\r\n    mouseup                        : [MouseEvent, true],\r\n    contextMenu                    : [MouseEvent, true],\r\n    resize                         : [UIEvent, false],\r\n\r\n    // might bubble\r\n    scroll                         : [ScrollEvent, false],\r\n\r\n    select                         : [Event, true],\r\n    unload                         : [Event, false],\r\n    wheel                          : [WheelEvent, true],\r\n\r\n    // Touch Events Extension (http://www.w3.org/TR/touch-events-extensions/)\r\n    touchcancel                    : [TouchEvent, true],\r\n    touchend                       : [TouchEvent, true],\r\n    touchmove                      : [TouchEvent, true],\r\n    touchstart                     : [TouchEvent, true]\r\n};\r\n\r\nmodule.exports = EventMap;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar UIEvent = require('./UIEvent');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428/#events-focusevent).\r\n *\r\n * @class FocusEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction FocusEvent(ev) {\r\n    // [Constructor(DOMString typeArg, optional FocusEventInit focusEventInitDict)]\r\n    // interface FocusEvent : UIEvent {\r\n    //     readonly    attribute EventTarget? relatedTarget;\r\n    // };\r\n\r\n    UIEvent.call(this, ev);\r\n}\r\n\r\nFocusEvent.prototype = Object.create(UIEvent.prototype);\r\nFocusEvent.prototype.constructor = FocusEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nFocusEvent.prototype.toString = function toString () {\r\n    return 'FocusEvent';\r\n};\r\n\r\nmodule.exports = FocusEvent;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar UIEvent = require('./UIEvent');\r\n\r\n/**\r\n * See [Input Events](http://w3c.github.io/editing-explainer/input-events.html#idl-def-InputEvent).\r\n *\r\n * @class InputEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction InputEvent(ev) {\r\n    // [Constructor(DOMString typeArg, optional InputEventInit inputEventInitDict)]\r\n    // interface InputEvent : UIEvent {\r\n    //     readonly    attribute DOMString inputType;\r\n    //     readonly    attribute DOMString data;\r\n    //     readonly    attribute boolean   isComposing;\r\n    //     readonly    attribute Range     targetRange;\r\n    // };\r\n\r\n    UIEvent.call(this, ev);\r\n\r\n    /**\r\n     * @name    InputEvent#inputType\r\n     * @type    String\r\n     */\r\n    this.inputType = ev.inputType;\r\n\r\n    /**\r\n     * @name    InputEvent#data\r\n     * @type    String\r\n     */\r\n    this.data = ev.data;\r\n\r\n    /**\r\n     * @name    InputEvent#isComposing\r\n     * @type    Boolean\r\n     */\r\n    this.isComposing = ev.isComposing;\r\n\r\n    /**\r\n     * **Limited browser support**.\r\n     *\r\n     * @name    InputEvent#targetRange\r\n     * @type    Boolean\r\n     */\r\n    this.targetRange = ev.targetRange;\r\n}\r\n\r\nInputEvent.prototype = Object.create(UIEvent.prototype);\r\nInputEvent.prototype.constructor = InputEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nInputEvent.prototype.toString = function toString () {\r\n    return 'InputEvent';\r\n};\r\n\r\nmodule.exports = InputEvent;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar UIEvent = require('./UIEvent');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428/#events-keyboardevents).\r\n *\r\n * @class KeyboardEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction KeyboardEvent(ev) {\r\n    // [Constructor(DOMString typeArg, optional KeyboardEventInit keyboardEventInitDict)]\r\n    // interface KeyboardEvent : UIEvent {\r\n    //     // KeyLocationCode\r\n    //     const unsigned long DOM_KEY_LOCATION_STANDARD = 0x00;\r\n    //     const unsigned long DOM_KEY_LOCATION_LEFT = 0x01;\r\n    //     const unsigned long DOM_KEY_LOCATION_RIGHT = 0x02;\r\n    //     const unsigned long DOM_KEY_LOCATION_NUMPAD = 0x03;\r\n    //     readonly    attribute DOMString     key;\r\n    //     readonly    attribute DOMString     code;\r\n    //     readonly    attribute unsigned long location;\r\n    //     readonly    attribute boolean       ctrlKey;\r\n    //     readonly    attribute boolean       shiftKey;\r\n    //     readonly    attribute boolean       altKey;\r\n    //     readonly    attribute boolean       metaKey;\r\n    //     readonly    attribute boolean       repeat;\r\n    //     readonly    attribute boolean       isComposing;\r\n    //     boolean getModifierState (DOMString keyArg);\r\n    // };\r\n\r\n    UIEvent.call(this, ev);\r\n\r\n    /**\r\n     * @name KeyboardEvent#DOM_KEY_LOCATION_STANDARD\r\n     * @type Number\r\n     */\r\n    this.DOM_KEY_LOCATION_STANDARD = 0x00;\r\n\r\n    /**\r\n     * @name KeyboardEvent#DOM_KEY_LOCATION_LEFT\r\n     * @type Number\r\n     */\r\n    this.DOM_KEY_LOCATION_LEFT = 0x01;\r\n\r\n    /**\r\n     * @name KeyboardEvent#DOM_KEY_LOCATION_RIGHT\r\n     * @type Number\r\n     */\r\n    this.DOM_KEY_LOCATION_RIGHT = 0x02;\r\n\r\n    /**\r\n     * @name KeyboardEvent#DOM_KEY_LOCATION_NUMPAD\r\n     * @type Number\r\n     */\r\n    this.DOM_KEY_LOCATION_NUMPAD = 0x03;\r\n\r\n    /**\r\n     * @name KeyboardEvent#key\r\n     * @type String\r\n     */\r\n    this.key = ev.key;\r\n\r\n    /**\r\n     * @name KeyboardEvent#code\r\n     * @type String\r\n     */\r\n    this.code = ev.code;\r\n\r\n    /**\r\n     * @name KeyboardEvent#location\r\n     * @type Number\r\n     */\r\n    this.location = ev.location;\r\n\r\n    /**\r\n     * @name KeyboardEvent#ctrlKey\r\n     * @type Boolean\r\n     */\r\n    this.ctrlKey = ev.ctrlKey;\r\n\r\n    /**\r\n     * @name KeyboardEvent#shiftKey\r\n     * @type Boolean\r\n     */\r\n    this.shiftKey = ev.shiftKey;\r\n\r\n    /**\r\n     * @name KeyboardEvent#altKey\r\n     * @type Boolean\r\n     */\r\n    this.altKey = ev.altKey;\r\n\r\n    /**\r\n     * @name KeyboardEvent#metaKey\r\n     * @type Boolean\r\n     */\r\n    this.metaKey = ev.metaKey;\r\n\r\n    /**\r\n     * @name KeyboardEvent#repeat\r\n     * @type Boolean\r\n     */\r\n    this.repeat = ev.repeat;\r\n\r\n    /**\r\n     * @name KeyboardEvent#isComposing\r\n     * @type Boolean\r\n     */\r\n    this.isComposing = ev.isComposing;\r\n\r\n    /**\r\n     * @name KeyboardEvent#keyCode\r\n     * @type String\r\n     * @deprecated\r\n     */\r\n    this.keyCode = ev.keyCode;\r\n}\r\n\r\nKeyboardEvent.prototype = Object.create(UIEvent.prototype);\r\nKeyboardEvent.prototype.constructor = KeyboardEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nKeyboardEvent.prototype.toString = function toString () {\r\n    return 'KeyboardEvent';\r\n};\r\n\r\nmodule.exports = KeyboardEvent;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar UIEvent = require('./UIEvent');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428/#events-mouseevents).\r\n *\r\n * @class KeyboardEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction MouseEvent(ev) {\r\n    // [Constructor(DOMString typeArg, optional MouseEventInit mouseEventInitDict)]\r\n    // interface MouseEvent : UIEvent {\r\n    //     readonly    attribute long           screenX;\r\n    //     readonly    attribute long           screenY;\r\n    //     readonly    attribute long           clientX;\r\n    //     readonly    attribute long           clientY;\r\n    //     readonly    attribute boolean        ctrlKey;\r\n    //     readonly    attribute boolean        shiftKey;\r\n    //     readonly    attribute boolean        altKey;\r\n    //     readonly    attribute boolean        metaKey;\r\n    //     readonly    attribute short          button;\r\n    //     readonly    attribute EventTarget?   relatedTarget;\r\n    //     // Introduced in this specification\r\n    //     readonly    attribute unsigned short buttons;\r\n    //     boolean getModifierState (DOMString keyArg);\r\n    // };\r\n\r\n    UIEvent.call(this, ev);\r\n\r\n    /**\r\n     * @name MouseEvent#screenX\r\n     * @type Number\r\n     */\r\n    this.screenX = ev.screenX;\r\n\r\n    /**\r\n     * @name MouseEvent#screenY\r\n     * @type Number\r\n     */\r\n    this.screenY = ev.screenY;\r\n\r\n    /**\r\n     * @name MouseEvent#clientX\r\n     * @type Number\r\n     */\r\n    this.clientX = ev.clientX;\r\n\r\n    /**\r\n     * @name MouseEvent#clientY\r\n     * @type Number\r\n     */\r\n    this.clientY = ev.clientY;\r\n\r\n    /**\r\n     * @name MouseEvent#ctrlKey\r\n     * @type Boolean\r\n     */\r\n    this.ctrlKey = ev.ctrlKey;\r\n\r\n    /**\r\n     * @name MouseEvent#shiftKey\r\n     * @type Boolean\r\n     */\r\n    this.shiftKey = ev.shiftKey;\r\n\r\n    /**\r\n     * @name MouseEvent#altKey\r\n     * @type Boolean\r\n     */\r\n    this.altKey = ev.altKey;\r\n\r\n    /**\r\n     * @name MouseEvent#metaKey\r\n     * @type Boolean\r\n     */\r\n    this.metaKey = ev.metaKey;\r\n\r\n    /**\r\n     * @type MouseEvent#button\r\n     * @type Number\r\n     */\r\n    this.button = ev.button;\r\n\r\n    /**\r\n     * @type MouseEvent#buttons\r\n     * @type Number\r\n     */\r\n    this.buttons = ev.buttons;\r\n\r\n    /**\r\n     * @type MouseEvent#pageX\r\n     * @type Number\r\n     */\r\n    this.pageX = ev.pageX;\r\n\r\n    /**\r\n     * @type MouseEvent#pageY\r\n     * @type Number\r\n     */\r\n    this.pageY = ev.pageY;\r\n\r\n    /**\r\n     * @type MouseEvent#x\r\n     * @type Number\r\n     */\r\n    this.x = ev.x;\r\n\r\n    /**\r\n     * @type MouseEvent#y\r\n     * @type Number\r\n     */\r\n    this.y = ev.y;\r\n\r\n    /**\r\n     * @type MouseEvent#offsetX\r\n     * @type Number\r\n     */\r\n    this.offsetX = ev.offsetX;\r\n\r\n    /**\r\n     * @type MouseEvent#offsetY\r\n     * @type Number\r\n     */\r\n    this.offsetY = ev.offsetY;\r\n}\r\n\r\nMouseEvent.prototype = Object.create(UIEvent.prototype);\r\nMouseEvent.prototype.constructor = MouseEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nMouseEvent.prototype.toString = function toString () {\r\n    return 'MouseEvent';\r\n};\r\n\r\nmodule.exports = MouseEvent;\r\n","'use strict';\r\n\r\nvar Event = require('./Event');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428).\r\n *\r\n * @class UIEvent\r\n * @augments Event\r\n *\r\n * @param  {Event} ev   The native DOM event.\r\n */\r\nfunction ScrollEvent(ev) {\r\n    // [Constructor(DOMString type, optional UIEventInit eventInitDict)]\r\n    // interface UIEvent : Event {\r\n    //     readonly    attribute Window? view;\r\n    //     readonly    attribute long    detail;\r\n    // };\r\n    Event.call(this, ev);\r\n    \r\n    \r\n    /**\r\n     * @name ScrollEvent#scrollTop\r\n     * @type Number\r\n     */\r\n    this.scrollTop = ev.target.scrollTop;\r\n\r\n    /**\r\n     * @name ScrollEvent#scrollLeft\r\n     * @type Number\r\n     */\r\n    this.scrollLeft =  ev.target.scrollLeft;\r\n\r\n    /**\r\n     * @name ScrollEvent#scrollHeight\r\n     * @type Number\r\n     */\r\n    this.scrollHeight = ev.target.scrollHeight;\r\n    /**\r\n     * @name ScrollEvent#detail\r\n     * @type Number\r\n     */\r\n    this.detail = ev.detail;\r\n}\r\n\r\nScrollEvent.prototype = Object.create(Event.prototype);\r\nScrollEvent.prototype.constructor = ScrollEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nScrollEvent.prototype.toString = function toString () {\r\n    return 'ScrollEvent';\r\n};\r\n\r\nmodule.exports = ScrollEvent;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar UIEvent = require('./UIEvent');\r\n\r\nvar EMPTY_ARRAY = [];\r\n\r\n/**\r\n * See [Touch Interface](http://www.w3.org/TR/2013/REC-touch-events-20131010/#touch-interface).\r\n *\r\n * @class Touch\r\n * @private\r\n *\r\n * @param {Touch} touch The native Touch object.\r\n */\r\nfunction Touch(touch) {\r\n    // interface Touch {\r\n    //     readonly    attribute long        identifier;\r\n    //     readonly    attribute EventTarget target;\r\n    //     readonly    attribute double      screenX;\r\n    //     readonly    attribute double      screenY;\r\n    //     readonly    attribute double      clientX;\r\n    //     readonly    attribute double      clientY;\r\n    //     readonly    attribute double      pageX;\r\n    //     readonly    attribute double      pageY;\r\n    // };\r\n\r\n    /**\r\n     * @name Touch#identifier\r\n     * @type Number\r\n     */\r\n    this.identifier = touch.identifier;\r\n\r\n    /**\r\n     * @name Touch#screenX\r\n     * @type Number\r\n     */\r\n    this.screenX = touch.screenX;\r\n\r\n    /**\r\n     * @name Touch#screenY\r\n     * @type Number\r\n     */\r\n    this.screenY = touch.screenY;\r\n\r\n    /**\r\n     * @name Touch#clientX\r\n     * @type Number\r\n     */\r\n    this.clientX = touch.clientX;\r\n\r\n    /**\r\n     * @name Touch#clientY\r\n     * @type Number\r\n     */\r\n    this.clientY = touch.clientY;\r\n\r\n    /**\r\n     * @name Touch#pageX\r\n     * @type Number\r\n     */\r\n    this.pageX = touch.pageX;\r\n\r\n    /**\r\n     * @name Touch#pageY\r\n     * @type Number\r\n     */\r\n    this.pageY = touch.pageY;\r\n}\r\n\r\n\r\n/**\r\n * Normalizes the browser's native TouchList by converting it into an array of\r\n * normalized Touch objects.\r\n *\r\n * @method  cloneTouchList\r\n * @private\r\n *\r\n * @param  {TouchList} touchList    The native TouchList array.\r\n * @return {Array.<Touch>}          An array of normalized Touch objects.\r\n */\r\nfunction cloneTouchList(touchList) {\r\n    if (!touchList) return EMPTY_ARRAY;\r\n    // interface TouchList {\r\n    //     readonly    attribute unsigned long length;\r\n    //     getter Touch? item (unsigned long index);\r\n    // };\r\n\r\n    var touchListArray = [];\r\n    for (var i = 0; i < touchList.length; i++) {\r\n        touchListArray[i] = new Touch(touchList[i]);\r\n    }\r\n    return touchListArray;\r\n}\r\n\r\n/**\r\n * See [Touch Event Interface](http://www.w3.org/TR/2013/REC-touch-events-20131010/#touchevent-interface).\r\n *\r\n * @class TouchEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction TouchEvent(ev) {\r\n    // interface TouchEvent : UIEvent {\r\n    //     readonly    attribute TouchList touches;\r\n    //     readonly    attribute TouchList targetTouches;\r\n    //     readonly    attribute TouchList changedTouches;\r\n    //     readonly    attribute boolean   altKey;\r\n    //     readonly    attribute boolean   metaKey;\r\n    //     readonly    attribute boolean   ctrlKey;\r\n    //     readonly    attribute boolean   shiftKey;\r\n    // };\r\n    UIEvent.call(this, ev);\r\n\r\n    /**\r\n     * @name TouchEvent#touches\r\n     * @type Array.<Touch>\r\n     */\r\n    this.touches = cloneTouchList(ev.touches);\r\n\r\n    /**\r\n     * @name TouchEvent#targetTouches\r\n     * @type Array.<Touch>\r\n     */\r\n    this.targetTouches = cloneTouchList(ev.targetTouches);\r\n\r\n    /**\r\n     * @name TouchEvent#changedTouches\r\n     * @type TouchList\r\n     */\r\n    this.changedTouches = cloneTouchList(ev.changedTouches);\r\n\r\n    /**\r\n     * @name TouchEvent#altKey\r\n     * @type Boolean\r\n     */\r\n    this.altKey = ev.altKey;\r\n\r\n    /**\r\n     * @name TouchEvent#metaKey\r\n     * @type Boolean\r\n     */\r\n    this.metaKey = ev.metaKey;\r\n\r\n    /**\r\n     * @name TouchEvent#ctrlKey\r\n     * @type Boolean\r\n     */\r\n    this.ctrlKey = ev.ctrlKey;\r\n\r\n    /**\r\n     * @name TouchEvent#shiftKey\r\n     * @type Boolean\r\n     */\r\n    this.shiftKey = ev.shiftKey;\r\n}\r\n\r\nTouchEvent.prototype = Object.create(UIEvent.prototype);\r\nTouchEvent.prototype.constructor = TouchEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nTouchEvent.prototype.toString = function toString () {\r\n    return 'TouchEvent';\r\n};\r\n\r\nmodule.exports = TouchEvent;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Event = require('./Event');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428).\r\n *\r\n * @class UIEvent\r\n * @augments Event\r\n *\r\n * @param  {Event} ev   The native DOM event.\r\n */\r\nfunction UIEvent(ev) {\r\n    // [Constructor(DOMString type, optional UIEventInit eventInitDict)]\r\n    // interface UIEvent : Event {\r\n    //     readonly    attribute Window? view;\r\n    //     readonly    attribute long    detail;\r\n    // };\r\n    Event.call(this, ev);\r\n\r\n    /**\r\n     * @name UIEvent#detail\r\n     * @type Number\r\n     */\r\n    this.detail = ev.detail;\r\n}\r\n\r\nUIEvent.prototype = Object.create(Event.prototype);\r\nUIEvent.prototype.constructor = UIEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nUIEvent.prototype.toString = function toString () {\r\n    return 'UIEvent';\r\n};\r\n\r\nmodule.exports = UIEvent;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar MouseEvent = require('./MouseEvent');\r\n\r\n/**\r\n * See [UI Events (formerly DOM Level 3 Events)](http://www.w3.org/TR/2015/WD-uievents-20150428/#events-wheelevents).\r\n *\r\n * @class WheelEvent\r\n * @augments UIEvent\r\n *\r\n * @param {Event} ev The native DOM event.\r\n */\r\nfunction WheelEvent(ev) {\r\n    // [Constructor(DOMString typeArg, optional WheelEventInit wheelEventInitDict)]\r\n    // interface WheelEvent : MouseEvent {\r\n    //     // DeltaModeCode\r\n    //     const unsigned long DOM_DELTA_PIXEL = 0x00;\r\n    //     const unsigned long DOM_DELTA_LINE = 0x01;\r\n    //     const unsigned long DOM_DELTA_PAGE = 0x02;\r\n    //     readonly    attribute double        deltaX;\r\n    //     readonly    attribute double        deltaY;\r\n    //     readonly    attribute double        deltaZ;\r\n    //     readonly    attribute unsigned long deltaMode;\r\n    // };\r\n\r\n    MouseEvent.call(this, ev);\r\n\r\n    /**\r\n     * @name WheelEvent#DOM_DELTA_PIXEL\r\n     * @type Number\r\n     */\r\n    this.DOM_DELTA_PIXEL = 0x00;\r\n\r\n    /**\r\n     * @name WheelEvent#DOM_DELTA_LINE\r\n     * @type Number\r\n     */\r\n    this.DOM_DELTA_LINE = 0x01;\r\n\r\n    /**\r\n     * @name WheelEvent#DOM_DELTA_PAGE\r\n     * @type Number\r\n     */\r\n    this.DOM_DELTA_PAGE = 0x02;\r\n\r\n    /**\r\n     * @name WheelEvent#deltaX\r\n     * @type Number\r\n     */\r\n    this.deltaX = ev.deltaX;\r\n\r\n    /**\r\n     * @name WheelEvent#deltaY\r\n     * @type Number\r\n     */\r\n    this.deltaY = ev.deltaY;\r\n\r\n    /**\r\n     * @name WheelEvent#deltaZ\r\n     * @type Number\r\n     */\r\n    this.deltaZ = ev.deltaZ;\r\n\r\n    /**\r\n     * @name WheelEvent#deltaMode\r\n     * @type Number\r\n     */\r\n    this.deltaMode = ev.deltaMode;\r\n}\r\n\r\nWheelEvent.prototype = Object.create(MouseEvent.prototype);\r\nWheelEvent.prototype.constructor = WheelEvent;\r\n\r\n/**\r\n * Return the name of the event type\r\n *\r\n * @method\r\n *\r\n * @return {String} Name of the event type\r\n */\r\nWheelEvent.prototype.toString = function toString () {\r\n    return 'WheelEvent';\r\n};\r\n\r\nmodule.exports = WheelEvent;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * A two-dimensional vector.\r\n *\r\n * @class Vec2\r\n *\r\n * @param {Number} x The x component.\r\n * @param {Number} y The y component.\r\n */\r\nvar Vec2 = function(x, y) {\r\n    if (x instanceof Array || x instanceof Float32Array) {\r\n        this.x = x[0] || 0;\r\n        this.y = x[1] || 0;\r\n    }\r\n    else {\r\n        this.x = x || 0;\r\n        this.y = y || 0;\r\n    }\r\n};\r\n\r\n/**\r\n * Set the components of the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Number} x The x component.\r\n * @param {Number} y The y component.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.set = function set(x, y) {\r\n    if (x != null) this.x = x;\r\n    if (y != null) this.y = y;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Add the input v to the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v The Vec2 to add.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.add = function add(v) {\r\n    this.x += v.x;\r\n    this.y += v.y;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Subtract the input v from the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v The Vec2 to subtract.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.subtract = function subtract(v) {\r\n    this.x -= v.x;\r\n    this.y -= v.y;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Scale the current Vec2 by a scalar or Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Number|Vec2} s The Number or vec2 by which to scale.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.scale = function scale(s) {\r\n    if (s instanceof Vec2) {\r\n        this.x *= s.x;\r\n        this.y *= s.y;\r\n    }\r\n    else {\r\n        this.x *= s;\r\n        this.y *= s;\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Rotate the Vec2 counter-clockwise by theta about the z-axis.\r\n *\r\n * @method\r\n *\r\n * @param {Number} theta Angle by which to rotate.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.rotate = function(theta) {\r\n    var x = this.x;\r\n    var y = this.y;\r\n\r\n    var cosTheta = Math.cos(theta);\r\n    var sinTheta = Math.sin(theta);\r\n\r\n    this.x = x * cosTheta - y * sinTheta;\r\n    this.y = x * sinTheta + y * cosTheta;\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * The dot product of of the current Vec2 with the input Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Number} v The other Vec2.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.dot = function(v) {\r\n    return this.x * v.x + this.y * v.y;\r\n};\r\n\r\n/**\r\n * The cross product of of the current Vec2 with the input Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Number} v The other Vec2.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.cross = function(v) {\r\n    return this.x * v.y - this.y * v.x;\r\n};\r\n\r\n/**\r\n * Preserve the magnitude but invert the orientation of the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.invert = function invert() {\r\n    this.x *= -1;\r\n    this.y *= -1;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Apply a function component-wise to the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Function} fn Function to apply.\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.map = function map(fn) {\r\n    this.x = fn(this.x);\r\n    this.y = fn(this.y);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Get the magnitude of the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @return {Number} the length of the vector\r\n */\r\nVec2.prototype.length = function length() {\r\n    var x = this.x;\r\n    var y = this.y;\r\n\r\n    return Math.sqrt(x * x + y * y);\r\n};\r\n\r\n/**\r\n * Copy the input onto the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v Vec2 to copy\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.copy = function copy(v) {\r\n    this.x = v.x;\r\n    this.y = v.y;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Reset the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @return {Vec2} this\r\n */\r\nVec2.prototype.clear = function clear() {\r\n    this.x = 0;\r\n    this.y = 0;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Check whether the magnitude of the current Vec2 is exactly 0.\r\n *\r\n * @method\r\n *\r\n * @return {Boolean} whether or not the length is 0\r\n */\r\nVec2.prototype.isZero = function isZero() {\r\n    if (this.x !== 0 || this.y !== 0) return false;\r\n    else return true;\r\n};\r\n\r\n/**\r\n * The array form of the current Vec2.\r\n *\r\n * @method\r\n *\r\n * @return {Array} the Vec to as an array\r\n */\r\nVec2.prototype.toArray = function toArray() {\r\n    return [this.x, this.y];\r\n};\r\n\r\n/**\r\n * Normalize the input Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v The reference Vec2.\r\n * @param {Vec2} output Vec2 in which to place the result.\r\n *\r\n * @return {Vec2} The normalized Vec2.\r\n */\r\nVec2.normalize = function normalize(v, output) {\r\n    var x = v.x;\r\n    var y = v.y;\r\n\r\n    var length = Math.sqrt(x * x + y * y) || 1;\r\n    length = 1 / length;\r\n    output.x = v.x * length;\r\n    output.y = v.y * length;\r\n\r\n    return output;\r\n};\r\n\r\n/**\r\n * Clone the input Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v The Vec2 to clone.\r\n *\r\n * @return {Vec2} The cloned Vec2.\r\n */\r\nVec2.clone = function clone(v) {\r\n    return new Vec2(v.x, v.y);\r\n};\r\n\r\n/**\r\n * Add the input Vec2's.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v1 The left Vec2.\r\n * @param {Vec2} v2 The right Vec2.\r\n * @param {Vec2} output Vec2 in which to place the result.\r\n *\r\n * @return {Vec2} The result of the addition.\r\n */\r\nVec2.add = function add(v1, v2, output) {\r\n    output.x = v1.x + v2.x;\r\n    output.y = v1.y + v2.y;\r\n\r\n    return output;\r\n};\r\n\r\n/**\r\n * Subtract the second Vec2 from the first.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v1 The left Vec2.\r\n * @param {Vec2} v2 The right Vec2.\r\n * @param {Vec2} output Vec2 in which to place the result.\r\n *\r\n * @return {Vec2} The result of the subtraction.\r\n */\r\nVec2.subtract = function subtract(v1, v2, output) {\r\n    output.x = v1.x - v2.x;\r\n    output.y = v1.y - v2.y;\r\n    return output;\r\n};\r\n\r\n/**\r\n * Scale the input Vec2.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v The reference Vec2.\r\n * @param {Number} s Number to scale by.\r\n * @param {Vec2} output Vec2 in which to place the result.\r\n *\r\n * @return {Vec2} The result of the scaling.\r\n */\r\nVec2.scale = function scale(v, s, output) {\r\n    output.x = v.x * s;\r\n    output.y = v.y * s;\r\n    return output;\r\n};\r\n\r\n/**\r\n * The dot product of the input Vec2's.\r\n *\r\n * @method\r\n *\r\n * @param {Vec2} v1 The left Vec2.\r\n * @param {Vec2} v2 The right Vec2.\r\n *\r\n * @return {Number} The dot product.\r\n */\r\nVec2.dot = function dot(v1, v2) {\r\n    return v1.x * v2.x + v1.y * v2.y;\r\n};\r\n\r\n/**\r\n * The cross product of the input Vec2's.\r\n *\r\n * @method\r\n *\r\n * @param {Number} v1 The left Vec2.\r\n * @param {Number} v2 The right Vec2.\r\n *\r\n * @return {Number} The z-component of the cross product.\r\n */\r\nVec2.cross = function(v1,v2) {\r\n    return v1.x * v2.y - v1.y * v2.x;\r\n};\r\n\r\nmodule.exports = Vec2;\r\n","// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\r\n// requestAnimationFrame polyfill by Erik Mller. fixes from Paul Irish and Tino Zijdel\r\n// MIT license\r\n\r\n'use strict';\r\n\r\nvar lastTime = 0;\r\nvar vendors = ['ms', 'moz', 'webkit', 'o'];\r\n\r\nvar rAF, cAF;\r\n\r\nif (typeof window === 'object') {\r\n    rAF = window.requestAnimationFrame;\r\n    cAF = window.cancelAnimationFrame || window.cancelRequestAnimationFrame;\r\n    for (var x = 0; x < vendors.length && !rAF; ++x) {\r\n        rAF = window[vendors[x] + 'RequestAnimationFrame'];\r\n        cAF = window[vendors[x] + 'CancelRequestAnimationFrame'] ||\r\n              window[vendors[x] + 'CancelAnimationFrame'];\r\n    }\r\n\r\n    if (rAF && !cAF) {\r\n        // cAF not supported.\r\n        // Fall back to setInterval for now (very rare).\r\n        rAF = null;\r\n    }\r\n}\r\n\r\nif (!rAF) {\r\n    var now = Date.now ? Date.now : function () {\r\n        return new Date().getTime();\r\n    };\r\n\r\n    rAF = function(callback) {\r\n        var currTime = now();\r\n        var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n        var id = setTimeout(function () {\r\n            callback(currTime + timeToCall);\r\n        }, timeToCall);\r\n        lastTime = currTime + timeToCall;\r\n        return id;\r\n    };\r\n\r\n    cAF = function (id) {\r\n        clearTimeout(id);\r\n    };\r\n}\r\n\r\nvar animationFrame = {\r\n    /**\r\n     * Cross browser version of [requestAnimationFrame]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame}.\r\n     *\r\n     * Used by Engine in order to establish a render loop.\r\n     *\r\n     * If no (vendor prefixed version of) `requestAnimationFrame` is available,\r\n     * `setTimeout` will be used in order to emulate a render loop running at\r\n     * approximately 60 frames per second.\r\n     *\r\n     * @method  requestAnimationFrame\r\n     *\r\n     * @param   {Function}  callback function to be invoked on the next frame.\r\n     * @return  {Number}    requestId to be used to cancel the request using\r\n     *                      {@link cancelAnimationFrame}.\r\n     */\r\n    requestAnimationFrame: rAF,\r\n\r\n    /**\r\n     * Cross browser version of [cancelAnimationFrame]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/cancelAnimationFrame}.\r\n     *\r\n     * Cancels a previously using [requestAnimationFrame]{@link animationFrame#requestAnimationFrame}\r\n     * scheduled request.\r\n     *\r\n     * Used for immediately stopping the render loop within the Engine.\r\n     *\r\n     * @method  cancelAnimationFrame\r\n     *\r\n     * @param   {Number}    requestId of the scheduled callback function\r\n     *                      returned by [requestAnimationFrame]{@link animationFrame#requestAnimationFrame}.\r\n     */\r\n    cancelAnimationFrame: cAF\r\n};\r\n\r\nmodule.exports = animationFrame;\r\n","/**\r\n * The MIT License (MIT)\r\n * \r\n * Copyright (c) 2015 Famous Industries Inc.\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nmodule.exports = {\r\n    requestAnimationFrame: require('./animationFrame').requestAnimationFrame,\r\n    cancelAnimationFrame: require('./animationFrame').cancelAnimationFrame\r\n};\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar polyfills = require('../polyfills');\r\nvar rAF = polyfills.requestAnimationFrame;\r\nvar cAF = polyfills.cancelAnimationFrame;\r\n\r\n/**\r\n * Boolean constant indicating whether the RequestAnimationFrameLoop has access\r\n * to the document. The document is being used in order to subscribe for\r\n * visibilitychange events used for normalizing the RequestAnimationFrameLoop\r\n * time when e.g. when switching tabs.\r\n *\r\n * @constant\r\n * @type {Boolean}\r\n */\r\nvar DOCUMENT_ACCESS = typeof document !== 'undefined';\r\n\r\nif (DOCUMENT_ACCESS) {\r\n    var VENDOR_HIDDEN, VENDOR_VISIBILITY_CHANGE;\r\n\r\n    // Opera 12.10 and Firefox 18 and later support\r\n    if (typeof document.hidden !== 'undefined') {\r\n        VENDOR_HIDDEN = 'hidden';\r\n        VENDOR_VISIBILITY_CHANGE = 'visibilitychange';\r\n    }\r\n    else if (typeof document.mozHidden !== 'undefined') {\r\n        VENDOR_HIDDEN = 'mozHidden';\r\n        VENDOR_VISIBILITY_CHANGE = 'mozvisibilitychange';\r\n    }\r\n    else if (typeof document.msHidden !== 'undefined') {\r\n        VENDOR_HIDDEN = 'msHidden';\r\n        VENDOR_VISIBILITY_CHANGE = 'msvisibilitychange';\r\n    }\r\n    else if (typeof document.webkitHidden !== 'undefined') {\r\n        VENDOR_HIDDEN = 'webkitHidden';\r\n        VENDOR_VISIBILITY_CHANGE = 'webkitvisibilitychange';\r\n    }\r\n}\r\n\r\n/**\r\n * RequestAnimationFrameLoop class used for updating objects on a frame-by-frame.\r\n * Synchronizes the `update` method invocations to the refresh rate of the\r\n * screen. Manages the `requestAnimationFrame`-loop by normalizing the passed in\r\n * timestamp when switching tabs.\r\n *\r\n * @class RequestAnimationFrameLoop\r\n */\r\nfunction RequestAnimationFrameLoop() {\r\n    var _this = this;\r\n\r\n    // References to objects to be updated on next frame.\r\n    this._updates = [];\r\n\r\n    this._looper = function(time) {\r\n        _this.loop(time);\r\n    };\r\n    this._time = 0;\r\n    this._stoppedAt = 0;\r\n    this._sleep = 0;\r\n\r\n    // Indicates whether the engine should be restarted when the tab/ window is\r\n    // being focused again (visibility change).\r\n    this._startOnVisibilityChange = true;\r\n\r\n    // requestId as returned by requestAnimationFrame function;\r\n    this._rAF = null;\r\n\r\n    this._sleepDiff = true;\r\n\r\n    // The engine is being started on instantiation.\r\n    // TODO(alexanderGugel)\r\n    this.start();\r\n\r\n    // The RequestAnimationFrameLoop supports running in a non-browser\r\n    // environment (e.g. Worker).\r\n    if (DOCUMENT_ACCESS) {\r\n        document.addEventListener(VENDOR_VISIBILITY_CHANGE, function() {\r\n            _this._onVisibilityChange();\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Handle the switching of tabs.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nRequestAnimationFrameLoop.prototype._onVisibilityChange = function _onVisibilityChange() {\r\n    if (document[VENDOR_HIDDEN]) {\r\n        this._onUnfocus();\r\n    }\r\n    else {\r\n        this._onFocus();\r\n    }\r\n};\r\n\r\n/**\r\n * Internal helper function to be invoked as soon as the window/ tab is being\r\n * focused after a visibiltiy change.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nRequestAnimationFrameLoop.prototype._onFocus = function _onFocus() {\r\n    if (this._startOnVisibilityChange) {\r\n        this._start();\r\n    }\r\n};\r\n\r\n/**\r\n * Internal helper function to be invoked as soon as the window/ tab is being\r\n * unfocused (hidden) after a visibiltiy change.\r\n *\r\n * @method  _onFocus\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nRequestAnimationFrameLoop.prototype._onUnfocus = function _onUnfocus() {\r\n    this._stop();\r\n};\r\n\r\n/**\r\n * Starts the RequestAnimationFrameLoop. When switching to a differnt tab/\r\n * window (changing the visibiltiy), the engine will be retarted when switching\r\n * back to a visible state.\r\n *\r\n * @method\r\n *\r\n * @return {RequestAnimationFrameLoop} this\r\n */\r\nRequestAnimationFrameLoop.prototype.start = function start() {\r\n    if (!this._running) {\r\n        this._startOnVisibilityChange = true;\r\n        this._start();\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Internal version of RequestAnimationFrameLoop's start function, not affecting\r\n * behavior on visibilty change.\r\n *\r\n * @method\r\n * @private\r\n*\r\n * @return {undefined} undefined\r\n */\r\nRequestAnimationFrameLoop.prototype._start = function _start() {\r\n    this._running = true;\r\n    this._sleepDiff = true;\r\n    this._rAF = rAF(this._looper);\r\n};\r\n\r\n/**\r\n * Stops the RequestAnimationFrameLoop.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {RequestAnimationFrameLoop} this\r\n */\r\nRequestAnimationFrameLoop.prototype.stop = function stop() {\r\n    if (this._running) {\r\n        this._startOnVisibilityChange = false;\r\n        this._stop();\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Internal version of RequestAnimationFrameLoop's stop function, not affecting\r\n * behavior on visibilty change.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nRequestAnimationFrameLoop.prototype._stop = function _stop() {\r\n    this._running = false;\r\n    this._stoppedAt = this._time;\r\n\r\n    // Bug in old versions of Fx. Explicitly cancel.\r\n    cAF(this._rAF);\r\n};\r\n\r\n/**\r\n * Determines whether the RequestAnimationFrameLoop is currently running or not.\r\n *\r\n * @method\r\n *\r\n * @return {Boolean} boolean value indicating whether the\r\n * RequestAnimationFrameLoop is currently running or not\r\n */\r\nRequestAnimationFrameLoop.prototype.isRunning = function isRunning() {\r\n    return this._running;\r\n};\r\n\r\n/**\r\n * Updates all registered objects.\r\n *\r\n * @method\r\n *\r\n * @param {Number} time high resolution timstamp used for invoking the `update`\r\n * method on all registered objects\r\n *\r\n * @return {RequestAnimationFrameLoop} this\r\n */\r\nRequestAnimationFrameLoop.prototype.step = function step (time) {\r\n    this._time = time;\r\n    if (this._sleepDiff) {\r\n        this._sleep += time - this._stoppedAt;\r\n        this._sleepDiff = false;\r\n    }\r\n\r\n    // The same timetamp will be emitted immediately before and after visibility\r\n    // change.\r\n    var normalizedTime = time - this._sleep;\r\n    for (var i = 0, len = this._updates.length ; i < len ; i++) {\r\n        this._updates[i].update(normalizedTime);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Method being called by `requestAnimationFrame` on every paint. Indirectly\r\n * recursive by scheduling a future invocation of itself on the next paint.\r\n *\r\n * @method\r\n *\r\n * @param {Number} time high resolution timstamp used for invoking the `update`\r\n * method on all registered objects\r\n * @return {RequestAnimationFrameLoop} this\r\n */\r\nRequestAnimationFrameLoop.prototype.loop = function loop(time) {\r\n    this.step(time);\r\n    this._rAF = rAF(this._looper);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Registeres an updateable object which `update` method should be invoked on\r\n * every paint, starting on the next paint (assuming the\r\n * RequestAnimationFrameLoop is running).\r\n *\r\n * @method\r\n *\r\n * @param {Object} updateable object to be updated\r\n * @param {Function} updateable.update update function to be called on the\r\n * registered object\r\n *\r\n * @return {RequestAnimationFrameLoop} this\r\n */\r\nRequestAnimationFrameLoop.prototype.update = function update(updateable) {\r\n    if (this._updates.indexOf(updateable) === -1) {\r\n        this._updates.push(updateable);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Deregisters an updateable object previously registered using `update` to be\r\n * no longer updated.\r\n *\r\n * @method\r\n *\r\n * @param {Object} updateable updateable object previously registered using\r\n * `update`\r\n *\r\n * @return {RequestAnimationFrameLoop} this\r\n */\r\nRequestAnimationFrameLoop.prototype.noLongerUpdate = function noLongerUpdate(updateable) {\r\n    var index = this._updates.indexOf(updateable);\r\n    if (index > -1) {\r\n        this._updates.splice(index, 1);\r\n    }\r\n    return this;\r\n};\r\n\r\nmodule.exports = RequestAnimationFrameLoop;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Context = require('./Context');\r\nvar injectCSS = require('./inject-css');\r\nvar Commands = require('../core/Commands');\r\n\r\n/**\r\n * Instantiates a new Compositor.\r\n * The Compositor receives draw commands frm the UIManager and routes the to the\r\n * respective context objects.\r\n *\r\n * Upon creation, it injects a stylesheet used for styling the individual\r\n * renderers used in the context objects.\r\n *\r\n * @class Compositor\r\n * @constructor\r\n * @return {undefined} undefined\r\n */\r\nfunction Compositor() {\r\n    injectCSS();\r\n\r\n    this._contexts = {};\r\n    this._outCommands = [];\r\n    this._inCommands = [];\r\n    this._time = null;\r\n\r\n    this._resized = false;\r\n\r\n    var _this = this;\r\n    window.addEventListener('resize', function() {\r\n        _this.onResize();\r\n    });\r\n}\r\n\r\nCompositor.prototype.onResize = function onResize () {\r\n    this._resized = true;\r\n    for (var selector in this._contexts) {\r\n        this._contexts[selector].updateSize();\r\n    }\r\n};\r\n\r\n/**\r\n * Retrieves the time being used by the internal clock managed by\r\n * `FamousEngine`.\r\n *\r\n * The time is being passed into core by the Engine through the UIManager.\r\n * Since core has the ability to scale the time, the time needs to be passed\r\n * back to the rendering system.\r\n *\r\n * @method\r\n *\r\n * @return {Number} time The clock time used in core.\r\n */\r\nCompositor.prototype.getTime = function getTime() {\r\n    return this._time;\r\n};\r\n\r\n/**\r\n * Schedules an event to be sent the next time the out command queue is being\r\n * flushed.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param  {String} path Render path to the node the event should be triggered\r\n * on (*targeted event*)\r\n * @param  {String} ev Event type\r\n * @param  {Object} payload Event object (serializable using structured cloning\r\n * algorithm)\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.sendEvent = function sendEvent(path, ev, payload) {\r\n    this._outCommands.push(Commands.WITH, path, Commands.TRIGGER, ev, payload);\r\n};\r\n\r\n/**\r\n * Internal helper method used for notifying externally\r\n * resized contexts (e.g. by resizing the browser window).\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param  {String} selector render path to the node (context) that should be\r\n * resized\r\n * @param  {Array} size new context size\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.sendResize = function sendResize (selector, size) {\r\n    this.sendEvent(selector, 'CONTEXT_RESIZE', size);\r\n};\r\n\r\n/**\r\n * Internal helper method used by `drawCommands`.\r\n * Subsequent commands are being associated with the node defined the the path\r\n * following the `WITH` command.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param  {Number} iterator position index within the commands queue\r\n * @param  {Array} commands remaining message queue received, used to\r\n * shift single messages from\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.handleWith = function handleWith (iterator, commands) {\r\n    var path = commands[iterator];\r\n    var pathArr = path.split('/');\r\n    var context = this.getOrSetContext(pathArr.shift());\r\n    return context.receive(path, commands, iterator);\r\n};\r\n\r\n/**\r\n * Retrieves the top-level Context associated with the passed in document\r\n * query selector. If no such Context exists, a new one will be instantiated.\r\n *\r\n * @method\r\n *\r\n * @param  {String} selector document query selector used for retrieving the\r\n * DOM node that should be used as a root element by the Context\r\n *\r\n * @return {Context} context\r\n */\r\nCompositor.prototype.getOrSetContext = function getOrSetContext(selector) {\r\n    if (this._contexts[selector]) {\r\n        return this._contexts[selector];\r\n    }\r\n    else {\r\n        var context = new Context(selector, this);\r\n        this._contexts[selector] = context;\r\n        return context;\r\n    }\r\n};\r\n\r\n/**\r\n * Retrieves a context object registered under the passed in selector.\r\n *\r\n * @method\r\n *\r\n * @param  {String} selector    Query selector that has previously been used to\r\n *                              register the context.\r\n * @return {Context}            The repsective context.\r\n */\r\nCompositor.prototype.getContext = function getContext(selector) {\r\n    if (this._contexts[selector])\r\n        return this._contexts[selector];\r\n};\r\n\r\n/**\r\n * Processes the previously via `receiveCommands` updated incoming \"in\"\r\n * command queue.\r\n * Called by UIManager on a frame by frame basis.\r\n *\r\n * @method\r\n *\r\n * @return {Array} outCommands set of commands to be sent back\r\n */\r\nCompositor.prototype.drawCommands = function drawCommands() {\r\n    var commands = this._inCommands;\r\n    var localIterator = 0;\r\n    var command = commands[localIterator];\r\n    while (command) {\r\n        switch (command) {\r\n            case Commands.TIME:\r\n                this._time = commands[++localIterator];\r\n                break;\r\n            case Commands.WITH:\r\n                localIterator = this.handleWith(++localIterator, commands);\r\n                break;\r\n            case Commands.NEED_SIZE_FOR:\r\n                this.giveSizeFor(++localIterator, commands);\r\n                break;\r\n        }\r\n        command = commands[++localIterator];\r\n    }\r\n\r\n    // TODO: Switch to associative arrays here...\r\n\r\n    for (var key in this._contexts) {\r\n        //this._contexts[key].draw();\r\n    }\r\n\r\n    if (this._resized) {\r\n        this.updateSize();\r\n    }\r\n\r\n    return this._outCommands;\r\n};\r\n\r\n\r\n/**\r\n * Updates the size of all previously registered context objects.\r\n * This results into CONTEXT_RESIZE events being sent and the root elements\r\n * used by the individual renderers being resized to the the DOMRenderer's root\r\n * size.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.updateSize = function updateSize() {\r\n    for (var selector in this._contexts) {\r\n        this._contexts[selector].updateSize();\r\n    }\r\n};\r\n\r\n/**\r\n * Used by ThreadManager to update the internal queue of incoming commands.\r\n * Receiving commands does not immediately start the rendering process.\r\n *\r\n * @method\r\n *\r\n * @param  {Array} commands command queue to be processed by the compositor's\r\n * `drawCommands` method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.receiveCommands = function receiveCommands(commands) {\r\n    var len = commands.length;\r\n    for (var i = 0; i < len; i++) {\r\n        this._inCommands.push(commands[i]);\r\n    }\r\n\r\n    for (var selector in this._contexts) {\r\n        this._contexts[selector].checkInit();\r\n    }\r\n};\r\n\r\n/**\r\n * Internal helper method used by `drawCommands`.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param  {Number} iterator position index within the command queue\r\n * @param  {Array} commands remaining message queue received, used to\r\n * shift single messages\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.giveSizeFor = function giveSizeFor(iterator, commands) {\r\n    var selector = commands[iterator];\r\n    var context = this.getContext(selector);\r\n    if (context) {\r\n        var size = context.getRootSize();\r\n        this.sendResize(selector, size);\r\n    } else {\r\n        this.getOrSetContext(selector);\r\n    }\r\n};\r\n\r\n/**\r\n * Flushes the queue of outgoing \"out\" commands.\r\n * Called by ThreadManager.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nCompositor.prototype.clearCommands = function clearCommands() {\r\n    this._inCommands.length = 0;\r\n    this._outCommands.length = 0;\r\n    this._resized = false;\r\n};\r\n\r\nmodule.exports = Compositor;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar WebGLRenderer = require('../webgl-renderers/WebGLRenderer');\r\nvar Camera = require('../components/Camera');\r\nvar DOMRenderer = require('../dom-renderers/DOMRenderer');\r\nvar Commands = require('../core/Commands');\r\n\r\n/**\r\n * Context is a render layer with its own WebGLRenderer and DOMRenderer.\r\n * It is the interface between the Compositor which receives commands\r\n * and the renderers that interpret them. It also relays information to\r\n * the renderers about resizing.\r\n *\r\n * The DOMElement at the given query selector is used as the root. A\r\n * new DOMElement is appended to this root element, and used as the\r\n * parent element for all Famous DOM rendering at this context. A\r\n * canvas is added and used for all WebGL rendering at this context.\r\n *\r\n * @class Context\r\n * @constructor\r\n *\r\n * @param {String} selector Query selector used to locate root element of\r\n * context layer.\r\n * @param {Compositor} compositor Compositor reference to pass down to\r\n * WebGLRenderer.\r\n */\r\nfunction Context(selector, compositor) {\r\n    this._compositor = compositor;\r\n    this._rootEl = document.querySelector(selector);\r\n    this._selector = selector;\r\n\r\n    if (this._rootEl === null) {\r\n        throw new Error(\r\n            'Failed to create Context: ' +\r\n            'No matches for \"' + selector + '\" found.'\r\n        );\r\n    }\r\n\r\n    this._selector = selector;\r\n\r\n    // Initializes the DOMRenderer.\r\n    // Every Context has at least a DOMRenderer for now.\r\n    this._initDOMRenderer();\r\n\r\n    // WebGLRenderer will be instantiated when needed.\r\n    this._webGLRenderer = null;\r\n    this._domRenderer = new DOMRenderer(this._domRendererRootEl, selector, compositor);\r\n    this._canvasEl = null;\r\n\r\n    // State holders\r\n\r\n    this._renderState = {\r\n        projectionType: Camera.ORTHOGRAPHIC_PROJECTION,\r\n        perspectiveTransform: new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),\r\n        viewTransform: new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),\r\n        viewDirty: false,\r\n        perspectiveDirty: false\r\n    };\r\n\r\n    this._size = [];\r\n\r\n    this._meshTransform = new Float32Array(16);\r\n    this._meshSize = [0, 0, 0];\r\n\r\n    this._initDOM = false;\r\n\r\n    this._commandCallbacks = [];\r\n    this.initCommandCallbacks();\r\n\r\n    this.updateSize();\r\n}\r\n\r\n/**\r\n * Queries DOMRenderer size and updates canvas size. Relays size information to\r\n * WebGLRenderer.\r\n *\r\n * @method\r\n *\r\n * @return {Context} this\r\n */\r\nContext.prototype.updateSize = function () {\r\n    var width = this._rootEl.offsetWidth;\r\n    var height = this._rootEl.offsetHeight;\r\n\r\n    this._size[0] = width;\r\n    this._size[1] = height;\r\n    this._size[2] = (width > height) ? width : height;\r\n\r\n    this._compositor.sendResize(this._selector, this._size);\r\n    if (this._webGLRenderer) this._webGLRenderer.updateSize(this._size);\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Draw function called after all commands have been handled for current frame.\r\n * Issues draw commands to all renderers with current renderState.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nContext.prototype.draw = function draw() {\r\n    this._domRenderer.draw(this._renderState);\r\n    if (this._webGLRenderer) this._webGLRenderer.draw(this._renderState);\r\n\r\n    if (this._renderState.perspectiveDirty) this._renderState.perspectiveDirty = false;\r\n    if (this._renderState.viewDirty) this._renderState.viewDirty = false;\r\n};\r\n\r\n/**\r\n * Initializes the DOMRenderer by creating a root DIV element and appending it\r\n * to the context.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nContext.prototype._initDOMRenderer = function _initDOMRenderer() {\r\n    this._domRendererRootEl = document.createElement('div');\r\n    this._rootEl.appendChild(this._domRendererRootEl);\r\n    this._domRendererRootEl.style.visibility = 'hidden';\r\n\r\n    this._domRenderer = new DOMRenderer(\r\n        this._domRendererRootEl,\r\n        this._selector,\r\n        this._compositor\r\n    );\r\n};\r\n\r\nContext.prototype.initCommandCallbacks = function initCommandCallbacks () {\r\n    this._commandCallbacks[Commands.INIT_DOM] = initDOM;\r\n    this._commandCallbacks[Commands.DOM_RENDER_SIZE] = domRenderSize;\r\n    this._commandCallbacks[Commands.CHANGE_TRANSFORM] = changeTransform;\r\n    this._commandCallbacks[Commands.CHANGE_SIZE] = changeSize;\r\n    this._commandCallbacks[Commands.CHANGE_PROPERTY] = changeProperty;\r\n    this._commandCallbacks[Commands.CHANGE_CONTENT] = changeContent;\r\n    this._commandCallbacks[Commands.CHANGE_ATTRIBUTE] = changeAttribute;\r\n    this._commandCallbacks[Commands.ADD_CLASS] = addClass;\r\n    this._commandCallbacks[Commands.REMOVE_CLASS] = removeClass;\r\n    this._commandCallbacks[Commands.SUBSCRIBE] = subscribe;\r\n    this._commandCallbacks[Commands.UNSUBSCRIBE] = unsubscribe;\r\n    this._commandCallbacks[Commands.GL_SET_DRAW_OPTIONS] = glSetDrawOptions;\r\n    this._commandCallbacks[Commands.GL_AMBIENT_LIGHT] = glAmbientLight;\r\n    this._commandCallbacks[Commands.GL_LIGHT_POSITION] = glLightPosition;\r\n    this._commandCallbacks[Commands.GL_LIGHT_COLOR] = glLightColor;\r\n    this._commandCallbacks[Commands.MATERIAL_INPUT] = materialInput;\r\n    this._commandCallbacks[Commands.GL_SET_GEOMETRY] = glSetGeometry;\r\n    this._commandCallbacks[Commands.GL_UNIFORMS] = glUniforms;\r\n    this._commandCallbacks[Commands.GL_BUFFER_DATA] = glBufferData;\r\n    this._commandCallbacks[Commands.GL_CUTOUT_STATE] = glCutoutState;\r\n    this._commandCallbacks[Commands.GL_MESH_VISIBILITY] = glMeshVisibility;\r\n    this._commandCallbacks[Commands.GL_REMOVE_MESH] = glRemoveMesh;\r\n    this._commandCallbacks[Commands.PINHOLE_PROJECTION] = pinholeProjection;\r\n    this._commandCallbacks[Commands.ORTHOGRAPHIC_PROJECTION] = orthographicProjection;\r\n    this._commandCallbacks[Commands.CHANGE_VIEW_TRANSFORM] = changeViewTransform;\r\n    this._commandCallbacks[Commands.PREVENT_DEFAULT] = preventDefault;\r\n    this._commandCallbacks[Commands.ALLOW_DEFAULT] = allowDefault;\r\n    this._commandCallbacks[Commands.READY] = ready;\r\n};\r\n\r\n/**\r\n * Initializes the WebGLRenderer and updates it initial size.\r\n *\r\n * The Initialization process consists of the following steps:\r\n *\r\n * 1. A new `<canvas>` element is being created and appended to the root element.\r\n * 2. The WebGLRenderer is being instantiated.\r\n * 3. The size of the WebGLRenderer is being updated.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @return {undefined} undefined\r\n */\r\nContext.prototype._initWebGLRenderer = function _initWebGLRenderer() {\r\n    this._webGLRendererRootEl = document.createElement('canvas');\r\n    this._rootEl.appendChild(this._webGLRendererRootEl);\r\n\r\n    this._webGLRenderer = new WebGLRenderer(\r\n        this._webGLRendererRootEl,\r\n        this._compositor\r\n    );\r\n\r\n    // Don't read offset width and height.\r\n    this._webGLRenderer.updateSize(this._size);\r\n};\r\n\r\n/**\r\n * Gets the size of the parent element of the DOMRenderer for this context.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nContext.prototype.getRootSize = function getRootSize() {\r\n    return [\r\n        this._rootEl.offsetWidth,\r\n        this._rootEl.offsetHeight\r\n    ];\r\n};\r\n\r\n\r\n/**\r\n * Initializes the context if the `READY` command has been received earlier.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nContext.prototype.checkInit = function checkInit () {\r\n    if (this._initDOM) {\r\n        this._domRendererRootEl.style.visibility = 'visible';\r\n        this._initDOM = false;\r\n    }\r\n};\r\n\r\n/**\r\n * Handles delegation of commands to renderers of this context.\r\n *\r\n * @method\r\n *\r\n * @param {String} path String used as identifier of a given node in the\r\n * scene graph.\r\n * @param {Array} commands List of all commands from this frame.\r\n * @param {Number} iterator Number indicating progress through the command\r\n * queue.\r\n *\r\n * @return {Number} iterator indicating progress through the command queue.\r\n */\r\nContext.prototype.receive = function receive(path, commands, iterator) {\r\n    var localIterator = iterator;\r\n\r\n    var command = commands[++localIterator];\r\n\r\n    this._domRenderer.loadPath(path);\r\n\r\n    while (command != null) {\r\n        if (command === Commands.WITH || command === Commands.TIME) return localIterator - 1;\r\n        else localIterator = this._commandCallbacks[command](this, path, commands, localIterator) + 1;\r\n        command = commands[localIterator];\r\n    }\r\n\r\n    return localIterator;\r\n};\r\n\r\n/**\r\n * Getter method used for retrieving the used DOMRenderer.\r\n *\r\n * @method\r\n *\r\n * @return {DOMRenderer}    The DOMRenderer being used by the Context.\r\n */\r\nContext.prototype.getDOMRenderer = function getDOMRenderer() {\r\n    return this._domRenderer;\r\n};\r\n\r\n/**\r\n * Getter method used for retrieving the used WebGLRenderer (if any).\r\n *\r\n * @method\r\n *\r\n * @return {WebGLRenderer|null}    The WebGLRenderer being used by the Context.\r\n */\r\nContext.prototype.getWebGLRenderer = function getWebGLRenderer() {\r\n    return this._webGLRenderer;\r\n};\r\n\r\n// Command Callbacks\r\nfunction preventDefault (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.preventDefault(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction allowDefault (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.allowDefault(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction ready (context, path, commands, iterator) {\r\n    context._initDOM = true;\r\n    return iterator;\r\n}\r\n\r\nfunction initDOM (context, path, commands, iterator) {\r\n    context._domRenderer.insertEl(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction domRenderSize (context, path, commands, iterator) {\r\n    context._domRenderer.getSizeOf(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction changeTransform (context, path, commands, iterator) {\r\n    var temp = context._meshTransform;\r\n\r\n    temp[0] = commands[++iterator];\r\n    temp[1] = commands[++iterator];\r\n    temp[2] = commands[++iterator];\r\n    temp[3] = commands[++iterator];\r\n    temp[4] = commands[++iterator];\r\n    temp[5] = commands[++iterator];\r\n    temp[6] = commands[++iterator];\r\n    temp[7] = commands[++iterator];\r\n    temp[8] = commands[++iterator];\r\n    temp[9] = commands[++iterator];\r\n    temp[10] = commands[++iterator];\r\n    temp[11] = commands[++iterator];\r\n    temp[12] = commands[++iterator];\r\n    temp[13] = commands[++iterator];\r\n    temp[14] = commands[++iterator];\r\n    temp[15] = commands[++iterator];\r\n\r\n    context._domRenderer.setMatrix(temp);\r\n\r\n    if (context._webGLRenderer)\r\n        context._webGLRenderer.setCutoutUniform(path, 'u_transform', temp);\r\n\r\n    return iterator;\r\n}\r\n\r\nfunction changeSize (context, path, commands, iterator) {\r\n    var width = commands[++iterator];\r\n    var height = commands[++iterator];\r\n\r\n    context._domRenderer.setSize(width, height);\r\n    if (context._webGLRenderer) {\r\n        context._meshSize[0] = width;\r\n        context._meshSize[1] = height;\r\n        context._webGLRenderer.setCutoutUniform(path, 'u_size', context._meshSize);\r\n    }\r\n\r\n    return iterator;\r\n}\r\n\r\nfunction changeProperty (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.setProperty(commands[++iterator], commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction changeContent (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.setContent(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction changeAttribute (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.setAttribute(commands[++iterator], commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction addClass (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.addClass(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction removeClass (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.removeClass(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction subscribe (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.subscribe(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction unsubscribe (context, path, commands, iterator) {\r\n    if (context._webGLRenderer) context._webGLRenderer.getOrSetCutout(path);\r\n    context._domRenderer.unsubscribe(commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction glSetDrawOptions (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setMeshOptions(path, commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction glAmbientLight (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setAmbientLightColor(\r\n        path,\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction glLightPosition (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setLightPosition(\r\n        path,\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction glLightColor (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setLightColor(\r\n        path,\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction materialInput (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.handleMaterialInput(\r\n        path,\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction glSetGeometry (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setGeometry(\r\n        path,\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction glUniforms (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setMeshUniform(\r\n        path,\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction glBufferData (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.bufferData(\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator],\r\n        commands[++iterator]\r\n    );\r\n    return iterator;\r\n}\r\n\r\nfunction glCutoutState (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setCutoutState(path, commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction glMeshVisibility (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.setMeshVisibility(path, commands[++iterator]);\r\n    return iterator;\r\n}\r\n\r\nfunction glRemoveMesh (context, path, commands, iterator) {\r\n    if (!context._webGLRenderer) context._initWebGLRenderer();\r\n    context._webGLRenderer.removeMesh(path);\r\n    return iterator;\r\n}\r\n\r\nfunction pinholeProjection (context, path, commands, iterator) {\r\n    context._renderState.projectionType = Camera.PINHOLE_PROJECTION;\r\n    context._renderState.perspectiveTransform[11] = -1 / commands[++iterator];\r\n    context._renderState.perspectiveDirty = true;\r\n    return iterator;\r\n}\r\n\r\nfunction orthographicProjection (context, path, commands, iterator) {\r\n    context._renderState.projectionType = Camera.ORTHOGRAPHIC_PROJECTION;\r\n    context._renderState.perspectiveTransform[11] = 0;\r\n    context._renderState.perspectiveDirty = true;\r\n    return iterator;\r\n}\r\n\r\nfunction changeViewTransform (context, path, commands, iterator) {\r\n    context._renderState.viewTransform[0] = commands[++iterator];\r\n    context._renderState.viewTransform[1] = commands[++iterator];\r\n    context._renderState.viewTransform[2] = commands[++iterator];\r\n    context._renderState.viewTransform[3] = commands[++iterator];\r\n\r\n    context._renderState.viewTransform[4] = commands[++iterator];\r\n    context._renderState.viewTransform[5] = commands[++iterator];\r\n    context._renderState.viewTransform[6] = commands[++iterator];\r\n    context._renderState.viewTransform[7] = commands[++iterator];\r\n\r\n    context._renderState.viewTransform[8] = commands[++iterator];\r\n    context._renderState.viewTransform[9] = commands[++iterator];\r\n    context._renderState.viewTransform[10] = commands[++iterator];\r\n    context._renderState.viewTransform[11] = commands[++iterator];\r\n\r\n    context._renderState.viewTransform[12] = commands[++iterator];\r\n    context._renderState.viewTransform[13] = commands[++iterator];\r\n    context._renderState.viewTransform[14] = commands[++iterator];\r\n    context._renderState.viewTransform[15] = commands[++iterator];\r\n\r\n    context._renderState.viewDirty = true;\r\n    return iterator;\r\n}\r\n\r\nmodule.exports = Context;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Commands = require('../core/Commands');\r\nvar Chan = require('../core/Chan');\r\n/**\r\n * The UIManager is being updated by an Engine by consecutively calling its\r\n * `update` method. It can either manage a real Web-Worker or the global\r\n * FamousEngine core singleton.\r\n *\r\n * @example\r\n * var compositor = new Compositor();\r\n * var engine = new Engine();\r\n *\r\n * // Using a Web Worker\r\n * var worker = new Worker('worker.bundle.js');\r\n * var threadmanger = new UIManager(worker, compositor, engine);\r\n *\r\n * // Without using a Web Worker\r\n * var threadmanger = new UIManager(Famous, compositor, engine);\r\n *\r\n * @class  UIManager\r\n * @constructor\r\n *\r\n * @param {Famous|Worker} thread The thread being used to receive messages\r\n * from and post messages to. Expected to expose a WebWorker-like API, which\r\n * means providing a way to listen for updates by setting its `onmessage`\r\n * property and sending updates using `postMessage`.\r\n * @param {Compositor} compositor an instance of Compositor used to extract\r\n * enqueued draw commands from to be sent to the thread.\r\n * @param {RenderLoop} renderLoop an instance of Engine used for executing\r\n * the `ENGINE` commands on.\r\n */\r\nfunction UIManager (thread, compositor, renderLoop) {\r\n    this._thread = thread;\r\n    this._compositor = compositor;\r\n    this._renderLoop = renderLoop;\r\n    Chan.setChannel(thread);\r\n    this._renderLoop.update(this);\r\n\r\n    var _this = this;\r\n    this._thread.onmessage = function (ev) {\r\n        var message = ev.data ? ev.data : ev;\r\n        if (message[0] === Commands.ENGINE) {\r\n            switch (message[1]) {\r\n                case Commands.CROSS_THREAD:\r\n                    Chan.callback(message[2]);\r\n                    break;\r\n                case Commands.START:\r\n                    _this._engine.start();\r\n                    break;\r\n                case Commands.STOP:\r\n                    _this._engine.stop();\r\n                    break;\r\n                default:\r\n                    console.error(\r\n                        'Unknown ENGINE command \"' + message[1] + '\"'\r\n                    );\r\n                    break;\r\n            }\r\n        }\r\n        else {\r\n            _this._compositor.receiveCommands(message);\r\n        }\r\n    };\r\n    this._thread.onerror = function (error) {\r\n        console.error(error);\r\n    };\r\n}\r\n\r\n/**\r\n * Returns the thread being used by the UIManager.\r\n * This could either be an an actual web worker or a `FamousEngine` singleton.\r\n *\r\n * @method\r\n *\r\n * @return {Worker|FamousEngine} Either a web worker or a `FamousEngine` singleton.\r\n */\r\nUIManager.prototype.getThread = function getThread() {\r\n    return this._thread;\r\n};\r\n\r\n/**\r\n * Returns the compositor being used by this UIManager.\r\n *\r\n * @method\r\n *\r\n * @return {Compositor} The compositor used by the UIManager.\r\n */\r\nUIManager.prototype.getCompositor = function getCompositor() {\r\n    return this._compositor;\r\n};\r\n\r\n/**\r\n * Returns the engine being used by this UIManager.\r\n *\r\n * @method\r\n * @deprecated Use {@link UIManager#getRenderLoop instead!}\r\n *\r\n * @return {Engine} The engine used by the UIManager.\r\n */\r\nUIManager.prototype.getEngine = function getEngine() {\r\n    return this._renderLoop;\r\n};\r\n\r\n\r\n/**\r\n * Returns the render loop currently being used by the UIManager.\r\n *\r\n * @method\r\n *\r\n * @return {RenderLoop}  The registered render loop used for updating the\r\n * UIManager.\r\n */\r\nUIManager.prototype.getRenderLoop = function getRenderLoop() {\r\n    return this._renderLoop;\r\n};\r\n\r\n/**\r\n * Update method being invoked by the Engine on every `requestAnimationFrame`.\r\n * Used for updating the notion of time within the managed thread by sending\r\n * a FRAME command and sending messages to\r\n *\r\n * @method\r\n *\r\n * @param  {Number} time unix timestamp to be passed down to the worker as a\r\n * FRAME command\r\n * @return {undefined} undefined\r\n */\r\nUIManager.prototype.update = function update (time) {\r\n    this._thread.postMessage([Commands.FRAME, time]);\r\n    var threadMessages = this._compositor.drawCommands();\r\n    this._thread.postMessage(threadMessages);\r\n    this._compositor.clearCommands();\r\n};\r\n\r\nmodule.exports = UIManager;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar css = '.famous-dom-renderer {' +\r\n    'width:100%;' +\r\n    'height:100%;' +\r\n    'transform-style:preserve-3d;' +\r\n    '-webkit-transform-style:preserve-3d;' +\r\n'}' +\r\n\r\n'.famous-dom-element {' +\r\n    '-webkit-transform-origin:0% 0%;' +\r\n    'transform-origin:0% 0%;' +\r\n    '-webkit-backface-visibility:visible;' +\r\n    'backface-visibility:visible;' +\r\n    '-webkit-transform-style:preserve-3d;' +\r\n    'transform-style:preserve-3d;' +\r\n    '-webkit-tap-highlight-color:transparent;' +\r\n    'pointer-events:auto;' +\r\n    'z-index:1;' +\r\n'}' +\r\n\r\n'.famous-dom-element-content,' +\r\n'.famous-dom-element {' +\r\n    'position:absolute;' +\r\n    'box-sizing:border-box;' +\r\n    '-moz-box-sizing:border-box;' +\r\n    '-webkit-box-sizing:border-box;' +\r\n'}' +\r\n\r\n'.famous-webgl-renderer {' +\r\n    '-webkit-transform:translateZ(1000000px);' +  /* TODO: Fix when Safari Fixes*/\r\n    'transform:translateZ(1000000px);' +\r\n    'pointer-events:none;' +\r\n    'position:absolute;' +\r\n    'z-index:1;' +\r\n    'top:0;' +\r\n    'width:100%;' +\r\n    'height:100%;' +\r\n'}';\r\n\r\nvar INJECTED = typeof document === 'undefined';\r\n\r\nfunction injectCSS() {\r\n    if (INJECTED) return;\r\n    INJECTED = true;\r\n    if (document.createStyleSheet) {\r\n        var sheet = document.createStyleSheet();\r\n        sheet.cssText = css;\r\n    }\r\n    else {\r\n        var head = document.getElementsByTagName('head')[0];\r\n        var style = document.createElement('style');\r\n\r\n        if (style.styleSheet) {\r\n            style.styleSheet.cssText = css;\r\n        }\r\n        else {\r\n            style.appendChild(document.createTextNode(css));\r\n        }\r\n\r\n        (head ? head : document.documentElement).appendChild(style);\r\n    }\r\n}\r\n\r\nmodule.exports = injectCSS;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n/*jshint -W008 */\r\n\r\n'use strict';\r\n\r\n/**\r\n * A library of curves which map an animation explicitly as a function of time.\r\n *\r\n * @namespace\r\n * @property {Function} linear\r\n * @property {Function} easeIn\r\n * @property {Function} easeOut\r\n * @property {Function} easeInOut\r\n * @property {Function} easeOutBounce\r\n * @property {Function} spring\r\n * @property {Function} inQuad\r\n * @property {Function} outQuad\r\n * @property {Function} inOutQuad\r\n * @property {Function} inCubic\r\n * @property {Function} outCubic\r\n * @property {Function} inOutCubic\r\n * @property {Function} inQuart\r\n * @property {Function} outQuart\r\n * @property {Function} inOutQuart\r\n * @property {Function} inQuint\r\n * @property {Function} outQuint\r\n * @property {Function} inOutQuint\r\n * @property {Function} inSine\r\n * @property {Function} outSine\r\n * @property {Function} inOutSine\r\n * @property {Function} inExpo\r\n * @property {Function} outExpo\r\n * @property {Function} inOutExp\r\n * @property {Function} inCirc\r\n * @property {Function} outCirc\r\n * @property {Function} inOutCirc\r\n * @property {Function} inElastic\r\n * @property {Function} outElastic\r\n * @property {Function} inOutElastic\r\n * @property {Function} inBounce\r\n * @property {Function} outBounce\r\n * @property {Function} inOutBounce\r\n * @property {Function} flat            - Useful for delaying the execution of\r\n *                                        a subsequent transition.\r\n */\r\nvar Curves = {\r\n    linear: function(t) {\r\n        return t;\r\n    },\r\n\r\n    easeIn: function(t) {\r\n        return t*t;\r\n    },\r\n\r\n    easeOut: function(t) {\r\n        return t*(2-t);\r\n    },\r\n\r\n    easeInOut: function(t) {\r\n        if (t <= 0.5) return 2*t*t;\r\n        else return -2*t*t + 4*t - 1;\r\n    },\r\n\r\n    easeOutBounce: function(t) {\r\n        return t*(3 - 2*t);\r\n    },\r\n\r\n    spring: function(t) {\r\n        return (1 - t) * Math.sin(6 * Math.PI * t) + t;\r\n    },\r\n\r\n    inQuad: function(t) {\r\n        return t*t;\r\n    },\r\n\r\n    outQuad: function(t) {\r\n        return -(t-=1)*t+1;\r\n    },\r\n\r\n    inOutQuad: function(t) {\r\n        if ((t/=.5) < 1) return .5*t*t;\r\n        return -.5*((--t)*(t-2) - 1);\r\n    },\r\n\r\n    inCubic: function(t) {\r\n        return t*t*t;\r\n    },\r\n\r\n    outCubic: function(t) {\r\n        return ((--t)*t*t + 1);\r\n    },\r\n\r\n    inOutCubic: function(t) {\r\n        if ((t/=.5) < 1) return .5*t*t*t;\r\n        return .5*((t-=2)*t*t + 2);\r\n    },\r\n\r\n    inQuart: function(t) {\r\n        return t*t*t*t;\r\n    },\r\n\r\n    outQuart: function(t) {\r\n        return -((--t)*t*t*t - 1);\r\n    },\r\n\r\n    inOutQuart: function(t) {\r\n        if ((t/=.5) < 1) return .5*t*t*t*t;\r\n        return -.5 * ((t-=2)*t*t*t - 2);\r\n    },\r\n\r\n    inQuint: function(t) {\r\n        return t*t*t*t*t;\r\n    },\r\n\r\n    outQuint: function(t) {\r\n        return ((--t)*t*t*t*t + 1);\r\n    },\r\n\r\n    inOutQuint: function(t) {\r\n        if ((t/=.5) < 1) return .5*t*t*t*t*t;\r\n        return .5*((t-=2)*t*t*t*t + 2);\r\n    },\r\n\r\n    inSine: function(t) {\r\n        return -1.0*Math.cos(t * (Math.PI/2)) + 1.0;\r\n    },\r\n\r\n    outSine: function(t) {\r\n        return Math.sin(t * (Math.PI/2));\r\n    },\r\n\r\n    inOutSine: function(t) {\r\n        return -.5*(Math.cos(Math.PI*t) - 1);\r\n    },\r\n\r\n    inExpo: function(t) {\r\n        return (t===0) ? 0.0 : Math.pow(2, 10 * (t - 1));\r\n    },\r\n\r\n    outExpo: function(t) {\r\n        return (t===1.0) ? 1.0 : (-Math.pow(2, -10 * t) + 1);\r\n    },\r\n\r\n    inOutExpo: function(t) {\r\n        if (t===0) return 0.0;\r\n        if (t===1.0) return 1.0;\r\n        if ((t/=.5) < 1) return .5 * Math.pow(2, 10 * (t - 1));\r\n        return .5 * (-Math.pow(2, -10 * --t) + 2);\r\n    },\r\n\r\n    inCirc: function(t) {\r\n        return -(Math.sqrt(1 - t*t) - 1);\r\n    },\r\n\r\n    outCirc: function(t) {\r\n        return Math.sqrt(1 - (--t)*t);\r\n    },\r\n\r\n    inOutCirc: function(t) {\r\n        if ((t/=.5) < 1) return -.5 * (Math.sqrt(1 - t*t) - 1);\r\n        return .5 * (Math.sqrt(1 - (t-=2)*t) + 1);\r\n    },\r\n\r\n    inElastic: function(t) {\r\n        var s=1.70158;var p=0;var a=1.0;\r\n        if (t===0) return 0.0;  if (t===1) return 1.0;  if (!p) p=.3;\r\n        s = p/(2*Math.PI) * Math.asin(1.0/a);\r\n        return -(a*Math.pow(2,10*(t-=1)) * Math.sin((t-s)*(2*Math.PI)/ p));\r\n    },\r\n\r\n    outElastic: function(t) {\r\n        var s=1.70158;var p=0;var a=1.0;\r\n        if (t===0) return 0.0;  if (t===1) return 1.0;  if (!p) p=.3;\r\n        s = p/(2*Math.PI) * Math.asin(1.0/a);\r\n        return a*Math.pow(2,-10*t) * Math.sin((t-s)*(2*Math.PI)/p) + 1.0;\r\n    },\r\n\r\n    inOutElastic: function(t) {\r\n        var s=1.70158;var p=0;var a=1.0;\r\n        if (t===0) return 0.0;  if ((t/=.5)===2) return 1.0;  if (!p) p=(.3*1.5);\r\n        s = p/(2*Math.PI) * Math.asin(1.0/a);\r\n        if (t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin((t-s)*(2*Math.PI)/p));\r\n        return a*Math.pow(2,-10*(t-=1)) * Math.sin((t-s)*(2*Math.PI)/p)*.5 + 1.0;\r\n    },\r\n\r\n    inBack: function(t, s) {\r\n        if (s === undefined) s = 1.70158;\r\n        return t*t*((s+1)*t - s);\r\n    },\r\n\r\n    outBack: function(t, s) {\r\n        if (s === undefined) s = 1.70158;\r\n        return ((--t)*t*((s+1)*t + s) + 1);\r\n    },\r\n\r\n    inOutBack: function(t, s) {\r\n        if (s === undefined) s = 1.70158;\r\n        if ((t/=.5) < 1) return .5*(t*t*(((s*=(1.525))+1)*t - s));\r\n        return .5*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2);\r\n    },\r\n\r\n    inBounce: function(t) {\r\n        return 1.0 - Curves.outBounce(1.0-t);\r\n    },\r\n\r\n    outBounce: function(t) {\r\n        if (t < (1/2.75)) {\r\n            return (7.5625*t*t);\r\n        }\r\n        else if (t < (2/2.75)) {\r\n            return (7.5625*(t-=(1.5/2.75))*t + .75);\r\n        }\r\n        else if (t < (2.5/2.75)) {\r\n            return (7.5625*(t-=(2.25/2.75))*t + .9375);\r\n        }\r\n        else {\r\n            return (7.5625*(t-=(2.625/2.75))*t + .984375);\r\n        }\r\n    },\r\n\r\n    inOutBounce: function(t) {\r\n        if (t < .5) return Curves.inBounce(t*2) * .5;\r\n        return Curves.outBounce(t*2-1.0) * .5 + .5;\r\n    },\r\n\r\n    flat: function() {\r\n        return 0;\r\n    }\r\n};\r\n\r\nmodule.exports = Curves;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Curves = require('./Curves');\r\nvar FamousEngine = require('../core/FamousEngine');\r\n\r\n/**\r\n * A state maintainer for a smooth transition between\r\n *    numerically-specified states. Example numeric states include floats and\r\n *    arrays of floats objects.\r\n *\r\n * An initial state is set with the constructor or using\r\n *     {@link Transitionable#from}. Subsequent transitions consist of an\r\n *     intermediate state, easing curve, duration and callback. The final state\r\n *     of each transition is the initial state of the subsequent one. Calls to\r\n *     {@link Transitionable#get} provide the interpolated state along the way.\r\n *\r\n * Note that there is no event loop here - calls to {@link Transitionable#get}\r\n *    are the only way to find state projected to the current (or provided)\r\n *    time and are the only way to trigger callbacks and mutate the internal\r\n *    transition queue.\r\n *\r\n * @example\r\n * var t = new Transitionable([0, 0]);\r\n * t\r\n *     .to([100, 0], 'linear', 1000)\r\n *     .delay(1000)\r\n *     .to([200, 0], 'outBounce', 1000);\r\n *\r\n * var div = document.createElement('div');\r\n * div.style.background = 'blue';\r\n * div.style.width = '100px';\r\n * div.style.height = '100px';\r\n * document.body.appendChild(div);\r\n *\r\n * div.addEventListener('click', function() {\r\n *     t.isPaused() ? t.resume() : t.pause();\r\n * });\r\n *\r\n * requestAnimationFrame(function loop() {\r\n *     div.style.transform = 'translateX(' + t.get()[0] + 'px)' + ' translateY(' + t.get()[1] + 'px)';\r\n *     requestAnimationFrame(loop);\r\n * });\r\n *\r\n * @class Transitionable\r\n * @constructor\r\n * @param {Number|Array.Number} initialState    initial state to transition\r\n *                                              from - equivalent to a pursuant\r\n *                                              invocation of\r\n *                                              {@link Transitionable#from}\r\n */\r\nfunction Transitionable(initialState) {\r\n    this._queue = [];\r\n    this._from = null;\r\n    this._state = null;\r\n    this._startedAt = null;\r\n    this._pausedAt = null;\r\n    if (initialState != null) this.from(initialState);\r\n}\r\n\r\n/**\r\n * Internal Clock used for determining the current time for the ongoing\r\n * transitions.\r\n *\r\n * @type {Performance|Date|Clock}\r\n */\r\nTransitionable.Clock = FamousEngine.getClock();\r\n\r\n/**\r\n * Registers a transition to be pushed onto the internal queue.\r\n *\r\n * @method to\r\n * @chainable\r\n *\r\n * @param  {Number|Array.Number}    finalState              final state to\r\n *                                                          transiton to\r\n * @param  {String|Function}        [curve=Curves.linear]   easing function\r\n *                                                          used for\r\n *                                                          interpolating\r\n *                                                          [0, 1]\r\n * @param  {Number}                 [duration=100]          duration of\r\n *                                                          transition\r\n * @param  {Function}               [callback]              callback function\r\n *                                                          to be called after\r\n *                                                          the transition is\r\n *                                                          complete\r\n * @param  {String}                 [method]                method used for\r\n *                                                          interpolation\r\n *                                                          (e.g. slerp)\r\n * @return {Transitionable}         this\r\n */\r\nTransitionable.prototype.to = function to(finalState, curve, duration, callback, method) {\r\n    curve = curve != null && curve.constructor === String ? Curves[curve] : curve;\r\n    if (this._queue.length === 0) {\r\n        this._startedAt = this.constructor.Clock.now();\r\n        this._pausedAt = null;\r\n    }\r\n    this._queue.push(\r\n        finalState,\r\n        curve != null ? curve : Curves.linear,\r\n        duration != null ? duration : 100,\r\n        callback,\r\n        method\r\n    );\r\n    return this;\r\n};\r\n\r\n/**\r\n * Resets the transition queue to a stable initial state.\r\n *\r\n * @method from\r\n * @chainable\r\n *\r\n * @param  {Number|Array.Number}    initialState    initial state to\r\n *                                                  transition from\r\n * @return {Transitionable}         this\r\n */\r\nTransitionable.prototype.from = function from(initialState) {\r\n    this._state = initialState;\r\n    this._from = this._sync(null, this._state);\r\n    this._queue.length = 0;\r\n    this._startedAt = this.constructor.Clock.now();\r\n    this._pausedAt = null;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Delays the execution of the subsequent transition for a certain period of\r\n * time.\r\n *\r\n * @method delay\r\n * @chainable\r\n *\r\n * @param {Number}      duration    delay time in ms\r\n * @param {Function}    [callback]  Zero-argument function to call on observed\r\n *                                  completion (t=1)\r\n * @return {Transitionable}         this\r\n */\r\nTransitionable.prototype.delay = function delay(duration, callback) {\r\n    var endState = this._queue.length > 0 ? this._queue[this._queue.length - 5] : this._state;\r\n    return this.to(endState, Curves.flat, duration, callback);\r\n};\r\n\r\n/**\r\n * Overrides current transition.\r\n *\r\n * @method override\r\n * @chainable\r\n *\r\n * @param  {Number|Array.Number}    [finalState]    final state to transiton to\r\n * @param  {String|Function}        [curve]         easing function used for\r\n *                                                  interpolating [0, 1]\r\n * @param  {Number}                 [duration]      duration of transition\r\n * @param  {Function}               [callback]      callback function to be\r\n *                                                  called after the transition\r\n *                                                  is complete\r\n * @param {String}                  [method]        optional method used for\r\n *                                                  interpolating between the\r\n *                                                  values. Set to `slerp` for\r\n *                                                  spherical linear\r\n *                                                  interpolation.\r\n * @return {Transitionable}         this\r\n */\r\nTransitionable.prototype.override = function override(finalState, curve, duration, callback, method) {\r\n    if (this._queue.length > 0) {\r\n        if (finalState != null) this._queue[0] = finalState;\r\n        if (curve != null)      this._queue[1] = curve.constructor === String ? Curves[curve] : curve;\r\n        if (duration != null)   this._queue[2] = duration;\r\n        if (callback != null)   this._queue[3] = callback;\r\n        if (method != null)     this._queue[4] = method;\r\n    }\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Used for interpolating between the start and end state of the currently\r\n * running transition\r\n *\r\n * @method  _interpolate\r\n * @private\r\n *\r\n * @param  {Object|Array|Number} output     Where to write to (in order to avoid\r\n *                                          object allocation and therefore GC).\r\n * @param  {Object|Array|Number} from       Start state of current transition.\r\n * @param  {Object|Array|Number} to         End state of current transition.\r\n * @param  {Number} progress                Progress of the current transition,\r\n *                                          in [0, 1]\r\n * @param  {String} method                  Method used for interpolation (e.g.\r\n *                                          slerp)\r\n * @return {Object|Array|Number}            output\r\n */\r\nTransitionable.prototype._interpolate = function _interpolate(output, from, to, progress, method) {\r\n    if (to instanceof Object) {\r\n        if (method === 'slerp') {\r\n            var x, y, z, w;\r\n            var qx, qy, qz, qw;\r\n            var omega, cosomega, sinomega, scaleFrom, scaleTo;\r\n\r\n            x = from[0];\r\n            y = from[1];\r\n            z = from[2];\r\n            w = from[3];\r\n\r\n            qx = to[0];\r\n            qy = to[1];\r\n            qz = to[2];\r\n            qw = to[3];\r\n\r\n            if (progress === 1) {\r\n                output[0] = qx;\r\n                output[1] = qy;\r\n                output[2] = qz;\r\n                output[3] = qw;\r\n                return output;\r\n            }\r\n\r\n            cosomega = w * qw + x * qx + y * qy + z * qz;\r\n            if ((1.0 - cosomega) > 1e-5) {\r\n                omega = Math.acos(cosomega);\r\n                sinomega = Math.sin(omega);\r\n                scaleFrom = Math.sin((1.0 - progress) * omega) / sinomega;\r\n                scaleTo = Math.sin(progress * omega) / sinomega;\r\n            }\r\n            else {\r\n                scaleFrom = 1.0 - progress;\r\n                scaleTo = progress;\r\n            }\r\n\r\n            output[0] = x * scaleFrom + qx * scaleTo;\r\n            output[1] = y * scaleFrom + qy * scaleTo;\r\n            output[2] = z * scaleFrom + qz * scaleTo;\r\n            output[3] = w * scaleFrom + qw * scaleTo;\r\n        }\r\n        else if (to instanceof Array) {\r\n            for (var i = 0, len = to.length; i < len; i++) {\r\n                output[i] = this._interpolate(output[i], from[i], to[i], progress, method);\r\n            }\r\n        }\r\n        else {\r\n            for (var key in to) {\r\n                output[key] = this._interpolate(output[key], from[key], to[key], progress, method);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        output = from + progress * (to - from);\r\n    }\r\n    return output;\r\n};\r\n\r\n\r\n/**\r\n * Internal helper method used for synchronizing the current, absolute state of\r\n * a transition to a given output array, object literal or number. Supports\r\n * nested state objects by through recursion.\r\n *\r\n * @method  _sync\r\n * @private\r\n *\r\n * @param  {Number|Array|Object} output     Where to write to (in order to avoid\r\n *                                          object allocation and therefore GC).\r\n * @param  {Number|Array|Object} input      Input state to proxy onto the\r\n *                                          output.\r\n * @return {Number|Array|Object} output     Passed in output object.\r\n */\r\nTransitionable.prototype._sync = function _sync(output, input) {\r\n    if (typeof input === 'number') output = input;\r\n    else if (input instanceof Array) {\r\n        if (output == null) output = [];\r\n        for (var i = 0, len = input.length; i < len; i++) {\r\n            output[i] = _sync(output[i], input[i]);\r\n        }\r\n    }\r\n    else if (input instanceof Object) {\r\n        if (output == null) output = {};\r\n        for (var key in input) {\r\n            output[key] = _sync(output[key], input[key]);\r\n        }\r\n    }\r\n    return output;\r\n};\r\n\r\n/**\r\n * Get interpolated state of current action at provided time. If the last\r\n *    action has completed, invoke its callback.\r\n *\r\n * @method get\r\n *\r\n * @param {Number=} t               Evaluate the curve at a normalized version\r\n *                                  of this time. If omitted, use current time\r\n *                                  (Unix epoch time retrieved from Clock).\r\n * @return {Number|Array.Number}    Beginning state interpolated to this point\r\n *                                  in time.\r\n */\r\nTransitionable.prototype.get = function get(t) {\r\n    if (this._queue.length === 0) return this._state;\r\n\r\n    t = this._pausedAt ? this._pausedAt : t;\r\n    t = t ? t : this.constructor.Clock.now();\r\n\r\n    var progress = (t - this._startedAt) / this._queue[2];\r\n    this._state = this._interpolate(\r\n        this._state,\r\n        this._from,\r\n        this._queue[0],\r\n        this._queue[1](progress > 1 ? 1 : progress),\r\n        this._queue[4]\r\n    );\r\n    var state = this._state;\r\n    if (progress >= 1) {\r\n        this._startedAt = this._startedAt + this._queue[2];\r\n        this._from = this._sync(this._from, this._state);\r\n        this._queue.shift();\r\n        this._queue.shift();\r\n        this._queue.shift();\r\n        var callback = this._queue.shift();\r\n        this._queue.shift();\r\n        if (callback) callback();\r\n    }\r\n    return progress > 1 ? this.get() : state;\r\n};\r\n\r\n/**\r\n * Is there at least one transition pending completion?\r\n *\r\n * @method isActive\r\n *\r\n * @return {Boolean}    Boolean indicating whether there is at least one pending\r\n *                      transition. Paused transitions are still being\r\n *                      considered active.\r\n */\r\nTransitionable.prototype.isActive = function isActive() {\r\n    return this._queue.length > 0;\r\n};\r\n\r\n/**\r\n * Halt transition at current state and erase all pending actions.\r\n *\r\n * @method halt\r\n * @chainable\r\n *\r\n * @return {Transitionable} this\r\n */\r\nTransitionable.prototype.halt = function halt() {\r\n    return this.from(this.get());\r\n};\r\n\r\n/**\r\n * Pause transition. This will not erase any actions.\r\n *\r\n * @method pause\r\n * @chainable\r\n *\r\n * @return {Transitionable} this\r\n */\r\nTransitionable.prototype.pause = function pause() {\r\n    this._pausedAt = this.constructor.Clock.now();\r\n    return this;\r\n};\r\n\r\n/**\r\n * Has the current action been paused?\r\n *\r\n * @method isPaused\r\n * @chainable\r\n *\r\n * @return {Boolean} if the current action has been paused\r\n */\r\nTransitionable.prototype.isPaused = function isPaused() {\r\n    return !!this._pausedAt;\r\n};\r\n\r\n/**\r\n * Resume a previously paused transition.\r\n *\r\n * @method resume\r\n * @chainable\r\n *\r\n * @return {Transitionable} this\r\n */\r\nTransitionable.prototype.resume = function resume() {\r\n    var diff = this._pausedAt - this._startedAt;\r\n    this._startedAt = this.constructor.Clock.now() - diff;\r\n    this._pausedAt = null;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Cancel all transitions and reset to a stable state\r\n *\r\n * @method reset\r\n * @chainable\r\n * @deprecated Use `.from` instead!\r\n *\r\n * @param {Number|Array.Number|Object.<number, number>} start\r\n *    stable state to set to\r\n * @return {Transitionable}                             this\r\n */\r\nTransitionable.prototype.reset = function(start) {\r\n    return this.from(start);\r\n};\r\n\r\n/**\r\n * Add transition to end state to the queue of pending transitions. Special\r\n *    Use: calling without a transition resets the object to that state with\r\n *    no pending actions\r\n *\r\n * @method set\r\n * @chainable\r\n * @deprecated Use `.to` instead!\r\n *\r\n * @param {Number|FamousEngineMatrix|Array.Number|Object.<number, number>} state\r\n *    end state to which we interpolate\r\n * @param {transition=} transition object of type {duration: number, curve:\r\n *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\r\n *    instantaneous.\r\n * @param {function()=} callback Zero-argument function to call on observed\r\n *    completion (t=1)\r\n * @return {Transitionable} this\r\n */\r\nTransitionable.prototype.set = function(state, transition, callback) {\r\n    if (transition == null) {\r\n        this.from(state);\r\n        if (callback) callback();\r\n    }\r\n    else {\r\n        this.to(state, transition.curve, transition.duration, callback, transition.method);\r\n    }\r\n    return this;\r\n};\r\n\r\nmodule.exports = Transitionable;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * A lightweight, featureless EventEmitter.\r\n *\r\n * @class CallbackStore\r\n * @constructor\r\n */\r\nfunction CallbackStore () {\r\n    this._events = {};\r\n}\r\n\r\n/**\r\n * Adds a listener for the specified event (= key).\r\n *\r\n * @method on\r\n * @chainable\r\n *\r\n * @param  {String}   key       The event type (e.g. `click`).\r\n * @param  {Function} callback  A callback function to be invoked whenever `key`\r\n *                              event is being triggered.\r\n * @return {Function} destroy   A function to call if you want to remove the\r\n *                              callback.\r\n */\r\nCallbackStore.prototype.on = function on (key, callback) {\r\n    if (!this._events[key]) this._events[key] = [];\r\n    var callbackList = this._events[key];\r\n    callbackList.push(callback);\r\n    return function () {\r\n        callbackList.splice(callbackList.indexOf(callback), 1);\r\n    };\r\n};\r\n\r\n/**\r\n * Removes a previously added event listener.\r\n *\r\n * @method off\r\n * @chainable\r\n *\r\n * @param  {String} key         The event type from which the callback function\r\n *                              should be removed.\r\n * @param  {Function} callback  The callback function to be removed from the\r\n *                              listeners for key.\r\n * @return {CallbackStore} this\r\n */\r\nCallbackStore.prototype.off = function off (key, callback) {\r\n    var events = this._events[key];\r\n    if (events) events.splice(events.indexOf(callback), 1);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Invokes all the previously for this key registered callbacks.\r\n *\r\n * @method trigger\r\n * @chainable\r\n *\r\n * @param  {String}        key      The event type.\r\n * @param  {Object}        payload  The event payload (event object).\r\n * @return {CallbackStore} this\r\n */\r\nCallbackStore.prototype.trigger = function trigger (key, payload) {\r\n    var events = this._events[key];\r\n    if (events) {\r\n        var i = 0;\r\n        var len = events.length;\r\n        for (; i < len ; i++) events[i](payload);\r\n    }\r\n    return this;\r\n};\r\n\r\nmodule.exports = CallbackStore;\r\n","'use strict';\r\n\r\nfunction Registry () {\r\n    this._keyToValue = {};\r\n    this._values = [];\r\n    this._keys = [];\r\n    this._keyToIndex = {};\r\n    this._freedIndices = [];\r\n}\r\n\r\nRegistry.prototype.register = function register (key, value) {\r\n    var index = this._keyToIndex[key];\r\n    if (index == null) {\r\n        index = this._freedIndices.pop();\r\n        if (index === undefined) index = this._values.length;\r\n\r\n        this._values[index] = value;\r\n        this._keys[index] = key;\r\n\r\n        this._keyToIndex[key] = index;\r\n        this._keyToValue[key] = value;\r\n    }\r\n    else {\r\n        this._keyToValue[key] = value;\r\n        this._values[index] = value;\r\n    }\r\n};\r\n\r\nRegistry.prototype.unregister = function unregister (key) {\r\n    var index = this._keyToIndex[key];\r\n\r\n    if (index != null) {\r\n        this._freedIndices.push(index);\r\n        this._keyToValue[key] = null;\r\n        this._keyToIndex[key] = null;\r\n        this._values[index] = null;\r\n        this._keys[index] = null;\r\n    }\r\n};\r\n\r\nRegistry.prototype.get = function get (key) {\r\n    return this._keyToValue[key];\r\n};\r\n\r\nRegistry.prototype.getValues = function getValues () {\r\n    return this._values;\r\n};\r\n\r\nRegistry.prototype.getKeys = function getKeys () {\r\n    return this._keys;\r\n};\r\n\r\nRegistry.prototype.getKeyToValue = function getKeyToValue () {\r\n    return this._keyToValue;\r\n};\r\n\r\nmodule.exports = Registry;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Deep clone an object.\r\n *\r\n * @method  clone\r\n *\r\n * @param {Object} b       Object to be cloned.\r\n * @return {Object} a      Cloned object (deep equality).\r\n */\r\nvar clone = function clone(b) {\r\n    var a;\r\n    if (typeof b === 'object') {\r\n        a = (b instanceof Array) ? [] : {};\r\n        for (var key in b) {\r\n            if (typeof b[key] === 'object' && b[key] !== null) {\r\n                if (b[key] instanceof Array) {\r\n                    a[key] = new Array(b[key].length);\r\n                    for (var i = 0; i < b[key].length; i++) {\r\n                        a[key][i] = clone(b[key][i]);\r\n                    }\r\n                }\r\n                else {\r\n                  a[key] = clone(b[key]);\r\n                }\r\n            }\r\n            else {\r\n                a[key] = b[key];\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        a = b;\r\n    }\r\n    return a;\r\n};\r\n\r\nmodule.exports = clone;\r\n","'use strict';\r\n\r\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n/**\r\n * Takes an object containing keys and values and returns an object\r\n * comprising two \"associate\" arrays, one with the keys and the other\r\n * with the values.\r\n *\r\n * @method keyValuesToArrays\r\n *\r\n * @param {Object} obj                      Objects where to extract keys and values\r\n *                                          from.\r\n * @return {Object}         result\r\n *         {Array.<String>} result.keys     Keys of `result`, as returned by\r\n *                                          `Object.keys()`\r\n *         {Array}          result.values   Values of passed in object.\r\n */\r\nmodule.exports = function keyValuesToArrays(obj) {\r\n    var keysArray = [], valuesArray = [];\r\n    var i = 0;\r\n    for(var key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n            keysArray[i] = key;\r\n            valuesArray[i] = obj[key];\r\n            i++;\r\n        }\r\n    }\r\n    return {\r\n        keys: keysArray,\r\n        values: valuesArray\r\n    };\r\n};\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar PREFIXES = ['', '-ms-', '-webkit-', '-moz-', '-o-'];\r\n\r\n/**\r\n * A helper function used for determining the vendor prefixed version of the\r\n * passed in CSS property.\r\n *\r\n * Vendor checks are being conducted in the following order:\r\n *\r\n * 1. (no prefix)\r\n * 2. `-mz-`\r\n * 3. `-webkit-`\r\n * 4. `-moz-`\r\n * 5. `-o-`\r\n *\r\n * @method vendorPrefix\r\n *\r\n * @param {String} property     CSS property (no camelCase), e.g.\r\n *                              `border-radius`.\r\n * @return {String} prefixed    Vendor prefixed version of passed in CSS\r\n *                              property (e.g. `-webkit-border-radius`).\r\n */\r\nfunction vendorPrefix(property) {\r\n    for (var i = 0; i < PREFIXES.length; i++) {\r\n        var prefixed = PREFIXES[i] + property;\r\n        if (document.documentElement.style[prefixed] === '') {\r\n            return prefixed;\r\n        }\r\n    }\r\n    return property;\r\n}\r\n\r\nmodule.exports = vendorPrefix;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Buffer is a private class that wraps the vertex data that defines\r\n * the the points of the triangles that webgl draws. Each buffer\r\n * maps to one attribute of a mesh.\r\n *\r\n * @class Buffer\r\n * @constructor\r\n *\r\n * @param {Number} target The bind target of the buffer to update: ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER\r\n * @param {Object} type Array type to be used in calls to gl.bufferData.\r\n * @param {WebGLContext} gl The WebGL context that the buffer is hosted by.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction Buffer(target, type, gl) {\r\n    this.buffer = null;\r\n    this.target = target;\r\n    this.type = type;\r\n    this.data = [];\r\n    this.gl = gl;\r\n}\r\n\r\n/**\r\n * Creates a WebGL buffer if one does not yet exist and binds the buffer to\r\n * to the context. Runs bufferData with appropriate data.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nBuffer.prototype.subData = function subData() {\r\n    var gl = this.gl;\r\n    var data = [];\r\n\r\n    // to prevent against maximum call-stack issue.\r\n    for (var i = 0, chunk = 10000; i < this.data.length; i += chunk)\r\n        data = Array.prototype.concat.apply(data, this.data.slice(i, i + chunk));\r\n\r\n    this.buffer = this.buffer || gl.createBuffer();\r\n    gl.bindBuffer(this.target, this.buffer);\r\n    gl.bufferData(this.target, new this.type(data), gl.STATIC_DRAW);\r\n};\r\n\r\nmodule.exports = Buffer;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar INDICES = 'indices';\r\n\r\nvar Buffer = require('./Buffer');\r\n\r\n/**\r\n * BufferRegistry is a class that manages allocation of buffers to\r\n * input geometries.\r\n *\r\n * @class BufferRegistry\r\n * @constructor\r\n *\r\n * @param {WebGLContext} context WebGL drawing context to be passed to buffers.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction BufferRegistry(context) {\r\n    this.gl = context;\r\n\r\n    this.registry = {};\r\n    this._dynamicBuffers = [];\r\n    this._staticBuffers = [];\r\n\r\n    this._arrayBufferMax = 30000;\r\n    this._elementBufferMax = 30000;\r\n}\r\n\r\n/**\r\n * Binds and fills all the vertex data into webgl buffers.  Will reuse buffers if\r\n * possible.  Populates registry with the name of the buffer, the WebGL buffer\r\n * object, spacing of the attribute, the attribute's offset within the buffer,\r\n * and finally the length of the buffer.  This information is later accessed by\r\n * the root to draw the buffers.\r\n *\r\n * @method\r\n *\r\n * @param {Number} geometryId Id of the geometry instance that holds the buffers.\r\n * @param {String} name Key of the input buffer in the geometry.\r\n * @param {Array} value Flat array containing input data for buffer.\r\n * @param {Number} spacing The spacing, or itemSize, of the input buffer.\r\n * @param {Boolean} dynamic Boolean denoting whether a geometry is dynamic or static.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nBufferRegistry.prototype.allocate = function allocate(geometryId, name, value, spacing, dynamic) {\r\n    var vertexBuffers = this.registry[geometryId] || (this.registry[geometryId] = { keys: [], values: [], spacing: [], offset: [], length: [] });\r\n\r\n    var j = vertexBuffers.keys.indexOf(name);\r\n    var isIndex = name === INDICES;\r\n    var bufferFound = false;\r\n    var newOffset;\r\n    var offset = 0;\r\n    var length;\r\n    var buffer;\r\n    var k;\r\n\r\n    if (j === -1) {\r\n        j = vertexBuffers.keys.length;\r\n        length = isIndex ? value.length : Math.floor(value.length / spacing);\r\n\r\n        if (!dynamic) {\r\n\r\n            // Use a previously created buffer if available.\r\n\r\n            for (k = 0; k < this._staticBuffers.length; k++) {\r\n\r\n                if (isIndex === this._staticBuffers[k].isIndex) {\r\n                    newOffset = this._staticBuffers[k].offset + value.length;\r\n                    if ((!isIndex && newOffset < this._arrayBufferMax) || (isIndex && newOffset < this._elementBufferMax)) {\r\n                        buffer = this._staticBuffers[k].buffer;\r\n                        offset = this._staticBuffers[k].offset;\r\n                        this._staticBuffers[k].offset += value.length;\r\n                        bufferFound = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Create a new static buffer in none were found.\r\n\r\n            if (!bufferFound) {\r\n                buffer = new Buffer(\r\n                    isIndex ? this.gl.ELEMENT_ARRAY_BUFFER : this.gl.ARRAY_BUFFER,\r\n                    isIndex ? Uint16Array : Float32Array,\r\n                    this.gl\r\n                );\r\n\r\n                this._staticBuffers.push({ buffer: buffer, offset: value.length, isIndex: isIndex });\r\n            }\r\n        }\r\n        else {\r\n\r\n            // For dynamic geometries, always create new buffer.\r\n\r\n            buffer = new Buffer(\r\n                isIndex ? this.gl.ELEMENT_ARRAY_BUFFER : this.gl.ARRAY_BUFFER,\r\n                isIndex ? Uint16Array : Float32Array,\r\n                this.gl\r\n            );\r\n\r\n            this._dynamicBuffers.push({ buffer: buffer, offset: value.length, isIndex: isIndex });\r\n        }\r\n\r\n        // Update the registry for the spec with buffer information.\r\n\r\n        vertexBuffers.keys.push(name);\r\n        vertexBuffers.values.push(buffer);\r\n        vertexBuffers.spacing.push(spacing);\r\n        vertexBuffers.offset.push(offset);\r\n        vertexBuffers.length.push(length);\r\n    }\r\n\r\n    var len = value.length;\r\n    for (k = 0; k < len; k++) {\r\n        vertexBuffers.values[j].data[offset + k] = value[k];\r\n    }\r\n    vertexBuffers.values[j].subData();\r\n};\r\n\r\nmodule.exports = BufferRegistry;\r\n","'use strict';\r\n\r\n/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n/**\r\n * Takes the original rendering contexts' compiler function\r\n * and augments it with added functionality for parsing and\r\n * displaying errors.\r\n *\r\n * @method\r\n *\r\n * @returns {Function} Augmented function\r\n */\r\nfunction Debug() {\r\n    return _augmentFunction(\r\n        this.gl.compileShader,\r\n        function(shader) {\r\n            if (!this.getShaderParameter(shader, this.COMPILE_STATUS)) {\r\n                var errors = this.getShaderInfoLog(shader);\r\n                var source = this.getShaderSource(shader);\r\n                _processErrors(errors, source);\r\n            }\r\n        }\r\n    );\r\n}\r\n\r\n// Takes a function, keeps the reference and replaces it by a closure that\r\n// executes the original function and the provided callback.\r\nfunction _augmentFunction(func, callback) {\r\n    return function() {\r\n        var res = func.apply(this, arguments);\r\n        callback.apply(this, arguments);\r\n        return res;\r\n    };\r\n}\r\n\r\n// Parses errors and failed source code from shaders in order\r\n// to build displayable error blocks.\r\n// Inspired by Jaume Sanchez Elias.\r\nfunction _processErrors(errors, source) {\r\n\r\n    var css = 'body,html{background:#e3e3e3;font-family:monaco,monospace;font-size:14px;line-height:1.7em}' +\r\n              '#shaderReport{left:0;top:0;right:0;box-sizing:border-box;position:absolute;z-index:1000;color:' +\r\n              '#222;padding:15px;white-space:normal;list-style-type:none;margin:50px auto;max-width:1200px}' +\r\n              '#shaderReport li{background-color:#fff;margin:13px 0;box-shadow:0 1px 2px rgba(0,0,0,.15);' +\r\n              'padding:20px 30px;border-radius:2px;border-left:20px solid #e01111}span{color:#e01111;' +\r\n              'text-decoration:underline;font-weight:700}#shaderReport li p{padding:0;margin:0}' +\r\n              '#shaderReport li:nth-child(even){background-color:#f4f4f4}' +\r\n              '#shaderReport li p:first-child{margin-bottom:10px;color:#666}';\r\n\r\n    var el = document.createElement('style');\r\n    document.getElementsByTagName('head')[0].appendChild(el);\r\n    el.textContent = css;\r\n\r\n    var report = document.createElement('ul');\r\n    report.setAttribute('id', 'shaderReport');\r\n    document.body.appendChild(report);\r\n\r\n    var re = /ERROR: [\\d]+:([\\d]+): (.+)/gmi;\r\n    var lines = source.split('\\n');\r\n\r\n    var m;\r\n    while ((m = re.exec(errors)) != null) {\r\n        if (m.index === re.lastIndex) re.lastIndex++;\r\n        var li = document.createElement('li');\r\n        var code = '<p><span>ERROR</span> \"' + m[2] + '\" in line ' + m[1] + '</p>';\r\n        code += '<p><b>' + lines[m[1] - 1].replace(/^[ \\t]+/g, '') + '</b></p>';\r\n        li.innerHTML = code;\r\n        report.appendChild(li);\r\n    }\r\n}\r\n\r\nmodule.exports = Debug;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar clone = require('../utilities/clone');\r\nvar keyValueToArrays = require('../utilities/keyValueToArrays');\r\n\r\nvar vertexWrapper = require('../webgl-shaders').vertex;\r\nvar fragmentWrapper = require('../webgl-shaders').fragment;\r\nvar Debug = require('./Debug');\r\n\r\nvar VERTEX_SHADER = 35633;\r\nvar FRAGMENT_SHADER = 35632;\r\nvar identityMatrix = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n\r\nvar header = 'precision mediump float;\\n';\r\n\r\nvar TYPES = {\r\n    undefined: 'float ',\r\n    1: 'float ',\r\n    2: 'vec2 ',\r\n    3: 'vec3 ',\r\n    4: 'vec4 ',\r\n    16: 'mat4 '\r\n};\r\n\r\nvar inputTypes = {\r\n    u_baseColor: 'vec4',\r\n    u_normals: 'vert',\r\n    u_glossiness: 'vec4',\r\n    u_positionOffset: 'vert'\r\n};\r\n\r\nvar masks =  {\r\n    vert: 1,\r\n    vec3: 2,\r\n    vec4: 4,\r\n    float: 8\r\n};\r\n\r\n/**\r\n * Uniform keys and values\r\n */\r\nvar uniforms = keyValueToArrays({\r\n    u_perspective: identityMatrix,\r\n    u_view: identityMatrix,\r\n    u_resolution: [0, 0, 0],\r\n    u_transform: identityMatrix,\r\n    u_size: [1, 1, 1],\r\n    u_time: 0,\r\n    u_opacity: 1,\r\n    u_metalness: 0,\r\n    u_glossiness: [0, 0, 0, 0],\r\n    u_baseColor: [1, 1, 1, 1],\r\n    u_normals: [1, 1, 1],\r\n    u_positionOffset: [0, 0, 0],\r\n    u_lightPosition: identityMatrix,\r\n    u_lightColor: identityMatrix,\r\n    u_ambientLight: [0, 0, 0],\r\n    u_flatShading: 0,\r\n    u_numLights: 0\r\n});\r\n\r\n/**\r\n * Attributes keys and values\r\n */\r\nvar attributes = keyValueToArrays({\r\n    a_pos: [0, 0, 0],\r\n    a_texCoord: [0, 0],\r\n    a_normals: [0, 0, 0]\r\n});\r\n\r\n/**\r\n * Varyings keys and values\r\n */\r\nvar varyings = keyValueToArrays({\r\n    v_textureCoordinate: [0, 0],\r\n    v_normal: [0, 0, 0],\r\n    v_position: [0, 0, 0],\r\n    v_eyeVector: [0, 0, 0]\r\n});\r\n\r\n/**\r\n * A class that handles interactions with the WebGL shader program\r\n * used by a specific context.  It manages creation of the shader program\r\n * and the attached vertex and fragment shaders.  It is also in charge of\r\n * passing all uniforms to the WebGLContext.\r\n *\r\n * @class Program\r\n * @constructor\r\n *\r\n * @param {WebGL_Context} gl Context to be used to create the shader program\r\n * @param {Object} options Program options\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction Program(gl, options) {\r\n    this.gl = gl;\r\n    this.options = options || {};\r\n\r\n    this.registeredMaterials = {};\r\n    this.cachedUniforms = {};\r\n    this.uniformTypes = [];\r\n\r\n    this.definitionVec4 = [];\r\n    this.definitionVec3 = [];\r\n    this.definitionFloat = [];\r\n    this.applicationVec3 = [];\r\n    this.applicationVec4 = [];\r\n    this.applicationFloat = [];\r\n    this.applicationVert = [];\r\n    this.definitionVert = [];\r\n\r\n    if (this.options.debug) {\r\n        this.gl.compileShader = Debug.call(this);\r\n    }\r\n\r\n    this.resetProgram();\r\n}\r\n\r\n/**\r\n * Determines whether a material has already been registered to\r\n * the shader program.\r\n *\r\n * @method\r\n *\r\n * @param {String} name Name of target input of material.\r\n * @param {Object} material Compiled material object being verified.\r\n *\r\n * @return {Program} this Current program.\r\n */\r\nProgram.prototype.registerMaterial = function registerMaterial(name, material) {\r\n    var compiled = material;\r\n    var type = inputTypes[name];\r\n    var mask = masks[type];\r\n\r\n    if ((this.registeredMaterials[material._id] & mask) === mask) return this;\r\n\r\n    var k;\r\n\r\n    for (k in compiled.uniforms) {\r\n        if (uniforms.keys.indexOf(k) === -1) {\r\n            uniforms.keys.push(k);\r\n            uniforms.values.push(compiled.uniforms[k]);\r\n        }\r\n    }\r\n\r\n    for (k in compiled.varyings) {\r\n        if (varyings.keys.indexOf(k) === -1) {\r\n            varyings.keys.push(k);\r\n            varyings.values.push(compiled.varyings[k]);\r\n        }\r\n    }\r\n\r\n    for (k in compiled.attributes) {\r\n        if (attributes.keys.indexOf(k) === -1) {\r\n            attributes.keys.push(k);\r\n            attributes.values.push(compiled.attributes[k]);\r\n        }\r\n    }\r\n\r\n    this.registeredMaterials[material._id] |= mask;\r\n\r\n    if (type === 'float') {\r\n        this.definitionFloat.push(material.defines);\r\n        this.definitionFloat.push('float fa_' + material._id + '() {\\n '  + compiled.glsl + ' \\n}');\r\n        this.applicationFloat.push('if (int(abs(ID)) == ' + material._id + ') return fa_' + material._id  + '();');\r\n    }\r\n\r\n    if (type === 'vec3') {\r\n        this.definitionVec3.push(material.defines);\r\n        this.definitionVec3.push('vec3 fa_' + material._id + '() {\\n '  + compiled.glsl + ' \\n}');\r\n        this.applicationVec3.push('if (int(abs(ID.x)) == ' + material._id + ') return fa_' + material._id + '();');\r\n    }\r\n\r\n    if (type === 'vec4') {\r\n        this.definitionVec4.push(material.defines);\r\n        this.definitionVec4.push('vec4 fa_' + material._id + '() {\\n '  + compiled.glsl + ' \\n}');\r\n        this.applicationVec4.push('if (int(abs(ID.x)) == ' + material._id + ') return fa_' + material._id + '();');\r\n    }\r\n\r\n    if (type === 'vert') {\r\n        this.definitionVert.push(material.defines);\r\n        this.definitionVert.push('vec3 fa_' + material._id + '() {\\n '  + compiled.glsl + ' \\n}');\r\n        this.applicationVert.push('if (int(abs(ID.x)) == ' + material._id + ') return fa_' + material._id + '();');\r\n    }\r\n\r\n    return this.resetProgram();\r\n};\r\n\r\n/**\r\n * Clears all cached uniforms and attribute locations.  Assembles\r\n * new fragment and vertex shaders and based on material from\r\n * currently registered materials.  Attaches said shaders to new\r\n * shader program and upon success links program to the WebGL\r\n * context.\r\n *\r\n * @method\r\n *\r\n * @return {Program} Current program.\r\n */\r\nProgram.prototype.resetProgram = function resetProgram() {\r\n    var vertexHeader = [header];\r\n    var fragmentHeader = [header];\r\n\r\n    var fragmentSource;\r\n    var vertexSource;\r\n    var program;\r\n    var name;\r\n    var value;\r\n    var i;\r\n\r\n    this.uniformLocations   = [];\r\n    this.attributeLocations = {};\r\n\r\n    this.uniformTypes = {};\r\n\r\n    this.attributeNames = clone(attributes.keys);\r\n    this.attributeValues = clone(attributes.values);\r\n\r\n    this.varyingNames = clone(varyings.keys);\r\n    this.varyingValues = clone(varyings.values);\r\n\r\n    this.uniformNames = clone(uniforms.keys);\r\n    this.uniformValues = clone(uniforms.values);\r\n\r\n    this.cachedUniforms = {};\r\n\r\n    fragmentHeader.push('uniform sampler2D u_textures[7];\\n');\r\n\r\n    if (this.applicationVert.length) {\r\n        vertexHeader.push('uniform sampler2D u_textures[7];\\n');\r\n    }\r\n\r\n    for(i = 0; i < this.uniformNames.length; i++) {\r\n        name = this.uniformNames[i];\r\n        value = this.uniformValues[i];\r\n        vertexHeader.push('uniform ' + TYPES[value.length] + name + ';\\n');\r\n        fragmentHeader.push('uniform ' + TYPES[value.length] + name + ';\\n');\r\n    }\r\n\r\n    for(i = 0; i < this.attributeNames.length; i++) {\r\n        name = this.attributeNames[i];\r\n        value = this.attributeValues[i];\r\n        vertexHeader.push('attribute ' + TYPES[value.length] + name + ';\\n');\r\n    }\r\n\r\n    for(i = 0; i < this.varyingNames.length; i++) {\r\n        name = this.varyingNames[i];\r\n        value = this.varyingValues[i];\r\n        vertexHeader.push('varying ' + TYPES[value.length]  + name + ';\\n');\r\n        fragmentHeader.push('varying ' + TYPES[value.length] + name + ';\\n');\r\n    }\r\n\r\n    vertexSource = vertexHeader.join('') + vertexWrapper\r\n        .replace('#vert_definitions', this.definitionVert.join('\\n'))\r\n        .replace('#vert_applications', this.applicationVert.join('\\n'));\r\n\r\n    fragmentSource = fragmentHeader.join('') + fragmentWrapper\r\n        .replace('#vec3_definitions', this.definitionVec3.join('\\n'))\r\n        .replace('#vec3_applications', this.applicationVec3.join('\\n'))\r\n        .replace('#vec4_definitions', this.definitionVec4.join('\\n'))\r\n        .replace('#vec4_applications', this.applicationVec4.join('\\n'))\r\n        .replace('#float_definitions', this.definitionFloat.join('\\n'))\r\n        .replace('#float_applications', this.applicationFloat.join('\\n'));\r\n\r\n    program = this.gl.createProgram();\r\n\r\n    this.gl.attachShader(\r\n        program,\r\n        this.compileShader(this.gl.createShader(VERTEX_SHADER), vertexSource)\r\n    );\r\n\r\n    this.gl.attachShader(\r\n        program,\r\n        this.compileShader(this.gl.createShader(FRAGMENT_SHADER), fragmentSource)\r\n    );\r\n\r\n    this.gl.linkProgram(program);\r\n\r\n    if (! this.gl.getProgramParameter(program, this.gl.LINK_STATUS)) {\r\n        console.error('link error: ' + this.gl.getProgramInfoLog(program));\r\n        this.program = null;\r\n    }\r\n    else {\r\n        this.program = program;\r\n        this.gl.useProgram(this.program);\r\n    }\r\n\r\n    this.setUniforms(this.uniformNames, this.uniformValues);\r\n\r\n    var textureLocation = this.gl.getUniformLocation(this.program, 'u_textures[0]');\r\n    this.gl.uniform1iv(textureLocation, [0, 1, 2, 3, 4, 5, 6]);\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Compares the value of the input uniform value against\r\n * the cached value stored on the Program class.  Updates and\r\n * creates new entries in the cache when necessary.\r\n *\r\n * @method\r\n * @param {String} targetName Key of uniform spec being evaluated.\r\n * @param {Number|Array} value Value of uniform spec being evaluated.\r\n *\r\n * @return {Boolean} boolean Indicating whether the uniform being set is cached.\r\n */\r\nProgram.prototype.uniformIsCached = function(targetName, value) {\r\n    if(this.cachedUniforms[targetName] == null) {\r\n        if (value.length) {\r\n            this.cachedUniforms[targetName] = new Float32Array(value);\r\n        }\r\n        else {\r\n            this.cachedUniforms[targetName] = value;\r\n        }\r\n        return false;\r\n    }\r\n    else if (value.length) {\r\n        var i = value.length;\r\n        while (i--) {\r\n            if(value[i] !== this.cachedUniforms[targetName][i]) {\r\n                i = value.length;\r\n                while(i--) this.cachedUniforms[targetName][i] = value[i];\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    else if (this.cachedUniforms[targetName] !== value) {\r\n        this.cachedUniforms[targetName] = value;\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\n/**\r\n * Handles all passing of uniforms to WebGL drawing context.  This\r\n * function will find the uniform location and then, based on\r\n * a type inferred from the javascript value of the uniform, it will call\r\n * the appropriate function to pass the uniform to WebGL.  Finally,\r\n * setUniforms will iterate through the passed in shaderChunks (if any)\r\n * and set the appropriate uniforms to specify which chunks to use.\r\n *\r\n * @method\r\n * @param {Array} uniformNames Array containing the keys of all uniforms to be set.\r\n * @param {Array} uniformValue Array containing the values of all uniforms to be set.\r\n *\r\n * @return {Program} Current program.\r\n */\r\nProgram.prototype.setUniforms = function (uniformNames, uniformValue) {\r\n    var gl = this.gl;\r\n    var location;\r\n    var value;\r\n    var name;\r\n    var len;\r\n    var i;\r\n\r\n    if (!this.program) return this;\r\n\r\n    len = uniformNames.length;\r\n    for (i = 0; i < len; i++) {\r\n        name = uniformNames[i];\r\n        value = uniformValue[i];\r\n\r\n        // Retreive the cached location of the uniform,\r\n        // requesting a new location from the WebGL context\r\n        // if it does not yet exist.\r\n\r\n        location = this.uniformLocations[name];\r\n\r\n        if (location === null) continue;\r\n        if (location === undefined) {\r\n            location = gl.getUniformLocation(this.program, name);\r\n            this.uniformLocations[name] = location;\r\n        }\r\n\r\n        // Check if the value is already set for the\r\n        // given uniform.\r\n        if (this.uniformIsCached(name, value)) continue;\r\n\r\n        // Determine the correct function and pass the uniform\r\n        // value to WebGL.\r\n        if (!this.uniformTypes[name]) {\r\n            this.uniformTypes[name] = this.getUniformTypeFromValue(value);\r\n        }\r\n\r\n        // Call uniform setter function on WebGL context with correct value\r\n\r\n        switch (this.uniformTypes[name]) {\r\n            case 'uniform4fv': gl.uniform4fv(location, value); break;\r\n            case 'uniform3fv': gl.uniform3fv(location, value); break;\r\n            case 'uniform2fv': gl.uniform2fv(location, value); break;\r\n            case 'uniform1fv': gl.uniform1fv(location, value); break;\r\n            case 'uniform1f' : gl.uniform1f(location, value); break;\r\n            case 'uniformMatrix3fv': gl.uniformMatrix3fv(location, false, value); break;\r\n            case 'uniformMatrix4fv': gl.uniformMatrix4fv(location, false, value); break;\r\n        }\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Infers uniform setter function to be called on the WebGL context, based\r\n * on an input value.\r\n *\r\n * @method\r\n *\r\n * @param {Number|Array} value Value from which uniform type is inferred.\r\n *\r\n * @return {String} Name of uniform function for given value.\r\n */\r\nProgram.prototype.getUniformTypeFromValue = function getUniformTypeFromValue(value) {\r\n    if (Array.isArray(value) || value instanceof Float32Array) {\r\n        switch (value.length) {\r\n            case 1:  return 'uniform1fv';\r\n            case 2:  return 'uniform2fv';\r\n            case 3:  return 'uniform3fv';\r\n            case 4:  return 'uniform4fv';\r\n            case 9:  return 'uniformMatrix3fv';\r\n            case 16: return 'uniformMatrix4fv';\r\n        }\r\n    }\r\n    else if (!isNaN(parseFloat(value)) && isFinite(value)) {\r\n        return 'uniform1f';\r\n    }\r\n\r\n    throw 'cant load uniform \"' + name + '\" with value:' + JSON.stringify(value);\r\n};\r\n\r\n/**\r\n * Adds shader source to shader and compiles the input shader.  Checks\r\n * compile status and logs error if necessary.\r\n *\r\n * @method\r\n *\r\n * @param {Object} shader Program to be compiled.\r\n * @param {String} source Source to be used in the shader.\r\n *\r\n * @return {Object} Compiled shader.\r\n */\r\nProgram.prototype.compileShader = function compileShader(shader, source) {\r\n    var i = 1;\r\n\r\n    this.gl.shaderSource(shader, source);\r\n    this.gl.compileShader(shader);\r\n    if (!this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS)) {\r\n        console.error('compile error: ' + this.gl.getShaderInfoLog(shader));\r\n        console.error('1: ' + source.replace(/\\n/g, function () {\r\n            return '\\n' + (i+=1) + ': ';\r\n        }));\r\n    }\r\n\r\n    return shader;\r\n};\r\n\r\nmodule.exports = Program;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Texture is a private class that stores image data\r\n * to be accessed from a shader or used as a render target.\r\n *\r\n * @class Texture\r\n * @constructor\r\n *\r\n * @param {GL} gl GL\r\n * @param {Object} options Options\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction Texture(gl, options) {\r\n    options = options || {};\r\n    this.id = gl.createTexture();\r\n    this.width = options.width || 0;\r\n    this.height = options.height || 0;\r\n    this.mipmap = options.mipmap;\r\n    this.format = options.format || 'RGBA';\r\n    this.type = options.type || 'UNSIGNED_BYTE';\r\n    this.gl = gl;\r\n\r\n    this.bind();\r\n\r\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, options.flipYWebgl || false);\r\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, options.premultiplyAlphaWebgl || false);\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl[options.magFilter] || gl.NEAREST);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl[options.minFilter] || gl.NEAREST);\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl[options.wrapS] || gl.CLAMP_TO_EDGE);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl[options.wrapT] || gl.CLAMP_TO_EDGE);\r\n}\r\n\r\n/**\r\n * Binds this texture as the selected target.\r\n *\r\n * @method\r\n * @return {Object} Current texture instance.\r\n */\r\nTexture.prototype.bind = function bind() {\r\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.id);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Erases the texture data in the given texture slot.\r\n *\r\n * @method\r\n * @return {Object} Current texture instance.\r\n */\r\nTexture.prototype.unbind = function unbind() {\r\n    this.gl.bindTexture(this.gl.TEXTURE_2D, null);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Replaces the image data in the texture with the given image.\r\n *\r\n * @method\r\n *\r\n * @param {Image}   img     The image object to upload pixel data from.\r\n * @return {Object}         Current texture instance.\r\n */\r\nTexture.prototype.setImage = function setImage(img) {\r\n    this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl[this.format], this.gl[this.format], this.gl[this.type], img);\r\n    if (this.mipmap) this.gl.generateMipmap(this.gl.TEXTURE_2D);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Replaces the image data in the texture with an array of arbitrary data.\r\n *\r\n * @method\r\n *\r\n * @param {Array}   input   Array to be set as data to texture.\r\n * @return {Object}         Current texture instance.\r\n */\r\nTexture.prototype.setArray = function setArray(input) {\r\n    this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl[this.format], this.width, this.height, 0, this.gl[this.format], this.gl[this.type], input);\r\n    return this;\r\n};\r\n\r\n/**\r\n * Dumps the rgb-pixel contents of a texture into an array for debugging purposes\r\n *\r\n * @method\r\n *\r\n * @param {Number} x        x-offset between texture coordinates and snapshot\r\n * @param {Number} y        y-offset between texture coordinates and snapshot\r\n * @param {Number} width    x-depth of the snapshot\r\n * @param {Number} height   y-depth of the snapshot\r\n *\r\n * @return {Array}          An array of the pixels contained in the snapshot.\r\n */\r\nTexture.prototype.readBack = function readBack(x, y, width, height) {\r\n    var gl = this.gl;\r\n    var pixels;\r\n    x = x || 0;\r\n    y = y || 0;\r\n    width = width || this.width;\r\n    height = height || this.height;\r\n    var fb = gl.createFramebuffer();\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\r\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.id, 0);\r\n    if (gl.checkFramebufferStatus(gl.FRAMEBUFFER) === gl.FRAMEBUFFER_COMPLETE) {\r\n        pixels = new Uint8Array(width * height * 4);\r\n        gl.readPixels(x, y, width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\r\n    }\r\n    return pixels;\r\n};\r\n\r\nmodule.exports = Texture;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n'use strict';\r\n\r\nvar Texture = require('./Texture');\r\nvar createCheckerboard = require('./createCheckerboard');\r\n\r\n/**\r\n * Handles loading, binding, and resampling of textures for WebGLRenderer.\r\n *\r\n * @class TextureManager\r\n * @constructor\r\n *\r\n * @param {WebGL_Context} gl Context used to create and bind textures.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction TextureManager(gl) {\r\n    this.registry = [];\r\n    this._needsResample = [];\r\n\r\n    this._activeTexture = 0;\r\n    this._boundTexture = null;\r\n\r\n    this._checkerboard = createCheckerboard();\r\n\r\n    this.gl = gl;\r\n}\r\n\r\n/**\r\n * Update function used by WebGLRenderer to queue resamples on\r\n * registered textures.\r\n *\r\n * @method\r\n *\r\n * @param {Number}      time    Time in milliseconds according to the compositor.\r\n * @return {undefined}          undefined\r\n */\r\nTextureManager.prototype.update = function update(time) {\r\n    var registryLength = this.registry.length;\r\n\r\n    for (var i = 1; i < registryLength; i++) {\r\n        var texture = this.registry[i];\r\n\r\n        if (texture && texture.isLoaded && texture.resampleRate) {\r\n            if (!texture.lastResample || time - texture.lastResample > texture.resampleRate) {\r\n                if (!this._needsResample[texture.id]) {\r\n                    this._needsResample[texture.id] = true;\r\n                    texture.lastResample = time;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Creates a spec and creates a texture based on given texture data.\r\n * Handles loading assets if necessary.\r\n *\r\n * @method\r\n *\r\n * @param {Object}  input   Object containing texture id, texture data\r\n *                          and options used to draw texture.\r\n * @param {Number}  slot    Texture slot to bind generated texture to.\r\n * @return {undefined}      undefined\r\n */\r\nTextureManager.prototype.register = function register(input, slot) {\r\n    var _this = this;\r\n\r\n    var source = input.data;\r\n    var textureId = input.id;\r\n    var options = input.options || {};\r\n    var texture = this.registry[textureId];\r\n    var spec;\r\n\r\n    if (!texture) {\r\n\r\n        texture = new Texture(this.gl, options);\r\n        texture.setImage(this._checkerboard);\r\n\r\n        // Add texture to registry\r\n\r\n        spec = this.registry[textureId] = {\r\n            resampleRate: options.resampleRate || null,\r\n            lastResample: null,\r\n            isLoaded: false,\r\n            texture: texture,\r\n            source: source,\r\n            id: textureId,\r\n            slot: slot\r\n        };\r\n\r\n        // Handle array\r\n\r\n        if (Array.isArray(source) || source instanceof Uint8Array || source instanceof Float32Array) {\r\n            this.bindTexture(textureId);\r\n            texture.setArray(source);\r\n            spec.isLoaded = true;\r\n        }\r\n\r\n        // Handle video\r\n\r\n        else if (source instanceof HTMLVideoElement) {\r\n            source.addEventListener('loadeddata', function() {\r\n                _this.bindTexture(textureId);\r\n                texture.setImage(source);\r\n\r\n                spec.isLoaded = true;\r\n                spec.source = source;\r\n            });\r\n        }\r\n\r\n        // Handle image url\r\n\r\n        else if (typeof source === 'string') {\r\n            loadImage(source, function (img) {\r\n                _this.bindTexture(textureId);\r\n                texture.setImage(img);\r\n\r\n                spec.isLoaded = true;\r\n                spec.source = img;\r\n            });\r\n        }\r\n    }\r\n\r\n    return textureId;\r\n};\r\n\r\n/**\r\n * Loads an image from a string or Image object and executes a callback function.\r\n *\r\n * @method\r\n * @private\r\n *\r\n * @param {Object|String} input The input image data to load as an asset.\r\n * @param {Function} callback The callback function to be fired when the image has finished loading.\r\n *\r\n * @return {Object} Image object being loaded.\r\n */\r\nfunction loadImage (input, callback) {\r\n    var image = (typeof input === 'string' ? new Image() : input) || {};\r\n        image.crossOrigin = 'anonymous';\r\n\r\n    if (!image.src) image.src = input;\r\n    if (!image.complete) {\r\n        image.onload = function () {\r\n            callback(image);\r\n        };\r\n    }\r\n    else {\r\n        callback(image);\r\n    }\r\n\r\n    return image;\r\n}\r\n\r\n/**\r\n * Sets active texture slot and binds target texture.  Also handles\r\n * resampling when necessary.\r\n *\r\n * @method\r\n *\r\n * @param {Number} id Identifier used to retreive texture spec\r\n *\r\n * @return {undefined} undefined\r\n */\r\nTextureManager.prototype.bindTexture = function bindTexture(id) {\r\n    var spec = this.registry[id];\r\n\r\n    if (this._activeTexture !== spec.slot) {\r\n        this.gl.activeTexture(this.gl.TEXTURE0 + spec.slot);\r\n        this._activeTexture = spec.slot;\r\n    }\r\n\r\n    if (this._boundTexture !== id) {\r\n        this._boundTexture = id;\r\n        spec.texture.bind();\r\n    }\r\n\r\n    if (this._needsResample[spec.id]) {\r\n\r\n        // TODO: Account for resampling of arrays.\r\n\r\n        spec.texture.setImage(spec.source);\r\n        this._needsResample[spec.id] = false;\r\n    }\r\n};\r\n\r\nmodule.exports = TextureManager;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\nvar Program = require('./Program');\r\nvar BufferRegistry = require('./BufferRegistry');\r\nvar sorter = require('./radixSort');\r\nvar keyValueToArrays = require('../utilities/keyValueToArrays');\r\nvar TextureManager = require('./TextureManager');\r\nvar compileMaterial = require('./compileMaterial');\r\nvar Registry = require('../utilities/Registry');\r\n\r\nvar identity = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n\r\nvar globalUniforms = keyValueToArrays({\r\n    'u_numLights': 0,\r\n    'u_ambientLight': new Array(3),\r\n    'u_lightPosition': new Array(3),\r\n    'u_lightColor': new Array(3),\r\n    'u_perspective': new Array(16),\r\n    'u_time': 0,\r\n    'u_view': new Array(16)\r\n});\r\n\r\n/**\r\n * WebGLRenderer is a private class that manages all interactions with the WebGL\r\n * API. Each frame it receives commands from the compositor and updates its\r\n * registries accordingly. Subsequently, the draw function is called and the\r\n * WebGLRenderer issues draw calls for all meshes in its registry.\r\n *\r\n * @class WebGLRenderer\r\n * @constructor\r\n *\r\n * @param {Element} canvas The DOM element that GL will paint itself onto.\r\n * @param {Compositor} compositor Compositor used for querying the time from.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction WebGLRenderer(canvas, compositor) {\r\n    canvas.classList.add('famous-webgl-renderer');\r\n\r\n    this.canvas = canvas;\r\n    this.compositor = compositor;\r\n\r\n    var gl = this.gl = this.getWebGLContext(this.canvas);\r\n\r\n    gl.clearColor(0.0, 0.0, 0.0, 0.0);\r\n    gl.polygonOffset(0.1, 0.1);\r\n    gl.enable(gl.POLYGON_OFFSET_FILL);\r\n    gl.enable(gl.DEPTH_TEST);\r\n    gl.enable(gl.BLEND);\r\n    gl.depthFunc(gl.LEQUAL);\r\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\r\n    gl.enable(gl.CULL_FACE);\r\n    gl.cullFace(gl.BACK);\r\n\r\n    this.meshRegistry = new Registry();\r\n    this.cutoutRegistry = new Registry();\r\n    this.lightRegistry = new Registry();\r\n\r\n    this.numLights = 0;\r\n    this.ambientLightColor = [0, 0, 0];\r\n    this.lightPositions = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n    this.lightColors = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n\r\n    this.textureManager = new TextureManager(gl);\r\n    this.bufferRegistry = new BufferRegistry(gl);\r\n    this.program = new Program(gl, { debug: true });\r\n\r\n    this.state = {\r\n        boundArrayBuffer: null,\r\n        boundElementBuffer: null,\r\n        lastDrawn: null,\r\n        enabledAttributes: {},\r\n        enabledAttributesKeys: []\r\n    };\r\n\r\n    this.resolutionName = ['u_resolution'];\r\n    this.resolutionValues = [[0, 0, 0]];\r\n\r\n    this.cachedSize = [];\r\n\r\n    /*\r\n    The projectionTransform has some constant components, i.e. the z scale, and the x and y translation.\r\n\r\n    The z scale keeps the final z position of any vertex within the clip's domain by scaling it by an\r\n    arbitrarily small coefficient. This has the advantage of being a useful default in the event of the\r\n    user forgoing a near and far plane, an alien convention in dom space as in DOM overlapping is\r\n    conducted via painter's algorithm.\r\n\r\n    The x and y translation transforms the world space origin to the top left corner of the screen.\r\n\r\n    The final component (this.projectionTransform[15]) is initialized as 1 because certain projection models,\r\n    e.g. the WC3 specified model, keep the XY plane as the projection hyperplane.\r\n    */\r\n    this.projectionTransform = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -0.000001, 0, -1, 1, 0, 1];\r\n\r\n    // TODO: remove this hack\r\n\r\n    var cutout = this.cutoutGeometry = {\r\n        spec: {\r\n            id: -1,\r\n            bufferValues: [[-1, -1, 0, 1, -1, 0, -1, 1, 0, 1, 1, 0]],\r\n            bufferNames: ['a_pos'],\r\n            type: 'TRIANGLE_STRIP'\r\n        }\r\n    };\r\n\r\n    this.bufferRegistry.allocate(\r\n        this.cutoutGeometry.spec.id,\r\n        cutout.spec.bufferNames[0],\r\n        cutout.spec.bufferValues[0],\r\n        3\r\n    );\r\n}\r\n\r\n/**\r\n * Attempts to retreive the WebGLRenderer context using several\r\n * accessors. For browser compatability. Throws on error.\r\n *\r\n * @method\r\n *\r\n * @param {Object} canvas Canvas element from which the context is retreived\r\n *\r\n * @return {Object} WebGLContext WebGL context\r\n */\r\nWebGLRenderer.prototype.getWebGLContext = function getWebGLContext(canvas) {\r\n    var names = ['webgl', 'experimental-webgl', 'webkit-3d', 'moz-webgl'];\r\n    var context;\r\n\r\n    for (var i = 0, len = names.length; i < len; i++) {\r\n        try {\r\n            context = canvas.getContext(names[i]);\r\n        }\r\n        catch (error) {\r\n            console.error('Error creating WebGL context: ' + error.toString());\r\n        }\r\n        if (context) return context;\r\n    }\r\n\r\n    if (!context) {\r\n        console.error('Could not retrieve WebGL context. Please refer to https://www.khronos.org/webgl/ for requirements');\r\n        return false;\r\n    }\r\n\r\n};\r\n\r\n/**\r\n * Adds a new base spec to the light registry at a given path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of new light in lightRegistry\r\n *\r\n * @return {Object} Newly created light spec\r\n */\r\nWebGLRenderer.prototype.createLight = function createLight(path) {\r\n    this.numLights++;\r\n    var light = {\r\n        color: [0, 0, 0],\r\n        position: [0, 0, 0]\r\n    };\r\n    this.lightRegistry.register(path, light);\r\n    return light;\r\n};\r\n\r\n/**\r\n * Adds a new base spec to the mesh registry at a given path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of new mesh in meshRegistry.\r\n *\r\n * @return {Object} Newly created mesh spec.\r\n */\r\nWebGLRenderer.prototype.createMesh = function createMesh(path) {\r\n    var uniforms = keyValueToArrays({\r\n        u_opacity: 1,\r\n        u_transform: identity,\r\n        u_size: [0, 0, 0],\r\n        u_baseColor: [0.5, 0.5, 0.5, 1],\r\n        u_positionOffset: [0, 0, 0],\r\n        u_normals: [0, 0, 0],\r\n        u_flatShading: 0,\r\n        u_glossiness: [0, 0, 0, 0]\r\n    });\r\n    var mesh = {\r\n        depth: null,\r\n        uniformKeys: uniforms.keys,\r\n        uniformValues: uniforms.values,\r\n        buffers: {},\r\n        geometry: null,\r\n        drawType: null,\r\n        textures: [],\r\n        visible: true\r\n    };\r\n\r\n    this.meshRegistry.register(path, mesh);\r\n    return mesh;\r\n};\r\n\r\n/**\r\n * Sets flag on indicating whether to do skip draw phase for\r\n * cutout mesh at given path.\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of target cutout mesh.\r\n * @param {Boolean} usesCutout Indicates the presence of a cutout mesh\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.setCutoutState = function setCutoutState(path, usesCutout) {\r\n    var cutout = this.getOrSetCutout(path);\r\n\r\n    cutout.visible = usesCutout;\r\n};\r\n\r\n/**\r\n * Creates or retreives cutout\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of target cutout mesh.\r\n *\r\n * @return {Object} Newly created cutout spec.\r\n */\r\nWebGLRenderer.prototype.getOrSetCutout = function getOrSetCutout(path) {\r\n    var cutout = this.cutoutRegistry.get(path);\r\n\r\n    if (!cutout) {\r\n        var uniforms = keyValueToArrays({\r\n            u_opacity: 0,\r\n            u_transform: identity.slice(),\r\n            u_size: [0, 0, 0],\r\n            u_origin: [0, 0, 0],\r\n            u_baseColor: [0, 0, 0, 1]\r\n        });\r\n\r\n        cutout = {\r\n            uniformKeys: uniforms.keys,\r\n            uniformValues: uniforms.values,\r\n            geometry: this.cutoutGeometry.spec.id,\r\n            drawType: this.cutoutGeometry.spec.type,\r\n            visible: true\r\n        };\r\n\r\n        this.cutoutRegistry.register(path, cutout);\r\n    }\r\n\r\n    return cutout;\r\n};\r\n\r\n/**\r\n * Sets flag on indicating whether to do skip draw phase for\r\n * mesh at given path.\r\n *\r\n * @method\r\n * @param {String} path Path used as id of target mesh.\r\n * @param {Boolean} visibility Indicates the visibility of target mesh.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.setMeshVisibility = function setMeshVisibility(path, visibility) {\r\n    var mesh = this.meshRegistry.get(path) || this.createMesh(path);\r\n\r\n    mesh.visible = visibility;\r\n};\r\n\r\n/**\r\n * Deletes a mesh from the meshRegistry.\r\n *\r\n * @method\r\n * @param {String} path Path used as id of target mesh.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.removeMesh = function removeMesh(path) {\r\n    this.meshRegistry.unregister(path);\r\n};\r\n\r\n/**\r\n * Creates or retreives cutout\r\n *\r\n * @method\r\n * @param {String} path Path used as id of cutout in cutout registry.\r\n * @param {String} uniformName Identifier used to upload value\r\n * @param {Array} uniformValue Value of uniform data\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.setCutoutUniform = function setCutoutUniform(path, uniformName, uniformValue) {\r\n    var cutout = this.getOrSetCutout(path);\r\n\r\n    var index = cutout.uniformKeys.indexOf(uniformName);\r\n\r\n    if (uniformValue.length) {\r\n        for (var i = 0, len = uniformValue.length; i < len; i++) {\r\n            cutout.uniformValues[index][i] = uniformValue[i];\r\n        }\r\n    }\r\n    else {\r\n        cutout.uniformValues[index] = uniformValue;\r\n    }\r\n};\r\n\r\n/**\r\n * Edits the options field on a mesh\r\n *\r\n * @method\r\n * @param {String} path Path used as id of target mesh\r\n * @param {Object} options Map of draw options for mesh\r\n *\r\n * @return {WebGLRenderer} this\r\n */\r\nWebGLRenderer.prototype.setMeshOptions = function(path, options) {\r\n    var mesh = this.meshRegistry.get(path) || this.createMesh(path);\r\n\r\n    mesh.options = options;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Changes the color of the fixed intensity lighting in the scene\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of light\r\n * @param {Number} r red channel\r\n * @param {Number} g green channel\r\n * @param {Number} b blue channel\r\n *\r\n * @return {WebGLRenderer} this\r\n */\r\nWebGLRenderer.prototype.setAmbientLightColor = function setAmbientLightColor(path, r, g, b) {\r\n    this.ambientLightColor[0] = r;\r\n    this.ambientLightColor[1] = g;\r\n    this.ambientLightColor[2] = b;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Changes the location of the light in the scene\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of light\r\n * @param {Number} x x position\r\n * @param {Number} y y position\r\n * @param {Number} z z position\r\n *\r\n * @return {WebGLRenderer} this\r\n */\r\nWebGLRenderer.prototype.setLightPosition = function setLightPosition(path, x, y, z) {\r\n    var light = this.lightRegistry.get(path) || this.createLight(path);\r\n    light.position[0] = x;\r\n    light.position[1] = y;\r\n    light.position[2] = z;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Changes the color of a dynamic intensity lighting in the scene\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of light in light Registry.\r\n * @param {Number} r red channel\r\n * @param {Number} g green channel\r\n * @param {Number} b blue channel\r\n *\r\n * @return {WebGLRenderer} this\r\n */\r\nWebGLRenderer.prototype.setLightColor = function setLightColor(path, r, g, b) {\r\n    var light = this.lightRegistry.get(path) || this.createLight(path);\r\n\r\n    light.color[0] = r;\r\n    light.color[1] = g;\r\n    light.color[2] = b;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Compiles material spec into program shader\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of cutout in cutout registry.\r\n * @param {String} name Name that the rendering input the material is bound to\r\n * @param {Object} material Material spec\r\n *\r\n * @return {WebGLRenderer} this\r\n */\r\nWebGLRenderer.prototype.handleMaterialInput = function handleMaterialInput(path, name, material) {\r\n    var mesh = this.meshRegistry.get(path) || this.createMesh(path);\r\n    material = compileMaterial(material, mesh.textures.length);\r\n\r\n    // Set uniforms to enable texture!\r\n\r\n    mesh.uniformValues[mesh.uniformKeys.indexOf(name)][0] = -material._id;\r\n\r\n    // Register textures!\r\n\r\n    var i = material.textures.length;\r\n    while (i--) {\r\n        mesh.textures.push(\r\n            this.textureManager.register(material.textures[i], mesh.textures.length + i)\r\n        );\r\n    }\r\n\r\n    // Register material!\r\n\r\n    this.program.registerMaterial(name, material);\r\n\r\n    return this.updateSize();\r\n};\r\n\r\n/**\r\n * Changes the geometry data of a mesh\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of cutout in cutout registry.\r\n * @param {Object} geometry Geometry object containing vertex data to be drawn\r\n * @param {Number} drawType Primitive identifier\r\n * @param {Boolean} dynamic Whether geometry is dynamic\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.setGeometry = function setGeometry(path, geometry, drawType, dynamic) {\r\n    var mesh = this.meshRegistry.get(path) || this.createMesh(path);\r\n\r\n    mesh.geometry = geometry;\r\n    mesh.drawType = drawType;\r\n    mesh.dynamic = dynamic;\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Uploads a new value for the uniform data when the mesh is being drawn\r\n *\r\n * @method\r\n *\r\n * @param {String} path Path used as id of mesh in mesh registry\r\n * @param {String} uniformName Identifier used to upload value\r\n * @param {Array} uniformValue Value of uniform data\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.setMeshUniform = function setMeshUniform(path, uniformName, uniformValue) {\r\n    var mesh = this.meshRegistry.get(path) || this.createMesh(path);\r\n\r\n    var index = mesh.uniformKeys.indexOf(uniformName);\r\n\r\n    if (index === -1) {\r\n        mesh.uniformKeys.push(uniformName);\r\n        mesh.uniformValues.push(uniformValue);\r\n    }\r\n    else {\r\n        mesh.uniformValues[index] = uniformValue;\r\n    }\r\n};\r\n\r\n/**\r\n * Allocates a new buffer using the internal BufferRegistry.\r\n *\r\n * @method\r\n *\r\n * @param {Number} geometryId Id of geometry in geometry registry\r\n * @param {String} bufferName Attribute location name\r\n * @param {Array} bufferValue Vertex data\r\n * @param {Number} bufferSpacing The dimensions of the vertex\r\n * @param {Boolean} isDynamic Whether geometry is dynamic\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.bufferData = function bufferData(geometryId, bufferName, bufferValue, bufferSpacing, isDynamic) {\r\n    this.bufferRegistry.allocate(geometryId, bufferName, bufferValue, bufferSpacing, isDynamic);\r\n};\r\n\r\n/**\r\n * Triggers the 'draw' phase of the WebGLRenderer. Iterates through registries\r\n * to set uniforms, set attributes and issue draw commands for renderables.\r\n *\r\n * @method\r\n *\r\n * @param {Object} renderState Parameters provided by the compositor, that affect the rendering of all renderables.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.draw = function draw(renderState) {\r\n    var time = this.compositor.getTime();\r\n\r\n    this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);\r\n    this.textureManager.update(time);\r\n\r\n    this.meshRegistryKeys = sorter(this.meshRegistry.getKeys(), this.meshRegistry.getKeyToValue());\r\n\r\n    this.setGlobalUniforms(renderState);\r\n    this.drawCutouts();\r\n    this.drawMeshes();\r\n};\r\n\r\n/**\r\n * Iterates through and draws all registered meshes. This includes\r\n * binding textures, handling draw options, setting mesh uniforms\r\n * and drawing mesh buffers.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.drawMeshes = function drawMeshes() {\r\n    var gl = this.gl;\r\n    var buffers;\r\n    var mesh;\r\n\r\n    var meshes = this.meshRegistry.getValues();\r\n\r\n    for(var i = 0; i < meshes.length; i++) {\r\n        mesh = meshes[i];\r\n\r\n        if (!mesh) continue;\r\n\r\n        buffers = this.bufferRegistry.registry[mesh.geometry];\r\n\r\n        if (!mesh.visible) continue;\r\n\r\n        if (mesh.uniformValues[0] < 1) {\r\n            gl.depthMask(false);\r\n            gl.enable(gl.BLEND);\r\n        }\r\n        else {\r\n            gl.depthMask(true);\r\n            gl.disable(gl.BLEND);\r\n        }\r\n\r\n        if (!buffers) continue;\r\n\r\n        var j = mesh.textures.length;\r\n        while (j--) this.textureManager.bindTexture(mesh.textures[j]);\r\n\r\n        if (mesh.options) this.handleOptions(mesh.options, mesh);\r\n\r\n        this.program.setUniforms(mesh.uniformKeys, mesh.uniformValues);\r\n        this.drawBuffers(buffers, mesh.drawType, mesh.geometry);\r\n\r\n        if (mesh.options) this.resetOptions(mesh.options);\r\n    }\r\n};\r\n\r\n/**\r\n * Iterates through and draws all registered cutout meshes. Blending\r\n * is disabled, cutout uniforms are set and finally buffers are drawn.\r\n *\r\n * @method\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.drawCutouts = function drawCutouts() {\r\n    var cutout;\r\n    var buffers;\r\n    var cutouts = this.cutoutRegistry.getValues();\r\n    var len = cutouts.length;\r\n\r\n    this.gl.disable(this.gl.CULL_FACE);\r\n    this.gl.enable(this.gl.BLEND);\r\n    this.gl.depthMask(true);\r\n\r\n    for (var i = 0; i < len; i++) {\r\n        cutout = cutouts[i];\r\n\r\n        if (!cutout) continue;\r\n\r\n        buffers = this.bufferRegistry.registry[cutout.geometry];\r\n\r\n        if (!cutout.visible) continue;\r\n\r\n        this.program.setUniforms(cutout.uniformKeys, cutout.uniformValues);\r\n        this.drawBuffers(buffers, cutout.drawType, cutout.geometry);\r\n    }\r\n\r\n    this.gl.enable(this.gl.CULL_FACE);\r\n};\r\n\r\n/**\r\n * Sets uniforms to be shared by all meshes.\r\n *\r\n * @method\r\n *\r\n * @param {Object} renderState Draw state options passed down from compositor.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.setGlobalUniforms = function setGlobalUniforms(renderState) {\r\n    var light;\r\n    var stride;\r\n    var lights = this.lightRegistry.getValues();\r\n    var len = lights.length;\r\n\r\n    for (var i = 0; i < len; i++) {\r\n        light = lights[i];\r\n\r\n        if (!light) continue;\r\n\r\n        stride = i * 4;\r\n\r\n        // Build the light positions' 4x4 matrix\r\n\r\n        this.lightPositions[0 + stride] = light.position[0];\r\n        this.lightPositions[1 + stride] = light.position[1];\r\n        this.lightPositions[2 + stride] = light.position[2];\r\n\r\n        // Build the light colors' 4x4 matrix\r\n\r\n        this.lightColors[0 + stride] = light.color[0];\r\n        this.lightColors[1 + stride] = light.color[1];\r\n        this.lightColors[2 + stride] = light.color[2];\r\n    }\r\n\r\n    globalUniforms.values[0] = this.numLights;\r\n    globalUniforms.values[1] = this.ambientLightColor;\r\n    globalUniforms.values[2] = this.lightPositions;\r\n    globalUniforms.values[3] = this.lightColors;\r\n\r\n    /*\r\n     * Set time and projection uniforms\r\n     * projecting world space into a 2d plane representation of the canvas.\r\n     * The x and y scale (this.projectionTransform[0] and this.projectionTransform[5] respectively)\r\n     * convert the projected geometry back into clipspace.\r\n     * The perpective divide (this.projectionTransform[11]), adds the z value of the point\r\n     * multiplied by the perspective divide to the w value of the point. In the process\r\n     * of converting from homogenous coordinates to NDC (normalized device coordinates)\r\n     * the x and y values of the point are divided by w, which implements perspective.\r\n     */\r\n    this.projectionTransform[0] = 1 / (this.cachedSize[0] * 0.5);\r\n    this.projectionTransform[5] = -1 / (this.cachedSize[1] * 0.5);\r\n    this.projectionTransform[11] = renderState.perspectiveTransform[11];\r\n\r\n    globalUniforms.values[4] = this.projectionTransform;\r\n    globalUniforms.values[5] = this.compositor.getTime() * 0.001;\r\n    globalUniforms.values[6] = renderState.viewTransform;\r\n\r\n    this.program.setUniforms(globalUniforms.keys, globalUniforms.values);\r\n};\r\n\r\n/**\r\n * Loads the buffers and issues the draw command for a geometry.\r\n *\r\n * @method\r\n *\r\n * @param {Object} vertexBuffers All buffers used to draw the geometry.\r\n * @param {Number} mode Enumerator defining what primitive to draw\r\n * @param {Number} id ID of geometry being drawn.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.drawBuffers = function drawBuffers(vertexBuffers, mode, id) {\r\n    var gl = this.gl;\r\n    var length = 0;\r\n    var attribute;\r\n    var location;\r\n    var spacing;\r\n    var offset;\r\n    var buffer;\r\n    var iter;\r\n    var j;\r\n    var i;\r\n\r\n    iter = vertexBuffers.keys.length;\r\n    for (i = 0; i < iter; i++) {\r\n        attribute = vertexBuffers.keys[i];\r\n\r\n        // Do not set vertexAttribPointer if index buffer.\r\n\r\n        if (attribute === 'indices') {\r\n            j = i; continue;\r\n        }\r\n\r\n        // Retreive the attribute location and make sure it is enabled.\r\n\r\n        location = this.program.attributeLocations[attribute];\r\n\r\n        if (location === -1) continue;\r\n        if (location === undefined) {\r\n            location = gl.getAttribLocation(this.program.program, attribute);\r\n            this.program.attributeLocations[attribute] = location;\r\n            if (location === -1) continue;\r\n        }\r\n\r\n        if (!this.state.enabledAttributes[attribute]) {\r\n            gl.enableVertexAttribArray(location);\r\n            this.state.enabledAttributes[attribute] = true;\r\n            this.state.enabledAttributesKeys.push(attribute);\r\n        }\r\n\r\n        // Retreive buffer information used to set attribute pointer.\r\n\r\n        buffer = vertexBuffers.values[i];\r\n        spacing = vertexBuffers.spacing[i];\r\n        offset = vertexBuffers.offset[i];\r\n        length = vertexBuffers.length[i];\r\n\r\n        // Skip bindBuffer if buffer is currently bound.\r\n\r\n        if (this.state.boundArrayBuffer !== buffer) {\r\n            gl.bindBuffer(buffer.target, buffer.buffer);\r\n            this.state.boundArrayBuffer = buffer;\r\n        }\r\n\r\n        if (this.state.lastDrawn !== id) {\r\n            gl.vertexAttribPointer(location, spacing, gl.FLOAT, gl.FALSE, 0, 4 * offset);\r\n        }\r\n    }\r\n\r\n    // Disable any attributes that not currently being used.\r\n\r\n    var len = this.state.enabledAttributesKeys.length;\r\n    for (i = 0; i < len; i++) {\r\n        var key = this.state.enabledAttributesKeys[i];\r\n        if (this.state.enabledAttributes[key] && vertexBuffers.keys.indexOf(key) === -1) {\r\n            gl.disableVertexAttribArray(this.program.attributeLocations[key]);\r\n            this.state.enabledAttributes[key] = false;\r\n        }\r\n    }\r\n\r\n    if (length) {\r\n\r\n        // If index buffer, use drawElements.\r\n\r\n        if (j !== undefined) {\r\n            buffer = vertexBuffers.values[j];\r\n            offset = vertexBuffers.offset[j];\r\n            spacing = vertexBuffers.spacing[j];\r\n            length = vertexBuffers.length[j];\r\n\r\n            // Skip bindBuffer if buffer is currently bound.\r\n\r\n            if (this.state.boundElementBuffer !== buffer) {\r\n                gl.bindBuffer(buffer.target, buffer.buffer);\r\n                this.state.boundElementBuffer = buffer;\r\n            }\r\n\r\n            gl.drawElements(gl[mode], length, gl.UNSIGNED_SHORT, 2 * offset);\r\n        }\r\n        else {\r\n            gl.drawArrays(gl[mode], 0, length);\r\n        }\r\n    }\r\n\r\n    this.state.lastDrawn = id;\r\n};\r\n\r\n\r\n/**\r\n * Updates the width and height of parent canvas, sets the viewport size on\r\n * the WebGL context and updates the resolution uniform for the shader program.\r\n * Size is retreived from the container object of the renderer.\r\n *\r\n * @method\r\n *\r\n * @param {Array} size width, height and depth of canvas\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.updateSize = function updateSize(size) {\r\n    if (size) {\r\n        var pixelRatio = window.devicePixelRatio || 1;\r\n        var displayWidth = ~~(size[0] * pixelRatio);\r\n        var displayHeight = ~~(size[1] * pixelRatio);\r\n        this.canvas.width = displayWidth;\r\n        this.canvas.height = displayHeight;\r\n        this.gl.viewport(0, 0, displayWidth, displayHeight);\r\n\r\n        this.cachedSize[0] = size[0];\r\n        this.cachedSize[1] = size[1];\r\n        this.cachedSize[2] = (size[0] > size[1]) ? size[0] : size[1];\r\n        this.resolutionValues[0] = this.cachedSize;\r\n    }\r\n\r\n    this.program.setUniforms(this.resolutionName, this.resolutionValues);\r\n\r\n    return this;\r\n};\r\n\r\n/**\r\n * Updates the state of the WebGL drawing context based on custom parameters\r\n * defined on a mesh.\r\n *\r\n * @method\r\n *\r\n * @param {Object} options Draw state options to be set to the context.\r\n * @param {Mesh} mesh Associated Mesh\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.handleOptions = function handleOptions(options, mesh) {\r\n    var gl = this.gl;\r\n    if (!options) return;\r\n\r\n    if (options.blending) gl.enable(gl.BLEND);\r\n\r\n    switch (options.side) {\r\n        case 'double':\r\n            this.gl.cullFace(this.gl.FRONT);\r\n            this.drawBuffers(this.bufferRegistry.registry[mesh.geometry], mesh.drawType, mesh.geometry);\r\n            this.gl.cullFace(this.gl.BACK);\r\n            break;\r\n        case 'back':\r\n            gl.cullFace(gl.FRONT);\r\n            break;\r\n    }\r\n};\r\n\r\n/**\r\n * Resets the state of the WebGL drawing context to default values.\r\n *\r\n * @method\r\n *\r\n * @param {Object} options Draw state options to be set to the context.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nWebGLRenderer.prototype.resetOptions = function resetOptions(options) {\r\n    var gl = this.gl;\r\n    if (!options) return;\r\n    if (options.blending) gl.disable(gl.BLEND);\r\n    if (options.side === 'back') gl.cullFace(gl.BACK);\r\n};\r\n\r\nmodule.exports = WebGLRenderer;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n'use strict';\r\n\r\nvar types = {\r\n    1: 'float ',\r\n    2: 'vec2 ',\r\n    3: 'vec3 ',\r\n    4: 'vec4 '\r\n};\r\n\r\n/**\r\n * Traverses material to create a string of glsl code to be applied in\r\n * the vertex or fragment shader.\r\n *\r\n * @method\r\n *\r\n * @param {Object} material Material to be compiled.\r\n * @param {Number} textureSlot Next available texture slot for Mesh.\r\n *\r\n * @return {undefined} undefined\r\n */\r\nfunction compileMaterial(material, textureSlot) {\r\n    var glsl = '';\r\n    var uniforms = {};\r\n    var varyings = {};\r\n    var attributes = {};\r\n    var defines = [];\r\n    var textures = [];\r\n\r\n    material.traverse(function (node, depth) {\r\n        if (! node.chunk) return;\r\n\r\n        var type = types[_getOutputLength(node)];\r\n        var label = _makeLabel(node);\r\n        var output = _processGLSL(node.chunk.glsl, node.inputs, textures.length + textureSlot);\r\n\r\n        glsl += type + label + ' = ' + output + '\\n ';\r\n\r\n        if (node.uniforms) _extend(uniforms, node.uniforms);\r\n        if (node.varyings) _extend(varyings, node.varyings);\r\n        if (node.attributes) _extend(attributes, node.attributes);\r\n        if (node.chunk.defines) defines.push(node.chunk.defines);\r\n        if (node.texture) textures.push(node.texture);\r\n    });\r\n\r\n    return {\r\n        _id: material._id,\r\n        glsl: glsl + 'return ' + _makeLabel(material) + ';',\r\n        defines: defines.join('\\n'),\r\n        uniforms: uniforms,\r\n        varyings: varyings,\r\n        attributes: attributes,\r\n        textures: textures\r\n    };\r\n}\r\n\r\n// Helper function used to infer length of the output\r\n// from a given material node.\r\nfunction _getOutputLength(node) {\r\n\r\n    // Handle constant values\r\n\r\n    if (typeof node === 'number') return 1;\r\n    if (Array.isArray(node)) return node.length;\r\n\r\n    // Handle materials\r\n\r\n    var output = node.chunk.output;\r\n    if (typeof output === 'number') return output;\r\n\r\n    // Handle polymorphic output\r\n\r\n    var key = node.inputs.map(function recurse(node) {\r\n        return _getOutputLength(node);\r\n    }).join(',');\r\n\r\n    return output[key];\r\n}\r\n\r\n// Helper function to run replace inputs and texture tags with\r\n// correct glsl.\r\nfunction _processGLSL(str, inputs, textureSlot) {\r\n    return str\r\n        .replace(/%\\d/g, function (s) {\r\n            return _makeLabel(inputs[s[1]-1]);\r\n        })\r\n        .replace(/\\$TEXTURE/, 'u_textures[' + textureSlot + ']');\r\n}\r\n\r\n// Helper function used to create glsl definition of the\r\n// input material node.\r\nfunction _makeLabel (n) {\r\n    if (Array.isArray(n)) return _arrayToVec(n);\r\n    if (typeof n === 'object') return 'fa_' + (n._id);\r\n    else return n.toFixed(6);\r\n}\r\n\r\n// Helper to copy the properties of an object onto another object.\r\nfunction _extend (a, b) {\r\n\tfor (var k in b) a[k] = b[k];\r\n}\r\n\r\n// Helper to create glsl vector representation of a javascript array.\r\nfunction _arrayToVec(array) {\r\n    var len = array.length;\r\n    return 'vec' + len + '(' + array.join(',')  + ')';\r\n}\r\n\r\nmodule.exports = compileMaterial;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Generates a checkerboard pattern to be used as a placeholder texture while\r\n * an image loads over the network.\r\n *\r\n * @method  createCheckerBoard\r\n *\r\n * @return {HTMLCanvasElement} The `canvas` element that has been used in order\r\n *                             to generate the pattern.\r\n */\r\nfunction createCheckerBoard() {\r\n    var context = document.createElement('canvas').getContext('2d');\r\n    context.canvas.width = context.canvas.height = 128;\r\n    for (var y = 0; y < context.canvas.height; y += 16) {\r\n        for (var x = 0; x < context.canvas.width; x += 16) {\r\n            context.fillStyle = (x ^ y) & 16 ? '#FFF' : '#DDD';\r\n            context.fillRect(x, y, 16, 16);\r\n        }\r\n    }\r\n\r\n    return context.canvas;\r\n}\r\n\r\nmodule.exports = createCheckerBoard;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n'use strict';\r\n\r\nvar radixBits = 11,\r\n    maxRadix = 1 << (radixBits),\r\n    radixMask = maxRadix - 1,\r\n    buckets = new Array(maxRadix * Math.ceil(64 / radixBits)),\r\n    msbMask = 1 << ((32 - 1) % radixBits),\r\n    lastMask = (msbMask << 1) - 1,\r\n    passCount = ((32 / radixBits) + 0.999999999999999) | 0,\r\n    maxOffset = maxRadix * (passCount - 1),\r\n    normalizer = Math.pow(20, 6);\r\n\r\nvar buffer = new ArrayBuffer(4);\r\nvar floatView = new Float32Array(buffer, 0, 1);\r\nvar intView = new Int32Array(buffer, 0, 1);\r\n\r\n// comparator pulls relevant sorting keys out of mesh\r\nfunction comp(list, registry, i) {\r\n    var key = list[i];\r\n    var item = registry[key];\r\n    return (item.depth ? item.depth : registry[key].uniformValues[1][14]) + normalizer;\r\n}\r\n\r\n//mutator function records mesh's place in previous pass\r\nfunction mutator(list, registry, i, value) {\r\n    var key = list[i];\r\n    registry[key].depth = intToFloat(value) - normalizer;\r\n    return key;\r\n}\r\n\r\n//clean function removes mutator function's record\r\nfunction clean(list, registry, i) {\r\n    registry[list[i]].depth = null;\r\n}\r\n\r\n//converts a javascript float to a 32bit integer using an array buffer\r\n//of size one\r\nfunction floatToInt(k) {\r\n    floatView[0] = k;\r\n    return intView[0];\r\n}\r\n//converts a 32 bit integer to a regular javascript float using an array buffer\r\n//of size one\r\nfunction intToFloat(k) {\r\n    intView[0] = k;\r\n    return floatView[0];\r\n}\r\n\r\n/**\r\n * Sorts an array of mesh IDs according to their z-depth.\r\n *\r\n * @param  {Array} list         An array of meshes.\r\n * @param  {Object} registry    A registry mapping the path names to meshes.\r\n * @return {Array}              An array of the meshes sorted by z-depth.\r\n */\r\nfunction radixSort(list, registry) {\r\n    var pass = 0;\r\n    var out = [];\r\n\r\n    var i, j, k, n, div, offset, swap, id, sum, tsum, size;\r\n\r\n    passCount = ((32 / radixBits) + 0.999999999999999) | 0;\r\n\r\n    for (i = 0, n = maxRadix * passCount; i < n; i++) buckets[i] = 0;\r\n\r\n    for (i = 0, n = list.length; i < n; i++) {\r\n        div = floatToInt(comp(list, registry, i));\r\n        div ^= div >> 31 | 0x80000000;\r\n        for (j = 0, k = 0; j < maxOffset; j += maxRadix, k += radixBits) {\r\n            buckets[j + (div >>> k & radixMask)]++;\r\n        }\r\n        buckets[j + (div >>> k & lastMask)]++;\r\n    }\r\n\r\n    for (j = 0; j <= maxOffset; j += maxRadix) {\r\n        for (id = j, sum = 0; id < j + maxRadix; id++) {\r\n            tsum = buckets[id] + sum;\r\n            buckets[id] = sum - 1;\r\n            sum = tsum;\r\n        }\r\n    }\r\n    if (--passCount) {\r\n        for (i = 0, n = list.length; i < n; i++) {\r\n            div = floatToInt(comp(list, registry, i));\r\n            out[++buckets[div & radixMask]] = mutator(list, registry, i, div ^= div >> 31 | 0x80000000);\r\n        }\r\n        \r\n        swap = out;\r\n        out = list;\r\n        list = swap;\r\n        while (++pass < passCount) {\r\n            for (i = 0, n = list.length, offset = pass * maxRadix, size = pass * radixBits; i < n; i++) {\r\n                div = floatToInt(comp(list, registry, i));\r\n                out[++buckets[offset + (div >>> size & radixMask)]] = list[i];\r\n            }\r\n\r\n            swap = out;\r\n            out = list;\r\n            list = swap;\r\n        }\r\n    }\r\n\r\n    for (i = 0, n = list.length, offset = pass * maxRadix, size = pass * radixBits; i < n; i++) {\r\n        div = floatToInt(comp(list, registry, i));\r\n        out[++buckets[offset + (div >>> size & lastMask)]] = mutator(list, registry, i, div ^ (~div >> 31 | 0x80000000));\r\n        clean(list, registry, i);\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\nmodule.exports = radixSort;\r\n","/**\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2015 Famous Industries Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n'use strict';\r\n\r\n\r\n\r\nvar shaders = {\r\n    vertex: \"#define GLSLIFY 1\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * Calculates transpose inverse matrix from transform\\r\\n * \\r\\n * @method random\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\n\\r\\n\\r\\nmat3 getNormalMatrix_1_0(in mat4 t) {\\r\\n   mat3 matNorm;\\r\\n   mat4 a = t;\\r\\n\\r\\n   float a00 = a[0][0], a01 = a[0][1], a02 = a[0][2], a03 = a[0][3],\\r\\n   a10 = a[1][0], a11 = a[1][1], a12 = a[1][2], a13 = a[1][3],\\r\\n   a20 = a[2][0], a21 = a[2][1], a22 = a[2][2], a23 = a[2][3],\\r\\n   a30 = a[3][0], a31 = a[3][1], a32 = a[3][2], a33 = a[3][3],\\r\\n   b00 = a00 * a11 - a01 * a10,\\r\\n   b01 = a00 * a12 - a02 * a10,\\r\\n   b02 = a00 * a13 - a03 * a10,\\r\\n   b03 = a01 * a12 - a02 * a11,\\r\\n   b04 = a01 * a13 - a03 * a11,\\r\\n   b05 = a02 * a13 - a03 * a12,\\r\\n   b06 = a20 * a31 - a21 * a30,\\r\\n   b07 = a20 * a32 - a22 * a30,\\r\\n   b08 = a20 * a33 - a23 * a30,\\r\\n   b09 = a21 * a32 - a22 * a31,\\r\\n   b10 = a21 * a33 - a23 * a31,\\r\\n   b11 = a22 * a33 - a23 * a32,\\r\\n\\r\\n   det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\\r\\n   det = 1.0 / det;\\r\\n\\r\\n   matNorm[0][0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\\r\\n   matNorm[0][1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\\r\\n   matNorm[0][2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\\r\\n\\r\\n   matNorm[1][0] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\\r\\n   matNorm[1][1] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\\r\\n   matNorm[1][2] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\\r\\n\\r\\n   matNorm[2][0] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\\r\\n   matNorm[2][1] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\\r\\n   matNorm[2][2] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\\r\\n\\r\\n   return matNorm;\\r\\n}\\r\\n\\r\\n\\n\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * Calculates a matrix that creates the identity when multiplied by m\\r\\n * \\r\\n * @method inverse\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\n\\r\\n\\r\\nfloat inverse_2_1(float m) {\\r\\n    return 1.0 / m;\\r\\n}\\r\\n\\r\\nmat2 inverse_2_1(mat2 m) {\\r\\n    return mat2(m[1][1],-m[0][1],\\r\\n               -m[1][0], m[0][0]) / (m[0][0]*m[1][1] - m[0][1]*m[1][0]);\\r\\n}\\r\\n\\r\\nmat3 inverse_2_1(mat3 m) {\\r\\n    float a00 = m[0][0], a01 = m[0][1], a02 = m[0][2];\\r\\n    float a10 = m[1][0], a11 = m[1][1], a12 = m[1][2];\\r\\n    float a20 = m[2][0], a21 = m[2][1], a22 = m[2][2];\\r\\n\\r\\n    float b01 =  a22 * a11 - a12 * a21;\\r\\n    float b11 = -a22 * a10 + a12 * a20;\\r\\n    float b21 =  a21 * a10 - a11 * a20;\\r\\n\\r\\n    float det = a00 * b01 + a01 * b11 + a02 * b21;\\r\\n\\r\\n    return mat3(b01, (-a22 * a01 + a02 * a21), (a12 * a01 - a02 * a11),\\r\\n                b11, (a22 * a00 - a02 * a20), (-a12 * a00 + a02 * a10),\\r\\n                b21, (-a21 * a00 + a01 * a20), (a11 * a00 - a01 * a10)) / det;\\r\\n}\\r\\n\\r\\nmat4 inverse_2_1(mat4 m) {\\r\\n    float\\r\\n        a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\\r\\n        a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\\r\\n        a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\\r\\n        a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\\r\\n\\r\\n        b00 = a00 * a11 - a01 * a10,\\r\\n        b01 = a00 * a12 - a02 * a10,\\r\\n        b02 = a00 * a13 - a03 * a10,\\r\\n        b03 = a01 * a12 - a02 * a11,\\r\\n        b04 = a01 * a13 - a03 * a11,\\r\\n        b05 = a02 * a13 - a03 * a12,\\r\\n        b06 = a20 * a31 - a21 * a30,\\r\\n        b07 = a20 * a32 - a22 * a30,\\r\\n        b08 = a20 * a33 - a23 * a30,\\r\\n        b09 = a21 * a32 - a22 * a31,\\r\\n        b10 = a21 * a33 - a23 * a31,\\r\\n        b11 = a22 * a33 - a23 * a32,\\r\\n\\r\\n        det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\\r\\n\\r\\n    return mat4(\\r\\n        a11 * b11 - a12 * b10 + a13 * b09,\\r\\n        a02 * b10 - a01 * b11 - a03 * b09,\\r\\n        a31 * b05 - a32 * b04 + a33 * b03,\\r\\n        a22 * b04 - a21 * b05 - a23 * b03,\\r\\n        a12 * b08 - a10 * b11 - a13 * b07,\\r\\n        a00 * b11 - a02 * b08 + a03 * b07,\\r\\n        a32 * b02 - a30 * b05 - a33 * b01,\\r\\n        a20 * b05 - a22 * b02 + a23 * b01,\\r\\n        a10 * b10 - a11 * b08 + a13 * b06,\\r\\n        a01 * b08 - a00 * b10 - a03 * b06,\\r\\n        a30 * b04 - a31 * b02 + a33 * b00,\\r\\n        a21 * b02 - a20 * b04 - a23 * b00,\\r\\n        a11 * b07 - a10 * b09 - a12 * b06,\\r\\n        a00 * b09 - a01 * b07 + a02 * b06,\\r\\n        a31 * b01 - a30 * b03 - a32 * b00,\\r\\n        a20 * b03 - a21 * b01 + a22 * b00) / det;\\r\\n}\\r\\n\\r\\n\\n\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * Reflects a matrix over its main diagonal.\\r\\n * \\r\\n * @method transpose\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\n\\r\\n\\r\\nfloat transpose_3_2(float m) {\\r\\n    return m;\\r\\n}\\r\\n\\r\\nmat2 transpose_3_2(mat2 m) {\\r\\n    return mat2(m[0][0], m[1][0],\\r\\n                m[0][1], m[1][1]);\\r\\n}\\r\\n\\r\\nmat3 transpose_3_2(mat3 m) {\\r\\n    return mat3(m[0][0], m[1][0], m[2][0],\\r\\n                m[0][1], m[1][1], m[2][1],\\r\\n                m[0][2], m[1][2], m[2][2]);\\r\\n}\\r\\n\\r\\nmat4 transpose_3_2(mat4 m) {\\r\\n    return mat4(m[0][0], m[1][0], m[2][0], m[3][0],\\r\\n                m[0][1], m[1][1], m[2][1], m[3][1],\\r\\n                m[0][2], m[1][2], m[2][2], m[3][2],\\r\\n                m[0][3], m[1][3], m[2][3], m[3][3]);\\r\\n}\\r\\n\\r\\n\\n\\n\\r\\n/**\\r\\n * Converts vertex from modelspace to screenspace using transform\\r\\n * information from context.\\r\\n *\\r\\n * @method applyTransform\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\n\\r\\nvec4 applyTransform(vec4 pos) {\\r\\n    //TODO: move this multiplication to application code. \\r\\n\\r\\n    /**\\r\\n     * Currently multiplied in the vertex shader to avoid consuming the complexity of holding an additional\\r\\n     * transform as state on the mesh object in WebGLRenderer. Multiplies the object's transformation from object space\\r\\n     * to world space with its transformation from world space to eye space.\\r\\n     */\\r\\n    mat4 MVMatrix = u_view * u_transform;\\r\\n\\r\\n    //TODO: move the origin, sizeScale and y axis inversion to application code in order to amortize redundant per-vertex calculations.\\r\\n\\r\\n    /**\\r\\n     * The transform uniform should be changed to the result of the transformation chain:\\r\\n     *\\r\\n     * view * modelTransform * invertYAxis * sizeScale * origin\\r\\n     *\\r\\n     * which could be simplified to:\\r\\n     *\\r\\n     * view * modelTransform * convertToDOMSpace\\r\\n     *\\r\\n     * where convertToDOMSpace represents the transform matrix:\\r\\n     *\\r\\n     *                           size.x 0       0       size.x \\r\\n     *                           0      -size.y 0       size.y\\r\\n     *                           0      0       1       0\\r\\n     *                           0      0       0       1\\r\\n     *\\r\\n     */\\r\\n\\r\\n    /**\\r\\n     * Assuming a unit volume, moves the object space origin [0, 0, 0] to the \\\"top left\\\" [1, -1, 0], the DOM space origin.\\r\\n     * Later in the transformation chain, the projection transform negates the rigidbody translation.\\r\\n     * Equivalent to (but much faster than) multiplying a translation matrix \\\"origin\\\"\\r\\n     *\\r\\n     *                           1 0 0 1 \\r\\n     *                           0 1 0 -1\\r\\n     *                           0 0 1 0\\r\\n     *                           0 0 0 1\\r\\n     *\\r\\n     * in the transform chain: projection * view * modelTransform * invertYAxis * sizeScale * origin * positionVector.\\r\\n     */\\r\\n    pos.x += 1.0;\\r\\n    pos.y -= 1.0;\\r\\n\\r\\n    /**\\r\\n     * Assuming a unit volume, scales an object to the amount of pixels in the size uniform vector's specified dimensions.\\r\\n     * Later in the transformation chain, the projection transform transforms the point into clip space by scaling\\r\\n     * by the inverse of the canvas' resolution.\\r\\n     * Equivalent to (but much faster than) multiplying a scale matrix \\\"sizeScale\\\"\\r\\n     *\\r\\n     *                           size.x 0      0      0 \\r\\n     *                           0      size.y 0      0\\r\\n     *                           0      0      size.z 0\\r\\n     *                           0      0      0      1\\r\\n     *\\r\\n     * in the transform chain: projection * view * modelTransform * invertYAxis * sizeScale * origin * positionVector.\\r\\n     */\\r\\n    pos.xyz *= u_size * 0.5;\\r\\n\\r\\n    /**\\r\\n     * Inverts the object space's y axis in order to match DOM space conventions. \\r\\n     * Later in the transformation chain, the projection transform reinverts the y axis to convert to clip space.\\r\\n     * Equivalent to (but much faster than) multiplying a scale matrix \\\"invertYAxis\\\"\\r\\n     *\\r\\n     *                           1 0 0 0 \\r\\n     *                           0 -1 0 0\\r\\n     *                           0 0 1 0\\r\\n     *                           0 0 0 1\\r\\n     *\\r\\n     * in the transform chain: projection * view * modelTransform * invertYAxis * sizeScale * origin * positionVector.\\r\\n     */\\r\\n    pos.y *= -1.0;\\r\\n\\r\\n    /**\\r\\n     * Exporting the vertex's position as a varying, in DOM space, to be used for lighting calculations. This has to be in DOM space\\r\\n     * since light position and direction is derived from the scene graph, calculated in DOM space.\\r\\n     */\\r\\n\\r\\n    v_position = (MVMatrix * pos).xyz;\\r\\n\\r\\n    /**\\r\\n    * Exporting the eye vector (a vector from the center of the screen) as a varying, to be used for lighting calculations.\\r\\n    * In clip space deriving the eye vector is a matter of simply taking the inverse of the position, as the position is a vector\\r\\n    * from the center of the screen. However, since our points are represented in DOM space,\\r\\n    * the position is a vector from the top left corner of the screen, so some additional math is needed (specifically, subtracting\\r\\n    * the position from the center of the screen, i.e. half the resolution of the canvas).\\r\\n    */\\r\\n\\r\\n    v_eyeVector = (u_resolution * 0.5) - v_position;\\r\\n\\r\\n    /**\\r\\n     * Transforming the position (currently represented in dom space) into view space (with our dom space view transform)\\r\\n     * and then projecting the point into raster both by applying a perspective transformation and converting to clip space\\r\\n     * (the perspective matrix is a combination of both transformations, therefore it's probably more apt to refer to it as a\\r\\n     * projection transform).\\r\\n     */\\r\\n\\r\\n    pos = u_perspective * MVMatrix * pos;\\r\\n\\r\\n    return pos;\\r\\n}\\r\\n\\r\\n/**\\r\\n * Placeholder for positionOffset chunks to be templated in.\\r\\n * Used for mesh deformation.\\r\\n *\\r\\n * @method calculateOffset\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\n#vert_definitions\\r\\nvec3 calculateOffset(vec3 ID) {\\r\\n    #vert_applications\\r\\n    return vec3(0.0);\\r\\n}\\r\\n\\r\\n/**\\r\\n * Writes the position of the vertex onto the screen.\\r\\n * Passes texture coordinate and normal attributes as varyings\\r\\n * and passes the position attribute through position pipeline.\\r\\n *\\r\\n * @method main\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\nvoid main() {\\r\\n    v_textureCoordinate = a_texCoord;\\r\\n    vec3 invertedNormals = a_normals + (u_normals.x < 0.0 ? calculateOffset(u_normals) * 2.0 - 1.0 : vec3(0.0));\\r\\n    invertedNormals.y *= -1.0;\\r\\n    v_normal = transpose_3_2(mat3(inverse_2_1(u_transform))) * invertedNormals;\\r\\n    vec3 offsetPos = a_pos + calculateOffset(u_positionOffset);\\r\\n    gl_Position = applyTransform(vec4(offsetPos, 1.0));\\r\\n}\\r\\n\",\r\n    fragment: \"#define GLSLIFY 1\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * Placeholder for fragmentShader  chunks to be templated in.\\r\\n * Used for normal mapping, gloss mapping and colors.\\r\\n * \\r\\n * @method applyMaterial\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\n\\r\\n#float_definitions\\r\\nfloat applyMaterial_1_0(float ID) {\\r\\n    #float_applications\\r\\n    return 1.;\\r\\n}\\r\\n\\r\\n#vec3_definitions\\r\\nvec3 applyMaterial_1_0(vec3 ID) {\\r\\n    #vec3_applications\\r\\n    return vec3(0);\\r\\n}\\r\\n\\r\\n#vec4_definitions\\r\\nvec4 applyMaterial_1_0(vec4 ID) {\\r\\n    #vec4_applications\\r\\n\\r\\n    return vec4(0);\\r\\n}\\r\\n\\r\\n\\n\\n/**\\r\\n * The MIT License (MIT)\\r\\n * \\r\\n * Copyright (c) 2015 Famous Industries Inc.\\r\\n * \\r\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\r\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\r\\n * in the Software without restriction, including without limitation the rights\\r\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\r\\n * copies of the Software, and to permit persons to whom the Software is\\r\\n * furnished to do so, subject to the following conditions:\\r\\n * \\r\\n * The above copyright notice and this permission notice shall be included in\\r\\n * all copies or substantial portions of the Software.\\r\\n * \\r\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\r\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\r\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\r\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\r\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\r\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\r\\n * THE SOFTWARE.\\r\\n */\\r\\n\\r\\n/**\\r\\n * Calculates the intensity of light on a surface.\\r\\n *\\r\\n * @method applyLight\\r\\n * @private\\r\\n *\\r\\n */\\r\\nvec4 applyLight_2_1(in vec4 baseColor, in vec3 normal, in vec4 glossiness, int numLights, vec3 ambientColor, vec3 eyeVector, mat4 lightPosition, mat4 lightColor, vec3 v_position) {\\r\\n    vec3 diffuse = vec3(0.0);\\r\\n    bool hasGlossiness = glossiness.a > 0.0;\\r\\n    bool hasSpecularColor = length(glossiness.rgb) > 0.0;\\r\\n\\r\\n    for(int i = 0; i < 4; i++) {\\r\\n        if (i >= numLights) break;\\r\\n        vec3 lightDirection = normalize(lightPosition[i].xyz - v_position);\\r\\n        float lambertian = max(dot(lightDirection, normal), 0.0);\\r\\n\\r\\n        if (lambertian > 0.0) {\\r\\n            diffuse += lightColor[i].rgb * baseColor.rgb * lambertian;\\r\\n            if (hasGlossiness) {\\r\\n                vec3 halfVector = normalize(lightDirection + eyeVector);\\r\\n                float specularWeight = pow(max(dot(halfVector, normal), 0.0), glossiness.a);\\r\\n                vec3 specularColor = hasSpecularColor ? glossiness.rgb : lightColor[i].rgb;\\r\\n                diffuse += specularColor * specularWeight * lambertian;\\r\\n            }\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    return vec4(ambientColor + diffuse, baseColor.a);\\r\\n}\\r\\n\\r\\n\\n\\n\\r\\n\\r\\n/**\\r\\n * Writes the color of the pixel onto the screen\\r\\n *\\r\\n * @method main\\r\\n * @private\\r\\n *\\r\\n *\\r\\n */\\r\\nvoid main() {\\r\\n    vec4 material = u_baseColor.r >= 0.0 ? u_baseColor : applyMaterial_1_0(u_baseColor);\\r\\n\\r\\n    /**\\r\\n     * Apply lights only if flat shading is false\\r\\n     * and at least one light is added to the scene\\r\\n     */\\r\\n    bool lightsEnabled = (u_flatShading == 0.0) && (u_numLights > 0.0 || length(u_ambientLight) > 0.0);\\r\\n\\r\\n    vec3 normal = normalize(v_normal);\\r\\n    vec4 glossiness = u_glossiness.x < 0.0 ? applyMaterial_1_0(u_glossiness) : u_glossiness;\\r\\n\\r\\n    vec4 color = lightsEnabled ?\\r\\n    applyLight_2_1(material, normalize(v_normal), glossiness,\\r\\n               int(u_numLights),\\r\\n               u_ambientLight * u_baseColor.rgb,\\r\\n               normalize(v_eyeVector),\\r\\n               u_lightPosition,\\r\\n               u_lightColor,   \\r\\n               v_position)\\r\\n    : material;\\r\\n\\r\\n    gl_FragColor = color;\\r\\n    gl_FragColor.a *= u_opacity;   \\r\\n}\\r\\n\"\r\n};\r\n\r\nmodule.exports = shaders;\r\n","var config = require( './config.json' );\r\n// new Ajax('/xxx')  \t\t\t\t\turl\r\n// \t.config({timeout: 3000})\ttimeout async  true\r\n// \t.router([])\t\t\t\t\t\t\t\t\r\n// \t.data({})\t\t\t\t\t\t\t\t\tpost\r\n// \t.path({})\t\t\t\t\t\t\t\t\t\r\n// \t.success(fn)\t\t\t\t\t\t\t\r\n// \t.error(fn)\t\t\t\t\t\t\t\t\r\n// \t.timeout(fn)\t\t\t\t\t\t\t\r\n// .get();post();\tput();delete();\t\t\t\t\t\t  get / post \r\n\r\nfunction Ajax( url ) {\r\n\tif( typeof url !== 'string' )\r\n\t\tthrow new Error( 'Ajax option error!' );\r\n\r\n\t//  \r\n\tthis.url = !~url.indexOf( 'http' ) ? config.ajax_base + '/v' + config.version + url.replace( /^\\/*/,'/' ) : url;\r\n}\r\n\r\n// Ajax \r\nAjax.prototype.config = function( cfg ){\r\n\tthis.cfg = cfg;\r\n\treturn this;\r\n}\r\n\r\n// Ajax \r\nAjax.prototype.router = function( router ){\r\n\r\n\tif( !router )\r\n\t\tthrow new Error( 'Router' );\r\n\r\n\tif( router.constructor.name === 'String' )\r\n\t\trouter = '/' + router;\r\n\telse\r\n\t\trouter = '/' + router.join( '/' );\r\n\r\n\tvar aUrl = this.url.split( '?' );\r\n\tthis.url = aUrl[0].replace( /\\/*$/, router );\r\n\taUrl[1] && (this.url = this.url + aUrl[1]);\r\n\r\n\tthis.r = router;\r\n\treturn this;\r\n}\r\n\r\n// Ajax data\r\nAjax.prototype.data = function( data ){\r\n\tvar sData = [];\r\n\tfor( var i in data )\r\n\t\tsData.push( i + '=' + data[i] );\r\n\tsData =  '&' + sData.join( '&' );\r\n\r\n\tthis.d = sData;\r\n\treturn this;\r\n}\r\n\r\n// Ajax ?\r\nAjax.prototype.path = function ( path ){\r\n\r\n\tvar sPath = [];\r\n\tfor( var i in path )\r\n\t\tsPath.push( i + '=' + path[i] );\r\n\tsPath =  sPath.join( '&' );\r\n\r\n\tif( !~this.url.indexOf( '?' ) )\r\n\t\tthis.url = this.url.replace( /\\/*$/, '?' + sPath )\r\n\telse\r\n\t\tthis.url = this.url.replace( /[&\\/]*$/, '&' + sPath );\r\n\r\n\tthis.p = sPath;\r\n\treturn this;\r\n}\r\n\r\n// Ajax \r\nAjax.prototype.success = function( fn ) {\r\n\tif( !fn || typeof fn  !== 'function' )\r\n\t\tthrow new Error( '!' );\r\n\r\n\tthis.s = fn;\r\n\treturn this;\r\n}\r\n\r\n// Ajax \r\nAjax.prototype.error = function( fn ){\r\n\tif( !fn || typeof fn  !== 'function' )\r\n\t\tthrow new Error( '!' );\r\n\r\n\tthis.e = fn;\r\n\treturn this;\r\n}\r\n\r\n// \r\nAjax.prototype.timeout = function( fn ){\r\n\tif( !fn || typeof fn  !== 'function' )\r\n\t\tthrow new Error( '!' );\r\n\r\n\tthis.t = fn;\r\n\treturn this;\r\n}\r\n\r\n// get \r\nAjax.prototype.get = function(){\r\n\tthis.m = 'GET';\r\n\tthis.exec();\r\n}\r\n\r\n// post \r\nAjax.prototype.post = function(xx){\r\n\tthis.m = 'POST';\r\n\tthis.exec(xx);\r\n}\r\n\r\n// put \r\nAjax.prototype.put = function(){\r\n\tthis.m = 'PUT';\r\n\tthis.exec();\r\n}\r\n\r\n// delete \r\nAjax.prototype.delete = function(){\r\n\tthis.m = 'DELETE';\r\n\tthis.exec();\r\n}\r\n\r\nAjax.prototype.exec = function(xx){\r\n\r\n\tthis.cfg = this.cfg || {};\r\n\r\n\tvar xhr = new XMLHttpRequest();\r\n\r\n\t// 3000\r\n\txhr.timeout =  this.cfg.timeout || 3000;\r\n\r\n\t//   true\r\n\tif(xx == false){\r\n\t\tthis.async = false;\r\n\t}else{\r\n\t\tthis.async = typeof this.cfg.async === 'boolean' ? this.cfg.async : true;\r\n\t}\r\n\t\r\n\r\n\txhr.open( this.m, this.url, this.async );\r\n\r\n\tif( this.m === 'GET' )\r\n\t\txhr.send( null );\r\n\telse{\r\n\t\txhr.setRequestHeader( 'Content-Type', 'application/x-www-form-urlencoded' );\r\n\t\txhr.send( this.d );\r\n\t}\r\n\r\n\txhr.ontimeout = this.t;\r\n\r\n\tif( !this.async )\r\n\t  callback( xhr, this );\r\n\telse\r\n\t\txhr.onreadystatechange = function(){\r\n\t\t\tif( xhr.readyState === 4 )\r\n\t\t\t\tcallback( xhr, this );\r\n\t\t}.bind( this )\r\n}\r\n\r\nfunction callback( xhr, obj ){\r\n\tvar result = '';\r\n\tif( xhr.status == 200 ){\r\n\t\ttry{\r\n\t\t\tresult = JSON.parse( xhr.response );\r\n\t\t}catch(e){\r\n\t\t\tresult = xhr.response;\r\n\t\t}\r\n\t\tobj.s( result );\r\n\t}else \r\n\t\tobj.e && obj.e( xhr );\r\n}\r\n\r\n\r\nmodule.exports = Ajax;","module.exports = new function() {\r\n\r\n\t// \r\n\t\r\n\t// \r\n\tthis.height = 0;\r\n\t// \r\n\tthis.width = 0;\t\r\n\t// \r\n\tthis.devicePixelRatio = 0;\r\n\t// uuid\r\n\tthis.uuid = null;\r\n\t// \r\n\tthis.model = null;\r\n\t// \r\n\tthis.version = null;\r\n\t//  IOS / ANDROID\r\n\tthis.platform = null;\r\n}();","/**\r\n*  window OR webworker  alertconfirmpromptbeep \r\n*   cordova-plugin-dialogs \r\n*/\r\n\r\nvar CrossCall = require(\"famous/core/CrossCall\");\r\nvar _self = (typeof window == \"undefined\") ? self: window;\r\n\r\n/**\r\n*Shows a custom alert or dialog box. Most Cordova implementations use a native dialog box for this feature,\r\n but some platforms use the browser's alert function, which is typically less customizable.\r\n* \r\n*Example\r\n*\r\n*alert(\r\n    'You are the winner!',  // message\r\n    alertDismissed,         // callback\r\n    'Game Over',            // title\r\n    'Done'                  // buttonName\r\n*);\t\r\n*/\r\n_self.alert = function(message, resultCallback, title, buttonLabel) {\r\n\t_call (\"alert\", message, resultCallback, title, buttonLabel)\r\n}\r\n/**\r\n*Displays a customizable confirmation dialog box.\r\n* \r\n*Example\r\n*\r\n*confirm(\r\n    'You are the winner!', // message\r\n     onConfirm,            // callback to invoke with index of button pressed\r\n    'Game Over',           // title\r\n    ['Restart','Exit']     // buttonLabels\r\n);\r\n*/\r\n_self.confirm = function(message, resultCallback, title, buttonLabels) {\r\n\t_call (\"confirm\", message, resultCallback, title, buttonLabels);\r\n}\r\n\r\n/**\r\n* Displays a native dialog box that is more customizable than the browser's prompt function.\r\n* \r\n* message: Dialog message. (String)\r\n* resultCallback: Callback to invoke with index of button pressed (1, 2, or 3) or when the dialog is dismissed without a button press (0). (Function)\r\n* title: Dialog title (String) (Optional, defaults to Prompt)\r\n* buttonLabels: Array of strings specifying button labels (Array) (Optional, defaults to [\"OK\",\"Cancel\"])\r\n* defaultText: Default textbox input value (String) (Optional, Default: empty string)\r\n*\r\n*Example\r\n*\r\n*prompt(\r\n    'Please enter your name',  // message\r\n    onPrompt,                  // callback to invoke\r\n    'Registration',            // title\r\n    ['Ok','Exit'],             // buttonLabels\r\n    'Jane Doe'                 // defaultText\r\n);\r\n*/\r\n_self.prompt = function(message, resultCallback, title, buttonLabels, defaultText) {\r\n\t_call (\"prompt\", message, resultCallback, title, buttonLabels, defaultText);\r\n}\r\n\r\n/**\r\n* The device plays a beep sound.\r\n* times: The number of times to repeat the beep. (Number)\r\n*/\r\n_self.beep = function(times){\r\n    _call (\"beep\", times);\r\n}\r\n\r\n\r\n\r\nfunction  _call(name, message, resultCallback, title, buttonLabels, defaultText) {\r\n\tnew CrossCall(function (name, message, title, buttonLabels, defaultText) {\r\n\t\tnavigator.notification[name].call(\r\n\t\t\tnavigator.notification,\r\n\t\t\tmessage,\r\n\t\t\tfunction (arg) {\r\n\t            self._call(arg);\r\n\r\n\t\t    },title, buttonLabels, defaultText);\r\n\t}, [name, message, title, buttonLabels, defaultText]).exec(function (arg) {\r\n\r\n\t\tif( resultCallback)\r\n\t\t\tresultCallback(arg);\r\n\t});\t\r\n}\r\n","var CrossCall = require('famous/core/CrossCall');\r\n\r\n//cordova-plugin-google-analytics \r\n// cordova plugin add https://github.com/danwilson/google-analytics-plugin.git\r\n\r\nfunction googleAnalytics(){\r\n\tthis.cross = new CrossCall();\r\n}\r\n\r\n//To track a Screen (PageView):\r\ngoogleAnalytics.prototype.trackView = function(arg){\r\n\tthis._callWin( \"trackView\", [arg]);\r\n};\r\n\r\n\r\n//To track User Timing (App Speed):\r\ngoogleAnalytics.prototype.trackTiming = function(Category, IntervalInMilliseconds, Variable, Label){\r\n    this._callWin( \"trackTiming\", [Category, IntervalInMilliseconds, Variable, Label]);\r\n};\r\n\r\n//To track an Exception:\r\ngoogleAnalytics.prototype.trackException = function(Description, Fatal){\r\n    this._callWin( \"trackException\", [Description, Fatal]);\r\n};\r\n\r\n//To add a Transaction (Ecommerce)\r\ngoogleAnalytics.prototype.addTransaction = function(ID, Affiliation, Revenue, Tax, Shipping, CurrencyCode){\r\n    this._callWin( \"addTransaction\", [ID, Affiliation, Revenue, Tax, Shipping, CurrencyCode]);\r\n};\r\n\r\n\r\n//To add a Transaction Item (Ecommerce)\r\n\r\ngoogleAnalytics.prototype.addTransactionItem = function(ID, Name, SKU, Category, Price, Quantity, CurrencyCode) {\r\n\tthis._callWin( \"addTransactionItem\",[ID, Name, SKU, Category, Price, Quantity, CurrencyCode]);\r\n};\r\n//To add a Custom Dimension\r\n\r\ngoogleAnalytics.prototype.addCustomDimension = function (Key, Value, success, error){\r\n\tthis.cross.setFun(function(Key, Value){\r\n\r\n\t\twindow.analytics.addCustomDimension(Key, Value,\r\n\t\t\tfunction(e){self._call({stats:1,res:e})},\r\n\t\t\tfunction(e){self._call({stats:0,res:e})})\r\n\t\t\r\n\t},[Key, Value]).exec(function(e){\r\n\t\tif( e.stats && typeof success  === 'function')\r\n   \t\t\tsuccess(e.res);\r\n   \t\telse \r\n   \t\t\t(typeof error  === 'function') && error(e.res);\r\n\t});\r\n   \r\n};\r\n//To set a UserId:\r\n\r\ngoogleAnalytics.prototype.setUserId = function (myuserid){\r\n\tthis._callWin('setUserId',[myuserid]);\r\n};\r\n//To enable verbose logging:\r\n\r\ngoogleAnalytics.prototype.debugMode = function(){\r\n\tthis._callWin('debugMode',[]);\r\n};\r\n\r\n//To enable/disable automatic reporting of uncaught exceptions\r\ngoogleAnalytics.prototype.enableUncaughtExceptionReporting = function(Enable, success, error){\r\n\r\n    this.cross.setFun(function(Enable){\r\n\r\n\t\twindow.analytics.enableUncaughtExceptionReporting(Enable,\r\n\t\t\tfunction(e){self._call({stats:1,res:e})},\r\n\t\t\tfunction(e){self._call({stats:0,res:e})})\r\n\t\t\r\n\t},[Enable]).exec(function(e){\r\n\t\tif( e.stats && typeof success  === 'function')\r\n   \t\t\tsuccess(e.res);\r\n   \t\telse\r\n   \t\t\t(typeof error  === 'function') && error(e.res);\r\n\t});\r\n   \r\n};\r\n\r\n\r\ngoogleAnalytics.prototype._callWin = function(name,arg){\r\n\tthis.cross.setFun(function(name, arg){\r\n\r\n\t\twindow.analytics[name].apply(window.analytics, arg)\r\n\t\t\r\n\t},[name, arg]).exec();\r\n};\r\n\r\nmodule.exports = new googleAnalytics();\r\n\r\n","var Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Button = require('button');\r\n\r\n/*\r\n*obj\r\n*i:\r\n*height\r\n*\r\n*/\r\n\r\nclass IconItem extends Node{\r\n\tconstructor(obj,i,height){\r\n\t\tsuper()\r\n\r\n\t\tthis\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,height)\r\n\t\t\t.setPosition(0,i*height)\r\n\t\t\t.setAlign(.5)\r\n\t\t\t.setMountPoint(.5)\r\n\t\t\t.el = new DOMElement(this,{\r\n\t\t\t\tclasses:['icon_item','fa-button'],\r\n\t\t\t\tcontent:'<div class=\"inner_item\"><img src=\"'+obj.icon+'\"><span>'+obj.desc+'</span></div>'\r\n\t\t\t})\r\n\r\n\t\tthis.addUIEvent('touchstart');\r\n\t\tthis.addUIEvent('touchend');\r\n\t\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\t\tif(e === 'touchstart'){\r\n\t\t\tthis.el.addClass(\"bt-active\");\r\n\t\t}else if( e === 'touchend'){\r\n\t\t\tthis.el.removeClass(\"bt-active\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = IconItem;","var Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\n\r\nclass IconText extends Node{\r\n\tconstructor(obj,i,countX,sizeY,mt,cls){\r\n\t\tsuper()\r\n\r\n\t\tthis\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,sizeY)\r\n\t\t\t.setProportionalSize(1/countX)\r\n\t\t\t.setPosition(0,(Math.floor(i/countX)) * sizeY + (Math.floor(i/countX) + 1 ) * mt)\r\n\t\t\t.setAlign(i % countX/countX,0)\r\n\t\t\t.el = new DOMElement(this,{\r\n\t\t\t\tclasses:[cls,'fa-button'],\r\n\t\t\t\tcontent:'<img src=\"'+obj.icon+'\"><p>'+obj.text+'</p>'\r\n\t\t\t})\r\n\r\n\t\tthis.listId = IconText;\r\n\t\tthis.addUIEvent('touchstart');\r\n\t\tthis.addUIEvent('touchend');\r\n\t\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\t\tif(e === 'touchstart'){\r\n\t\t\tthis.el.addClass(\"bt-active\");\r\n\t\t}else if( e === 'touchend'){\r\n\t\t\tthis.el.removeClass(\"bt-active\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = IconText;","var Node = require(\"famous/core/Node\");\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar GestureHandler = require(\"famous/components/GestureHandler\") ;\r\nvar timer = null;\r\n/**\r\n*ListView  \r\n*/\r\nfunction ListView (arg) {\r\n\tNode.call(this);\r\n\r\n\tthis._allData = [];\r\n\tthis._domList = [];\r\n    this._lock = false;\r\n\r\n    //\r\n    this.opt = {\r\n        threshold:2,// item \r\n        throttle:32,// Scroll\r\n        itemSize:[200,65],//item  \r\n        margin:[0,0,0,0], // Margin\r\n        animate:false, //TODO \r\n        createItem:null\r\n        \r\n    }\r\n    this.optInit(arg);\r\n\r\n\t//\r\n    this._temp = null;\r\n    \r\n    this.scrollTop = 0;\r\n    //height+marginTop = itemH\r\n    this.itemH = this.opt.itemSize[1]+this.opt.margin[0];\r\n    \r\n\t\r\n    this.linked = new LinkedListViewSequence([]);\r\n\r\n    //this._addPullDownRefreshNode();\r\n    //this._addPullUpRefreshNode();\r\n    this._addScrollCentent();\r\n\r\n\tthis.c.addUIEvent(\"scroll\");\r\n\tthis.addUIEvent(\"click\");\r\n    this.addUIEvent(\"touchstart\");\r\n\r\n\tthis.addComponent({\r\n\t\tonSizeChange:function(x,y,z){\r\n            if(!x)\r\n                return;\r\n\t\t\tthis.renderDom();\r\n\t\t}.bind(this)\r\n\t}); \r\n\r\n    \r\n}\r\nListView.prototype = Object.create(Node.prototype);\r\n\r\n//  \r\nListView.prototype.optInit =function(opt){\r\n    for(var k in opt ){\r\n     \tthis.opt[k] = opt[k];\r\n    }\r\n\r\n    if( this.opt.createItem === null )\r\n     \tthrow new Error('createItem is null');\r\n     \r\n}\r\n\r\nListView.prototype.renderDom = function(){\r\n    \r\n    if( this.opt.itemMax === undefined){\r\n    \tthis.height = this.getSize()[1];\r\n    \tthis.opt.itemMax = 0|(this.height/this.itemH) + this.opt.threshold*2;\r\n\r\n    }\r\n    //Dom \r\n    this._domList = this.linked.slice(0, this.opt.itemMax);\r\n    for (var i = 0; i < this._domList.length; i++) {\r\n    \tthis.c.addChild( this.createItem( this._domList[i] ) );\r\n    \tthis._domList[i]._isMounted = true;\r\n    \tthis._domList[i]._index = i;\r\n    };\r\n}\r\nListView.prototype.onReceive = function (e, p) {\r\n  \r\n\tif( e === 'scroll' && !this._lock){\r\n        this.top = p.scrollTop;\r\n        if (timer)\r\n            return;\r\n\r\n        timer = setTimeout(function () {\r\n            this.throttle();\r\n            timer = 0;\r\n        }.bind(this), this.opt.throttle);\r\n       \r\n\r\n\t}\r\n\r\n\t// if( e===\"click\"){\r\n\t// \tconsole.log(p.node);\r\n\t// }\r\n\r\n    if( e===\"touchstart\"&& this.linked[this.linked.length-1]==this._domList[this._domList.length-1]){\r\n\r\n    }\r\n}\r\n\r\nListView.prototype.lock = function(){\r\n    this._lock = true;\r\n    this.c.el.setProperty('overflow-y','hidden');\r\n}\r\n\r\nListView.prototype.unLock = function(){\r\n    this._lock = false;\r\n    this.c.el.setProperty('overflow-y','scroll');\r\n}\r\n\r\nListView.prototype.isLock = function(){\r\n    return this._lock;\r\n}\r\n//\r\nListView.prototype.throttle = function (arg) {\r\n\r\n   \r\n    this._onScroll( this.top );\r\n\r\n    this.scrollTop = this.top;\r\n}\r\n\r\n//\r\nListView.prototype.BindData = function(arr) {\r\n\r\n    for (var i = 0; i < arr.length; i++) {\r\n    \t\r\n    \tthis.linked.insert(arr[i]);\r\n    };\r\n    \r\n};\r\n\r\nListView.prototype.createItem = function( obj ){\r\n\r\n\tvar o = this.opt,h=this.itemH;\r\n    return this.opt.createItem(obj.data,  obj)\r\n    .setPosition( o.margin[3], obj._id*h, 0 )\r\n    .setAbsoluteSize(o.itemSize[0], o.itemSize[1] );\r\n}\r\n\r\n//\r\nListView.prototype.setPullStyle = function(){\r\n\r\n}\r\n\r\nListView.prototype._addPullDownRefreshNode = function(){\r\n    this.addChild(this.setPullStyle()).setSizeMode( 'relative', 'absolute' )\r\n        .setAbsoluteSize( 1, 1 , 1)\r\n        .setMountPoint( 0, 1, 0 )\r\n        .setAlign( 0, 1, null )\r\n        .setProportionalSize( null, 60);\r\n};\r\n\r\nListView.prototype._addPullUpRefreshNode = function(){\r\n    this.addChild(this.setPullStyle()).setSizeMode( 'relative', 'absolute' )\r\n        .setAbsoluteSize( 1, 1 ,2)\r\n        .setMountPoint( 0, 1, 0 )\r\n        .setAlign( 0, 1, null )\r\n        .setProportionalSize( null, 60);\r\n};\r\n\r\nListView.prototype._addScrollCentent = function(){\r\n    \r\n    this.c = this.addChild()\r\n        .setSizeMode( 'relative', 'relative' )\r\n        //.setAbsoluteSize( null, 88 / App.devicePixelRatio )\r\n        .setProportionalSize( 1, 1, 3);\r\n\r\n    this.c.el = new DOMElement(this.c,{\r\n        classes:['page-content']\r\n    }).setProperty(\"overflow-y\", \"scroll\").setProperty(\"overflow-x\",\"hidden\");\r\n    \r\n};\r\n\r\nListView.prototype.onScrollEnd = function() {\r\n\t//ToDo\r\n};\r\n\r\n//\r\nListView.prototype.AddData = function(arr, index) {\r\n\t//ToDo\r\n    this.BindData(arr);\r\n    this._onScroll(this.scrollTop);\r\n\t//this.initItem();\r\n};\r\n\r\n//Item\r\nListView.prototype.RemoveItem =function(index){\r\n\r\n    var item = this.linked.splice(index, 1)[0];\r\n\r\n    if (!item || !item._isMounted)  return;\r\n\r\n    //\r\n    var next = this.linked.findByIndex(this._domList[this._domList.length-1]._id+1);\r\n    if (next === undefined){\r\n        next = this.linked.findByIndex(this._domList[0]._id-1);\r\n       \r\n    }\r\n\r\n    item._isMounted = false;\r\n    this.c.removeChild(this.c.getRawChildren()[item._index]);\r\n    // this.opt.itemMax \r\n    if (item===next || next === undefined){\r\n        // Domlist\r\n        this._onScroll( this.scrollTop );\r\n        return this.reSetItem();\r\n    }\r\n\r\n    next._index = item._index;\r\n    next._isMounted = true;\r\n     \r\n    // \r\n    this.c.addChild( this.createItem( next ));\r\n    // Domlist\r\n    this._onScroll( this.scrollTop );\r\n    //Position\r\n    this.reSetItem();\r\n        \r\n\r\n}\r\n// \r\nListView.prototype.initItem = function  () {\r\n\t\r\n\tvar o = this.opt,h=this.itemH;\r\n\tthis._allData.forEach( function (v, i ) {\r\n\r\n\t\tv.setPosition( o.margin[3], i*h, 0 );\r\n\t\tv.setAbsoluteSize(o.itemSize[0], o.itemSize[1] );\r\n\t})\r\n\r\n\tthis.contentH = this._allData.length * h;\r\n}\r\n\r\n// \r\nListView.prototype.reSetItem = function  () {\r\n    \r\n    var o = this.opt,\r\n    h=this.itemH,\r\n    child = this.c.getRawChildren();\r\n    this._domList.forEach( function (v, i ) {\r\n        \r\n        child[v._index].setPosition( o.margin[3], (v._id)*h, 1 );\r\n        //v.setAbsoluteSize(o.itemSize[0], o.itemSize[1] );\r\n    })\r\n\r\n}\r\n\r\n\r\n//\r\nListView.prototype._addItem2Dom = function(item, index) {\r\n    \r\n\r\n    if (this._domList.length < this.opt.itemMax){\r\n        this.c.addChild( this.createItem( item ));\r\n        item._isMounted = true;\r\n        item._index = index;\r\n        return;\r\n    }\r\n    this._temp = this._domList[ this.opt.itemMax-1-index ];\r\n    this._temp._isMounted = false;\r\n    item._isMounted = true;\r\n\r\n    // item  DomList \r\n    item._index = this._temp._index;\r\n\r\n    // \r\n    this.c.removeChild(this.c.getRawChildren()[item._index]); \r\n    // \r\n    this.c.addChild( this.createItem( item ));\r\n\r\n};\r\n\r\n\r\n//\r\nListView.prototype._onScroll = function(top) {\r\n\t//\r\n    var domTop = top - this.opt.threshold*this.itemH;\r\n        domTop < 0 ? domTop = 0 : domTop = domTop;\r\n        domTop = 0|(domTop/this.itemH);\r\n\r\n    var item = this.linked.slice( domTop,  domTop+this.opt.itemMax);\r\n    //\r\n    if (item.length < this.opt.itemMax){\r\n        item = this.linked.slice(-this.opt.itemMax);\r\n    }\r\n\r\n    for (var i = 0; i < item.length; i++) {\r\n        if (item[i]._isMounted) \r\n            continue;\r\n        this._addItem2Dom(item[i], i);\r\n    };\r\n    //console.log(item);\r\n    this._domList = item;\r\n};\r\n\r\n//\r\nfunction LinkedListViewSequence(arr){\r\n\r\n\tthis._arr = [];\r\n    for (var i in arr) {\r\n    \tthis.insert( arr[i] );\r\n    };\r\n} \r\n\r\nLinkedListViewSequence.prototype = {\r\n    get length(){\r\n        return this._arr.length;\r\n    }\r\n};\r\n\r\nLinkedListViewSequence.prototype.findByIndex = function(index){\r\n    return this._arr[index];\r\n}\r\n\r\nLinkedListViewSequence.prototype.insert = function(obj){\r\n    this._arr.push ( { _isMounted:false, _id:this._arr.length, data: obj} ); \r\n}\r\n\r\n\r\nLinkedListViewSequence.prototype.slice = function(...x){\r\n\treturn [].slice.apply(this._arr, x);\r\n}\r\n\r\nLinkedListViewSequence.prototype.splice = function(...x){\r\n    var item = [].splice.apply(this._arr, x);\r\n\r\n    this._arr.forEach(function(v, i){\r\n        v._id = i;\r\n    })\r\n\r\n    return item;\r\n}\r\nmodule.exports = ListView;","var Node = require( 'famous/core/Node' );\r\nvar DOMElement = require( 'famous/dom-renderables/DOMElement' );\r\n\r\n\r\nclass Page extends Node {\r\n\tconstructor( opt ){\r\n\t\tsuper();\r\n\t\topt = opt || {};\r\n\r\n\t\tthis._el = new DOMElement( this, opt );\r\n\t\tthis._el.addClass('white_backgound');\r\n\t\tthis._status = \"Dead\";\r\n\t}\r\n\r\n\tto( id, opt ) {\r\n\t\tthis._updater.getContext(this.getLocation())._Router.to( id, opt );\r\n\t\treturn this;\r\n\t}\r\n\r\n\tback( opt ) {\r\n\t\tthis._updater.getContext(this.getLocation())._Router.back( opt );\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n\tgetDOM() {\r\n\t\treturn this._el;\r\n\t}\r\n\t//Page\r\n\tonCreate() {\r\n\t\tthis.showInEngine(true);\r\n      \t//this._ContentNode = this.addChild();\r\n\t}  \r\n\t//Page\t\r\n\tonStart() {\r\n\r\n\t\tthis._status = \"Running\";\r\n\t}    \r\n\t//Page\r\n\tonRestart() {\r\n\r\n\t\tthis.showInEngine(true);\r\n\t\tthis._status = \"Running\";\r\n\t}   \r\n\t//Page\r\n\tonResume() {\r\n\t\tthis._status = \"Running\";\r\n\t}  \r\n\t//Page,PagePage,\r\n\tonPause() {\r\n\r\n\t\tthis._status = \"Paused\";\r\n\t}  \r\n\t//PagePage\r\n\tonStop() {\r\n\t\tthis.showInEngine(false);\r\n\t\tthis._status = \"Stopped\";\r\n\t}  \r\n\t//Page(finish()),1onCreate ()\r\n\tonDestroy() {\r\n\t\tthis.showInEngine(true);\r\n\t\tthis._status = \"Dead\";\r\n\t\t//this.dismount();\r\n\t}\r\n\r\n\tfinish() {\r\n\t\tthis.onDestroy();\r\n\t}  \r\n\r\n\r\n}\t\r\nmodule.exports = Page;","var pages = require('pages.js');\r\nvar App = require('App');\r\nvar GoogleAnalytics = require('GoogleAnalytics');\r\nvar signModel = require('model/signModel');\r\nvar FamousEngine = require('famous/core/FamousEngine');\r\nvar Commands = require('famous/core/Commands');\r\nvar Align        = require('famous/components/Align');\r\nvar Ajax = require('Ajax');\r\nvar CrossCall = require('famous/core/CrossCall');\r\n\r\n\r\nfunction reSetSceneReceive(node){\r\n\tvar _this = node;\r\n\t_this.scene.onReceive = function(e, p){\r\n\t\tif( e === 'backbutton' && !_this._animationRunning){\r\n\t\t\t//TODO isShow\r\n\t\t\t//Back \r\n\t\t\t_this.currentPage.back(p);\r\n\t\t}else if (e === 'CONTEXT_RESIZE') {\r\n\t\t\t//CONTEXT_RESIZE  \r\n\t        if (p.length < 2)\r\n\t            throw new Error(\r\n\t                    'CONTEXT_RESIZE\\'s payload needs to be at least a pair' +\r\n\t                    ' of pixel sizes'\r\n\t            );\r\n\r\n\t\t\tvar size = _this.scene.getAbsoluteSize();\r\n\t        if (size[1] != 0 && size[1] == p[1]){\r\n\t            \r\n\t            _this.currentPage.emit(\"softKeyBoardDown\", p);\r\n\r\n\t        }else if (size[1] != 0 && 50<size[1] - p[1]< size[1]/2 ){\r\n\r\n\t            _this.currentPage.emit(\"softKeyBoardUp\", p);\r\n\r\n\t        } else{\r\n\r\n\t        \t_this.scene.setSizeMode('absolute', 'absolute', 'absolute');\r\n\t            _this.scene.setAbsoluteSize(p[0],\r\n\t                             p[1],\r\n\t                             p[2] ? p[2] : 0);\r\n\r\n\t            _this.scene._updater.message(Commands.WITH).message(_this.scene._selector).message(Commands.READY);\r\n\t        }\r\n\t\t}else if (_this.currentPage &&_this.currentPage.onReceive) {\r\n\t\t\t_this.currentPage.onReceive(e, p);\r\n\t\t} \r\n\t}\r\n}\r\n\r\nclass Router  {\r\n\tconstructor(  ){\r\n\t\t//var _this = this;\r\n\t\tthis.pages   = pages;\r\n\t\tthis._timer = null;\r\n\t\t//\r\n\t\tthis.pageCache   = [];\r\n\t\tthis.scene   = FamousEngine._scenes.body;\r\n\t\t// this\r\n\t\tthis.scene._Router = this;\r\n\t\t//\r\n\t\tthis.history = [];\r\n\t\t//\r\n\t\tthis._animationRunning = false;\r\n\t\t//To \r\n\t\tthis._onToEnd = {onReceive:this._onToAnimationEnd.bind(this)};\r\n\t\t//back \r\n\t\tthis._onBackEnd = {onReceive:this._onBackAnimationEnd.bind(this)};\r\n\t\t//\r\n\t\treSetSceneReceive(this);\r\n\t}\r\n\t// idnodenull\r\n\tfind(id){\r\n\t\tfor( var i = 0; i < this.history.length; i++ )\r\n\t\t\tif( this.history[i].id === id ) \r\n\t\t\t\treturn i;\r\n\t\treturn null;\r\n\t}\r\n\t// opt\r\n\tformat( opt, method ){\r\n\t\topt = opt || {};\r\n\r\n\t\tvar directions = {\r\n\t\t\trtl: [ -1, 0, 0, 1, 0, 0],\r\n\t\t\tltr: [ 1, 0, 0, -1, 0, 0],\r\n\t\t\tttb: [ 0, 1, 0, 0, -1, 0],\r\n\t\t\tbtt: [ 0, -1, 0, 0, 1, 0]\r\n\t\t}\r\n\r\n\t\tvar direction = directions[opt.direction];\r\n\t\tdirection = direction ? direction : directions[method];\r\n\t\topt.direction = direction;\r\n\r\n\t\topt.animate = opt.animate || {};\r\n\t\topt.animate.duration = opt.animate.duration || 200;\r\n\t\topt.animate.curev = opt.animate.curev || 'linear';\r\n\r\n\t\treturn opt;\r\n\t}\r\n\t// \r\n\tload( id, data ){\r\n\t\tif( !this.pages[id] ) \r\n\t\t\tthrow new Error( 'Not found the page : ' + id );\r\n\t\tvar nowPage = this.pageCache[id];\r\n\t\tif (!nowPage) {\r\n\t\t\tnowPage = new this.pages[id]( data );\t\r\n\t\t\tthis.pageCache[id] = nowPage;\r\n\t\t\tnowPage.setAlign( 1, 0, 0 )\r\n\t\t\t\t.getDOM()\r\n\t\t\t\t.addClass( 'page_change' )\r\n\t\t\t\t.setProperty(\"transition-duration\", \"0s\");\r\n\t\t\r\n\t\t\tnowPage.addUIEvent(\"transitionend\");\r\n\t\t\t//ID\r\n\t\t\tnowPage.mount( `body/${id}` );\r\n\t\t\tnowPage.getDOM().draw();\r\n\t\t}\r\n\t\t\r\n\t\tthis.loadPage = nowPage;\r\n\t\tthis.history.push({ id: id, node: nowPage });\r\n\t\t//Page\r\n\t\tnowPage.onCreate(data);\r\n\t\t \r\n\t\treturn nowPage ;\r\n\t}\r\n\t// \r\n\t// id            ID\r\n\t// opt.data      \r\n\t// opt.direction ,: to: 'rtl', back: 'ltr'\r\n\t// opt.animate   \r\n\t//     .duration  : 400\r\n\t//     .curev     : outCubic  http://famous.org/learn/easing-curves.html\r\n\tto( id, opt ){\r\n\t\t//\r\n\t\tif(!this.checkConnection()) return;\r\n\r\n\t\t//\r\n\t\tif(opt){\r\n\t\t\t\r\n\t\t\tif(opt.data){\r\n\t\t\t\tif(opt.data.checkLogin != 0){\r\n\t\t\t\t\tif(!this.checkLogin()){\r\n\t\t\t\t\t\t// id = 'login';\r\n\t\t\t\t\t\tsignModel.update({id:signModel.findOne.id},{'token':null});\r\n\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\r\n\t\t\tif(!this.checkLogin()){\r\n\t\t\t\t// id = 'login';\r\n\t\t\t\tsignModel.update({id:signModel.findOne.id},{'token':null});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t\r\n\t\tif (!this.pages[id] ) \r\n\t\t\tthrow new Error( 'Not found the page : ' + id );\r\n\t\t//\r\n\t\tif (this._animationRunning) return;\r\n\t\tif (this.currentPage) this.currentPage.onPause();\r\n\t\t//Page,PagePage,\r\n        \r\n\t\topt = this.format( opt, 'rtl' );\r\n\r\n\t\tvar loadPageID = this.find( id );\r\n\t\tvar nowPage = this.history[this.history.length-1].node;\r\n\t\t//\r\n\t\tif( loadPageID !== null ){\r\n\t\t\tthis.history.splice(loadPageID, 1) ;\r\n\t\t}\r\n      \t//From \r\n\t\tvar loadPage = this.load( id, opt.data )\r\n\t\t\t.setAlign(opt.direction[3], opt.direction[4], opt.direction[5]);\r\n\r\n\t\t\r\n\t\t\r\n\t\t//\r\n     \tloadPage.addComponent(this._onToEnd);\r\n     \tloadPage.getDOM().setProperty(\"transition-duration\", \".2s\").draw();\t\r\n\r\n     \t\r\n\t\t//Page\t\r\n\t\tloadPage.onStart(opt.data);\t\r\n\r\n\t\tsetTimeout(function(){\r\n\t\t\tthis._animationRunning = true;\r\n\t\t\tnowPage.setAlign( opt.direction[0]*.15, opt.direction[1]*.15, opt.direction[2]);\r\n\t\t\tloadPage.setAlign( 0, 0, 0 );\r\n\t\t}.bind(this),20);\r\n\t\t//this.history.push({id: id, node: loadPage});\r\n\r\n\t\tthis._timer = setTimeout(function(){\r\n\t\t\tthis._animationRunning&&this._onToAnimationEnd('transitionend',{});\r\n\t\t}.bind(this),400);\r\n\r\n\t\t//\r\n\t\tGoogleAnalytics.trackView(id);\r\n\t\t\r\n\t}\r\n\t_onToAnimationEnd(e, p){\r\n\t\tif (e!=='transitionend') return;\r\n\t\t\r\n\t\tclearTimeout(this._timer);\r\n\r\n\t\t//\r\n\t\tthis.currentPage&&this.currentPage.onStop();\r\n\t\t//\r\n\t\tthis.currentPage && this.currentPage.getDOM().setProperty(\"transition-duration\", \"0s\");\r\n\r\n\t\tthis.currentPage = this.loadPage;\r\n\t\t// _status\r\n\t\tthis.currentPage.onResume();\r\n\t\t//\r\n\t\tthis.currentPage.removeComponent(this._onToEnd);\r\n\t\tthis._animationRunning = false;\r\n\t\t\r\n\t}\r\n\r\n\t_onBackAnimationEnd(e, p){\r\n\t\tif (e!=='transitionend') return;\r\n\r\n\t\t// clearTimeout(this._timer);\r\n\r\n\t\tthis.history.pop();\r\n\t\t//\r\n\t\tthis.currentPage.removeComponent(this._onBackEnd);\r\n\t\t\r\n\t\t//onCreate ()\r\n\t\tthis.currentPage.onDestroy();\r\n\t\t//\r\n\t\tthis.currentPage.getDOM().setProperty(\"transition-duration\", \"0s\");\r\n\r\n\t\t//\r\n\t\tthis.currentPage = this.loadPage;\r\n\t\t//Page\r\n\t\tthis.currentPage.onResume();\r\n\t\tthis.currentPage.getDOM().setProperty(\"transition-duration\", \".3s\");\r\n\t\t\r\n\t\tthis._animationRunning = false;\r\n\t\t\r\n\r\n\t}\r\n\t// ,\r\n\t// opt.pageId    \r\n\t// opt.reload    \r\n\t// opt.direction ,: to: 'rtl', back: 'ltr'\r\n\t// opt.animate   \r\n\t//     .duration  : 400\r\n\t//     .curev     : outCubic  http://famous.org/learn/easing-curves.html\r\n\tback( opt ) {\r\n\t\r\n\t\tvar _this = this;\r\n\r\n\t\topt = this.format( opt, 'ltr' );\r\n\r\n\t\tif(this.history.length == 1) return this.exitApp(); //CallBack \r\n\t\t//\r\n\t\tif (this._animationRunning) return;\r\n\r\n\t\tvar nowPage = this.currentPage;\r\n\t\tvar showPage = this._getPageFromHistory(opt.pageId);\r\n\t\t// this.history[this.history.length-2].node;\r\n\t\tthis.loadPage = showPage;\r\n\r\n\t\tnowPage.addComponent(this._onBackEnd);\r\n        //Page\r\n\t\tshowPage.onRestart(opt);\r\n        showPage.setAlign( 0, 0, 0 );\r\n        \r\n        setTimeout(function(){\r\n        \tthis._animationRunning = true;\r\n\t\t\tnowPage.setAlign( opt.direction[0], opt.direction[1], opt.direction[2] );\r\n\t\t\t\r\n        }.bind(this),20);\r\n\r\n        // this._timer = setTimeout(function(){\r\n        // \tthis._onBackAnimationEnd('transitionend',{});\r\n        // }.bind(this),400);\r\n        \r\n\t\t\r\n\t}\r\n\t_getPageFromHistory(pageId){\r\n\t\tvar key,\r\n\t\tdisNode\r\n\t\t; \r\n\t\tif (typeof pageId =='number' && this.history[pageId]){\r\n \t\t\tkey = pageId;\r\n\t\t}else if(typeof pageId =='string'){\r\n\t\t\tthis.history.forEach(function(v,i){\r\n\t\t\t\tif (v.id === pageId){\r\n\t\t\t\t\tkey = i;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tkey = this.history.length -2;\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\t\tdisNode = this.history.splice(key + 1,this.history.length - key - 2);\r\n\t\t\r\n\t\t//\r\n\t\tdisNode.forEach(function(v){\r\n\t\t\t//v.node.onRestart();\r\n\t\t\tv.node.setAlign( 1, 0, 0 ).onDestroy();\r\n\t\t});\r\n\r\n\r\n\t\treturn this.history[key].node;\r\n\r\n\t}\r\n\t//CallBack \r\n\texitApp() {\r\n\t \tif(!this._BackTime)  {\r\n\t \t\tthis._BackTime = Date.now();\r\n\t \t\trequire('Tips').open('');\r\n\r\n\t \t}else{\r\n\t \t\tif (Date.now() - this._BackTime > 3000){\r\n\t         \tthis._BackTime = 0;\r\n\t         \treturn;\r\n\t \t\t}\r\n\r\n\t \t\tnew CrossCall(function(){\r\n\t \t\t\tnavigator.app.exitApp();\r\n\t \t\t}).exec();  \r\n\t \t}\r\n\t}\r\n\r\n\r\n\t//\r\n\tcheckConnection(){\r\n\t\tvar networkState = self.navigator.connection ? navigator.connection.type : '';\r\n\t\tvar status = true;\r\n\r\n\t    if(networkState === 'none'){\r\n\t    \trequire('Tips').open('');\r\n\t    \tstatus = false;\r\n\t    }\r\n\r\n\t    return status;\r\n\t}\r\n\r\n\t//\r\n\tcheckLogin(){\r\n\r\n\t\tvar loginStatus = true;\r\n\r\n\t\tnew Ajax('/user_store/list_id').data({\r\n\t\t\t'id':signModel.findOne().id,\r\n\t\t\t'did':App.uuid,\r\n\t\t\t'tk':signModel.findOne().token\r\n\t\t}).success(function(res){\r\n\t\t\tif(res.status == 5){\r\n\t\t\t\tloginStatus = false;\r\n\t\t\t\talert('',function(){\r\n\t\t\t\t\tsignModel.update({'id':signModel.findOne().id},{'token':null});\r\n\t\t\t\t\tnew CrossCall(function(){\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}).exec();\r\n\t\t\t\t},'','');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}.bind(this)).error(function(res){\r\n\t\t\tconsole.log(res);\r\n\t\t}).post(false);\r\n\r\n\t\treturn loginStatus;\r\n\r\n\t}\r\n\r\n\r\n\r\n}\t\r\n\r\n\r\n\r\n\r\n\r\nmodule.exports = new Router();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","var CrossCall = require('famous/core/CrossCall');\r\n\r\n\r\n\r\nfunction webWorkerStorage () {\r\n\r\n\tthis._storage = {};\r\n\tvar _this = this;\r\n\tthis.cross = new CrossCall(function () {\r\n\r\n        var obj = {};\r\n        for(var i in window.localStorage) {\r\n        \tobj[i] = window.localStorage.getItem(i);\r\n        }\r\n\r\n\t\treturn obj;\r\n\t});\r\n\tthis.cross.exec(function (arg) {\r\n\t\t_this._storage = arg;\r\n\t})\r\n}\r\nwebWorkerStorage.prototype.constructor = webWorkerStorage;\r\n\r\nwebWorkerStorage.prototype.getItem = function(arg) {\r\n\r\n\tif (this._storage.hasOwnProperty(arg))\r\n\t    return this._storage[arg];\r\n\treturn null;\r\n};\r\n\r\nwebWorkerStorage.prototype.removeItem = function(arg) {\r\n\r\n\tdelete this._storage[arg];\r\n    this._callStorage(\"removeItem\", [arg]);\r\n};\r\n\r\nwebWorkerStorage.prototype.setItem = function(name, value) {\r\n\r\n\tthis._storage[name] = value;\r\n    this._callStorage(\"setItem\", [name, value]);\r\n};\r\n\r\nwebWorkerStorage.prototype._callStorage = function( fun, arg){\r\n\tthis.cross.setFun(function (name, arg) {\r\n\r\n\t\treturn window.localStorage[name].apply(window.localStorage, arg);\r\n\t}, [fun, arg]).exec();\r\n\r\n}\r\n// localStorage \r\nvar localStorage =  typeof self.localStorage!=\"undefined\" ? window.localStorage : new webWorkerStorage();\r\n\r\nclass StorageModel {\r\n\tconstructor( table, model ){\r\n\t\tthis._table = table;\r\n\t\tthis._model = model;\r\n\r\n\t\t//  model key\r\n\t\tthis._keys = Object.keys( model );\r\n\r\n\t\tthis.setStorage();\r\n\t}\r\n\r\n\t// Storage\r\n\tsetStorage(){\r\n\t\tvar _storageTable = localStorage.getItem( this._table );\r\n\t\t_storageTable = _storageTable ? JSON.parse( _storageTable ) : {};\r\n\r\n\t\t// ,,\r\n\t\tif ( Object.keys( _storageTable ).toString() === this._keys.toString() ) return;\r\n\r\n\t\t//TODO   \r\n\t\t//else localStorage.removeItem( this._table );\r\n\t}\r\n\r\n\t//  ,  Array  null\r\n\tfind( opt ) {\r\n\t\tvar _storageTable = localStorage.getItem( this._table );\r\n\t\tvar result = [];\r\n\t\tif( !_storageTable ) return null;\r\n\t\t_storageTable = JSON.parse( _storageTable );\r\n\t\t//  (opt)\r\n\t\tif( !opt || opt.constructor.name !== 'Object' ){\r\n\t\t\tfor( var i = 0, j = _storageTable[this._keys[0]].length; i < j; i++ ){\r\n\t\t\t\tvar _result = {};\r\n\t\t\t\tthis._keys.forEach( val => _result[val] = _storageTable[val][i] );\r\n\t\t\t\tresult.push( _result );\r\n\t\t\t}\r\n\t\t}else \r\n\t\t\t// \r\n\t\t\tresult = this._check( opt, this.find() ).result;\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\t//  Object  null\r\n\tfindOne( opt ) {\r\n\t\tvar result = this.find( opt );\r\n\t\tif( result ) return result[0];\r\n\t\telse return result;\r\n\t}\r\n\r\n\t// , \r\n\tsave( value ) {\r\n\t\tvar _storageTable = localStorage.getItem( this._table );\r\n\t\t_storageTable = _storageTable ? JSON.parse( _storageTable ) : {};\r\n\r\n\t\t// model key\r\n\t\t// model valuenull\r\n\t\tthis._keys.forEach( val => {\r\n\t\t\t_storageTable[val] = _storageTable[val] || [];\r\n\t\t\t_storageTable[val].push( val in value ? value[val] : null );\r\n\t\t} );\r\n\r\n\t\tlocalStorage.setItem( this._table, JSON.stringify( _storageTable ) );\r\n\t}\r\n\r\n\t// \r\n\tupdate( opt, value ) {\r\n\t\tif( !opt || !value || opt.constructor.name !== 'Object' || value.constructor.name !== 'Object' )\r\n\t\t\tthrow new Error( '!' );\r\n\r\n\t\tvar result = this.find();\r\n\t\tif( !result ) return;\r\n\t\tvar checkResult = this._check( opt, result );\r\n\r\n\t\tcheckResult.index.forEach( val => {\r\n\t\t\tfor( var i in value ) \r\n\t\t\t\ti in result[val] && (result[val][i] = value[i]);\r\n\t\t} );\r\n\t\tlocalStorage.setItem( this._table, JSON.stringify( this._format(result) ) );\r\n\t}\r\n\r\n\t// , \r\n\tremove( opt ) {\r\n\t\tif( !opt || opt.constructor.name !== 'Object' ) \r\n\t\t\tlocalStorage.removeItem( this._table );\r\n\t\telse {\r\n\t\t\tvar result = this.find();\r\n\t\t\tif( !result ) return;\r\n\r\n\t\t\tlocalStorage.setItem( this._table, JSON.stringify( this._format( this._check( opt, result ).notResult ) ) );\r\n\t\t}\r\n\t}\r\n\r\n\t//  ,   index  \r\n\t_check( opt, arr ){\r\n\t\tvar result = [];\r\n\t\tvar $index = [];\r\n\t\tvar notResult = [];\r\n\t\tarr.forEach( (val, index) => {\r\n\t\t\tfor( var i in opt )\r\n\t\t\t\t//  >= <= != \r\n\t\t\t\tif( opt[i] && opt[i].constructor.name === 'Object' ){\r\n\t\t\t\t\t// TODO\r\n\t\t\t\t}else\r\n\t\t\t\t\tif( val[i] !== opt[i] ) {\r\n\t\t\t\t\t\tnotResult.push( val );\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t};\r\n\t\t\t$index.push( index );\t\t\r\n\t\t\tresult.push( val );\r\n\t\t} );\r\n\t\treturn {result: result,index: $index, notResult: notResult};\r\n\t}\r\n\r\n\t// \r\n\t_format( o ){\r\n\t\tvar result = {};\r\n\t\tfor( var i in this._keys ){\r\n\t\t\tvar _i = this._keys[i];\r\n\t\t\tresult[_i] = [];\r\n\t\t\to.forEach( v => result[_i].push(v[_i]) );\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n\r\nmodule.exports = StorageModel;","var Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\n\r\nfunction Tips(){\r\n\tNode.call(this);\r\n\t\r\n\tthis.setSizeMode('relative','absolute')\r\n\t \t .setAbsoluteSize(null,50)\r\n\t \t .setProportionalSize(.9)\r\n\t \t .setAlign(.5)\r\n\t \t .setMountPoint(.5)\r\n\t \t .el = new DOMElement(this,{\r\n\t \t \tclasses:['bubble_tips']\r\n\t \t })\r\n\r\n\tthis.showing = false;  \r\n}\r\n\r\n\r\nTips.prototype = Object.create(Node.prototype);\r\nTips.prototype.constructor = Tips;\r\n\r\nTips.prototype.open = function(errStr){\r\n\tvar _this = this;\r\n\r\n\tthis.el\r\n\t\t.setProperty('opacity','1')\r\n\t\t.setContent('<span>'+errStr+'</span>');\r\n\r\n\t\r\n\tif(this.showing){\r\n\t\treturn;\r\n\t}\t\r\n\r\n    this.show();\r\n\r\n\tthis.showing = true; \r\n\r\n    setTimeout(function(){\r\n\t\t_this.close();\r\n\t},1000);\r\n\t\r\n\r\n\treturn false;\r\n}\r\n\r\nTips.prototype.close = function(){\r\n\tthis.el.setProperty('opacity','0')\r\n\t\t   .setProperty('transition','all .3s ease-in'); \r\n    \r\n    setTimeout( function(){\r\n\t\tthis.hide();\r\n\t\tthis.showing = false; \r\n\t}.bind( this ),300 );\r\n}\r\n\r\nvar Tip = new Tips();\r\nmodule.exports = Tip;","/**\r\n * Created by UMZS on 2016/7/15.\r\n */\r\n\r\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar App = require('App');\r\n\r\n\r\nvar blankArr = {\r\n    'apply':{'img':'./images/blank/apply.png','height':'82.5','txt1':'','txt2':''},//\r\n    'find':{'img':'./images/blank/find.png','height':'143','txt1':'','txt2':''}, //\r\n    'mes':{'img':'./images/blank/mes.png','height':'135','txt1':'','txt2':''}, //\r\n    'notice':{'img':'./images/blank/notice.png','height':'82.5','txt1':'','txt2':''}, //\r\n    'order':{'img':'./images/blank/order.png','height':'103','txt1':'','txt2':''},//\r\n    'business':{'img':'./images/blank/apply.png','height':'82.5','txt1':'','txt2':''}//\r\n};\r\n\r\nclass blank extends Node{\r\n    constructor(type){\r\n        super();\r\n        var obj = null;\r\n        if(type === 'apply'){\r\n            obj = blankArr.apply;\r\n        }else if(type === 'find'){\r\n            obj = blankArr.find;\r\n        }else if(type === 'mes'){\r\n            obj = blankArr.mes;\r\n        }else if(type === 'notice'){\r\n            obj = blankArr.notice;\r\n        }else if(type === 'order'){\r\n            obj = blankArr.order;\r\n        }else if(type === 'business'){\r\n            obj = blankArr.business;\r\n        }\r\n        createBlank(this,obj);\r\n    }\r\n}\r\n\r\nfunction createBlank(node,obj){\r\n    var content = node.addChild();\r\n    content\r\n        .setSizeMode('relative','absolute')\r\n        .setAlign(.5,.3)\r\n        .setMountPoint(.5,.3)\r\n        .el = new DOMElement(content,{\r\n        classes:['blank_content'],\r\n        content:'<img src=\"'+obj.img+'\" height=\"'+obj.height+'\">'+\r\n        '<p>'+obj.txt1+'</p><p>'+obj.txt2+'</p>'\r\n    });\r\n}\r\n\r\nmodule.exports = blank;","/*\r\nnavigation\r\nauthorhei\r\n*/\r\n\r\nvar FamousEngine = require('famous/core/FamousEngine');\r\nvar DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Node = require('famous/core/Node');\r\n\r\n\r\nfunction button(buttonText,bgColor,cusClass){\r\n\tthis.cusClass = typeof cusClass!=\"undefined\"?[cusClass,\"fa-button\",\"text-center\"]:[\"fa-button\",\"text-center\"];\r\n\tNode.call(this);\r\n\tthis\r\n\t\t.addUIEvent('touchstart')\r\n\t\t.addUIEvent('touchend').addUIEvent(\"click\")\r\n\t\t.el = new DOMElement(this,{\r\n\t\t\tclasses:this.cusClass,\r\n\t\t\tcontent:\"<input type='button' value='\"+buttonText+\"' />\",\r\n\t\t\tproperties:{\"background-color\":bgColor}\r\n\t\t});\r\n\tthis.clickEvent=\"\";\r\n}\r\nbutton.prototype = Object.create(Node.prototype);\r\nbutton.prototype.constructor = button;\r\n\r\nbutton.prototype.onReceive = function(e,p){\r\n\tif(e==\"touchend\"){\r\n\t\tthis.el.removeClass(\"bt-active\");\r\n\t}\r\n\tif(e==\"touchstart\"){\r\n\t\tthis.el.addClass(\"bt-active\");\r\n\t}\r\n\tif(e==\"click\"){\r\n\t\tif(this.clickEvent){this.clickEvent(e,p);}\r\n\t}\r\n}\r\n\r\nmodule.exports = button;","module.exports={\r\n\t\"version\": 1,\r\n\t\"noticehttp\": \"http://api.qqn123.com/\",\r\n\t\"ajax_base\": \"http://zyjcapp.qqn123.com\", //\r\n\t\"webSocket\": \"ws://zyjcapp.qqn123.com/websocket\", //\r\n\t// \"ajax_base\": \"http://api.qqn123.com\",//\r\n\t// \"webSocket\":\"ws://120.27.119.40:9999/websocket\",//\r\n}","/*\r\nnavigationinput\r\n*/\r\nvar FamousEngine = require('famous/core/FamousEngine');\r\nvar DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Node = require('famous/core/Node');\r\n\r\nfunction inputCustom(){\r\n\tNode.call(this);\r\n\tthis\r\n\t\t.setSizeMode(0,1)\r\n\t\t.addUIEvent('input')\r\n\t\t.el = new DOMElement(this,{\r\n\t\t\tclasses:['input-custom'],\r\n\t\t\t// properties:{'border':'none','background':'none'},\r\n\t\t\ttagName:'input'\r\n\t\t});\r\n\tthis.inputEvent=\"\";\r\n}\r\ninputCustom.prototype = Object.create(Node.prototype);\r\ninputCustom.prototype.constructor = inputCustom;\r\ninputCustom.prototype.onReceive = function(e,p){\r\n\tif(e==\"input\"){\r\n\t\tif(this.inputEvent){this.inputEvent(e,p);}\r\n\t}\r\n};\r\n\r\nmodule.exports = inputCustom;","var StorageModel = require( 'StorageModel' );\r\n\r\nvar SignModel = new StorageModel( 'Sign', {\r\n\tid:Number,\r\n\ttel:Number,\r\n\ttoken:String,\r\n\tfirst:String,\r\n} );\r\n\r\nmodule.exports = SignModel;","var StorageModel = require( 'StorageModel' );\r\n\r\nvar VersionModel = new StorageModel( 'Version', {\r\n\tversion: String,\r\n\tpath: String,\r\n\tcancel:Boolean\r\n} );\r\n\r\nmodule.exports = VersionModel;","var StorageModel = require( 'StorageModel' );\r\n\r\nvar incrementModel = new StorageModel( 'incrementModel', {\r\n\tmessageId:Number\r\n} );\r\n\r\nmodule.exports = incrementModel;","var StorageModel = require( 'StorageModel' );\r\n\r\nvar messageModel = new StorageModel( 'messageModel', {\r\n\tid:Number,\r\n\timgSrc:String,\r\n\ttype:String,\r\n\tInfoTitle:String,\r\n\tInfoCtime:Date,\r\n\tInfoType:Number,\r\n\tisRead:Boolean,\r\n\tInfoDesc:String,\r\n\tInfoAuthor:String\r\n} );\r\n\r\nmodule.exports = messageModel;","var StorageModel = require( 'StorageModel' );\r\n\r\nvar myInfoModel = new StorageModel( 'myInfoModel', {\r\n\t\r\n\timgSrc:String\r\n\r\n});\r\n\r\nmodule.exports = myInfoModel;","/*\r\nnavigation\r\nauthorhei\r\n*/\r\n\r\nvar FamousEngine = require('famous/core/FamousEngine');\r\nvar DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Node = require('famous/core/Node');\r\nvar Button = require('button');\r\n\r\n//\r\nfunction navbar(title,fun){\r\n\tNode.call(this);\r\n\tthis.fun = fun;\r\n\tvar _this = this;\r\n\tthis\r\n\t\t.setAlign(0,0)\r\n\t\t.setSizeMode(0,1)\r\n\t\t.setAbsoluteSize(null,44)\r\n\t\t.el = new DOMElement(this,{\r\n\t\t\tclasses:[\"navbar\"],\r\n\t\t\tcontent:\"<p class='font-lg text-center'><a class='goback'></a><span>\"+ title +\"</span></p>\"\r\n\t\t});\r\n\tthis.backButton = this.addChild(new Button(\" \",\"\",\"navBackBtn\"));\r\n\tthis.backButton.setSizeMode('absolute','absolute')\r\n\t\t\t\t  .setAbsoluteSize(80,44)\r\n\t\t\t\t  .setPosition(0,0);\r\n\tthis.backButton.el = new DOMElement(this.backButton);\r\n\tthis.backButton.clickEvent = function(e,p){\r\n\t\t\tif(_this.fun){\r\n\t\t\t\t_this.fun();\r\n\t\t\t}\r\n\t\t\t_this.getParent().back();\r\n\t\t\t\r\n\t\t\tp.stopPropagation();\r\n\t};\r\n\t\r\n}\r\n\r\nnavbar.prototype = Object.create(Node.prototype);\r\nnavbar.prototype.constructor = navbar;\r\nnavbar.prototype.setTitle = function(title){\r\n\tthis.el.setContent(\"<p class='font-lg text-center'><a class='goback'></a><span>\"+ title +\"</span></p>\")\r\n\r\n};\r\nmodule.exports = navbar;"," module.exports = {\r\n\t\r\n\thome: require('../pages/home/index.js'),\r\n\tmessage1: require('../pages/home/message1.js'),\r\n\tapply_hall: require('../pages/conService/apply_hall.js'),//\r\n\tapply_yard: require('../pages/conService/apply_yard.js'),//\r\n\tapply_wl: require('../pages/conService/apply_wl.js'),//\r\n\tmyinfo: require('../pages/home/myinfo.js'),//\r\n\trecord_hall: require('../pages/record/record_hall.js'),//\r\n\trecord_yard: require('../pages/record/record_yard.js'),//\r\n\tlogin: require('../pages/sign/login'),//\r\n\tresetPwd: require('../pages/sign/resetPwd'),//\r\n\tconfirmPwd: require('../pages/sign/confirmPwd'),//\r\n\tnotice:require('../pages/messages/notice'),//\r\n\tnoticeDetail:require('../pages/messages/noticeDetail'),//\r\n\trepair:require('../pages/service/repair'),//\r\n\tservice:require('../pages/service/index'),//\r\n\tcard:require('../pages/service/card'),//\r\n\tlicence:require('../pages/service/licence'),//\r\n\tsetting:require('../pages/setting/index'),//\r\n\taboutUs:require('../pages/setting/about_us'),//\r\n\tcompanyIntro:require('../pages/setting/company_intro'),//\r\n\tshopChoose:require('../pages/apply/shopChoose'),//\r\n\tadApply:require('../pages/apply/adApply'),//\r\n\trepairRecord:require('../pages/record/repairRecord'),//\r\n\tadRecord:require('../pages/record/adRecord'),//\r\n\torderPage:require('../pages/orderPage/orderPage'),//\r\n\torderRecord:require('../pages/record/orderRecord'),//\r\n\tcode:require('../pages/home/code'),//\r\n\tbusinessRecord:require('../pages/record/businessRecord') ,//\r\n\tmerchantGrade:require('../pages/setting/merchantGrade')//\r\n\r\n};","var DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Node = require('famous/core/Node');\r\nvar button = require('button');\r\n\r\nfunction twoBtnNav(title,leftBtn,rightBtn){\r\n\tNode.call(this);\r\n\tthis\r\n\t\t.setSizeMode(0,1)\r\n\t\t.setAbsoluteSize(null,44)\r\n\t\t.el = new DOMElement(this,{\r\n\t\t\tclasses:[\"navbar\"],\r\n\t\t\tcontent:\"<p class='font-lg text-center'><span>\"+ title +\"</span></p>\"\r\n\t\t})\r\n\tthis.leftBtn = this.addChild(leftBtn);\r\n\tthis.leftBtn.setSizeMode(1,1).setAbsoluteSize(80,44).el = new DOMElement(this.leftBtn);\r\n\tthis.rightBtn = this.addChild(rightBtn);\r\n\tthis.rightBtn.setSizeMode(1,1).setAlign(1,0).setMountPoint(1,0).el = new DOMElement(this.rightBtn);\r\n}\r\n\r\ntwoBtnNav.prototype = Object.create(Node.prototype)\r\ntwoBtnNav.prototype.constructor = twoBtnNav;\r\n\r\nmodule.exports = twoBtnNav;;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('twoBtnNav');\r\nvar button = require('button');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar sign = require('model/SignModel');\r\nvar area = -1,building = -1,number = -1,type = -1; \r\n\r\nclass AdApply extends Page{\r\n\tconstructor(data){\r\n\t\tsuper({id:'AdApply'})\r\n\t\t// console.log(data);\r\n\t\tthis.shopId = data;\r\n\t\tvar userSign = sign.findOne();\r\n\t\tthis.userId = userSign.id;\r\n\t\tthis.token = userSign.token;\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitNav(this);\r\n\r\n\t\t//\r\n\t\tnew Ajax('/advert/domain')\r\n\t\t\t.data({\r\n\t\t\t\t'id':this.userId,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':this.token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\r\n\t\t\t\t\tthis.areaJson = d.data;\r\n\t\t\t\t}\r\n\t\t\t}.bind(this)).post();\r\n\r\n\t\t//\r\n\t\tnew Ajax('/advert_apply/apply_type')\r\n\t\t\t.data({\r\n\t\t\t\t'id':this.userId,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':this.token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\r\n\t\t\t\t\tthis.typeJson = d.data;\r\n\t\t\t\t}\r\n\t\t\t}.bind(this)).post();\t\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tif(!this._content){\r\n\t\t\tinitContent(this,this.areaJson,this.typeJson);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._content = null;\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction initNav(node){\r\n\tvar backButton = new button(\" \",\"\",\"goback2\");\r\n\tvar _this = node;\r\n\r\n\t//\r\n\t// backButton.setAbsoluteSize(44,44);\r\n\tbackButton.clickEvent = function(e,p){\r\n\t\tnode.back();\r\n\t\tp.stopPropagation();\r\n\t};\r\n\r\n\t//\r\n\tvar rightText = new button('','','right_text');\r\n\trightText.setAbsoluteSize(100,44);\r\n\trightText.clickEvent = function(){\r\n\t\t_this.to('adRecord');\r\n\t};\r\n\r\n\tnode.addChild(new navbar('',backButton,rightText));\r\n}\r\n\r\n\r\nfunction initContent(node,areaJson,typeJson){\r\n\tvar _this = node;\r\n\r\n\t_this.buildingJson = null;\r\n\r\n\t// var shopJson = [\r\n\t// \t{'adds':'A','value':'A'},\r\n\t// \t{'adds':'B','value':'B'},\r\n\t// \t{'adds':'C','value':'C'},\r\n\t// \t{'adds':'D','value':'D'},\r\n\t// \t{'adds':'E','value':'E'},\r\n\t// ]\r\n\r\n\tvar content = node.addChild();\r\n\tcontent.setSizeMode('relative','relative')\r\n\t\t   .setDifferentialSize(0,-44)\r\n\t\t   .setPosition(0,44)\r\n\t\t   .el = new DOMElement(content,{\r\n\t\t   \t\tclasses:['apply_con']\r\n\t\t   })\r\n\r\n\tnode._content = content;\t   \r\n\r\n\tvar form = content.addChild();\r\n\tvar form_item = `<ul>\r\n\t\t\t\t\t\t<li class=\"area\"></li>\r\n\t\t\t\t\t\t<li class=\"building\"></li>\r\n\t\t\t\t\t\t<li class=\"number\"></li>\r\n\t\t\t\t\t\t<li class=\"type\"></li>\r\n\t\t\t\t    </ul>`;\r\n\r\n\tform.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,240)\r\n\t\t.el = new DOMElement(form,{\r\n\t\t\tclasses:['repair_form'],\r\n\t\t\tcontent:form_item\r\n\r\n\t\t});\r\n\r\n\r\n\tvar areaSelect = form.addChild();\r\n\r\n\tareaSelect\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,60)\r\n\t\t.setDifferentialSize(-50)\r\n\t\t.setPosition(50,0)\r\n\t\t.el = new DOMElement(areaSelect,{\r\n\t\t\tclasses:['select_box'],\r\n\t\t\tcontent:function(){\r\n\t\t\t\tvar str = `<select><option value=\"-1\"></option>`;\r\n\t\t\t\tif(areaJson !== null){\r\n\t\t\t\t\tareaJson.forEach(v =>{\r\n\t\t\t\t\t\tstr += `<option value=\"${v.id}\">${v.name}</option>`\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn str + `</select>`;\r\n\t\t\t}()\r\n\t\t})\r\n\r\n\tareaSelect.addUIEvent('change')\r\n\tareaSelect.onReceive = function(e,p){\r\n\t\tif(e === 'change'){\r\n\t\t\tarea = p.value;\r\n\t\t\tnew Ajax('/advert/tree_data')\r\n\t\t\t\t.data({\r\n\t\t\t\t\t'aid':area,\r\n\t\t\t\t\t'id':_this.userId,\r\n\t\t\t\t\t'did':App.uuid,\r\n\t\t\t\t\t'tk':_this.token\r\n\t\t\t\t})\r\n\t\t\t\t.success(function(d){\r\n\t\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_this.buildingJson = d.data;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar str = `<select><option value=\"-1\"></option>`;\r\n\t\t\t\t\t\tvar str2 = `<select><option value=\"-1\"></option></select>`;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//null\r\n\t\t\t\t\t\tif(_this.buildingJson !==null){\r\n\t\t\t\t\t\t\t_this.buildingJson.forEach(v =>{\r\n\t\t\t\t\t\t\t\tstr += `<option value=\"${v.id}\">${v.oname}</option>`\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t_this.buildingSelect.el.setContent(str);\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t_this.numberSelect.el.setContent(str2);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}).post()\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t_this.buildingSelect = form.addChild();\r\n\r\n\t_this.buildingSelect\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,60)\r\n\t\t.setDifferentialSize(-50)\r\n\t\t.setPosition(50,60)\r\n\t\t.el = new DOMElement(_this.buildingSelect,{\r\n\t\t\tclasses:['select_box'],\r\n\t\t\tcontent:function(){\r\n\t\t\t\tvar str = `<select><option value=\"-1\"></option>`;\r\n\t\t\t\treturn str + `</select>`;\r\n\t\t\t}()\r\n\t\t})\r\n\r\n\t_this.buildingSelect.addUIEvent('change')\r\n\t_this.buildingSelect.onReceive = function(e,p){\r\n\t\tif(e === 'change'){\r\n\t\t\tbuilding = p.value;\r\n\r\n\t\t\tnew Ajax('/advert/tree_data')\r\n\t\t\t\t.data({\r\n\t\t\t\t\t'aid':building,\r\n\t\t\t\t\t'id':_this.userId,\r\n\t\t\t\t\t'did':App.uuid,\r\n\t\t\t\t\t'tk':_this.token\r\n\t\t\t\t})\r\n\t\t\t\t.success(function(d){\r\n\t\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\t\t_this.numberJson = d.data;\r\n\t\t\t\t\t\tvar str = `<select><option value=\"-1\"></option>`;\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tif(_this.numberJson !== null){\r\n\t\t\t\t\t\t\t_this.numberJson.forEach(v =>{\r\n\t\t\t\t\t\t\t\tstr += `<option value=\"${v.id}\">${v.oname}</option>`\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t_this.numberSelect.el.setContent(str);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).post()\r\n\t\t}\r\n\t}\r\n\r\n\t_this.numberSelect = form.addChild();\r\n\r\n\t_this.numberSelect\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,60)\r\n\t\t.setDifferentialSize(-50)\r\n\t\t.setPosition(50,120)\r\n\t\t.el = new DOMElement(_this.numberSelect,{\r\n\t\t\tclasses:['select_box'],\r\n\t\t\tcontent:function(){\r\n\t\t\t\tvar str = `<select><option value=\"-1\"></option>`;\r\n\t\t\t\treturn str + `</select>`;\r\n\t\t\t}()\r\n\t\t})\r\n\r\n\t_this.numberSelect.addUIEvent('change')\r\n\t_this.numberSelect.onReceive = function(e,p){\r\n\t\tif(e === 'change'){\r\n\t\t\tnumber = p.value;\r\n\t\t}\r\n\t}\r\n\r\n\tvar typeSelect = form.addChild();\r\n\r\n\ttypeSelect\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,60)\r\n\t\t.setDifferentialSize(-50)\r\n\t\t.setPosition(50,180)\r\n\t\t.el = new DOMElement(typeSelect,{\r\n\t\t\tclasses:['select_box'],\r\n\t\t\tcontent:function(){\r\n\t\t\t\tvar str = `<select><option value=\"-1\"></option>`;\r\n\t\t\t\tif(typeJson !== null){\r\n\t\t\t\t\ttypeJson.forEach(v =>{\r\n\t\t\t\t\t\tstr += `<option value=\"${v}\">${v}</option>`\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn str + `</select>`;\r\n\t\t\t}()\r\n\t\t})\r\n\r\n\ttypeSelect.addUIEvent('change')\r\n\ttypeSelect.onReceive = function(e,p){\r\n\t\tif(e === 'change'){\r\n\t\t\ttype = p.value;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tvar submit = new button('','#fe6a71','submit_btn')\r\n\tsubmit.setSizeMode('relative','absolute')\r\n\t\t  .setAbsoluteSize(null,40)\r\n\t\t  .setPosition(0,240+App.height*0.15)\r\n\t\t  .setProportionalSize(.85)\r\n\t\t  .setAlign(.5)\r\n\t\t  .setMountPoint(.5)\r\n\t\t  .clickEvent = function(e,p){\r\n\t\t  \tif(e === 'click'){\r\n\t\t  \t\tif(~area && ~building && ~number && ~type){\r\n\t\t  \t\t\tnew Ajax('/advert_apply/apply')\r\n\t\t  \t\t\t\t.data({\r\n\t\t  \t\t\t\t\t'sid':_this.shopId,\r\n\t\t  \t\t\t\t\t'aid':number,\r\n\t\t  \t\t\t\t\t'id':_this.userId,\r\n\t\t  \t\t\t\t\t'tid':type,\r\n\t\t  \t\t\t\t\t'did':App.uuid,\r\n\t\t  \t\t\t\t\t'tk':_this.token\r\n\t\t  \t\t\t\t})\r\n\t\t  \t\t\t\t.success(function(d){\r\n\t\t  \t\t\t\t\tif(d.status === 200){\r\n\t\t  \t\t\t\t\t\talert('',function(){\r\n\t\t\t\t\t  \t\t\t\t_this.back();\r\n\t\t\t\t\t  \t\t\t},'','');\r\n\t\t  \t\t\t\t\t}else{\r\n\t\t  \t\t\t\t\t\talert(d.msg,'','','')\r\n\t\t  \t\t\t\t\t}\r\n\t\t  \t\t\t\t}).post();\r\n\t\t  \t\t}else{\r\n\t\t  \t\t\talert('','','','');\r\n\t\t  \t\t}\r\n\t\t  \t\t\r\n\t\t  \t}\r\n\t\t  }\r\n\r\n\tcontent.addChild(submit);\r\n\r\n\tvar remind = content.addChild();\r\n\tremind\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,130)\r\n\t\t.setAlign(0,1)\r\n\t\t.setMountPoint(0,1)\r\n\t\t.el = new DOMElement(remind,{\r\n\t\t\tclasses:['remind'],\r\n\t\t\tcontent:`<h2><i></i></h2>\r\n\t\t\t\t\t <p><em></em></p>\r\n\t\t\t\t\t <p><em></em>3</p>`\r\n\t\t})\r\n\r\n}\r\n\r\nmodule.exports = AdApply;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('twoBtnNav');\r\nvar button = require('button');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar sign = require('model/SignModel');\r\n\r\nclass ShopChoose extends Page{\r\n\tconstructor(data){\r\n\t\tsuper({id:'ShopChoose'})\r\n\t\tthis.type = data; \r\n\t}\r\n\r\n\tonCreate(data){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.type = data;\r\n\r\n\t\tinitNav(this,this.type);\r\n\r\n\t\tvar userSign = sign.findOne();\r\n\r\n\t\tnew Ajax('/user_store/list_id').data({'id':userSign.id,'did':App.uuid,'tk':userSign.token})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tthis.shopList = d.data;\r\n\t\t\t}.bind(this)).post();\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tif(!this._con){\r\n\t\t\tinitContent(this,this.applyType,this.shopList);\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._con = null;\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\t\tif(e === 'click' && p.node.listId === 'shopSelect' && this.type === 1){\r\n\t\t\tthis.to('adApply',{data:p.node.shopId}); //\r\n\t\t}\r\n\t\tif(e === 'click' && p.node.listId === 'shopSelect' && this.type === 2){\r\n\t\t\tthis.to('apply_yard'); //\r\n\t\t}\r\n\t\tif(e === 'click' && p.node.listId === 'shopSelect' && this.type === 3){\r\n\t\t\tthis.to('apply_hall'); //\r\n\t\t}\r\n\r\n\t\tp.stopPropagation();\r\n\t}\r\n\r\n}\r\n\r\nfunction initNav(node,type){\r\n\tvar backButton = new button(\" \",\"\",\"goback2\");\r\n\tvar _this = node;\r\n\tvar src = '';\r\n\r\n\tnode.applyType = '';\r\n\r\n\t// backButton.setAbsoluteSize(44,44);\r\n\tbackButton.clickEvent = function(e,p){\r\n\t\tnode.back();\r\n\t\tp.stopPropagation();\r\n\t};\r\n\r\n\tvar rightText = new button('','','right_text');\r\n\trightText.setAbsoluteSize(100,44);\r\n\trightText.clickEvent = function(e,p){\r\n\t\t//\r\n\t\tswitch (type) {\r\n\t\t\tcase 1:\r\n\t\t\t\t_this.to('adRecord');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\t_this.to('record_yard');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\t_this.to('record_hall');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tp.stopPropagation();\r\n\t};\r\n\r\n\t//header\r\n\tnode.addChild(new Nav('',backButton,rightText));\r\n\tswitch (type) {\r\n\t\tcase 1:\r\n\t\t\tsrc = `./images/apply/shop_apply_${type}.jpg`;\r\n\t\t\tnode.applyType = '';\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tsrc = `./images/apply/shop_apply_${type}.png`;\r\n\t\t\tnode.applyType = '';\r\n\t\t\tbreak;\r\n\t\tcase 3:\r\n\t\t\tsrc = `./images/apply/shop_apply_${type}.png`;\r\n\t\t\tnode.applyType = '';\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tvar shopBg = node.addChild();\r\n\tshopBg\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,App.width*23/75)\r\n\t\t.setPosition(0,44)\r\n\t\t.el = new DOMElement(shopBg,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':src\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nfunction initContent(node,type,data){\r\n\tvar con = node.addChild();\r\n\tcon\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setDifferentialSize(0,-( 44+ App.width*23/75))\r\n\t\t.setPosition(0,(44+ App.width*23/75))\r\n\r\n\tnode._con = con;\r\n\r\n\t//\r\n\tvar HD = con.addChild();\r\n\r\n\tHD\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,15)\r\n\t\t.setPosition(0,15)\r\n\t\t.el = new DOMElement(HD,{\r\n\t\t\tclasses:['HD'],\r\n\t\t\tcontent:`<span></span>${type}`\r\n\t\t}).setProperty('lineHeight','15px');\r\n\r\n\r\n\tvar shopItemBox = con.addChild();\r\n\tshopItemBox\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setDifferentialSize(0,-(40+25))\r\n\t\t.setPosition(0,40)\r\n\t\t.el = new DOMElement(shopItemBox,{\r\n\t\t\tclasses:['overflow_scoll']\r\n\t\t})\r\n\r\n\tvar shopjson = data;\r\n\r\n\tif(shopjson === null){\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// \r\n\tfor(var i = 0 ; i < shopjson.length;i++){\r\n\t\tvar shopItem = shopItemBox.addChild();\r\n\t\t// var align = i % 2 ? 1 : 0;\r\n\r\n\t\tshopItem\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,60)\r\n\t\t\t.setProportionalSize(1/2)\r\n\t\t\t.setDifferentialSize(-14)\r\n\t\t\t.setAlign(i%2/2)\r\n\t\t\t// .setAlign(align)\r\n\t\t\t// .setMountPoint(align)\r\n\t\t\t// .setPosition(align ? -14 : 14,Math.floor(i/2)*61)\r\n\t\t\t.setPosition(i%2?0:14,Math.floor(i/2)*60)\r\n\t\t\t.el = new DOMElement(shopItem,{\r\n\t\t\t\tclasses:['shop_item'],\r\n\t\t\t\tcontent:shopjson[i].name\r\n\t\t\t})\r\n\r\n\t\t// align ? shopItem.el.setProperty('borderRight','1px solid #e0e0e0') : shopItem.el.setProperty('borderLeft','1px solid #e0e0e0');\r\n\r\n\t\t//\r\n\t\tshopItem.addUIEvent('click');\r\n\t\tshopItem.listId = 'shopSelect';\r\n\t\tshopItem.shopId = shopjson[i].id;\r\n\t}\t\r\n\r\n}\r\n\r\nmodule.exports = ShopChoose;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('twoBtnNav');\r\nvar button = require('button');\r\nvar Tips = require('Tips');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar signModel = require('model/signModel');\r\n\r\nclass apply_hall extends Page {\r\n\r\n\tconstructor() {\r\n\t\tsuper({\r\n\t\t\tid: 'apply'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(opt) {\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.opt = opt;\r\n\r\n\t\tinitNav(this);\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setSizeMode('relative', 'relative')\r\n\t\t\t.setDifferentialSize(0, -45)\r\n\t\t\t.setPosition(0, 45);\r\n\r\n\t\tnew DOMElement(this.content, {\r\n\t\t\tclasses: ['overflow_auto']\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tonResume() {\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t\tif (!this.content.inode2) {\r\n\r\n\t\t\tinitPage(this.content);\r\n\r\n\t\t\tinitData(this.content);\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t}\r\n\r\n\tonDestroy() {\r\n\r\n\t\tvar obj = this.getChildren(),\r\n\t\t\ti = obj.length;\r\n\r\n\t\twhile (i--) {\r\n\t\t\tthis.removeChild(obj[i]);\r\n\t\t}\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n\tonReceive(e, p) {\r\n\r\n\t\t//\r\n\t\tif (e === 'change' && p.node.liId === 'area') {\r\n\r\n\t\t\tinitNumber(this.content, p.value);\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\t// //\r\n\t\t// if (e === 'click' && p.node.liId === 'getTime') {\r\n\r\n\t\t// \tp.node.el.addClass('l_getTime');\r\n\r\n\t\t// \tp.stopPropagation();\r\n\r\n\t\t// }\r\n\r\n\t\t// //\r\n\t\t// if (e === 'change' && p.node.liId === 'getTime') {\r\n\r\n\t\t// \tthis.getTime = p.value;\r\n\r\n\t\t// \t//\r\n\t\t// \tthis.timestamp = Date.parse(new Date(this.getTime)) / 1000;\r\n\r\n\t\t// \tp.stopPropagation();\r\n\r\n\t\t// }\r\n\r\n\t\t//\r\n\t\tif (e === 'input' && p.node.liId === 'productText') {\r\n\r\n\t\t\tthis.productText = p.value;\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tif (e === 'change' && p.node.liId === 'cycle') {\r\n\r\n\t\t\tthis.cycle = p.value;\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tif (e === 'change' && p.node.liId === 'number') {\r\n\r\n\t\t\tthis.hid = p.value;\r\n\r\n\t\t\tinitHallInfo(this.content, p.value);\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tif (e === 'click' && p.node.liId === 'submit') {\r\n\r\n\t\t\tif (this.hid && this.cycle && this.productText) {\r\n\r\n\t\t\t\tnew Ajax('/hall_apply/apply').data({\r\n\t\t\t\t\t'sid': this.opt,\r\n\t\t\t\t\t'hid': this.hid,\r\n\t\t\t\t\t'id': signModel.findOne().id,\r\n\t\t\t\t\t'cid': this.cycle,\r\n\t\t\t\t\t'product': this.productText,\r\n\t\t\t\t\t'did': App.uuid,\r\n\t\t\t\t\t'tk': signModel.findOne().token\r\n\t\t\t\t}).success(function(res) {\r\n\r\n\t\t\t\t\tthis.hid = '';\r\n\t\t\t\t\tthis.cycle = '';\r\n\t\t\t\t\tthis.productText = '';\r\n\r\n\t\t\t\t\tif (res.status == 200) {\r\n\r\n\t\t\t\t\t\talert('', null, '', '');\r\n\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t\t\t// this.content.inode4.el.removeClass('l_getTime');\r\n\r\n\t\t\t\t\t\t\tthis.back();\r\n\r\n\t\t\t\t\t\t}.bind(this), 1000);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\talert(res.msg, null, '', '');\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t}.bind(this)).post();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\talert('', null, '', '');\r\n\r\n\t\t\t}\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n}\r\n\r\nfunction initHallInfo(nodeAll, value) {\r\n\r\n\t//\r\n\tnew Ajax('/hall/detail').data({\r\n\t\t'hid': value,\r\n\t\t'id': signModel.findOne().id,\r\n\t\t'did': App.uuid,\r\n\t\t'tk': signModel.findOne().token\r\n\t}).success(function(res) {\r\n\r\n\t\tvar list = res.data;\r\n\t\tnodeAll.info.el.setContent(`<div class=\"pad24\"><table border=\"1\">\r\n\t\t<tr>\r\n\t\t\t<td colspan=\"2\" style=\"height:38px\"></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td> /   <em>${list.area}</em></td>\r\n\t\t\t<td> /   <em>${list.oarea}</em></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td colspan=\"2\" style=\"padding: 0;height: 40px;\"><a href=\"javascript:;\"></a></td>\r\n\t\t</tr>\r\n\t  </table>\r\n\t  </div>\r\n\t\t<dl>\r\n\t\t\t<dt><i></i></dt>\r\n\t\t\t<dd>\r\n\t\t\t\t<p></p>\r\n\t\t\t\t<p>3</p>\r\n\t\t\t</dd>\r\n\t\t</dl>\r\n\t\t`)\r\n\r\n\t}).post();\r\n\r\n}\r\n\r\nfunction initNumber(nodeAll, value) {\r\n\r\n\t//\r\n\tnew Ajax('/hall/tree_data').data({\r\n\t\t'hid': value,\r\n\t\t'id': signModel.findOne().id,\r\n\t\t'did': App.uuid,\r\n\t\t'tk': signModel.findOne().token\r\n\t}).success(function(res) {\r\n\r\n\t\tvar list = res.data;\r\n\t\tvar len = res.data.length;\r\n\t\tvar str = '';\r\n\t\tstr += `<select><option value=\"-1\"></option>`\r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\r\n\t\t\tstr += `<option value=\"${list[i].id}\">${list[i].name}</option>`\r\n\r\n\t\t}\r\n\r\n\t\tstr += `</select>`;\r\n\r\n\t\tnodeAll.inode2.el.setContent(`<img src=\"images/conService/con2.png\"/>\r\n\t\t\t\t\t\t \t\t\t${str}\r\n\t\t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`);\r\n\r\n\t\tnodeAll.inode2.liId = 'number';\r\n\t\tnodeAll.inode2.addUIEvent('change');\r\n\r\n\t}).post();\r\n\r\n}\r\n\r\nfunction initNav(node) {\r\n\tvar backButton = new button(\" \", \"\", \"goback2\");\r\n\tvar _this = node;\r\n\r\n\t// backButton.setAbsoluteSize(44,44);\r\n\tbackButton.clickEvent = function() {\r\n\t\tnode.back();\r\n\t};\r\n\r\n\tvar rightText = new button('', '', 'right_text');\r\n\trightText.setAbsoluteSize(100, 44);\r\n\trightText.clickEvent = function() {\r\n\t\t_this.hid = '';\r\n\t\t_this.cycle = '';\r\n\t\t_this.timestamp = '';\r\n\t\t_this.to('record_hall');\r\n\t};\r\n\r\n\tnode.addChild(new navbar('', backButton, rightText));\r\n}\r\n\r\nfunction initPage(nodeAll) {\r\n\r\n\t//\r\n\tvar inode = nodeAll.addChild();\r\n\tvar str = '';\r\n\tstr += `<select><option value=\"-1\"></option>`\r\n\r\n\tstr += `</select>`;\r\n\r\n\tinode.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 60)\r\n\t\t.setPosition(0, 0 * 60)\r\n\r\n\tinode.el = new DOMElement(inode, {\r\n\t\tclasses: ['apply_list'],\r\n\t\tcontent: `<img src=\"images/conService/con1.png\"/>\r\n\t\t\t\t\t\t \t\t\t${str}\r\n\t\t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`\r\n\t});\r\n\r\n\tinode.liId = 'area';\r\n\tinode.addUIEvent('change');\r\n\r\n\t//\r\n\tnodeAll.inode2 = nodeAll.addChild();\r\n\tvar str = '';\r\n\tstr += `<select><option value=\"-1\"></option>`\r\n\r\n\tstr += `</select>`;\r\n\r\n\tnodeAll.inode2.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 60)\r\n\t\t.setPosition(0, 1 * 60)\r\n\r\n\tnodeAll.inode2.el = new DOMElement(nodeAll.inode2, {\r\n\t\tclasses: ['apply_list'],\r\n\t\tcontent: `<img src=\"images/conService/con2.png\"/>\r\n\t\t\t\t\t\t \t\t\t${str}\r\n\t\t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`\r\n\t});\r\n\r\n\tnodeAll.inode2.liId = 'number';\r\n\tnodeAll.inode2.addUIEvent('change');\r\n\r\n\t//\r\n\tnodeAll.inode3 = nodeAll.addChild();\r\n\tvar str = '';\r\n\tstr += `<select><option value=\"-1\"></option>`\r\n\r\n\tstr += `</select>`;\r\n\r\n\tnodeAll.inode3.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 60)\r\n\t\t.setPosition(0, 2 * 60)\r\n\r\n\tnodeAll.inode3.el = new DOMElement(nodeAll.inode3, {\r\n\t\tclasses: ['apply_list'],\r\n\t\tcontent: `<img src=\"images/conService/con3.png\"/>\r\n\t\t\t\t\t\t \t\t\t${str}\r\n\t\t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`\r\n\t});\r\n\r\n\tnodeAll.inode3.liId = 'cycle';\r\n\tnodeAll.inode3.addUIEvent('change');\r\n\r\n\r\n\t//\r\n\t// nodeAll.inode4 = nodeAll.addChild();\r\n\t// var str = '';\r\n\t// str = `<p></p><input type=\"datetime-local\"/>`;\r\n\r\n\t// nodeAll.inode4.setSizeMode('relative', 'absolute')\r\n\t// \t.setAbsoluteSize(null, 60)\r\n\t// \t.setPosition(0, 3 * 60)\r\n\r\n\t// nodeAll.inode4.el = new DOMElement(nodeAll.inode4, {\r\n\t// \tclasses: ['apply_list'],\r\n\t// \tcontent: `<img src=\"images/conService/con4.png\"/>\r\n\t// \t\t\t\t\t \t\t\t${str}\r\n\t// \t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`\r\n\t// });\r\n\r\n\t// nodeAll.inode4.liId = 'getTime';\r\n\t// nodeAll.inode4.addUIEvent('click');\r\n\t// nodeAll.inode4.addUIEvent('change');\r\n\r\n\t//\r\n\tvar inode2 = nodeAll.addChild(),\r\n\t\tstr2 = `<input type=\"text\" placeholder=\"\" style=\"opacity:1\"/>`;\r\n\r\n\tinode2.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 60)\r\n\t\t.setPosition(0, 3 * 60)\r\n\r\n\tinode2.el = new DOMElement(inode2, {\r\n\t\tclasses: ['apply_list'],\r\n\t\tcontent: `<img src=\"images/conService/con6.png\"/>\r\n\t\t\t\t\t\t\t\t \t\t\t${str2}`\r\n\t});\r\n\r\n\tinode2.liId = 'productText';\r\n\tinode2.addUIEvent('input');\r\n\r\n\t//\r\n\tnew Ajax('/hall/tree_data').data({\r\n\t\t'hid': 1,\r\n\t\t'id': signModel.findOne().id,\r\n\t\t'did': App.uuid,\r\n\t\t'tk': signModel.findOne().token\r\n\t}).success(function(res) {\r\n\r\n\t\tvar list = res.data;\r\n\t\tvar len = res.data.length;\r\n\t\tvar str = '';\r\n\t\tstr += `<select><option value=\"-1\"></option>`\r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\r\n\t\t\tstr += `<option value=\"${list[i].id}\">${list[i].name}</option>`\r\n\r\n\t\t}\r\n\r\n\t\tstr += `</select>`;\r\n\r\n\t\tinode.el.setContent(`<img src=\"images/conService/con1.png\"/>\r\n\t\t\t\t\t\t\t \t\t\t${str}\r\n\t\t\t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`);\r\n\r\n\t}).post();\r\n\r\n\t//\r\n\tnew Ajax('/hall_apply/hall_cycle').data({\r\n\t\t'id': signModel.findOne().id,\r\n\t\t'did': App.uuid,\r\n\t\t'tk': signModel.findOne().token\r\n\t}).success(function(res) {\r\n\r\n\t\tvar list = res.data;\r\n\t\tvar len = res.data.length;\r\n\t\tvar str = '';\r\n\t\tstr += `<select><option value=\"-1\"></option>`\r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\r\n\t\t\tstr += `<option value=\"${i}\">${list[i]}</option>`\r\n\r\n\t\t}\r\n\r\n\t\tstr += `</select>`;\r\n\r\n\t\tnodeAll.inode3.el.setContent(`<img src=\"images/conService/con3.png\"/>\r\n\t\t\t\t\t\t \t\t\t${str}\r\n\t\t\t\t\t\t\t  \t<a href=\"javascript:;\"></a>`);\r\n\t}).post()\r\n\r\n}\r\n\r\nfunction initData(nodeAll) {\r\n\tnodeAll.info = nodeAll.addChild();\r\n\tnodeAll.info.setPosition(0, 240)\r\n\t\t.setDifferentialSize(0, -240)\r\n\r\n\tnodeAll.info.el = new DOMElement(nodeAll.info, {\r\n\t\tclasses: ['apply_info'],\r\n\t\tcontent: `<div class=\"pad24\"><table border=\"1\">\r\n\t\t<tr>\r\n\t\t\t<td colspan=\"2\" style=\"height:38px\"></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td> /   <em>0</em></td>\r\n\t\t\t<td> /   <em>0</em></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td colspan=\"2\" style=\"padding: 0;height: 40px;\"><a href=\"javascript:;\"></a></td>\r\n\t\t</tr>\r\n\t  </table>\r\n\t  </div>\r\n\t\t<dl>\r\n\t\t\t<dt><i></i></dt>\r\n\t\t\t<dd>\r\n\t\t\t\t<p></p>\r\n\t\t\t\t<p>3</p>\r\n\t\t\t</dd>\r\n\t\t</dl>\r\n\t\t`\r\n\t});\r\n\r\n\tnodeAll.submit = nodeAll.info.addChild();\r\n\tnodeAll.submit.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 40)\r\n\t\t.setPosition(24, 150)\r\n\t\t.setDifferentialSize(-48, 0);\r\n\r\n\tnodeAll.submit.el = new DOMElement(nodeAll.submit);\r\n\tnodeAll.submit.el.setProperty('background', 'none');\r\n\r\n\tnodeAll.submit.liId = 'submit';\r\n\tnodeAll.submit.addUIEvent('click');\r\n\r\n}\r\n\r\n\r\nmodule.exports = apply_hall;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar CrossCall = require('famous/core/CrossCall');\r\nvar navbar = require('navbar');\r\nvar Ajax = require('Ajax');\r\nvar signModel = require('model/signModel');\r\nvar App = require('App');\r\n\r\nclass apply_wl extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'apply'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(){\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.addChild(new navbar(''));\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setSizeMode('relative','relative')\r\n\t\t\t\t\t\t\t\t.setDifferentialSize(0,-45)\r\n\t\t\t\t\t\t\t\t.setPosition(0,45);\r\n\r\n\t\tnew DOMElement(this.content,{\r\n\t\t\tclasses:['overflow_auto','bgh']\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t\tinitPage(this.content);\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\tif(e === `click` && p.node.liId === `phone_wl`){\r\n\r\n\t\t\tvar phoneNumber = p.node.phoneNumber;\r\n\t\t\t\t\tthis.phoneId = p.node.phoneId;\r\n\r\n\t\t\tconfirm(`${phoneNumber}`,function(res){\r\n\r\n\t\t\t\tvar phoneId = this.phoneId;\r\n\r\n\t\t\t\tif(res == 1){\r\n\t\t\t\t\t\r\n\t\t\t\t\tnew CrossCall(function(phoneId){\r\n\t\t\t\t\t\tconsole.log(phoneId);\r\n\t\t\t\t\t\tdocument.getElementById(phoneId).click();\r\n\r\n\t\t\t\t\t},[phoneId]).exec();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this),``,[``,``]);\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\tnew Ajax('/transport/lists').data({\r\n\t\t'id':signModel.findOne().id,\r\n\t\t'did':App.uuid,\r\n\t\t'tk':signModel.findOne().token\r\n\t}).success(function(res){\r\n\r\n\t\tvar list = res.data;\r\n\t\tvar len = list.length;\r\n\t\tfor(var i = 0; i < len; i++){\r\n\r\n\t\t\tvar str = '';\r\n\t\t\t// var phoneArray = list[i].phone.split('~');\r\n\t\t\t// var len2 = phoneArray.length;\r\n\t\t\t// for(var j = 0; j < len2; j++){\r\n\t\t\t\tstr += `<a href=\"javascript:;\">${list[i].phone}</a>`\r\n\t\t\t// }\r\n\r\n\t\t\tvar inode = nodeAll.addChild();\r\n\t\t\t\t\tinode.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t .setAbsoluteSize(null,170)\r\n\t\t\t\t\t\t\t .setPosition( 0, i * (170 + 8 ));\r\n\r\n\t\t\t\t\tinode.el = new DOMElement(inode,{\r\n\t\t\t\t\t\tclasses:['list_wl'],\r\n\t\t\t\t\t\tcontent:`<dl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<dt>${list[i].name}</dt>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<dd>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"p1\"><i></i>${list[i].address}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"p2\"><i></i>${list[i].range}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t\t\t\t\t\t</dl>\r\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"ul_phone\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t${str}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tinode.phoneNumber = list[i].phone;\r\n\t\t\t\t\tinode.liId = 'phone_wl';\r\n\t\t\t\t\tinode.phoneId = `playPhone${i}`;\r\n\t\t\t\t\tinode.addUIEvent('click');\r\n\r\n\t\t\t//\r\n\t\t\tvar playPhone = nodeAll.addChild();\r\n\t\t\tplayPhone.setAlign(-2,0);\r\n\t\t\tplayPhone.el = new DOMElement(playPhone,{\r\n\t\t\t\tcontent:`<a href=\"tel:${list[i].phone}\" id=\"playPhone${i}\"></a>`\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\r\n\t}).post();\r\n\r\n\r\n}\r\n\r\n\r\n\r\nmodule.exports = apply_wl;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('twoBtnNav');\r\nvar button = require('button');\r\nvar Tips = require('Tips');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar signModel = require('model/signModel');\r\n\r\nclass apply_yard extends Page {\r\n\r\n\tconstructor() {\r\n\t\tsuper({\r\n\t\t\tid: 'apply'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(opt) {\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.opt = opt;\r\n\r\n\t\tinitNav(this);\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setSizeMode('relative', 'relative')\r\n\t\t\t.setDifferentialSize(0, -45)\r\n\t\t\t.setPosition(0, 45);\r\n\r\n\t\tnew DOMElement(this.content, {\r\n\t\t\tclasses: ['overflow_auto']\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonResume() {\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t\tif (!this.number) {\r\n\r\n\t\t\t// initTime(this.content);\r\n\r\n\t\t\tinitPage(this.content);\r\n\r\n\t\t\tinitData(this.content);\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t}\r\n\r\n\tonDestroy() {\r\n\r\n\t\tvar _this = this,\r\n\t\t\tobj = this.getChildren(),\r\n\t\t\ti = obj.length;\r\n\r\n\t\twhile (i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n\tonReceive(e, p) {\r\n\r\n\t\t// if(e === 'input' && p.node.liId === 'time1'){\r\n\r\n\t\t// \tthis.time1 = Date.parse(p.value) / 1000;\r\n\r\n\t\t// \tp.node.el.addClass('opa1');\r\n\r\n\t\t// \tp.stopPropagation();\r\n\t\t// }\r\n\r\n\t\t// if(e === 'input' && p.node.liId === 'time2'){\r\n\r\n\t\t// \tthis.time2 = Date.parse(p.value) / 1000;\r\n\r\n\t\t// \tp.node.el.addClass('opa1');\r\n\r\n\t\t// \tp.stopPropagation();\r\n\t\t// }\r\n\r\n\t\tif (e === 'input' && p.node.liId === 'productText') {\r\n\r\n\t\t\tthis.productText = p.value;\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\tif (e === 'change' && p.node.liId === 'area') {\r\n\r\n\t\t\tthis.area = p.value;\r\n\r\n\t\t}\r\n\r\n\t\tif (e === 'change' && p.node.liId === 'number') {\r\n\r\n\t\t\tthis.number = p.value;\r\n\r\n\t\t\t//\r\n\t\t\tnew Ajax('/yard/detail').data({\r\n\t\t\t\t'yid': this.number,\r\n\t\t\t\t'id': signModel.findOne().id,\r\n\t\t\t\t'did': App.uuid,\r\n\t\t\t\t'tk': signModel.findOne().token\r\n\t\t\t}).success(function(res) {\r\n\t\t\t\tvar list = res.data;\r\n\t\t\t\tthis.content.info.el.setContent(`<div class=\"pad24\"><table border=\"1\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style=\"padding:0 50px\"> / <em>${list.area}</em></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td colspan=\"2\" style=\"padding: 0;height: 40px;\"><a href=\"javascript:;\"></a></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t  </table>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t<dl>\r\n\t\t\t\t\t\t\t<dt><i></i></dt>\r\n\t\t\t\t\t\t\t<dd>\r\n\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t\t<p>3</p>\r\n\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t</dl>\r\n\t\t\t\t\t\t`)\r\n\t\t\t}.bind(this)).post();\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\tif (e === 'click' && p.node.liId === 'submit') {\r\n\r\n\t\t\tif (this.number && this.productText) {\r\n\r\n\t\t\t\tnew Ajax('/yard_apply/apply').data({\r\n\t\t\t\t\t'sid': this.opt,\r\n\t\t\t\t\t'yid': this.number,\r\n\t\t\t\t\t'id': signModel.findOne().id,\r\n\t\t\t\t\t// 'cdate':this.time1,\r\n\t\t\t\t\t// 'edate':this.time2,\r\n\t\t\t\t\t'product': this.productText,\r\n\t\t\t\t\t'did': App.uuid,\r\n\t\t\t\t\t'tk': signModel.findOne().token\r\n\t\t\t\t}).success(function(res) {\r\n\r\n\t\t\t\t\tconsole.log(res);\r\n\r\n\t\t\t\t\tthis.number = '';\r\n\t\t\t\t\tthis.area = '';\r\n\t\t\t\t\t// this.time1 = '';\r\n\t\t\t\t\t// this.time2 = '';\r\n\t\t\t\t\tthis.productText = '';\r\n\r\n\t\t\t\t\tif (res.status == 200) {\r\n\r\n\t\t\t\t\t\talert('', null, '', '');\r\n\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t\t\t// this.content.time1.el.removeClass('opa1');\r\n\t\t\t\t\t\t\t// this.content.time2.el.removeClass('opa1');\r\n\r\n\t\t\t\t\t\t\tthis.back();\r\n\r\n\t\t\t\t\t\t}.bind(this), 1000);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\talert(res.msg, null, '', '');\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t}.bind(this)).post();\r\n\r\n\t\t\t} else {\r\n\t\t\t\talert('', null, '', '');\r\n\t\t\t}\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n}\r\n\r\nfunction initNav(node) {\r\n\tvar backButton = new button(\" \", \"\", \"goback2\");\r\n\tvar _this = node;\r\n\r\n\t// backButton.setAbsoluteSize(44,44);\r\n\tbackButton.clickEvent = function() {\r\n\t\tnode.back();\r\n\t};\r\n\r\n\tvar rightText = new button('', '', 'right_text');\r\n\trightText.setAbsoluteSize(100, 44);\r\n\trightText.clickEvent = function() {\r\n\r\n\t\t_this.to('record_yard');\r\n\t};\r\n\r\n\tnode.addChild(new navbar('', backButton, rightText));\r\n}\r\n\r\nfunction initTime(nodeAll) {\r\n\r\n\tnodeAll.time = nodeAll.addChild();\r\n\tnodeAll.time.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 90);\r\n\r\n\tnodeAll.time.el = new DOMElement(nodeAll.time, {\r\n\t\tclasses: ['timebg'],\r\n\t\tcontent: `<div class=\"timebg_left\"></div><i></i><div class=\"timebg_right\"></div>`\r\n\t});\r\n\r\n\t//\r\n\tnodeAll.time1 = nodeAll.time.addChild();\r\n\tnodeAll.time1.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 53)\r\n\t\t.setProportionalSize(0.4)\r\n\t\t.setDifferentialSize(-24, 0)\r\n\t\t.setPosition(24, 20)\r\n\tnodeAll.time1.el = new DOMElement(nodeAll.time1, {\r\n\t\tclasses: ['time1'],\r\n\t\tcontent: `<input type=\"date\"/>`\r\n\t});\r\n\tnodeAll.time1.liId = 'time1';\r\n\tnodeAll.time1.addUIEvent('input');\r\n\r\n\t//\r\n\tnodeAll.time2 = nodeAll.time.addChild();\r\n\tnodeAll.time2.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 53)\r\n\t\t.setProportionalSize(0.4)\r\n\t\t.setDifferentialSize(-24, 0)\r\n\t\t.setAlign(1, 0)\r\n\t\t.setMountPoint(1, 0)\r\n\t\t.setPosition(-24, 20)\r\n\tnodeAll.time2.el = new DOMElement(nodeAll.time2, {\r\n\t\tclasses: ['time1'],\r\n\t\tcontent: `<input type=\"date\"/>`\r\n\t});\r\n\r\n\tnodeAll.time2.liId = 'time2';\r\n\tnodeAll.time2.addUIEvent('input');\r\n\r\n}\r\n\r\nfunction initPage(nodeAll) {\r\n\r\n\tnew Ajax('/yard/tree_data').data({\r\n\t\t'yid': 1,\r\n\t\t'id': signModel.findOne().id,\r\n\t\t'did': App.uuid,\r\n\t\t'tk': signModel.findOne().token\r\n\t}).success(function(res) {\r\n\r\n\t\t//\r\n\t\tnew Ajax('/yard/domain').data({\r\n\t\t\t'id': signModel.findOne().id,\r\n\t\t\t'did': App.uuid,\r\n\t\t\t'tk': signModel.findOne().token\r\n\t\t}).success(function(res2) {\r\n\r\n\t\t\tvar list2 = res2.data,\r\n\t\t\t\tlen2 = list2.length;\r\n\r\n\t\t\tvar area = nodeAll.addChild();\r\n\t\t\tarea.setSizeMode('relative', 'absolute')\r\n\t\t\t\t.setAbsoluteSize(null, 60);\r\n\r\n\t\t\tvar str2 = '';\r\n\t\t\tstr2 += `<select><option value=\"-1\"></option>`\r\n\t\t\tfor (var j = 0; j < len2; j++) {\r\n\r\n\t\t\t\tstr2 += `<option value=\"${list2[j].id}\">${list2[j].name}</option>`\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstr2 += `</select><a href=\"javascript:;\"></a>`\r\n\r\n\t\t\tarea.el = new DOMElement(area, {\r\n\t\t\t\tclasses: ['apply_list'],\r\n\t\t\t\tcontent: `<img src=\"images/apply/area_ico.png\"/>\r\n\t\t\t\t\t\t\t\t \t\t\t${str2}`\r\n\t\t\t});\r\n\r\n\t\t\tarea.liId = 'area';\r\n\t\t\tarea.addUIEvent('change');\r\n\r\n\t\t}).post();\r\n\r\n\r\n\r\n\t\t//\r\n\t\tvar list = res.data;\r\n\t\tvar len = list.length;\r\n\t\tvar inode = nodeAll.addChild();\r\n\t\tvar str = '';\r\n\t\tstr += `<select><option value=\"-1\"></option>`\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\r\n\t\t\tstr += `<option value=\"${list[i].id}\">${list[i].name}</option>`\r\n\r\n\t\t}\r\n\r\n\t\tstr += `</select><a href=\"javascript:;\"></a>`\r\n\r\n\t\tinode.setSizeMode('relative', 'absolute')\r\n\t\t\t.setAbsoluteSize(null, 60)\r\n\t\t\t.setPosition(0, 60)\r\n\r\n\t\tinode.el = new DOMElement(inode, {\r\n\t\t\tclasses: ['apply_list'],\r\n\t\t\tcontent: `<img src=\"images/conService/con2.png\"/>\r\n\t\t\t\t\t\t\t \t\t\t${str}`\r\n\t\t});\r\n\r\n\t\tinode.liId = 'number';\r\n\t\tinode.addUIEvent('change');\r\n\r\n\r\n\t\t//\r\n\t\tvar inode2 = nodeAll.addChild(),\r\n\t\t\tstr2 = `<input type=\"text\" placeholder=\"\" style=\"opacity:1;width:80%;line-height:50px;\"/>`;\r\n\r\n\t\tinode2.setSizeMode('relative', 'absolute')\r\n\t\t\t.setAbsoluteSize(null, 60)\r\n\t\t\t.setPosition(0, 2 * 60)\r\n\r\n\t\tinode2.el = new DOMElement(inode2, {\r\n\t\t\tclasses: ['apply_list'],\r\n\t\t\tcontent: `<img src=\"images/conService/con6.png\"/>\r\n\t\t\t\t\t\t\t\t \t\t\t${str2}`\r\n\t\t});\r\n\r\n\t\tinode2.liId = 'productText';\r\n\t\tinode2.addUIEvent('input');\r\n\r\n\r\n\r\n\t}).post();\r\n\r\n}\r\n\r\nfunction initData(nodeAll) {\r\n\tnodeAll.info = nodeAll.addChild();\r\n\tnodeAll.info.setPosition(0, 180)\r\n\t\t.setDifferentialSize(0, -180)\r\n\r\n\tnodeAll.info.el = new DOMElement(nodeAll.info, {\r\n\t\tclasses: ['apply_info'],\r\n\t\tcontent: `<div class=\"pad24\"><table border=\"1\">\r\n\t\t\r\n\t\t<tr>\r\n\t\t\t<td style=\"padding:0 50px\"> / <em>0</em></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td colspan=\"2\" style=\"padding: 0;height: 40px;\"><a href=\"javascript:;\"></a></td>\r\n\t\t</tr>\r\n\t  </table>\r\n\t  </div>\r\n\t\t<dl>\r\n\t\t\t<dt><i></i></dt>\r\n\t\t\t<dd>\r\n\t\t\t\t<p></p>\r\n\t\t\t\t<p>3</p>\r\n\t\t\t</dd>\r\n\t\t</dl>\r\n\t\t`\r\n\t});\r\n\r\n\tnodeAll.submit = nodeAll.info.addChild();\r\n\tnodeAll.submit.setSizeMode('relative', 'absolute')\r\n\t\t.setAbsoluteSize(null, 40)\r\n\t\t.setPosition(24, 110)\r\n\t\t.setDifferentialSize(-48, 0);\r\n\r\n\tnodeAll.submit.el = new DOMElement(nodeAll.submit);\r\n\tnodeAll.submit.el.setProperty('background', 'none');\r\n\r\n\tnodeAll.submit.liId = 'submit';\r\n\tnodeAll.submit.addUIEvent('click');\r\n}\r\n\r\n\r\nmodule.exports = apply_yard;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('navbar');\r\nvar signModel = require('model/signModel');\r\nvar config = require('config.json');\r\n\r\nclass code extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t}\r\n\r\n\tonCreate(){\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.addChild(new navbar(''));\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setSizeMode('relative','relative')\r\n\t\t\t\t\t\t\t\t.setDifferentialSize(0,-45)\r\n\t\t\t\t\t\t\t\t.setPosition(0,45);\r\n\r\n\t\tnew DOMElement(this.content,{\r\n\t\t\tclasses:['overflow_auto']\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t\tinitPage(this.content);\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\tnodeAll.setProportionalSize(.8)\r\n\t\t\t\t .setAlign(.1);\r\n\r\n\tnodeAll.el = new DOMElement(nodeAll,{\r\n\t\tcontent:`<img src=\"${config.ajax_base}/v1/qrcode/?uid=${signModel.findOne().id}\" class=\"l_code\">`\r\n\t})\r\n\t\t\r\n}\r\n\r\n\r\n\r\nmodule.exports = code;","var Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('navbar');\r\nvar blank = require('blank');\r\n\r\nclass find extends Node{\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'find'\r\n\t\t});\r\n\r\n\t\tnew DOMElement(this,{\r\n\t\t\t'id':'l_find'\r\n\t\t})\r\n\r\n\t\tthis.addChild(new navbar('')).el.setContent(\"<p class='font-lg text-center'><span></span></p>\");\r\n\r\n\t\tthis.addChild(new blank('find'));\r\n\t}\r\n\r\n}\r\n\r\n\r\nmodule.exports = find;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar GestureHandler = require('famous/components/GestureHandler');\r\nvar CrossCall = require('famous/core/CrossCall');\r\nvar Ajax = require('Ajax');\r\nvar personalCenter = require('./personalCenter');\r\nvar message = require('./message');\r\nvar find = require('./find');\r\nvar App = require('App');\r\nvar signModel = require('model/signModel');\r\n\r\nclass home extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'home'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(){\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\t//\r\n\t\tnew Ajax('/app_config/detail_user')\r\n\t\t\t.data({\r\n\t\t\t\t'key':'CUSTOMER_SERVICE',\r\n\t\t\t\t'id':signModel.findOne().id,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':signModel.findOne().token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\tthis.phoneNmuber = d.data;\r\n\t\t\t\t}\r\n\t\t\t}.bind(this)).post();\r\n\r\n\t\t//\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setDifferentialSize(0,-50);\r\n\t\tthis.content.el = new DOMElement(this.content,{\r\n\t\t\tclasses:['content1','overflow_auto']\r\n\t\t});\r\n\r\n\t\t//banner\r\n\t\tinitBanner(this.content);\r\n\r\n\t\t//Message\r\n\t\tinitMessage(this.content);\r\n\r\n\t\t//\r\n\t\tinitActivity(this,this.content);\r\n\t\t\r\n\t\t//\r\n\t\tinitTemp(this.content);\r\n\r\n\t\t//\r\n\t\tthis.content2 = this.addChild(new find('find'));\r\n\t\tthis.content2.setDifferentialSize(0,-50).setAlign(1,0);\r\n\t\tthis.content2.el = new DOMElement(this.content2);\r\n\r\n\t\t//\r\n\t\tthis.content3 = this.addChild(new message());\r\n\t\tthis.content3.setDifferentialSize(0,-50).setAlign(1,0);\r\n\t\tthis.content3.el = new DOMElement(this.content3,{\r\n\t\t\tid:'message'\r\n\t\t});\r\n\r\n\t\t\r\n\t\t//\r\n\t\tthis.content4 = this.addChild(new personalCenter());\r\n\t\tthis.content4.setDifferentialSize(0,-50).setAlign(1,0);\r\n\t\tthis.content4.el = new DOMElement(this.content4,{\r\n\t\t\tclasses:['personalCenter']\r\n\t\t});\r\n\r\n\t\t//\r\n\t\tinitFoot(this);\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\t\t\t\t\t\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\t// var list2 = ['', '', '', ''];\r\n\r\n\t\tif(p.node.mark === 'foot'){\r\n\r\n\t\t\tif(e === 'click' && p.node.liId === 'foot0'){\r\n\t\t\t\tthis.content.setAlign(0,0);\r\n\t\t\t\tthis.content2.setAlign(1,0);\r\n\t\t\t\tthis.content3.setAlign(1,0);\r\n\t\t\t\tthis.content4.setAlign(1,0);\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tif(e === 'click' && p.node.liId === 'foot1'){\r\n\t\t\t\tthis.content.setAlign(1,0);\r\n\t\t\t\tthis.content2.setAlign(0,0);\r\n\t\t\t\tthis.content3.setAlign(1,0);\r\n\t\t\t\tthis.content4.setAlign(1,0);\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tif(e === 'click' && p.node.liId === 'foot2'){\r\n\t\t\t\tthis.content.setAlign(1,0);\r\n\t\t\t\tthis.content2.setAlign(1,0);\r\n\t\t\t\tthis.content3.setAlign(0,0);\r\n\t\t\t\tthis.content4.setAlign(1,0);\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tif(e === 'click' && p.node.liId === 'foot3'){\r\n\t\t\t\tthis.content.setAlign(1,0);\r\n\t\t\t\tthis.content2.setAlign(1,0);\r\n\t\t\t\tthis.content3.setAlign(1,0);\r\n\t\t\t\tthis.content4.setAlign(0,0);\r\n\t\t\t}\r\n\r\n\t\t\tvar nodeChildren = p.node.getParent().getChildren();\r\n\r\n\t\t\tfor(var i = 0; i < nodeChildren.length; i++){\r\n\t\t\t\t// nodeChildren[i].el.setContent(`<img src=\"images/home/foot${(i + 1)}.png\"/><p>${list2[i]}</p>`);\r\n\t\t\t\tnodeChildren[i].el.setContent(`<img src=\"images/home/foot${(i + 1)}.png\"/>`);\r\n\t\t\t}\r\n\t\t\tvar index = nodeChildren.indexOf(p.node);\r\n\r\n\t\t\t// p.node.el.setContent(`<img src=\"images/home/foot${(index + 1)}_h.png\"/><p style=\"color:#fe6a71;\">${list2[index]}</p>`);\r\n\t\t\tp.node.el.setContent(`<img src=\"images/home/foot${(index + 1)}_h.png\"/>`);\r\n\r\n\t\t}\r\n\r\n\r\n\t\t//6\r\n\t\tif(e === 'click' && p.node.liId === 'to0'){\r\n\t\t\tthis.to('notice');\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'to1'){\r\n\t\t\tthis.to('repair');\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'to2'){\r\n\t\t\tthis.to('card');\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'to3'){\r\n\r\n\t\t\t// var phoneNmuber = p.node.phoneNmuber;\r\n\r\n\t\t\tnew Ajax('/app_config/detail_user')\r\n\t\t\t\t.data({\r\n\t\t\t\t\t'key':'CUSTOMER_SERVICE',\r\n\t\t\t\t\t'id':signModel.findOne().id,\r\n\t\t\t\t\t'did':App.uuid,\r\n\t\t\t\t\t'tk':signModel.findOne().token\r\n\t\t\t\t})\r\n\t\t\t\t.success(function(d){\r\n\t\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\t\tvar phoneNmuber = d.data;\r\n\t\t\t\t\t\tthis.playPhone.el.setAttribute('href','tel:'+phoneNmuber).draw();\r\n\t\t\t\t\t\t// console.log(this.playPhone)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconfirm(`${phoneNmuber}`,function(res){\r\n\r\n\t\t\t\t\t\t\tif(res == 1){\r\n\r\n\r\n\t\t\t\t\t\t\t\tnew CrossCall(function(){\r\n\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById('playPhone').click();\r\n\r\n\r\n\t\t\t\t\t\t\t\t}).exec();\r\n\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t},'',['','']);\r\n\t\t\t\t\t}else if(d.status === 5){\r\n\t\t\t\t\t\tsignModel.update({'id':signModel.findOne().id},{'token':null});\r\n\t\t\t\t\t\talert('',function(){\r\n\t\t\t\t\t\t\tnew CrossCall(function(){\r\n\t\t\t\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\t\t\t}).exec();\r\n\t\t\t\t\t\t},'','')\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}.bind(this)).post();\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'to4'){\r\n\t\t\tthis.to('service');\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'to5'){\r\n\t\t\tthis.to('businessRecord');\r\n\t\t}\r\n\r\n\t\tif(e === 'touchstart' && p.node.mark === 'tt'){\r\n\t\t\tp.node.el.addClass('opa8');\r\n\t\t}\r\n\r\n\t\tif(e === 'touchend' && p.node.mark === 'tt'){\r\n\t\t\tp.node.el.removeClass('opa8');\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.listId === 'toMsgDetail'){\r\n\t\t\tthis.to('noticeDetail',{'data':p.node.noticeData})\r\n\t\t}\r\n\r\n\t\tp.stopPropagation();\r\n\r\n\t}\r\n\r\n\r\n}\r\n\r\n\r\n//\r\nfunction initTemp(nodeAll){\r\n\r\n\tvar date = new Date();\r\n\tvar month = date.getMonth() + 1;\r\n\tvar day = date.getDate();\r\n\r\n\tnodeAll.temp = nodeAll.addChild();\r\n\r\n\tnodeAll.temp.setSizeMode('relative','absolute')\r\n\t\t\t\t\t.setPosition(0,App.width * 49 / 75 - 20 + 53 + 210)\r\n\t\t\t\t .setAbsoluteSize(null, App.width * 208 / 750 );\r\n\r\n\t\tnodeAll.temp.el = new DOMElement(nodeAll.temp,{\r\n\t\t\tclasses:['temp'],\r\n\t\t\tcontent:`<h2>25</h2><p>chengdu<span>01/01</span></p>`\r\n\t\t});\r\n\r\n\t\tnew Ajax('/weather/').data({\r\n\t\t\t'cityname':'',\r\n\t\t\t'key': signModel.findOne().token\r\n\t\t}).success(function(res){\r\n\r\n\t\t\tvar res = JSON.parse(res);\r\n\r\n\t\t\tnodeAll.temp.el.setContent(`<h2>${res.result.data.realtime.weather.temperature}</h2><p>chengdu<span>${month}/${day}</span></p>`);\r\n\r\n\t\t}).error(function(res){\r\n\t\t\tconsole.log(res)\r\n\t\t}).get();\r\n\r\n}\r\n\r\n//\r\nfunction initFoot(nodeAll){\r\n\r\n\tnodeAll.foot = nodeAll.addChild();\r\n\tnodeAll.foot.setSizeMode('relative','absolute')\r\n\t\t\t\t\t .setAbsoluteSize(null,50)\r\n\t\t\t\t\t .setAlign(0,1)\r\n\t\t\t\t\t .setMountPoint(0,1);\r\n\tnodeAll.foot.el = new DOMElement(nodeAll.foot,{\r\n\t\tclasses:['footbox']\r\n\t});\r\n\r\n\t// var list2 = ['', '', '', ''];\r\n\r\n\tvar inode = nodeAll.foot.addChild();\r\n\t\t\tinode.setSizeMode('relative','absolute')\r\n\t\t\t\t\t .setAbsoluteSize(null,50)\r\n\t\t\t\t\t .setProportionalSize(1/4)\r\n\t\t inode.el = new DOMElement(inode,{\r\n\t\t \tclasses:['footList'],\r\n\t\t\t// content:`<img src=\"images/home/foot1_h.png\"/><p style=\"color:#fe6a71;\">${list2[0]}</p>`\r\n\t\t\tcontent:`<img src=\"images/home/foot1_h.png\"/>`\r\n\t\t });\r\n\r\n\t\t inode.mark = 'foot';\r\n\t\t inode.liId = `foot0`;\r\n\t\t inode.addUIEvent('click');\r\n\r\n\tfor(var i = 1;i < 4;i++){\r\n\t\tvar inode = nodeAll.foot.addChild();\r\n\t\t\t\tinode.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t .setAbsoluteSize(null,50)\r\n\t\t\t\t\t\t .setProportionalSize(1/4)\r\n\t\t\t\t\t\t .setAlign(i/4,0)\r\n\t\t\t inode.el = new DOMElement(inode,{\r\n\t\t\t \tclasses:['footList'],\r\n\t\t\t\t// content:`<img src=\"images/home/foot${(i + 1)}.png\"/><p>${list2[i]}</p>`\r\n\t\t\t\tcontent:`<img src=\"images/home/foot${(i + 1)}.png\"/>`\r\n\t\t\t });\r\n\r\n\t\t\t inode.mark = 'foot';\r\n\t\t\t inode.liId = `foot${i}`;\r\n\t\t\t inode.addUIEvent('click');\r\n\t}\r\n\r\n}\r\n\r\n//\r\nfunction initActivity(node,nodeAll){\r\n\r\n\tnodeAll.activity = nodeAll.addChild();\r\n\r\n\tnodeAll.activity.setSizeMode('relative','absolute')\r\n\t\t\t\t\t.setPosition(0,App.width * 49 / 75 - 20 + 55)\r\n\t\t\t\t .setAbsoluteSize(null,210);\r\n\r\n\tnodeAll.activity.el = new DOMElement(nodeAll.activity,{\r\n\t\tclasses:['activity']\r\n\t})\r\n\r\n\t var list = [\r\n\t\t\t{'img':'icon1.png','txt':''},\r\n\t\t\t{'img':'icon2.png','txt':''},\r\n\t\t\t{'img':'icon3.png','txt':''},\r\n\t\t\t{'img':'icon4.png','txt':''},\r\n\t\t\t{'img':'icon5.png','txt':''},\r\n\t\t\t{'img':'icon6.png','txt':''}\r\n\t\t]\r\n\t\tvar len = list.length;\r\n\t\tfor(var i = 0;i < len;i++){\r\n\r\n\t\t\tvar str = '';\r\n\t\t\tvar num = Math.ceil((i + 0.1) / 3 - 1);\r\n\t\t\tvar inode = nodeAll.activity.addChild();\r\n\t\t\t\t\tinode.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t .setAbsoluteSize(null,95)\r\n\t\t\t\t\t\t\t .setProportionalSize(1/3)\r\n\t\t\t\t\t\t\t .setPosition(0,15 + num * 95)\r\n\t\t\t\t\t\t\t .setAlign(i%3*1/3,0);\r\n\r\n\t\t\t// if(list[i].phoneNmuber){\r\n\t\t\t// \tvar kfPhone = list[i].phoneNmuber;\r\n\t\t\t// \tstr = `<img src=\"images/home/${list[i].img}\" id=\"phoneNmuber\"/><p>${list[i].txt}</p>`\r\n\t\t\t// \tinode.phoneNmuber = list[i].phoneNmuber;\r\n\t\t\t// }else{\r\n\t\t\t\tstr = `<img src=\"images/home/${list[i].img}\"/><p>${list[i].txt}</p>`\r\n\t\t\t// }\r\n\t \r\n\t\t\tinode.el = new DOMElement(inode,{\r\n\t\t\t\tclasses:['icoBox'],\r\n\t\t\t\tcontent:str\r\n\t\t\t});\r\n\r\n\t\t\t// if(list[i].phoneNmuber){\r\n\r\n\t\t\t// \tinode.phoneNmuber = list[i].phoneNmuber;\r\n\r\n\t\t\t// }\r\n\r\n\t\t\tinode.liId = `to${i}`;\r\n\t\t\tinode.addUIEvent('click');\r\n\t\t\tinode.mark = 'tt';\r\n\t\t\tinode.addUIEvent('touchstart');\r\n\t\t\tinode.addUIEvent('touchend');\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tnode.playPhone = nodeAll.addChild();\r\n\t\tnode.playPhone.setAlign(-2,0)\r\n\t\t\t.el = new DOMElement(node.playPhone,{\r\n\t\t\t\t'tagName':'a',\r\n\t\t\t\t'id':'playPhone'\r\n\t\t});\r\n\r\n}\r\n\r\n\r\n//Message\r\nfunction initMessage(nodeAll){\r\n\r\n\tvar userSign = signModel.findOne();\r\n\tvar msgData = '';\r\n\r\n\tnodeAll.message = nodeAll.addChild();\r\n\r\n\tnodeAll.message.setSizeMode('relative','absolute')\r\n\t\t\t\t\t.setPosition(0,App.width * 49 / 75 - 20)\r\n\t\t\t\t .setAbsoluteSize(null,55);\r\n\r\n\tnodeAll.message.el = new DOMElement(nodeAll.message,{\r\n\r\n\t\t\t\t\t\t\tclasses:['l_message'],\r\n\r\n\t\t\t\t\t\t\tcontent:`<div class=\"messageBox\"><i></i><p>926</p></div>`\r\n\r\n\t\t\t\t\t\t});\r\n\tnodeAll.message.addUIEvent('click');\r\n\tnodeAll.message.listId = 'toMsgDetail';\r\n\r\n\tnew Ajax('/message_info/lists_user')\r\n\t\t\t\t.data({\r\n\t\t\t\t\t'type':1,\r\n\t\t\t\t\t'id':userSign.id,\r\n\t\t\t\t\t'did':App.uuid,\r\n\t\t\t\t\t'tk':userSign.token\r\n\t\t\t\t})\t\r\n\t    \t\t.success(function(d){\r\n\t    \t\t\t\r\n\t    \t\t\tif(d.status === 200){\r\n\r\n\t    \t\t\t\tmsgData = d.data[0];   \t\t\t\t\t\r\n    \t\t\t\t\tnodeAll.message.el.setContent(`<div class=\"messageBox\"><i></i><p>${msgData.InfoTitle}</p></div>`)\r\n\t\t\t\t\t\tnodeAll.message.noticeData = d.data[0];\r\n\t    \t\t\t}\r\n\t    \t\t\t\r\n\t    \t\t\t\t\r\n\t    \t\t}).post();\r\n\r\n}\r\n\r\n\r\n//banner\r\nfunction initBanner(nodeAll){\r\n\r\n\tnew Ajax('/app_advert/lists_user').data({'did':App.uuid}).success(function(res){\r\n\r\n\t\r\n\t\tvar bannerList = res.data;\r\n\r\n\t\tvar banner = nodeAll.addChild();\r\n\t\t\t\tbanner.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t.setAbsoluteSize(null,App.width * 49 / 75 - 20)\r\n\r\n\t\t\t\tbanner.el = new DOMElement(banner,{\r\n\t\t\t\t\tclasses:['banner']\r\n\t\t\t\t});\r\n\r\n\t\t\t\tbanner.addUIEvent('click');\r\n\r\n\t\t\t\tvar len = bannerList.length;\r\n\r\n\t\t\t\tif(len == 1){\r\n\r\n\t\t\t\t\tvar bannerItem = banner.addChild();\r\n\t\t\t\t\tbannerItem.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t\t\t\t.setAbsoluteSize(null,App.width * 49 / 75 - 20)\r\n\t\t\t\t\t\t\t\t\t\t.setAlign(0,0);\r\n\r\n\t\t\t\t\tbannerItem.el = new DOMElement(bannerItem,{\r\n\t\t\t\t\t\tcontent:`<img src=\"${bannerList[0].img}\">`\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//bannerItem\r\n\t\t\t\tvar bannerFirstItem = banner.addChild();\r\n\t\t\t\t\t\tbannerFirstItem.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t .setAbsoluteSize(null,App.width * 49 / 75 - 20)\r\n\t\t\t\t\t\t\t\t\t\t\t.setAlign(-1,0);\r\n\r\n\t\t\t\t\t\tbannerFirstItem.el = new DOMElement(bannerFirstItem,{\r\n\t\t\t\t\t\t\tcontent:`<img src=\"${bannerList[len - 1].img}\">`\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\tfor(var i = 0;i < len; i++){\r\n\r\n\t\t\t\t\tvar bannerItem = banner.addChild();\r\n\t\t\t\t\tbannerItem.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t\t\t\t.setAbsoluteSize(null,App.width * 49 / 75 - 20)\r\n\t\t\t\t\t\t\t\t\t\t.setAlign(i,0);\r\n\r\n\t\t\t\t\tbannerItem.el = new DOMElement(bannerItem,{\r\n\t\t\t\t\t\tcontent:`<img src=\"${bannerList[i].img}\">`\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\t//bannerItem\r\n\t\t\t\tvar bannerLastItem = banner.addChild();\r\n\t\t\t\t\t\tbannerLastItem.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.setAbsoluteSize(null,App.width * 49 / 75 - 20)\r\n\t\t\t\t\t\t\t\t\t\t\t.setAlign(len,0);\r\n\r\n\t\t\t\t\t\tbannerLastItem.el = new DOMElement(bannerLastItem,{\r\n\t\t\t\t\t\t\tcontent:`<img src=\"${bannerList[0].img}\">`\r\n\t\t\t\t\t\t});\r\n\r\n\t//banner\r\n  var str = '';\r\n  \r\n  for(var i = 0; i < len - 1; i++){\r\n  \tstr += '<div class=\"point\"></div>'\r\n  }\r\n\r\n  banner.pointBox = banner.addChild();\r\n  banner.pointBox.setSizeMode('relative','absolute')\r\n  \t\t\t\t\t\t\t .setAbsoluteSize(null,18)\r\n  \t\t\t\t\t\t\t .setAlign(0,1)\r\n  \t\t\t\t\t\t\t .setMountPoint(0,1);\r\n\r\n  banner.pointBox.el = new DOMElement(banner.pointBox,{\r\n  \tcontent:`<div class=\"pointBox\" id=\"pointBox\"><div class=\"point on\"></div>${str}</div>`\r\n  });\r\n  banner.pointBox.addUIEvent('click');\r\n\r\n\r\n  //banner\r\n\tvar sonGesture = new GestureHandler(banner);\r\n\tvar index = 0;\r\n\tlen += 1;\r\n\r\n  sonGesture.on('drag',function(e){\r\n\r\n    if(e.status == 'end' && e.centerDelta.x != 0){\r\n\r\n    \tbanner.childrens = banner.getChildren();\r\n\r\n    \tif(e.centerDelta.x < 0){\r\n\r\n    \t\tindex++;\r\n\r\n\t\t\t\tfor(var i = 0;i < (len + 1);i++){\r\n\r\n\t\t\t\t\t\tbanner.childrens[i].setAlign((banner.childrens[i].getAlign()[0] - 1),0);\r\n\t\t\t\t\t\tbanner.childrens[i].el.addClass('l_trans');\r\n\r\n\t\t\t\t\t\tif(i == len && index == (len-1)){\r\n\r\n\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\tfor(var i = 0;i < (len + 1);i++){\r\n\t\t\t\t\t\t\t\t\t\tbanner.childrens[i].el.removeClass('l_trans');\r\n\t\t\t\t\t\t\t\t\t\tbanner.childrens[i].setAlign((i - 1),0);\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tindex = 0;\r\n\t\t\t\t\t\t\t\t},300);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n    \t}else if(e.centerDelta.x > 0){\r\n\r\n\t    \tindex--;\r\n\r\n\t\t\t\tfor(var i = 0;i < (len + 1);i++){\r\n\r\n\t\t\t\t\t\tbanner.childrens[i].setAlign((banner.childrens[i].getAlign()[0] + 1),0);\r\n\t\t\t\t\t\tbanner.childrens[i].el.addClass('l_trans');\r\n\r\n\t\t\t\t\t\tif(i == len && index == -1){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\tfor(var i = 0;i < (len + 1);i++){\r\n\r\n\t\t\t\t\t\t\t\t\t\tbanner.childrens[i].el.removeClass('l_trans');\r\n\t\t\t\t\t\t\t\t\t\tbanner.childrens[i].setAlign((i - len + 1),0);\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tindex = len - 2;\r\n\r\n\t\t\t\t\t\t\t\t},300);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t    }\r\n\r\n\t    //banner\r\n\t    var args = {};\r\n\t    args.index = index;\r\n\t    args.len = len - 1;\r\n\r\n\t    new CrossCall(function(args){\r\n\r\n\t    \tif(args.index == args.len){\r\n\r\n\t    \t\targs.index = 0;\r\n\r\n\t    \t}else if(args.index == -1){\r\n\r\n\t    \t\targs.index = args.len - 1;\r\n\r\n\t    \t}\r\n\r\n\t    \tvar pointBox = document.getElementById('pointBox').getElementsByTagName('div');\r\n\r\n\t    \tvar len2 = pointBox.length;\r\n\r\n\t    \tfor(var i = 0; i < len2; i++){\r\n\r\n    \t\t\tpointBox[i].className = 'point';\r\n\r\n\t    \t}\r\n\r\n\t    \tpointBox[args.index].className = 'point on';\r\n\r\n\t    },[args]).exec();\r\n    }\r\n\r\n  });\r\n\r\n\r\n\t}).error(function(){\r\n\r\n\t\tvar banner = nodeAll.addChild();\r\n\t\t\t\tbanner.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t.setAbsoluteSize(null,App.width * 49 / 75 - 20)\r\n\r\n\t\t\t\tbanner.el = new DOMElement(banner,{\r\n\t\t\t\t\tclasses:['banner']\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t\tvar bannerItem = banner.addChild();\r\n\t\t\t\tbannerItem.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t\t\t.setAbsoluteSize(null,App.width * 49 / 75 - 20);\r\n\r\n\t\t\t\tbannerItem.el = new DOMElement(bannerItem,{\r\n\t\t\t\t\tcontent:`<img src=\"images/home/default_bg.png\">`\r\n\t\t\t\t});\r\n\r\n\t}).post()\r\n\r\n\r\n\r\n  \r\n}\r\n\r\nmodule.exports = home;","var Node = require('famous/core/Node');\r\nvar DOMElement = require( 'famous/dom-renderables/DOMElement' );\r\n\r\nfunction listItem(list,index){\r\n\r\n\t Node.call(this);\r\n\r\n\t var array = ['message_item'];\r\n\r\n\t this.setSizeMode('relative','absolute')\r\n\t\t\t\t .setAbsoluteSize(null, 75)\r\n\t\t\t\t .setPosition(0, index._id * 75);\r\n\r\n\t this.allInfo = index;\r\n\r\n\t this.el = new DOMElement(this,{\r\n\t \t\tclasses: array,\r\n\t \t\tcontent:`<dl class=\"dl${list.InfoType}\">\r\n\t\t\t\t\t\t\t\t<dt><img src=\"images/home/message${list.InfoType}.png\"><i class=\"${list.isRead}\"></i></dt>\r\n\t\t\t\t\t\t\t\t<dd>\r\n\t\t\t\t\t\t\t\t\t<h3><em>[${list.type}]</em><span>${list.InfoTitle}</span></h3>\r\n\t\t\t\t\t\t\t\t\t<p>${list.InfoCtime}</p>\r\n\t\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t\t</dl>`\r\n\t });\r\n\r\n\r\n\t//\r\n\t var inode = this.addChild();\r\n\t\t\tinode.setSizeMode('absolute','absolute')\r\n\t\t\t\t\t .setAbsoluteSize(22, 22)\r\n\t\t\t\t\t .setAlign(1,0)\r\n\t\t\t\t\t .setMountPoint(1,0)\r\n\t\t\t\t\t .setPosition(-14, 25);\r\n\r\n\t\t inode.el = new DOMElement(inode,{\r\n\t\t \t\tclasses:['l_close'],\r\n\t\t \t\tcontent:`<img src=\"images/home/close.png\">`\r\n\t\t });\r\n\r\n\t\t inode.liId = index;\r\n\t\t inode.mark = 'close';\r\n\t\t inode.addUIEvent('click');\r\n\r\n}\r\n\r\n\r\n\r\nlistItem.prototype = Object.create( Node.prototype );\r\n\r\nmodule.exports = listItem;","var Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar CrossCall = require('famous/core/CrossCall');\r\nvar navbar = require('navbar');\r\nvar ListView = require('listview');\r\nvar listItem = require('./listItem');\r\nvar messageModel = require('model/messageModel');\r\nvar incrementModel = require('model/incrementModel');\r\nvar blank = require('blank');\r\nvar signModel = require('model/signModel');\r\nvar config = require('config.json');\r\n\r\n\r\nclass message extends Node{\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\r\n\t\tthis.addChild(new navbar('')).el.setContent(\"<p class='font-lg text-center'><span></span></p>\");\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setDifferentialSize(0,-44)\r\n\t\t\t\t\t\t\t\t.setPosition(0,44);\r\n\r\n\t\tthis.content.el = new DOMElement(this.content,{\r\n\t\t\tclasses:['overflow_auto']\r\n\t\t});\r\n\r\n\t\tsetTimeout(function(){\r\n\t\t\tinitPage(this.content);\r\n\t\t}.bind(this),100)\r\n\t\t\r\n\t}\r\n\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\t//\r\n\t\tif(e === 'click' && p.node.mark === 'close'){\r\n\r\n\t\t\tconfirm('',function(res){\r\n\r\n\t\t\t\tif(res == 1){\r\n\r\n\t\t\t\t\tmessageModel.remove({id:p.node.getParent().tip});\r\n\r\n\t\t\t\t\tvar num = p.node.liId._id;\r\n\r\n\t\t\t\t\tthis.content.ListView.RemoveItem(num);\r\n\r\n\t\t\t\t\t//\r\n\t\t\t\t\tif(messageModel.findOne() == undefined){\r\n\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tthis.addChild(new blank('mes'))\r\n\t\t\t\t\t\t\t\t .setDifferentialSize(0,-45)\r\n\t\t\t\t\t\t\t\t .setPosition(0,45);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsetTimeout(function(){\r\n\r\n\t\t\t\t\t\tif(!messageModel.findOne()){\r\n\r\n\t\t\t\t\t\t\tthis.content.el.removeClass('bgfff');\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}.bind(this),100);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this),'',['','']);\r\n\r\n\t\t\tp.stopPropagation();\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tif(e === 'click' && p.node.liId === 'musicList'){\r\n\r\n\t\t\tmessageModel.update({id:p.node.tip},{isRead:true});\r\n\r\n\t\t\tvar readMessage = messageModel.findOne({'id':p.node.tip});\r\n\t\t\tvar list = p.node.allInfo.data;\r\n\r\n\t\t\tp.node.el.setContent(`<dl class=\"dl${list.InfoType}\">\r\n\t\t\t\t\t\t\t\t<dt><img src=\"images/home/message${list.InfoType}.png\"><i class=\"true\"></i></dt>\r\n\t\t\t\t\t\t\t\t<dd>\r\n\t\t\t\t\t\t\t\t\t<h3><em>[${list.type}]</em><span>${list.InfoTitle}</span></h3>\r\n\t\t\t\t\t\t\t\t\t<p>${list.InfoCtime}</p>\r\n\t\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t\t</dl>`);\r\n\r\n\t\t\tthis.getParent().to('noticeDetail',{'data':readMessage});\r\n\r\n\t\t\tp.stopPropagation();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\t//\r\n\tif(messageModel.findOne()){\r\n\r\n\t\tvar list = messageModel.find().reverse();\r\n\t\tvar len = list.length;\r\n\r\n\t\tnodeAll.ListView = new ListView({\r\n\t\t\tthreshold:3,// item \r\n\t    throttle:16.7,// Scroll\r\n\t    itemSize:[null,75],//item  \r\n\r\n\t    createItem:function(list,index){\r\n\r\n\t    \tvar inode =  new listItem(list,index);\r\n\t      \t\tinode.liId = \"musicList\";\r\n\t\t\t\t\t\tinode.tip = list.id;\r\n\t\t\t\t\t\tinode.addUIEvent(\"click\");\r\n\r\n\t\t\t\t\t\treturn inode;\r\n\t    }\r\n\r\n\t\t})\r\n\r\n\t\tnodeAll.ListView.setSizeMode( 'relative', 'relative' ).setProportionalSize(1,1).BindData(list);\r\n\r\n\t\tnodeAll.addChild(nodeAll.ListView);\r\n\r\n\t}else{\r\n\r\n\t\t//\r\n\t\tnodeAll.getParent().addChild(new blank('mes'))\r\n\t\t\t\t\t\t\t\t\t\t\t .setDifferentialSize(0,-45)\r\n\t\t\t\t\t\t\t\t\t\t\t .setPosition(0,45);\r\n\r\n\t}\r\n\r\n\r\n\t\t//\r\n\t\tvar websocket = new WebSocket(config.webSocket);\r\n\r\n\t\t\r\n\t\twebsocket.onopen = function(evt) {\r\n\t\t\tconsole.log(evt)\r\n\t\t\twebsocket.send(JSON.stringify({msgtype:\"auth\",token:signModel.findOne().token}));\r\n\r\n\t\t};\r\n\r\n\t\twebsocket.onerror = function(evt) {\r\n\t\t\tconsole.log(evt)\r\n\t\t};\r\n\r\n\t\twebsocket.onmessage  = function(evt) {\r\n\r\n\t\t\tconsole.log(evt);\r\n\r\n\t\t\tnodeAll.el.addClass('bgfff');\r\n\r\n\t\t\tvar evt = JSON.parse(evt.data);\r\n\r\n\t\t\tvar res = evt.msg;\r\n\t\t\t\r\n\t\t\tvar obj = nodeAll.getChildren(),\r\n\t\t\t\t\ti = obj.length;\r\n\r\n\t\t\twhile(i--)\r\n\t\t\t\tnodeAll.removeChild(obj[i]);\r\n\r\n\t\t\tvar messageId = incrementModel.findOne() ? incrementModel.findOne().messageId : 0;\r\n\t\t\tincrementModel.remove();\r\n\t\t\tincrementModel.save({'messageId':(messageId + 1)});\r\n\r\n\t\t\t//\r\n\t\t\tmessageModel.save({\r\n\t\t\t\t'id':messageId,\r\n\t\t\t\t'imgSrc':res.imgSrc,\r\n\t\t\t\t'InfoType':res.InfoType,\r\n\t\t\t\t'InfoCtime':res.InfoCtime,\r\n\t\t\t\t'InfoTitle':res.InfoTitle,\r\n\t\t\t\t'type':res.type,\r\n\t\t\t\t'isRead':false,\r\n\t\t\t\t'InfoDesc':res.InfoDesc,\r\n\t\t\t\t'InfoAuthor':res.InfoAuthor\r\n\t\t\t});\r\n\r\n\t\t\tvar list = messageModel.find().reverse();\r\n\t\t\tvar len = list.length;\r\n\r\n\t\t\tnodeAll.ListView = new ListView({\r\n\t\t\t\tthreshold:3,// item \r\n\t\t    throttle:16.7,// Scroll\r\n\t\t    itemSize:[null,75],//item  \r\n\r\n\t\t    createItem:function(list,index){\r\n\r\n\t\t    \tvar inode =  new listItem(list,index);\r\n\t\t      \t\tinode.liId = \"musicList\";\r\n\t\t\t\t\t\t\tinode.tip = list.id;\r\n\r\n\t\t\t\t\t\t\tinode.addUIEvent(\"click\");\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\treturn inode;\r\n\t\t    }\r\n\r\n\t\t\t})\r\n\r\n\t\t\tnodeAll.ListView.setSizeMode( 'relative', 'relative' ).setProportionalSize(1,1).BindData(list);\r\n\r\n\t\t\tnodeAll.addChild(nodeAll.ListView);\r\n\r\n\t\t};\r\n\r\n\t\twebsocket.onclose  = function(evt) {\r\n\t\t\talert(evt,'',null,'','');\r\n\t\t};\r\n\r\n}\r\n\r\nmodule.exports = message;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar CrossCall = require('famous/core/CrossCall');\r\nvar navbar = require('navbar');\r\nvar ListView = require('listview');\r\nvar listItem = require('./listItem');\r\nvar messageModel = require('model/messageModel');\r\nvar incrementModel = require('model/incrementModel');\r\nvar blank = require('blank');\r\nvar signModel = require('model/signModel');\r\n\r\n\r\nclass message extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'message'\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\t\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.addChild(new navbar(''));\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setDifferentialSize(0,-44)\r\n\t\t\t\t\t\t\t\t.setPosition(0,44);\r\n\r\n\t\tthis.content.el = new DOMElement(this.content,{\r\n\t\t\tclasses:['overflow_auto']\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t\tinitPage(this.content);\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\t\t\t\t\r\n\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\t//\r\n\t\tif(e === 'click' && p.node.mark === 'close'){\r\n\r\n\t\t\tmessageModel.remove({id:p.node.getParent().tip});\r\n\r\n\t\t\tvar num = p.node.liId._id;\r\n\r\n\t\t\tthis.content.ListView.RemoveItem(num);\r\n\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tif(!messageModel.findOne()){\r\n\t\t\t\t\tthis.content.el.removeClass('bgfff');\r\n\t\t\t\t}\r\n\t\t\t}.bind(this),100)\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tif(e === 'click' && p.node.liId === 'musicList'){\r\n\r\n\t\t\tmessageModel.update({id:p.node.tip},{isRead:true});\r\n\r\n\t\t\tp.node.el.addClass('l_haveread');\r\n\r\n\t\t\tthis.to('noticeDetail');\r\n\r\n\t\t}\r\n\r\n\t\tp.stopPropagation();\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\t//\r\n\tif(messageModel.findOne()){\r\n\r\n\t\tvar list = messageModel.find().reverse();\r\n\t\tvar len = list.length;\r\n\r\n\t\tnodeAll.ListView = new ListView({\r\n\t\t\tthreshold:3,// item \r\n\t    throttle:16.7,// Scroll\r\n\t    itemSize:[null,75],//item  \r\n\r\n\t    createItem:function(list,index){\r\n\r\n\t    \tvar inode =  new listItem(list,index);\r\n\t      \t\tinode.liId = \"musicList\";\r\n\t\t\t\t\t\tinode.tip = list.id;\r\n\t\t\t\t\t\tinode.addUIEvent(\"click\");\r\n\r\n\t\t\t\t\t\treturn inode;\r\n\t    }\r\n\r\n\t\t})\r\n\r\n\t\tnodeAll.ListView.setSizeMode( 'relative', 'relative' ).setProportionalSize(1,1).BindData(list);\r\n\r\n\t\tnodeAll.addChild(nodeAll.ListView);\r\n\r\n\t}else{\r\n\r\n\t\t//\r\n\t\tnodeAll.getParent().addChild(new blank('mes'))\r\n\t\t\t\t\t\t\t\t\t\t\t .setDifferentialSize(0,-45)\r\n\t\t\t\t\t\t\t\t\t\t\t .setPosition(0,45);\r\n\r\n\t}\r\n\r\n\r\n\t\t//\r\n\t\tvar websocket = new WebSocket('ws://10.100.1.14:9999');\r\n\r\n\t\t\r\n\t\twebsocket.onopen = function(evt) {\r\n\t\t\tconsole.log(evt)\r\n\t\t\twebsocket.send(JSON.stringify({msgtype:\"auth\",token:signModel.findOne().token}));\r\n\r\n\t\t};\r\n\r\n\t\twebsocket.onerror = function(evt) {\r\n\t\t\tconsole.log(evt)\r\n\t\t};\r\n\r\n\t\twebsocket.onmessage  = function(evt) {\r\n\r\n\t\t\tnodeAll.el.addClass('bgfff');\r\n\r\n\t\t\tvar evt = JSON.parse(evt.data);\r\n\r\n\t\t\tvar res = evt.msg;\r\n\t\t\t\r\n\t\t\tvar obj = nodeAll.getChildren(),\r\n\t\t\t\t\ti = obj.length;\r\n\r\n\t\t\twhile(i--)\r\n\t\t\t\tnodeAll.removeChild(obj[i]);\r\n\r\n\t\t\tvar messageId = incrementModel.findOne() ? incrementModel.findOne().messageId : 0;\r\n\t\t\tincrementModel.remove();\r\n\t\t\tincrementModel.save({'messageId':(messageId + 1)});\r\n\r\n\t\t\t//\r\n\t\t\tmessageModel.save({\r\n\t\t\t\t'id':messageId,\r\n\t\t\t\t'imgSrc':res.imgSrc,\r\n\t\t\t\t'status':res.status,\r\n\t\t\t\t'InfoCtime':res.InfoCtime,\r\n\t\t\t\t'InfoTitle':res.InfoTitle,\r\n\t\t\t\t'type':res.type,\r\n\t\t\t\t'isRead':false,\r\n\t\t\t\t'InfoDesc':res.InfoDesc,\r\n\t\t\t\t'InfoAuthor':res.InfoAuthor\r\n\t\t\t});\r\n\r\n\t\t\tvar list = messageModel.find().reverse();\r\n\t\t\tvar len = list.length;\r\n\r\n\t\t\tnodeAll.ListView = new ListView({\r\n\t\t\t\tthreshold:3,// item \r\n\t\t    throttle:16.7,// Scroll\r\n\t\t    itemSize:[null,75],//item  \r\n\r\n\t\t    createItem:function(list,index){\r\n\r\n\t\t    \tvar inode =  new listItem(list,index);\r\n\t\t      \t\tinode.liId = \"musicList\";\r\n\t\t\t\t\t\t\tinode.tip = list.id;\r\n\t\t\t\t\t\t\tinode.addUIEvent(\"click\");\r\n\r\n\t\t\t\t\t\t\treturn inode;\r\n\t\t    }\r\n\r\n\t\t\t})\r\n\r\n\t\t\tnodeAll.ListView.setSizeMode( 'relative', 'relative' ).setProportionalSize(1,1).BindData(list);\r\n\r\n\t\t\tnodeAll.addChild(nodeAll.ListView);\r\n\r\n\t\t};\r\n\r\n\t\twebsocket.onclose  = function(evt) {\r\n\t\t\tconsole.log(evt)\r\n\t\t};\r\n\r\n}\r\n\r\nmodule.exports = message;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('navbar');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar signModel = require('model/signModel');\r\nvar CrossCall = require('famous/core/CrossCall');\r\n\r\nclass myinfo extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'myinfo'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(){\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\t\r\n\r\n\t\tinitPage(this);\r\n\r\n\t\tinitContent(this);\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\r\n\t\tvar obj = this.getChildren(),\r\n\t\t\t\ti = obj.length;\r\n\r\n\t\twhile(i--){\r\n\t\t\tthis.removeChild(obj[i]);\r\n\t\t}\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'seemore'){\r\n\r\n\t\t\tnew CrossCall(function(){\r\n\r\n\t\t\t\tvar info = document.getElementsByClassName('infoShopBox');\r\n\t\t\t\tvar l_more = document.getElementsByClassName('l_more');\r\n\r\n\t\t\t\tinfo[0].className = 'infoShopBox';\r\n\t\t\t\tl_more[0].className = 'l_more hide';\r\n\r\n\t\t\t}).exec();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction initContent(nodeAll){\r\n\r\n\tnew Ajax('/user_store/list_id').data({\r\n\t\t'id':signModel.findOne().id,\r\n\t\t'did':App.uuid,\r\n\t\t'tk':signModel.findOne().token\r\n\t}).success(function(res){\r\n\r\n\t\t// res = {\r\n\t\t//   \"data\": [\r\n\t\t//     {\r\n\t\t//       \"id\": 217,\r\n\t\t//       \"name\": \"C01-1-116\"\r\n\t\t//     },\r\n\t\t//     {\r\n\t\t//       \"id\": 217,\r\n\t\t//       \"name\": \"C01-1-116\"\r\n\t\t//     },\r\n\t\t//     {\r\n\t\t//       \"id\": 217,\r\n\t\t//       \"name\": \"C01-1-116\"\r\n\t\t//     },\r\n\t\t//     {\r\n\t\t//       \"id\": 217,\r\n\t\t//       \"name\": \"C01-1-116\"\r\n\t\t//     },\r\n\t\t//     {\r\n\t\t//       \"id\": 217,\r\n\t\t//       \"name\": \"C01-1-116\"\r\n\t\t//     }\r\n\t\t//   ],\r\n\t\t//   \"msg\": \"\",\r\n\t\t//   \"status\": 200\r\n\t\t// }\r\n\r\n\t\tvar list = res.data,\r\n\t\t\t\tlen = list.length,\r\n\t\t\t\tstr = '',\r\n\t\t\t\tabc = ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','R','S','T','U','V','W','X','Y','Z'];\r\n\r\n\t\tstr += `<div class=\"infoShopBox infoShopBox_h\">`;\r\n\t\tfor(var i = 0; i < len; i++){\r\n\r\n\t\t\tstr += `<dl class=\"info_dl\">\r\n\t\t\t\t\t\t\t\t<dt>\r\n\t\t\t\t\t\t\t\t\t<h2>${abc[i]}</h2>\r\n\t\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t\t</dt>\r\n\t\t\t\t\t\t\t\t<dd>\r\n\t\t\t\t\t\t\t\t\t<h2>${list[i].name}</h2>\r\n\t\t\t\t\t\t\t\t\t<p>53  ()</p>\r\n\t\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t\t</dl>`\r\n\r\n\t\t}\r\n\r\n\t\tstr += `</div>`;\r\n\r\n\t\tnew Ajax('/grade_config/lists_user').data({\r\n\t\t\t'id':signModel.findOne().id,\r\n\t\t\t'did':App.uuid,\r\n\t\t\t'tk':signModel.findOne().token\r\n\t\t}).success(function(res){\r\n\r\n\t\t\tvar list = res.data,\r\n\t\t\t\t\tlen2 = list.list.length;\r\n\r\n\t\t\tif(len < 3){\r\n\t\t\t\tstr += `\r\n\t\t\t\t\t\t<div class=\"infoBox\">\r\n\t\t\t\t\t\t\t<div class=\"infoname\">\r\n\t\t\t\t\t\t\t\t<img src=\"images/home/myinfo.png\"/>\r\n\t\t\t\t\t\t\t\t<p>${list.gradename}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"l_info\">\r\n\t\t\t\t\t\t\t\t<h2>${list.username}:</h2>\r\n\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t`\r\n\t\t\t\t}else{\r\n\t\t\t\t\tstr += `<div class=\"l_more\"></div>\r\n\t\t\t\t\t\t<div class=\"infoBox\">\r\n\t\t\t\t\t\t\t<div class=\"infoname\">\r\n\t\t\t\t\t\t\t\t<img src=\"images/home/myinfo.png\"/>\r\n\t\t\t\t\t\t\t\t<p>${list.gradename}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"l_info\">\r\n\t\t\t\t\t\t\t\t<h2>${list.username}:</h2>\r\n\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t`\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\r\n\r\n\t\t\tfor(var j = 0; j < len2; j++){\r\n\t\t\t\tstr += `<dl>\r\n\t\t\t\t\t\t\t\t\t<dt>${list.list[j].name}</dt>\r\n\t\t\t\t\t\t\t\t\t<dd>${list.list[j].desc}</dd>\r\n\t\t\t\t\t\t\t\t</dl>`\r\n\t\t\t}\r\n\r\n\r\n\t\t\tstr += `</div>\r\n\t\t\t\t\t\t</div>`\r\n\r\n\t\t\tnodeAll.content = nodeAll.addChild();\r\n\t\t\tnodeAll.content.setDifferentialSize(-20,-100)\r\n\t\t\t\t\t\t\t\t\t\t .setPosition(10,50);\r\n\r\n\t\t\tnodeAll.content.el = new DOMElement(nodeAll.content,{\r\n\t\t\t\tclasses:['overflow_auto','myinfoContent'],\r\n\t\t\t\tcontent:str\r\n\t\t\t});\r\n\r\n\t\t\tvar seemore = nodeAll.addChild();\r\n\r\n\t\t\tseemore.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t.setAbsoluteSize(null,80)\r\n\t\t\t\t\t\t\t.setPosition(0,220);\r\n\r\n\t\t\tseemore.el = new DOMElement(seemore);\r\n\t\t\tseemore.el.setProperty('z-index','100');\r\n\r\n\t\t\tseemore.liId = 'seemore';\r\n\t\t\tseemore.addUIEvent('click');\r\n\r\n\r\n\t\t}).post();\r\n\r\n\r\n\t}).post();\r\n\r\n\t\r\n\r\n}\r\n\r\n\t\r\nfunction initPage(nodeAll){\r\n\r\n\tnodeAll.top = nodeAll.addChild();\r\n\r\n\tnodeAll.top.setSizeMode('relative','absolute')\r\n\t\t\t\t .setAbsoluteSize(null,175);\r\n\r\n\tnodeAll.top.el = new DOMElement(nodeAll.top,{\r\n\r\n\t\tclasses:['myinfo_top']\r\n\r\n\t});\r\n\r\n\tnodeAll.title = nodeAll.addChild(new navbar(''));\r\n\tnodeAll.title.el.setProperty('background','none');\r\n\r\n}\r\n\r\nmodule.exports = myinfo;","var Node = require('famous/core/Node');\r\nvar DOMElement = require( 'famous/dom-renderables/DOMElement' );\r\nvar IconItem = require('IconItem');\r\nvar CrossCall = require(\"famous/core/CrossCall\");\r\nvar myInfoModel = require('model/myInfoModel');\r\nvar signModel = require('model/signModel');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\n\r\n\r\nclass personalCenter extends Node{\r\n\r\n\tconstructor(){\r\n\r\n\t\tsuper();\r\n\r\n\t\tinitPage(this);\r\n\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'mine1'){\r\n\r\n\t\t\tthis.getParent().to('myinfo');\r\n\r\n\t\t}\r\n\t\tif(e === 'click' && p.node.liId === 'mine2'){\r\n\r\n\t\t\tthis.getParent().to('code');\r\n\r\n\t\t}\r\n\t\tif(e === 'click' && p.node.liId === 'mine3'){\r\n\r\n\t\t\tthis.getParent().to('setting');\r\n\r\n\t\t}\r\n\r\n\t\tif(e === 'click' && p.node.liId === 'canmera'){\r\n\r\n\t\t\tnew CrossCall(function(){\r\n\r\n\t\t\t\t\tnavigator.camera.getPicture(function(imageURI){\r\n\r\n\t\t\t\t\t\tdocument.getElementById('p_avatar').src = imageURI;\r\n\r\n\t\t\t\t\t\tself._call(imageURI);\r\n\r\n\t\t\t\t\t})\r\n\r\n\t\t\t}).exec(function(imageURI){\r\n\r\n\t\t\t\tmyInfoModel.save({imgSrc:imageURI});\r\n\r\n\t\t\t\tthis.imgSrc = myInfoModel.findOne().imgSrc;\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\tsetTimeout(function(){\r\n\r\n\t\tnew Ajax('/member/detail_custom').data({\r\n\t\t\t'id':signModel.findOne().id,\r\n\t\t\t'did':App.uuid,\r\n\t\t\t'tk':signModel.findOne().token\r\n\t\t}).success(function(res){\r\n\r\n\t\t\tvar str = '';\r\n\r\n\t\t\tif(res.status === 200){\r\n\t\t\t\tvar list = res.data;\r\n\r\n\t\t\t\tif(myInfoModel.findOne()){\r\n\r\n\t\t\t\t\tstr = `<h2>${list.name}</h2>\r\n\t\t\t\t\t\t\t\t<p>APP</p>\r\n\t\t\t\t\t\t\t\t<div class=\"p_avatar\"><img src=\"${myInfoModel.findOne().imgSrc}\"  id=\"p_avatar\"/></div>\r\n\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t<img src=\"images/home/p1.png\"/>${list.address}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t<img src=\"images/home/p2.png\"/>${list.gradename}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t<img src=\"images/home/p3.png\"/>${list.store} \r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</ul>`\r\n\t\t\t\t}else{\r\n\t\t\t\t\tstr = `\r\n\t\t\t\t\t\t<h2>${list.name}</h2>\r\n\t\t\t\t\t\t<p>APP</p>\r\n\t\t\t\t\t\t<div class=\"p_avatar\"><img src=\"images/home/p_lk.jpg\"  id=\"p_avatar\"/></div>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"images/home/p1.png\"/>${list.address}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"images/home/p2.png\"/>${list.gradename}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"images/home/p3.png\"/>${list.store} \r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t`\r\n\t\t\t\t}\r\n\t\t\t}else if(res.status === 5){\r\n\t\t\t\tvar userSign = signModel.findOne();\r\n\t\t\t\talert('',function(){\r\n\t\t\t\t\tsignModel.update({'id':userSign.id},{'token':null});\r\n\t\t\t\t\tnew CrossCall(function(){\r\n\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t}).exec();\r\n\t\t\t\t},'','');\r\n\t\t\t}\r\n\r\n\r\n\t\t\tnodeAll.head = nodeAll.addChild();\r\n\t\t\tnodeAll.head.setSizeMode('relative','absolute')\r\n\t\t\t\t\t\t\t\t\t.setAbsoluteSize(null,310);\r\n\r\n\t\t\tnodeAll.head.el = new DOMElement(nodeAll.head,{\r\n\t\t\t\tclasses:['p_top'],\r\n\t\t\t\tcontent:str\r\n\t\t\t});\r\n\r\n\t\t\t//\r\n\t\t\tnodeAll.head.canmera = nodeAll.head.addChild();\r\n\t\t\tnodeAll.head.canmera.setSizeMode('absolute','absolute')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.setAbsoluteSize(90,90)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.setPosition(0,100)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.setAlign(.5,0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.setMountPoint(.5,0);\r\n\r\n\t\t\tnodeAll.head.canmera.el = new DOMElement(nodeAll.head.canmera);\r\n\t\t\tnodeAll.head.canmera.liId = 'canmera';\r\n\t\t\tnodeAll.head.canmera.addUIEvent('click');\r\n\r\n\r\n\t\t\t//\r\n\t\t\tnodeAll.listBox = nodeAll.addChild();\r\n\t\t\tnodeAll.listBox.setDifferentialSize(0,0);\r\n\t\t\tnodeAll.listBox.el = new DOMElement(nodeAll.listBox);\r\n\r\n\t\t\tvar inode1 = nodeAll.listBox.addChild(new IconItem({'icon':'images/home/p_list1.png','desc':''},0,50));\r\n\t\t\tinode1.liId = 'mine1';\r\n\t\t\tinode1.addUIEvent('click');\r\n\r\n\t\t\tvar inode2 = nodeAll.listBox.addChild(new IconItem({'icon':'images/home/p_list2.png','desc':''},1,50));\r\n\t\t\tinode2.liId = 'mine2';\r\n\t\t\tinode2.addUIEvent('click');\r\n\r\n\t\t\tvar inode3 = nodeAll.listBox.addChild(new IconItem({'icon':'images/home/p_list3.png','desc':''},2,50));\r\n\t\t\tinode3.liId = 'mine3';\r\n\t\t\tinode3.addUIEvent('click');\r\n\r\n\t\t\t}).post();\r\n\r\n\r\n\t},100)\r\n \r\n\t\r\n\r\n}\r\n\r\nmodule.exports = personalCenter;","var Page = require('Page');\r\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('navbar');\r\nvar ListView = require('ListView');\r\nvar Blank = require('blank');\r\nvar Ajax = require('Ajax');\r\nvar App = require('App');\r\nvar sign = require('model/SignModel');\r\n\r\nclass Notice extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Notice'});\t\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitNav(this);\r\n\r\n\t\tvar userSign = sign.findOne();\r\n\r\n\t\tthis.userId = userSign.id;\r\n\t\tthis.token = userSign.token;\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tif(!this._content){\r\n\t\t\tnew Ajax('/message_info/lists_user')\r\n\t\t\t\t.data({\r\n\t\t\t\t\t'type':1,\r\n\t\t\t\t\t'id':this.userId,\r\n\t\t\t\t\t'did':App.uuid,\r\n\t\t\t\t\t'tk':this.token\r\n\t\t\t\t})\t\r\n\t    \t\t.success(function(d){\r\n\t    \t\t\tthis.listjson = d.data;\r\n\t    \t\t\tinitContent(this,this.listjson);\r\n\t    \t\t}.bind(this)).post();\r\n\t\t}\r\n\r\n    \t\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._content = null;\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\t\tif(e === 'click' && p.node.clickType === 'detail'){\r\n\t\t\tthis.to('noticeDetail',{'data':p.node.noticeData});\r\n\t\t}\r\n\r\n\r\n\t\t//TODO  ?\r\n\t\t// if(e === 'click' && p.node.clickType === 'del'){\r\n\t\t\t// alert(':'+p.node.listId);\r\n\t\t\t// this.listjson.splice(p.node._index,1);\r\n\t\t\t// this._content.removeChild(p.node.getParent());\r\n\t\t\t// this._content.getChildren().forEach(function(n,i){\r\n\t\t\t// \tn.setPosition(0,i*65 + 8*(i+1))\r\n\t\t\t// })\r\n\t\t\t// this.allList.RemoveItem(p.node.obj._id);\r\n\t\t\t// if(!this.allList._domList.length){\r\n\t\t\t// \tthis._content.el.setContent('').setProperty('font-size','15px');\r\n\t\t\t// }\r\n\t\t\t// console.log(this.allList);\r\n\t\t\t// console.log(p.node.obj);\r\n\r\n\t\t// }\r\n\r\n\t\tp.stopPropagation();\r\n\t}\r\n\r\n} \r\n\r\n\r\n//\r\nfunction initNav(node){\r\n\tnode.addChild(new navbar(''));\r\n}\r\n\r\n//\r\nfunction initContent(node,data){\r\n\t\r\n\tvar content = node.addChild();\r\n\r\n\r\n\tcontent.setSizeMode('relative','relative')\r\n\t\t   .setDifferentialSize(0,- 44)\r\n\t\t   .setPosition(0,44)\r\n\t\t   .el = new DOMElement(content,{\r\n\t\t \t  classes:['notice_box','overflow_scoll']\r\n\r\n\t\t   });\r\n\r\n\tnode._content = content;\r\n\r\n\tif(data === null){\r\n\t\tcontent.addChild(new Blank('notice'));\r\n\t\treturn false;\r\n\t}\r\n\r\n\tnode.allList = new ListView({\r\n\t\tthreshold:6,// item \r\n        throttle:16.7,// Scroll\r\n        itemSize:[null,73],//item  \r\n\t\tcreateItem:function(data,obj){\r\n\t\t\tvar noticelist = new NoticeList(data,obj);\r\n\t\t\treturn noticelist;\r\n\t\t}\r\n\t})\r\n\r\n\tnode.allList.BindData(data);\r\n\r\n\tcontent.addChild(node.allList);\t   \r\n\r\n\r\n\r\n\t\r\n}\r\n\r\nclass NoticeList extends Node{\r\n\tconstructor(data,obj){\r\n\t\tsuper();\r\n\r\n\t\tvar list = this.addChild();\r\n\t\tvar del = list.addChild();\r\n\r\n\r\n\t\t//\r\n\t\tlist.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,65)\r\n\t\t\t// .setPosition(0,8)\r\n\t\t\t.el = new DOMElement(list,{\r\n\t\t\t\tclasses:['notice_list'],\r\n\t\t\t\tcontent:`<p>${data.InfoTitle}</p><span>${data.InfoCtime}</span>`\r\n\t\t\t}).setProperty('border-top','8px solid #efefef');\r\n\r\n\t\tlist.noticeData = data;\r\n\t\t\r\n\t\t//\r\n\t\t// del.setSizeMode('absolute','absolute')\r\n\t\t//   .setAbsoluteSize(40,65)\r\n\t\t//   .setAlign(1)\r\n\t\t//   .setMountPoint(1)\r\n\t\t//   .setPosition(-16)\r\n\t\t//   .el = new DOMElement(del,{\r\n\t\t//   \tcontent:'<i class=\"del_ico\"></i>'\r\n\t\t//   })\r\n\r\n\t\t//  \r\n\t\tlist.addUIEvent('click');\r\n\t\tlist.listId = data.Id;\r\n\t\tlist.clickType = 'detail';  \r\n\r\n\t\t// del.addUIEvent('click');\r\n\t\t// del.listId = data.id;\r\n\t\t// del.obj = obj;\r\n\t\t// del.clickType = 'del';\r\n\t}\r\n\r\n\t\r\n}\r\n\r\n\r\nmodule.exports = Notice;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('navbar');\r\nvar config = require('config.json');\r\n\r\n\r\nclass NoticeDetail extends Page {\r\n\tconstructor(opt) {\r\n\t\tsuper({\r\n\t\t\tid: 'NoticeDetail'\r\n\t\t})\r\n\t}\r\n\r\n\tonCreate(opt) {\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.opt = opt;\r\n\r\n\t\tthis.type = this.opt ? this.opt.InfoType : 1;\r\n\r\n\t\tswitch (this.type) {\r\n\t\t\tcase 1:\r\n\t\t\t\tthis.title = '';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.title = '';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tthis.title = '';\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.title = '';\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tinitNav(this, this.title);\r\n\r\n\t}\r\n\r\n\tonResume() {\r\n\t\tsuper.onResume();\r\n\t\tif (!this._content) {\r\n\t\t\tinitContent(this, this.opt);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tvar _this = this,\r\n\t\t\tobj = this.getChildren(),\r\n\t\t\ti = obj.length;\r\n\r\n\t\twhile (i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._content = null;\r\n\t}\r\n}\r\n\r\nfunction initNav(node) {\r\n\tnode.addChild(new Nav(node.title));\r\n}\r\n\r\nfunction initContent(node, obj) {\r\n\tvar content = node.addChild();\r\n\r\n\tnode._content = content;\r\n\r\n\tif (obj == null) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tobj.InfoDesc = obj.InfoDesc.replace(/src=\"\\//g, 'src=\"' + config.noticehttp);\r\n\r\n\tvar DetailStr = `<div class=\"notice_header\">\r\n\t\t\t\t\t\t<h2>${obj.InfoTitle}</h2>\r\n\t\t\t\t\t\t<time>${obj.InfoCtime}</time>\r\n\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"notice_con\">${obj.InfoDesc}</div>\r\n\t\t\t\t\t<div class=\"notice_footer\">\r\n\t\t\t\t\t\t<p>${obj.InfoAuthor}</p>\r\n\t\t\t\t\t\t<time>${obj.InfoCtime}</time>\r\n\t\t\t\t\t</div>`;\t\r\n\r\n\tcontent\r\n\t\t.setSizeMode('relative', 'relative')\r\n\t\t.setDifferentialSize(0, -44)\r\n\t\t.setPosition(0, 44)\r\n\t\t.el = new DOMElement(content, {\r\n\t\t\tclasses: ['notice_bg', 'overflow_scoll'],\r\n\t\t\tcontent: DetailStr\r\n\t\t})\r\n\r\n}\r\n\r\nmodule.exports = NoticeDetail;","/**\r\n * Created by UMZS on 2016/7/18.\r\n */\r\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar App = require('App');\r\nvar navbar = require('twoBtnNav');\r\nvar button = require('button');\r\nvar Ajax = require('Ajax');\r\nvar sign = require('model/SignModel');\r\n\r\n\r\nclass orderPage extends Page{\r\n    constructor(){\r\n        super({id:'orderPage'});\r\n    }\r\n    onCreate(){\r\n        super.onCreate();\r\n        initNav(this);\r\n        var userSign = sign.findOne();\r\n        this.userId = userSign.id;\r\n        this.token = userSign.token;\r\n        //\r\n        new Ajax('/cater_fast/status')\r\n            .data({\r\n                'id':this.userId,\r\n                'did':App.uuid,\r\n                'tk':this.token\r\n            })\r\n            .success(function(d){\r\n                if(d.status === 200){\r\n                    this.caterStatus = d.data - 0;\r\n                }\r\n            }.bind(this)).post();\r\n\r\n        //    \r\n        new Ajax('cater_fast/price')\r\n            .data({\r\n                'id':this.userId,\r\n                'did':App.uuid,\r\n                'tk':this.token\r\n            })\r\n            .success(function(d){\r\n                if(d.status === 200){\r\n                    this.caterPrice = d.data;\r\n                }\r\n            }.bind(this)).post();\r\n\r\n        //\r\n        new Ajax('user_store/list_id')\r\n            .data({\r\n                'id':this.userId,\r\n                'did':App.uuid,\r\n                'tk':this.token\r\n            })\r\n            .success(function(d){\r\n                if(d.status === 200){\r\n                    this.userShop = d.data;\r\n                }\r\n            }.bind(this)).post();\r\n\r\n        //    \r\n        new Ajax('cater_fast/remark')\r\n            .data({\r\n                'id':this.userId,\r\n                'did':App.uuid,\r\n                'tk':this.token\r\n            })\r\n            .success(function(d){\r\n                if(d.status === 200){\r\n                    this.caterRemark = d.data\r\n                }\r\n            }.bind(this)).post();\r\n\r\n    }\r\n\r\n    onResume(){\r\n        super.onResume();\r\n        if(!this._con){\r\n            initContent(this,this.caterStatus,this.caterPrice,this.userShop,this.caterRemark);\r\n        }\r\n\r\n    }\r\n\r\n    onDestroy(){\r\n        var _this = this,\r\n            obj = this.getChildren(),\r\n            i = obj.length;\r\n\r\n        while(i--)\r\n            this.removeChild(obj[i]);\r\n\r\n        super.onDestroy();\r\n        this._con = null;\r\n    }\r\n}\r\n//\r\nfunction initNav(node){\r\n    var _this = node;\r\n    var backButton = new button(\" \",\"\",\"goback2\");\r\n\r\n    // backButton.setAbsoluteSize(44,44);\r\n    backButton.clickEvent = function(){\r\n        node.back();\r\n    };\r\n\r\n    var rightText = new button('','','right_text');\r\n    rightText.setAbsoluteSize(100,44);\r\n    rightText.clickEvent = function(){\r\n        _this.to('orderRecord');\r\n    };\r\n\r\n    node.addChild(new navbar('',backButton,rightText));\r\n}\r\n//\r\nfunction either(node,data,shop,remind_txt){\r\n    var _this = node;\r\n    var con = node.addChild();\r\n    node._con = con;\r\n    _this.imgH = 120/694*(App.width - 28);\r\n    var conJ = 44+7+_this.imgH+7;\r\n    //shop = null;\r\n    //data = null;\r\n\r\n    if(data == null){\r\n        data = 13;\r\n    }\r\n\r\n    if(shop == null){\r\n        shop = [];\r\n    }\r\n    var shopData = shop;\r\n\r\n    var shopStr = '';\r\n    for(var i = 0 ; i <shopData.length;i++){\r\n        shopStr += '<option value=\"'+shopData[i].id+'\"\">'+shopData[i].name+'</option>'\r\n    }\r\n\r\n    var imgBox = _this.addChild();\r\n    imgBox\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,_this.imgH)\r\n        .setPosition(0,44+7)\r\n        .setDifferentialSize(-28)\r\n        .setAlign(.5)\r\n        .setMountPoint(.5)\r\n        .el = new DOMElement(imgBox,{\r\n        classes:['img_box'],\r\n        content:'<p><span class=\"title\"></span><span class=\"price\">'+data+'/</span></p><img width=\"100%\" src=\"./images/orderPage/orderPage-bg.png\"/>'\r\n    });\r\n\r\n    con\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,75*3)\r\n        .setDifferentialSize(-28,-conJ)\r\n        .setPosition(0,conJ)\r\n        .setAlign(.5)\r\n        .setMountPoint(.5)\r\n        .el = new DOMElement(con,{\r\n        classes:['con'],\r\n        content:\r\n        '<div class=\"dic\"><div class=\"bor\"><span></span></div>'+\r\n        '<div class=\"bor\"><span></span></div>'+\r\n        '<div class=\"bor\"><span></span><em class=\"side\"><img src=\"images/common/r_arrow_ico.png\" alt=\"\"/></em></div></div>'\r\n    });\r\n\r\n    var count = con.addChild();\r\n    count\r\n        .setSizeMode('absolute','absolute')\r\n        .setAbsoluteSize(100,75)\r\n        .setPosition(-10,0)\r\n        .setAlign(1)\r\n        .setMountPoint(1)\r\n        .el = new DOMElement(count,{\r\n    });\r\n\r\n    var reduce = count.addChild();\r\n    reduce\r\n        .setSizeMode('absolute','absolute')\r\n        .setAbsoluteSize(25,25)\r\n        .setAlign(0,.5)\r\n        .setMountPoint(0,.5)\r\n        .el = new DOMElement(reduce,{\r\n        content:'<img width=\"25px\" src=\"images/orderPage/reduce.png\">'\r\n    });\r\n\r\n    var nm = 1;\r\n    reduce.onReceive = function(e,p){\r\n        if(e === 'click'){\r\n            if(nm == 0){\r\n                return;\r\n            }\r\n            nm--;\r\n            num.el.setContent(nm);\r\n            twelve.el.setContent(''+nm*data)\r\n        }\r\n    };\r\n\r\n    reduce.addUIEvent('click');\r\n    //\r\n    var num = count.addChild();\r\n    num\r\n        .setSizeMode('absolute','absolute')\r\n        .setAbsoluteSize(15,15)\r\n        .setAlign(.5,.5)\r\n        .setMountPoint(.5,.5)\r\n        .el = new DOMElement(num,{\r\n        classes:['num'],\r\n        content:nm\r\n    });\r\n\r\n\r\n    var add = count.addChild();\r\n    add\r\n        .setSizeMode('absolute','absolute')\r\n        .setAbsoluteSize(25,25)\r\n        .setAlign(1,.5)\r\n        .setMountPoint(1,.5)\r\n        .el = new DOMElement(add,{\r\n        content:'<img width=\"25px\" src=\"images/orderPage/add.png\">'\r\n    });\r\n\r\n    add.onReceive = function(e,p){\r\n        if(e === 'click'){\r\n            nm++;\r\n            num.el.setContent(nm);\r\n            twelve.el.setContent(''+nm*data)\r\n        }\r\n    };\r\n    add.addUIEvent('click');\r\n    //\r\n    var twelve = con.addChild();\r\n    twelve\r\n        .setSizeMode('absolute','absolute')\r\n        .setAbsoluteSize(100,75)\r\n        .setPosition(-10,75)\r\n        .setAlign(1)\r\n        .setMountPoint(1)\r\n        .el = new DOMElement(twelve,{\r\n        classes:['twelve'],\r\n        content:''+data\r\n    });\r\n\r\n    var address = con.addChild();\r\n    address\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,75)\r\n        .setDifferentialSize(-60)\r\n        .setPosition(70,75*2)\r\n        .el = new DOMElement(address,{\r\n        classes:['address'],\r\n        content:'<select><option value=\"-1\"></option>'+shopStr+'</select>'\r\n    });\r\n    var add_id = '';\r\n    address.onReceive = function(e,p){\r\n        if(e === 'change'){\r\n            add_id = p.value;\r\n        }\r\n    };\r\n\r\n    address.addUIEvent('change');\r\n    var btn = node.addChild();\r\n    btn\r\n        .setSizeMode('absolute','absolute')\r\n        .setAbsoluteSize(272,42)\r\n        .setPosition(0,44+7+_this.imgH+75*3+45+7)\r\n        .setAlign(.5)\r\n        .setMountPoint(.5)\r\n        .el = new DOMElement(btn,{\r\n        classes:['btn'],\r\n        content:''\r\n    });\r\n\r\n\r\n//\r\n    btn.onReceive = function(e,p){\r\n        if(e === 'click'){\r\n            if(nm == 0 ){\r\n                alert('','','','')\r\n            }else if(add_id == ''){\r\n                alert('','','','')\r\n            }else{\r\n                new Ajax('cater_fast/apply')\r\n                    .data({\r\n                        'sid':add_id,\r\n                        'num':nm,\r\n                        'id':_this.userId,\r\n                        'did':App.uuid,\r\n                        'tk':_this.token\r\n                    })\r\n                    .success(function(d){\r\n                        if(d.status === 200){\r\n\r\n                            alert('12',function(){\r\n                                _this.to('orderRecord');\r\n                                add_id = '';\r\n                                nm = 1;\r\n                                num.el.setContent(nm);\r\n                                address.el.setContent('<select><option value=\"-1\"></option>'+shopStr+'</select>');\r\n                            },'','');\r\n                        }else{\r\n                            alert(d.msg,'','','')\r\n                        }\r\n                    }.bind(_this)).post();\r\n            }\r\n\r\n        }\r\n    };\r\n\r\n    btn.addUIEvent('click');\r\n    var remindData = remind_txt;\r\n    var remindStr = '';\r\n\r\n    var remind = node.addChild();\r\n\r\n    if(remindData == null){\r\n        remindData = ['09:00-10:30','10:30',''];\r\n    }\r\n\r\n    for(var i = 0;i<remindData.length;i++){\r\n        remindStr +='<p><em></em>'+remindData[i]+'</p>'\r\n    }\r\n\r\n    remind\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,App.width*308/750)\r\n        .setAlign(1,1)\r\n        .setMountPoint(1,1)\r\n        .el = new DOMElement(remind,{\r\n        classes:['remind'],\r\n        content:'<h2><i></i></h2>'+remindStr\r\n    });\r\n\r\n}\r\n//\r\nfunction initContent(node,flag,price,shop,remind_txt){\r\n    //\r\n\r\n    if(flag === 1 ){\r\n        var _this = node;\r\n        var eggplant = _this.addChild();\r\n        eggplant\r\n            .setSizeMode('relative','absolute')\r\n            .setAbsoluteSize(null,App.width*594/726)\r\n            .setProportionalSize(.8)\r\n            .setAlign(.5,.5)\r\n            .setMountPoint(.5,.5)\r\n            .el = new DOMElement(eggplant,{\r\n            classes:['eggplant'],\r\n            content:'<img class=\"egg\" width=\"100%\" src=\"images/blank/eggplant.png\">'\r\n        });\r\n\r\n        var mask = _this.addChild();\r\n        mask\r\n            .setPosition(0,44)\r\n            .el = new DOMElement(mask,{\r\n            classes:['mask']\r\n        });\r\n    }\r\n    either(node,price,shop,remind_txt);\r\n\r\n}\r\nmodule.exports = orderPage;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('navbar');\r\nvar Blank = require('blank');\r\nvar Ajax = require('Ajax');\r\nvar App = require('App');\r\nvar sign = require('model/SignModel');\r\n\r\nclass AdRecord extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Record'})\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\t\t\r\n\t\tvar userSign = sign.findOne();\r\n\r\n\t\tnew Ajax('/advert_apply/lists_user')\r\n\t\t\t.data({\r\n\t\t\t\t'id':userSign.id,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':userSign.token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\tthis.data = d.data;\r\n\t\t\t\t}\r\n\t\t}.bind(this)).post();\r\n\r\n\t\tinitNav(this);\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\t// var data = null;\r\n\t\tinitListCon(this,this.data);\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\t// this._content = null;\r\n\t}\r\n}\r\n\r\nfunction initNav(node){\r\n\t\r\n\tnode.addChild(new Nav(''));\r\n}\r\n\r\nfunction initListCon(node,data){\r\n\tvar content = node.addChild();\r\n\r\n\tif(data == null){\r\n\t\tcontent.addChild(new Blank('apply'));\r\n\t\treturn false;\r\n\t}\t\r\n\r\n\tvar recordStr = '';\r\n\r\n\tfor(var i = 0 ; i < data.length;i++){\r\n\t\trecordStr += `<div class=\"record_list\"><i class=\"record_status status_${data[i].status}\"></i><table border=\"1\">\r\n\t\t\t\t\t\t<tr><td class=\"title\"></td><td>${data[i].store}</td></tr>\r\n\t\t\t\t\t\t<tr><td class=\"title\"></td><td>${data[i].adposition}</td></tr>\r\n\t\t\t\t\t\t<tr><td class=\"title\"></td><td>${data[i].adtype}</td></tr>\r\n\t\t\t\t\t\t<tr><td class=\"title\"></td><td>${data[i].ctime}</td></tr>\r\n\t\t\t\t\t</table></div>`;\r\n\t}\r\n\r\n\t\r\n\t\r\n\tcontent\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setDifferentialSize(0,-(44+8))\r\n\t\t.setPosition(0,44)\r\n\t\t.el = new DOMElement(content,{\r\n\t\t\tclasses:['con','overflow_scoll'],\r\n\t\t\tcontent:recordStr\r\n\t\t})\r\n\r\n}\r\n\r\nmodule.exports = AdRecord;","/**\r\n * Created by UMZS on 2016/8/4.\r\n */\r\nvar Page = require('Page');\r\nvar Node = require('famous/core/Node');\r\nvar nav = require('navbar');\r\nvar Blank  = require('../../node_modules/blank.js');\r\nvar Ajax  = require('Ajax');\r\n\r\nclass businessRecord extends Page{\r\n    constructor(){\r\n        super({id: 'businessRecord'});\r\n    }\r\n\r\n    onCreate(){\r\n        super.onCreate();\r\n        initNav(this);\r\n    }\r\n\r\n    onResume(){\r\n        super.onResume();\r\n        initContent(this);\r\n    }\r\n\r\n    onDestroy(){\r\n        var cor = this.getChildren(),\r\n            len = cor.length;\r\n        while (len--) {\r\n            this.removeChild(cor[len]);\r\n        }\r\n        //this._content = null;\r\n        super.onDestroy()\r\n    }\r\n}\r\n\r\n\r\nfunction initNav (node){\r\n    node.addChild(new nav(''));\r\n}\r\n\r\nfunction initContent(node){\r\n    node.addChild(new Blank('business'));\r\n}\r\n\r\nmodule.exports = businessRecord;","/**\r\n * Created by UMZS on 2016/7/21.\r\n */\r\nvar Page = require('Page');\r\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar App = require('App');\r\nvar nav = require('navbar');\r\nvar ListView = require('ListView');\r\nvar Blank  = require('../../node_modules/blank.js');\r\nvar Ajax  = require('Ajax');\r\nvar sign = require('model/SignModel.js');\r\n\r\nclass orderRecord extends Page{\r\n    constructor(){\r\n        super({id:'orderRecord'});\r\n    }\r\n    onCreate(){\r\n        super.onCreate();\r\n        initNav(this);\r\n        var userSign = sign.findOne();\r\n        this.userId = userSign.id;\r\n        this.token = userSign.token;\r\n\r\n        //\r\n        new Ajax('cater_fast/lists_user')\r\n            .data({\r\n                'id':this.userId,\r\n                'did':App.uuid,\r\n                'tk':this.token\r\n            })\r\n            .success(function(d){\r\n                if(d.status === 200){\r\n                    this.caterLists_user = d.data;\r\n                }\r\n            }.bind(this)).post();\r\n    }\r\n\r\n    onResume(){\r\n        super.onResume();\r\n        if(!this._content){\r\n            initContent(this,this.caterLists_user);\r\n        }\r\n        \r\n    }\r\n\r\n    onDestroy(){\r\n        var cor = this.getChildren(),\r\n            len = cor.length;\r\n        while(len--){\r\n            this.removeChild(cor[len]);\r\n        }\r\n        this._content = null;\r\n        super.onDestroy()\r\n    }\r\n\r\n    onReceive(e,p){\r\n        if(e === 'click' && p.node.btnId === 'cancel'){\r\n            confirm('',function(index){\r\n                if(index === 1){\r\n                    new Ajax('cater_fast/cancel')\r\n                        .data({\r\n                            'fid':p.node.orderId,\r\n                            'id':this.userId,\r\n                            'did':App.uuid,\r\n                            'tk':this.token\r\n                        })\r\n                        .success(function(d){\r\n                            if(d.status === 200){\r\n                                p.node.el.setContent('');\r\n                                p.node.el.removeClass('cancel');\r\n                                alert('','','','')\r\n                            }else{\r\n                                alert('','','','')\r\n                            }\r\n                        }).post();\r\n                }\r\n            }.bind(this),'',['','']);\r\n\r\n        }\r\n        p.stopPropagation();\r\n    }\r\n}\r\n\r\nfunction initNav (node){\r\n    node.addChild(new nav(''));\r\n}\r\n\r\nfunction initContent(node,data) {\r\n\r\n    var content = node.addChild();\r\n\r\n    content.setSizeMode('relative','relative')\r\n        .setDifferentialSize(0,-44)\r\n        .setPosition(0,44)\r\n        .el = new DOMElement(content,{\r\n        classes:['overflow_scoll']\r\n\r\n    });\r\n\r\n    node._content = content;\r\n\r\n    if (data === null) {\r\n        node.addChild(new Blank('order'));\r\n\r\n    } else {\r\n\r\n        node.allList = new ListView({\r\n            threshold: 7,// item \r\n            throttle: 16.7,// Scroll\r\n            itemSize: [null, 108],//item  \r\n            createItem: function (data, obj) {\r\n                var recordlist = new RecordList(data, obj);\r\n                return recordlist;\r\n            }\r\n        });\r\n\r\n        node.allList.BindData(data);\r\n\r\n        content.addChild(node.allList);\r\n\r\n    }\r\n}\r\n\r\nclass RecordList extends Node{\r\n    constructor(data,obj){\r\n        super();\r\n        var list = this.addChild();\r\n        var statusTxt = '';\r\n        list\r\n            .setSizeMode('relative', 'absolute')\r\n            .setAbsoluteSize(null, 101)\r\n            .el = new DOMElement(list,{\r\n            classes: ['con'],\r\n            content: '<div class=\"title\"><span></span></div>' +\r\n            '<div class=\"time\"><span>' + data.time + '</span></div>' +\r\n            '<div class=\"count\"><span>' + data.num + '</span> <em>' + data.money + '</em></div>'\r\n        });\r\n\r\n        var num = data.status;\r\n        switch (num) {\r\n            case 0:\r\n                statusTxt = '';\r\n                break;\r\n            case 1:\r\n                statusTxt = '';\r\n                break;\r\n            case 2:\r\n                statusTxt = '';\r\n                break;\r\n        }\r\n\r\n        var cancel = list.addChild();\r\n        cancel\r\n            .setSizeMode('absolute', 'absolute')\r\n            .setAbsoluteSize(App.width * 200 / 326, '60')\r\n            .setAlign(1)\r\n            .setMountPoint(1)\r\n            .el = new DOMElement(cancel, {\r\n            classes: ['statusTxt'],\r\n            content: statusTxt\r\n        });\r\n\r\n        cancel.btnId = 'cancel';\r\n        cancel.orderId = data.id;\r\n        num === 0 && cancel.el.addClass('cancel') && cancel.addUIEvent('click');\r\n    }\r\n}\r\nmodule.exports = orderRecord;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('navbar');\r\nvar blank = require('blank');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar signModel = require('model/signModel');\r\n\r\nclass record_hall extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'record_hall'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(){\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.addChild(new navbar(''));\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setDifferentialSize(-30,-70).setPosition(15,60);\r\n\t\tthis.content.el = new DOMElement(this.content,{\r\n\t\t\tclasses:['overflow_auto']\r\n\t\t});\r\n\r\n\t\tinitPage(this.content);\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\r\n\t\tvar obj = this.getChildren(),\r\n\t\t\t\ti = obj.length;\r\n\r\n\t\twhile(i--){\r\n\t\t\tthis.removeChild(obj[i]);\r\n\t\t}\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\tnew Ajax('/hall_apply/lists_user').data({\r\n\t\t'id':signModel.findOne().id,\r\n\t\t'did':App.uuid,\r\n\t\t'tk':signModel.findOne().token\r\n\t}).success(function(res){\r\n\r\n\t\tvar list = res.data;\r\n\t\t\t\t\r\n\r\n\t\tif(list == null){\r\n\r\n\t\t\tnodeAll.addChild(new blank('apply'));\r\n\r\n\r\n\t\t}else{\r\n\r\n\t\t\tvar len = list.length,\r\n\t\t\t\t\tstr = '';\r\n\r\n\t\t\tfor(var i = 0; i < len; i++){\r\n\t\t\t\tstr += `\r\n\t\t\t\t\t<div class=\"table_div\">\r\n\t\t\t\t\t <img src=\"images/record/status_${list[i].status}.png\">\t\r\n\t\t\t\t\t <table>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>${list[i].store}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td rowspan=\"2\">/</td>\r\n\t\t\t\t\t\t\t<td>${list[i].size}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style=\"background:#fff;color:#666;\">${list[i].size}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>/</td>\r\n\t\t\t\t\t\t\t<td>${list[i].cycle}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>${list[i].ctime}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t </table>\r\n\t\t\t\t  </div>\r\n\t\t\t\t`\r\n\t\t\t}\r\n\r\n\t\t\tnodeAll.el = new DOMElement(nodeAll,{\r\n\t\t\t\tclasses:['table_hall'],\r\n\t\t\t\tcontent:str\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}).post();\r\n\r\n\t\r\n\r\n}\r\n\r\n\r\nmodule.exports = record_hall;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('navbar');\r\nvar blank = require('blank');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar signModel = require('model/signModel');\r\n\r\nclass record_yard extends Page{\r\n\r\n\tconstructor(){\r\n\t\tsuper({\r\n\t\t\tid:'record_hall'\r\n\t\t});\r\n\t}\r\n\r\n\tonCreate(){\r\n\r\n\t\tsuper.onCreate();\r\n\r\n\t\tthis.addChild(new navbar(''));\r\n\r\n\t\tthis.content = this.addChild();\r\n\t\tthis.content.setDifferentialSize(-30,-70).setPosition(15,60);\r\n\t\tthis.content.el = new DOMElement(this.content,{\r\n\t\t\tclasses:['overflow_auto']\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonResume(){\r\n\r\n\t\tsuper.onResume();\r\n\r\n\t\tinitPage(this.content);\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\r\n\t\tvar obj = this.getChildren(),\r\n\t\t\t\ti = obj.length;\r\n\r\n\t\twhile(i--){\r\n\t\t\tthis.removeChild(obj[i]);\r\n\t\t}\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction initPage(nodeAll){\r\n\r\n\tnew Ajax('/yard_apply/lists_user').data({\r\n\t\t'id':signModel.findOne().id,\r\n\t\t'did':App.uuid,\r\n\t\t'tk':signModel.findOne().token\r\n\t}).success(function(res){\r\n\r\n\t\tvar list = res.data;\r\n\r\n\t\tif(list == null){\r\n\r\n\t\t\tnodeAll.addChild(new blank('apply'));\r\n\r\n\t\t}else{\r\n\r\n\t\t\tvar len = list.length,\r\n\t\t\t\t\tstr = '';\r\n\t\t\tfor(var i = 0; i < len; i++){\r\n\t\t\t\tstr += `\r\n\t\t\t\t\t<div class=\"table_div\">\r\n\t\t\t\t\t <img src=\"images/record/status_${list[i].status}.png\">\t\r\n\t\t\t\t\t <table>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>${list[i].id}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>/</td>\r\n\t\t\t\t\t\t\t<td>${list[i].size}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>${list[i].ctime}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>${list[i].etime}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>${list[i].stime}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t </table>\r\n\t\t\t\t  </div>\r\n\t\t\t\t`\r\n\r\n\t\t\t}\r\n\r\n\t\t\tnodeAll.el = new DOMElement(nodeAll,{\r\n\t\t\t\tclasses:['table_hall'],\r\n\t\t\t\tcontent:str\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}).post()\r\n\r\n\t\r\n\r\n}\r\n\r\n\r\nmodule.exports = record_yard;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('navbar');\r\nvar Blank = require('blank');\r\nvar App = require('App');\r\nvar sign = require('model/SignModel');\r\nvar Ajax = require('Ajax');\r\n\r\nclass RepairRecord extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Record'})\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\t\t\r\n\t\tinitNav(this);\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tvar userSign = sign.findOne();\r\n\t\tnew Ajax('/property_repair/lists_user')\r\n\t\t\t.data({\r\n\t\t\t\t'id':userSign.id,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':userSign.token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\tthis.data = d.data;\r\n\t\t\t\t\tinitListCon(this,this.data);\r\n\t\t\t\t}\r\n\t\t\t}.bind(this)).post();\r\n\r\n\t\t\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\t// this._content = null;\r\n\t}\r\n}\r\n\r\nfunction initNav(node){\r\n\t\r\n\tnode.addChild(new Nav(''));\r\n}\r\n\r\nfunction initListCon(node,data){\r\n\tvar content = node.addChild();\r\n\r\n\tif(data === null){\r\n\t\tcontent.addChild(new Blank('apply'));\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tvar recordStr = '';\r\n\r\n\tfor(var i = 0 ; i < data.length;i++){\r\n\t\trecordStr += `<div class=\"record_list\"><i class=\"record_status status_${data[i].status}\"></i><table border=\"1\">`+\r\n\t\t\t\t\t\t`<tr><td class=\"title\"></td><td>${data[i].ctime}</td></tr>`+\r\n\t\t\t\t\t\t`<tr><td class=\"title\"></td><td>${data[i].phone}</td></tr>`+\r\n\t\t\t\t\t\t`<tr><td class=\"title\"></td><td>${data[i].store}</td></tr>`+\r\n\t\t\t\t\t\t`<tr><td class=\"title\"></td><td>${data[i].desc}</td></tr>`+\r\n\t\t\t\t\t`</table></div>`;\r\n\t}\r\n\r\n\t\r\n\tcontent\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setDifferentialSize(0,-(44+8))\r\n\t\t.setPosition(0,44)\r\n\t\t.el = new DOMElement(content,{\r\n\t\t\tclasses:['con','overflow_scoll'],\r\n\t\t\tcontent:recordStr\r\n\t\t})\r\n\r\n}\r\n\r\nmodule.exports = RepairRecord;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Navbar = require('navbar');\r\nvar IconText = require('IconText');\r\nvar Tips = require('Tips');\r\n\r\nclass Card extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Card'});\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitNav(this);\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tinitContent(this);\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\t\t// this._content = null;\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\tif( e === 'click' && p.node.listId === 'type0'){\r\n\t\t\talert('','','','');\r\n\t\t}\r\n\t\tif(\te === 'click' && p.node.listId === 'type1'){\r\n\t\t\talert('','','','');\r\n\t\t}\r\n\t\tif( e === 'click' && p.node.listId === 'type2'){\r\n\t\t\talert('','','','');\r\n\t\t}\r\n\t\t\r\n\r\n\t\tp.stopPropagation();\r\n\t}\r\n}\r\n\r\nfunction initNav(node){\r\n\tnode.addChild( new Navbar(''));\r\n}\r\n\r\n//\r\nfunction initContent( node ){\r\n\tvar content = node.addChild();\r\n\t\r\n\tcontent\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setDifferentialSize(0,-44)\r\n\t\t.setPosition(0,44)\r\n\r\n\tvar IconJson = [\r\n\t\t{'icon':'./images/service/wuye.png','text':''},\r\n\t\t{'icon':'./images/service/tingche.png','text':''},\r\n\t\t{'icon':'./images/service/canyin.png','text':''}\r\n\t]\r\n\r\n\tfor(var i = 0 ; i < IconJson.length; i++){\r\n\r\n\t\t//icon\r\n\t\tvar CardType = new IconText(IconJson[i],i,3,85,33,'ico_box');\r\n\r\n\t\tCardType.listId = 'type'+i;\r\n\t\tCardType.addUIEvent('click');\r\n\r\n\t\tcontent.addChild(CardType);\r\n\r\n\t}\t\r\n\r\n}\r\n\r\nmodule.exports = Card;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Navbar = require('navbar');\r\nvar IconText = require('IconText');\r\nvar Ajax = require('Ajax');\r\nvar App = require('App');\r\nvar sign = require('model/SignModel');\r\n\r\nclass ServiceIndex extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'ServiceIndex'})\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitNav(this);\r\n\r\n\t\tvar userSign = sign.findOne();\r\n\r\n\t\tnew Ajax('/user_store/list_id')\r\n\t\t\t.data({\r\n\t\t\t\t'id':userSign.id,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':userSign.token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\tthis.shopData = d.data;\r\n\t\t\t\t\tthis.shopLen = this.shopData.length;\r\n\t\t\t\t}\r\n\t\t\t}.bind(this)).post();\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume()\r\n\r\n\t\tif(!this._content){\r\n\t\t\tinitContent(this);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._content = null;\r\n\t}\r\n\r\n\r\n\tonReceive(e,p){\r\n\r\n\t\tif( e === 'click' && p.node.listId === 'type0'){\r\n\t\t\t//\r\n\t\t\tif(this.shopLen === 1){\r\n\t\t\t\tthis.to('adApply',{data:this.shopData[0].id});\r\n\t\t\t\tp.stopPropagation();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.to('shopChoose',{data:1});\r\n\t\t}\r\n\t\t\t\r\n\t\tif( e === 'click' && p.node.listId === 'type1'){\r\n\t\t\t//\r\n\t\t\tif(this.shopLen === 1){\r\n\t\t\t\tthis.to('apply_yard',{data:this.shopData[0].id});\r\n\t\t\t\tp.stopPropagation();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.to('shopChoose',{data:2});\r\n\t\t}\r\n\t\tif( e === 'click' && p.node.listId === 'type2'){\r\n\t\t\t//\r\n\t\t\tif(this.shopLen === 1){\r\n\t\t\t\tthis.to('apply_hall',{data:this.shopData[0].id});\r\n\t\t\t\tp.stopPropagation();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.to('shopChoose',{data:3});\r\n\t\t}\r\n\t\tif(\te === 'click' && p.node.listId === 'type3'){\r\n\t\t\tthis.to('orderPage');\r\n\t\t}\r\n\t\tif( e === 'click' && p.node.listId === 'type4'){\r\n\t\t\tthis.to('licence')\r\n\t\t}\r\n\t\tif( e === 'click' && p.node.listId === 'type5'){\r\n\t\t\tthis.to('apply_wl');\r\n\t\t}\r\n\t\t\r\n\r\n\t\tp.stopPropagation();\r\n\t}\r\n} \r\n\r\n\r\n//\r\nfunction initNav (node) {\r\n\t node.addChild( new Navbar('') );\r\n}\r\n\r\n//\r\nfunction initContent( node ){\r\n\tvar content = node.addChild();\r\n\t\r\n\tcontent\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setDifferentialSize(0,-44)\r\n\t\t.setPosition(0,44)\r\n\r\n\tnode._content = content;\r\n\r\n\tvar IconJson = [\r\n\t\t{'icon':'./images/service/guanggao.png','text':''},\r\n\t\t{'icon':'./images/service/duichang.png','text':''},\r\n\t\t{'icon':'./images/service/dating.png','text':''},\r\n\t\t{'icon':'./images/service/dingcan.png','text':''},\r\n\t\t{'icon':'./images/service/zhizhao.png','text':''},\r\n\t\t{'icon':'./images/service/banjia.png','text':''}\r\n\t]\r\n\r\n\tfor(var i = 0 ; i < IconJson.length; i++){\r\n\r\n\t\t//icon\r\n\t\tvar ServeType = new IconText(IconJson[i],i,3,85,51,'ico_box');\r\n\r\n\t\tServeType.listId = 'type'+i;\r\n\t\tServeType.addUIEvent('click');\r\n\r\n\t\tcontent.addChild(ServeType);\r\n\r\n\t}\t\r\n\r\n}\r\n\r\nmodule.exports = ServiceIndex;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('navbar');\r\nvar App = require('App');\r\n\r\nclass Licence extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Licence'});\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitPage(this);\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\t// this._content = null;\r\n\t}\r\n\r\n}\r\n\r\nfunction initPage(node){\r\n\tnode.addChild(new Nav(''));\r\n\r\n\r\n\tvar con = node.addChild();\r\n\tcon\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setDifferentialSize(0,-44)\r\n\t\t.setPosition(0,44)\r\n\t\t.el = new DOMElement(con,{\r\n\t\t\tclasses:['img_con','overflow_scoll'],\r\n\t\t\tcontent:function(){\r\n\t\t\t\tvar str = '';\r\n\t\t\t\tvar imgW = App.width -28;\r\n\t\t\t\tvar imgSrc = './images/service/step_';\r\n\t\t\t\tfor(var i = 1 ; i < 5;i++){\r\n\t\t\t\t\tstr += `<img width=\"${imgW}\" style=\"margin-top:34px;\" src = \"${imgSrc}${i}.png\"/>`\r\n\t\t\t\t}\r\n\t\t\t\tstr += `<img width=\"${App.width}\" style=\"margin-top:34px;\" src = \"${imgSrc}5.png\"/>`\r\n\r\n\t\t\t\treturn str;\r\n\t\t\t}(),\r\n\t\t\tproperties:{\r\n\t\t\t\t'fontSize':'0',\r\n\t\t\t\t'textAlign':'center'\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\n\r\nmodule.exports = Licence;","var Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar navbar = require('twoBtnNav');\r\nvar button = require('button');\r\nvar inputCustom = require('inputCustom');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar sign = require('model/SignModel');\r\nvar datetime = '',mobile = '',adds = '',desc = ''; \r\n\r\nclass Repair extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Repair'})\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitNav(this);\r\n\r\n\t\tvar userSign = sign.findOne();\r\n\r\n\t\tnew Ajax('/user_store/list_id')\r\n\t\t\t.data({\r\n\t\t\t\t'id':userSign.id,\r\n\t\t\t\t'did':App.uuid,\r\n\t\t\t\t'tk':userSign.token\r\n\t\t\t})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\tthis.shopData = d.data;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.shopData = null;\r\n\t\t\t\t}\r\n\t\t\t}.bind(this)).post();\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tif(!this._content){\r\n\r\n\t\t\tinitContent(this,this.shopData);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._content = null;\r\n\t}\r\n\r\n\tclean(){\r\n\t\tthis.telInput.el.setAttribute('value','').draw();\r\n\t\tthis.descTextarea.el.setAttribute('value','').draw()\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction initNav(node){\r\n\tvar backButton = new button(\" \",\"\",\"goback2\");\r\n\tvar _this = node;\r\n\r\n\t// backButton.setAbsoluteSize(44,44);\r\n\tbackButton.clickEvent = function(){\r\n\t\t_this.clean();\r\n\t\t_this.back();\r\n\t};\r\n\r\n\tvar rightText = new button('','','right_text');\r\n\trightText.setAbsoluteSize(100,44);\r\n\trightText.clickEvent = function(){\r\n\t\t_this.to('repairRecord');\r\n\t};\r\n\r\n\tnode.addChild(new navbar('',backButton,rightText));\r\n}\r\n\r\nfunction getNowDate(){\r\n\tvar date = new Date();\r\n\r\n\tvar year = date.getFullYear(),\r\n\t\tmon = ('0'+(date.getMonth()+1)).substr(-2),\r\n\t\tday = ('0'+date.getDate()).substr(-2),\r\n\t\thour = ('0'+date.getHours()).substr(-2),\r\n\t\tmin = ('0'+date.getMinutes()).substr(-2),\r\n\t\tsec = ('0'+date.getSeconds()).substr(-2)\r\n\r\n\treturn year+'-'+mon+'-'+day+'T'+hour+':'+min+':'+sec;\r\n}\r\n\r\nfunction initContent(node,data){\r\n\r\n\tvar _this = node;\r\n\r\n\tvar shopJson = data;\r\n\r\n\tvar content = node.addChild();\r\n\tcontent.setSizeMode('relative','relative')\r\n\t\t   .setDifferentialSize(0,-44)\r\n\t\t   .setPosition(0,44)\r\n\t\t   .el = new DOMElement(content,{\r\n\t\t   \t\tclasses:['repair_con']\r\n\t\t   })\r\n\r\n\tnode._content = content;\t   \r\n\r\n\tvar form = content.addChild();\r\n\tvar form_item = `<ul>\r\n\t\t\t\t\t\t<li class=\"date\"><span></span></li>\r\n\t\t\t\t\t\t<li class=\"tel\"><span></span></li>\r\n\t\t\t\t\t\t<li class=\"adds\"><span></span></li>\r\n\t\t\t\t\t\t<li class=\"desc\"><span></span></li>\r\n\t\t\t\t    </ul>`;\r\n\r\n\tform.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,414)\r\n\t\t.setDifferentialSize(-28)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.setPosition(0,16)\r\n\t\t.el = new DOMElement(form,{\r\n\t\t\tclasses:['repair_form'],\r\n\t\t\tcontent:form_item\r\n\r\n\t\t});\r\n\r\n\r\n\tvar dateInput = new inputCustom();\r\n\t\t\r\n\tdatetime = getNowDate();\r\n\t\t// console.log(nowTime);\r\n\r\n\t\tdateInput\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,60)\r\n\t\t\t.setDifferentialSize(-120)\r\n\t\t\t.setPosition(120)\r\n\t\t\t.el.setProperty('line-height','60px')\r\n\t\t\t   .setAttribute('value',datetime)\r\n\t\t\t   // .setAttribute('min', nowTime)\r\n\t\t\t   .setAttribute('type','datetime-local')\r\n\t\t\t   .setAttribute('readonly','readonly');\r\n\t\t\t\r\n\t\t// dateInput.addUIEvent('change')\r\n\t\t// dateInput.onReceive = function(e,p){\r\n\t\t// \t\tif(e === 'change'){\r\n\t\t// \t\t\tdatetime = p.value;\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\r\n\tform.addChild(dateInput);\r\n\r\n\t_this.telInput = new inputCustom();\r\n\r\n\t_this.telInput\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,60)\r\n\t\t\t.setDifferentialSize(-120)\r\n\t\t\t.setPosition(120,60)\r\n\t\t\t.el.setAttribute('type','tel')\r\n\t\t\t   .setAttribute('placeholder','')\r\n\t\t\t   .setAttribute('maxlength', '11')\r\n\t\t\r\n\t\t_this.telInput.inputEvent = function(e,p){\r\n\t\t\t\tif(e === 'input'){\r\n\t\t\t\t\tmobile = p.value;\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\tform.addChild(_this.telInput);\r\n\r\n\tvar addsSelect = form.addChild();\r\n\r\n\t\taddsSelect\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,60)\r\n\t\t\t.setDifferentialSize(-120)\r\n\t\t\t.setPosition(120,120)\r\n\t\t\t.el = new DOMElement(addsSelect,{\r\n\t\t\t\tclasses:['adds_select'],\r\n\t\t\t\tcontent:function(){\r\n\t\t\t\t\tvar str = `<select>`;\r\n\t\t\t\t\t// console.log(shopJson);\r\n\t\t\t\t\tif(shopJson){\r\n\t\t\t\t\t\tshopJson.forEach(v =>{\r\n\t\t\t\t\t\t\tstr += `<option value=\"${v.id}\">${v.name}</option>`\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tadds = shopJson[0].id;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn str + `</select>`;\r\n\t\t\t\t}()\r\n\t\t\t})\r\n\r\n\t\taddsSelect.addUIEvent('change')\r\n\t\taddsSelect.onReceive = function(e,p){\r\n\t\t\tif(e === 'change'){\r\n\t\t\t\tadds = p.value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t_this.descTextarea = form.addChild();\r\n\r\n\t_this.descTextarea\r\n\t\t\t.setSizeMode('relative','absolute')\r\n\t\t\t.setAbsoluteSize(null,150)\r\n\t\t\t.setDifferentialSize(-46)\r\n\t\t\t.setPosition(34,230)\r\n\t\t\t.el = new DOMElement(_this.descTextarea,{\r\n\t\t\t\ttagName:'textarea',\r\n\t\t\t\tclasses:['desc_textarea']\r\n\t\t\t}).setAttribute('placeholder','')\r\n\t\t\r\n\t\t_this.descTextarea.addUIEvent('input')\r\n\t\t_this.descTextarea.onReceive = function(e,p){\r\n\t\t\tif(e === 'input'){\r\n\t\t\t\tdesc = p.value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\tvar submit = new button('','#fe6a71','submit_btn')\r\n\tsubmit.setSizeMode('relative','absolute')\r\n\t\t  .setAbsoluteSize(null,40)\r\n\t\t  .setPosition(0,16+414+27)\r\n\t\t  .setProportionalSize(.7)\r\n\t\t  .setAlign(.5)\r\n\t\t  .setMountPoint(.5)\r\n\t\t  .clickEvent = function(e,p){\r\n\t\t  \tif(e === 'click'){\r\n\t\t  \t\tif(!/^(\\+?86 ?)?1\\d{10}$/g.test(mobile)){\r\n\t\t\t\t\talert('','','','');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}else if(!adds){\r\n\t\t\t\t\talert(' ','','','');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}else if(!desc){\r\n\t\t  \t\t\talert('','','','');\r\n\t\t  \t\t\treturn false;\r\n\t\t  \t\t}else{\r\n\t\t  \t\t\tvar userSign = sign.findOne();\r\n\r\n\t\t  \t\t\tnew Ajax('/property_repair/add')\r\n\t\t  \t\t\t\t.data({\r\n\t\t  \t\t\t\t\t'store':adds,\r\n\t\t  \t\t\t\t\t'desc':desc,\r\n\t\t  \t\t\t\t\t'id':userSign.id,\r\n\t\t  \t\t\t\t\t'datetime':datetime.split('T')[0]+' '+datetime.split('T')[1],\r\n\t\t  \t\t\t\t\t'phone':mobile,\r\n\t\t  \t\t\t\t\t'did':App.uuid,\r\n\t\t  \t\t\t\t\t'tk':userSign.token\r\n\t\t  \t\t\t\t})\r\n\t\t  \t\t\t\t.success(function(d){\r\n\t\t  \t\t\t\t\tif(d.status === 200){\r\n\t\t  \t\t\t\t\t\talert('',function(){\r\n\t\t  \t\t\t\t\t\t\t_this.clean();\r\n\t\t\t\t\t  \t\t\t\t_this.back();\r\n\t\t\t\t\t  \t\t\t},'','');\r\n\t\t  \t\t\t\t\t}else{\r\n\t\t  \t\t\t\t\t\talert(d.msg,'','','');\r\n\t\t  \t\t\t\t\t}\r\n\t\t  \t\t\t\t}).post();\r\n\t\t  \t\t\t\r\n\t\t  \t\t}\r\n\t\t  \t\t\r\n\t\t  \t\t\r\n\t\t  \t}\r\n\t\t  }\r\n\r\n\tcontent.addChild(submit);\r\n\r\n}\r\n\r\nmodule.exports = Repair;","/**\r\n * Created by UMZS on 2016/8/1.\r\n */\r\nvar Page = require('Page');\r\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar App = require('App');\r\nvar Nav = require('navbar');\r\nvar IconItem = require('IconItem');\r\nvar sign = require('model/SignModel');\r\n\r\n\r\nclass aboutUs extends Page{\r\n    constructor(data){\r\n        super({id:'aboutUs'});\r\n\r\n        this._version = data ? data : 'V1.0.1';\r\n    }\r\n    onCreate(){\r\n        super.onCreate();\r\n        initNav(this);\r\n    }\r\n\r\n    onResume(){\r\n        super.onResume();\r\n        if(!this._content){\r\n            initContent(this,this._version);\r\n        }\r\n    }\r\n\r\n    onDestroy(){\r\n        var cor = this.getChildren(),\r\n            len = cor.length;\r\n        while(len--){\r\n            this.removeChild(cor[len]);\r\n        }\r\n        super.onDestroy();\r\n        this._content = null;\r\n    }\r\n\r\n//    \r\n    onReceive(e,p){\r\n        if(e === 'click'&& p.node.listId === 'type0'){\r\n            this.to('merchantGrade');\r\n        }\r\n\r\n        if(e === 'click'&& p.node.listId === 'type1'){\r\n            this.to('companyIntro');\r\n        }\r\n        p.stopPropagation();\r\n    }\r\n}\r\n\r\n//\r\nfunction initNav (node){\r\n    var navbar = new Nav('');\r\n    navbar.el.addClass('red_nav');\r\n    node.addChild(navbar);\r\n    node._nav = navbar;\r\n}\r\n\r\n//\r\nfunction initContent(node,version){\r\n\r\n    var content = node.addChild();\r\n    content\r\n        .setSizeMode('relative','relative')\r\n        .setPosition(0,44)\r\n        .el = new DOMElement(content,{\r\n        classes:['overflow_scoll']\r\n    });\r\n\r\n    node._content = content;\r\n\r\n    var bgH = 432/750*App.width;\r\n    var headerBg = content.addChild();\r\n    headerBg\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,bgH)\r\n        .el = new DOMElement(headerBg,{\r\n        content:'<img width=\"100%\" src = \"images/setting/headerbg_01.jpg\">'\r\n    });\r\n\r\n    var icn = headerBg.addChild();\r\n    icn\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,102)\r\n        .setAlign(.5)\r\n        .setMountPoint(.5)\r\n        .setPosition(0,bgH/2)\r\n        .el = new DOMElement(icn,{\r\n        classes:['icn'],\r\n        content:`<p>${version}</p>`\r\n    });\r\n\r\n    var aboutJson = [\r\n        {'icon':'./images/setting/level.png','desc':''},\r\n        {'icon':'./images/setting/me.png','desc':''}\r\n    ];\r\n\r\n    var usBox = content.addChild();\r\n\r\n    usBox\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,2*50)\r\n        .setPosition(0,bgH)\r\n\r\n    aboutJson.forEach(function(obj,i){\r\n        var about_item = new IconItem(obj,i,50)\r\n\r\n        about_item.listId = 'type'+i;\r\n        about_item.addUIEvent('click');\r\n        usBox.addChild(about_item);\r\n    })\r\n\r\n} //initContent end\r\n\r\nmodule.exports = aboutUs;\r\n","/**\r\n * Created by UMZS on 2016/8/2.\r\n */\r\nvar Page = require('Page');\r\nvar Node = require('famous/core/Node');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar App = require('App');\r\nvar Nav = require('navbar');\r\nvar sign = require('model/SignModel.js');\r\n\r\nclass companyIntro extends Page{\r\n    constructor(){\r\n        super({id:'companyIntro'});\r\n    }\r\n    onCreate(){\r\n        super.onCreate();\r\n        initNav(this);\r\n\r\n    }\r\n\r\n    onResume(){\r\n        super.onResume();\r\n        if(!this._content){\r\n            initContent(this);\r\n        }\r\n    }\r\n\r\n    onDestroy(){\r\n        var cor = this.getChildren(),\r\n            len = cor.length;\r\n        while(len--){\r\n            this.removeChild(cor[len]);\r\n        }\r\n        super.onDestroy();\r\n        this._content = null;\r\n    }\r\n}\r\n\r\n//\r\nfunction initNav (node){\r\n    var navbar = new Nav('');\r\n    navbar.el.addClass('red_nav');\r\n    node.addChild(navbar);\r\n    node._nav = navbar;\r\n}\r\n//\r\nfunction initContent(node){\r\n    var content = node.addChild();\r\n    content\r\n        .setSizeMode('relative','relative')\r\n        .setPosition(0,44)\r\n        .el = new DOMElement(content,{\r\n        classes:['overflow_scoll']\r\n    });\r\n\r\n    node._content = content;\r\n\r\n    var bgH = 324/750*App.width;\r\n    var headerBg = content.addChild();\r\n    headerBg\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,bgH)\r\n        .el = new DOMElement(headerBg,{\r\n        content:'<img width=\"100%\" src = \"images/setting/headerbg_02.jpg\">'\r\n    });\r\n\r\n\r\n    var write = content.addChild();\r\n    write\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,235)\r\n        .setPosition(0,44+bgH)\r\n        .el = new DOMElement(write,{\r\n        classes:['write'],\r\n        content:'<h2></h2>' +\r\n        '<p><em></em></p>' +\r\n        '<p><em></em>' +\r\n        '</p>'\r\n    })\r\n}\r\n\r\nmodule.exports = companyIntro;","var Page = require('Page')\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('navbar');\r\nvar IconItem = require('IconItem');\r\nvar App = require('App');\r\nvar CrossCall = require('famous/core/CrossCall');\r\nvar Tips = require('Tips');\r\nvar Ajax = require('Ajax');\r\nvar sign = require('model/SignModel');\r\nvar versionModel = require('model/VersionModel');\r\n\r\nclass Setting extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Setting'})\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitNav(this);\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\t\t\r\n\t\tinitContent(this);\r\n\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar obj = this.getChildren(),\r\n\t\t\ti = obj.length;\r\n\r\n\t\twhile( i--){\r\n\t\t\tthis.removeChild(obj[i]);\r\n\t\t}\r\n\r\n\t\tsuper.onDestroy();\r\n\t}\r\n\r\n\tonReceive(e,p){\r\n\t\tif(e === 'click' && p.node.listId === 'type0'){\r\n\t\t\tvar version = versionModel ? versionModel.findOne().version : '1.0.5';\r\n\r\n\t\t\tversion ? this.to('aboutUs',{data:version}) : this.to('aboutUs');\r\n\t\t}\t\r\n\r\n\t\tif(e === 'click' && p.node.listId === 'type1'){\r\n\t\t\t// console.log('update');\r\n\r\n\t\t\tnew CrossCall(function(){\r\n\t\t\t\tcordova.getAppVersion.getVersionNumber(function (v) {\r\n\r\n\t   \t\t\tself._call(v);\r\n\t\t\t\t\t});\r\n\t\t\t}).exec(function(v){\r\n\t\t\t\tcheckUpdate(v);\r\n\t\t\t});\r\n\r\n\t\t\t// alert('','','','');\r\n\t\t}\t\r\n\r\n\t\tif(e === 'click'  && p.node.listId === 'type2'){\r\n\t\t\tvar userSign = sign.findOne();\r\n\t\t\tconfirm('',function(i){\r\n\t\t\t\tif(i === 1){\r\n\t\t\t\t\tnew Ajax('/users/loginout')\r\n\t\t\t\t\t\t.path({'id':userSign.id,'tk':userSign.token,'did':App.uuid})\r\n\t\t\t\t\t\t.success(function(d){\r\n\t\t\t\t\t\t\talert('',function(){\r\n\t\t\t\t\t\t\t\tsign.update({'id':userSign.id},{'token':null});\r\n\t\t\t\t\t\t\t\tnew CrossCall(function(){\r\n\t\t\t\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\t\t\t}).exec();\r\n\t\t\t\t\t\t\t},'','');\r\n\t\t\t\t\t\t}).get();\r\n\t\t\t\t}\r\n\t\t\t},'',['',''])\r\n\t\t\t\r\n\t\t} \r\n\r\n\t\tp.stopPropagation();\r\n\t}\r\n}\r\n\r\nfunction initNav(node){\r\n\tvar navbar = new Nav('');\r\n\tnavbar.el.addClass('no_color_nav');\r\n\tnode.addChild(navbar);\r\n}\r\n\r\nfunction initContent(node){\r\n\t\r\n\t//itemJson('android')\r\n\tvar SetJson = [\r\n\t\t{'icon':'./images/setting/about_us.png','desc':'','tp':'type0'},\r\n\t\t{'icon':'./images/setting/check.png','desc':'','tp':'type1'},\r\n\t\t{'icon':'./images/setting/sign_out.png','desc':'','tp':'type2'},\r\n\t]\r\n\r\n\tif(App.platform == 'ios'){\r\n\t\tSetJson = [\r\n\t\t\t{'icon':'./images/setting/about_us.png','desc':'','tp':'type0'},\r\n\t\t\t{'icon':'./images/setting/sign_out.png','desc':'','tp':'type2'},\r\n\t\t]\r\n\t}\r\n\t\r\n\t\r\n\tvar con = node.addChild();\r\n\r\n\tcon\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.el = new DOMElement(con,{\r\n\t\t\tclasses:['setting_con']\r\n\t\t});\r\n\r\n\tvar headerBg = con.addChild();\r\n\tvar bgH = 0.4226666*App.width;\r\n\r\n\theaderBg\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,bgH)\r\n\t\t.el =  new DOMElement(headerBg,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':'./images/setting/header_bg.jpg'\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tvar itemBox = con.addChild()\r\n\r\n\titemBox\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,3*50)\r\n\t\t.setPosition(0,bgH)\t\r\n\r\n\tSetJson.forEach(function(obj,i){\r\n\t\tvar setting_item = new IconItem(obj,i,50)\r\n\r\n\t\tsetting_item.listId = obj.tp;\r\n\t\tsetting_item.addUIEvent('click');\r\n\r\n\t\titemBox.addChild(setting_item); \r\n\r\n\t})\r\n}\r\n\r\n//\r\nfunction checkUpdate(v){\r\n    \tnew Ajax('/app_version/single').data({'did':App.uuid}).success(function(d){\r\n    \t\tif(d.status === 200){\r\n    \t\t\tif (d.data) {\r\n\r\n\t    \t\t\tvar data = d.data;\r\n\t    \t\t\t// console.log(data)\r\n\t    \t\t\tvar serverV = data.version.split('.')[2];\r\n\t    \t\t\tvar currentV = v.split('.')[2];\r\n\r\n\t    \t\t\tif(currentV !== serverV){\r\n\r\n\t    \t\t\t\tconfirm('',function(i){\r\n\t    \t\t\t\t\tif(i == 1){\r\n\t    \t\t\t\t\tnew CrossCall(function(data){\r\n\t\t\t\t\t\t\t\twindow.open(data.path);\r\n\t\t\t\t\t\t\t},[data]).exec();\r\n\t    \t\t\t\t\t}\r\n\t    \t\t\t\t},'',['','']);\r\n\t    \t\t\t}else{\r\n\t    \t\t\t\talert('',null,'','');\r\n\t    \t\t\t}\r\n\t    \t\t}else{\r\n\t    \t\t\talert('',null,'','');\r\n\t    \t\t}\r\n    \t\t}else{\r\n    \t\t\talert(d.msg,null,'','');\r\n    \t\t}\r\n    \t}).post();\r\n}\r\n\r\nmodule.exports = Setting;","/**\r\n * Created by UMZS on 2016/8/5.\r\n */\r\nvar Page = require('Page');\r\nvar DOMElement = require('famous/dom-renderables/DOMElement');\r\nvar Nav = require('navbar');\r\nvar App = require('App');\r\nvar CrossCall = require('famous/core/CrossCall');\r\nvar sign = require('model/SignModel');\r\nvar Ajax = require('Ajax');\r\n\r\nclass merchantGrade extends Page{\r\n    constructor(){\r\n        super({id:'merchantGrade'});\r\n    }\r\n    //\r\n    onCreate(){\r\n        super.onCreate();\r\n        initNav(this);\r\n        this.tabList = [];\r\n\r\n        var userSign = sign.findOne();\r\n        this.userId = userSign.id;\r\n        this.token = userSign.token;\r\n\r\n        new Ajax('/grade/lists_user')\r\n            .data({\r\n                'id':this.userId,\r\n                'did':App.uuid,\r\n                'tk':this.token\r\n            })\r\n            .success(function(d){\r\n                if(d.status === 200){\r\n                    this.listsUser = d.data.reverse();\r\n                }\r\n            }.bind(this)).post();\r\n    }\r\n\r\n    onResume(){\r\n        super.onResume();\r\n        if(!this.headBg){\r\n            initContent(this,this.listsUser);\r\n        }\r\n\r\n    }\r\n    //\r\n    onDestroy(){\r\n        var obj = this.getChildren(),\r\n            i = obj.length;\r\n        while(i--){\r\n            this.removeChild(obj[i]);\r\n        }\r\n        super.onDestroy();\r\n        this.headBg = null;\r\n    }\r\n\r\n    onReceive(e,p){\r\n        if(e === 'click' && p.node.listId === 'tab'){\r\n            var  allChild = p.node.getParent().getChildren(),\r\n                len = allChild.length;\r\n            for(var i = 0; i < len;i++ ){\r\n                allChild[i].el.removeClass('tab_color');\r\n            }\r\n\r\n            p.node.el.addClass('tab_color');\r\n\r\n            new Ajax('/grade_config/lists_id')\r\n                .data({\r\n                    'gid': p.node.gId,\r\n                    'id':this.userId,\r\n                    'did':App.uuid,\r\n                    'tk':this.token\r\n                })\r\n                .success(function(d){\r\n                    if(d.status === 200 ){\r\n                        var liData = d.data;\r\n                        var htmlStr = '';\r\n                        if(liData != null){\r\n                            for(var i = 0;i<liData.length;i++){\r\n                                htmlStr += `<li><em>${liData[i].name}</em><span>${liData[i].desc}</span></li>`;\r\n                            }\r\n                        }else{\r\n                            htmlStr = '<img src=\"./images/setting/levelblank.png\">';\r\n                        }\r\n                        this.mes.el.setContent(`<ul>${htmlStr}</ul>`);\r\n                    }\r\n                }.bind(this)).post();\r\n        }\r\n        p.stopPropagation();\r\n    }\r\n}\r\n//\r\nfunction initNav(node){\r\n    var navbar = new Nav('',function(){\r\n        //console.log( node.tabList);\r\n        for(var i =0;i<node.tabList.length;i++){\r\n            node.tabList[i].el.removeClass('tab_color')\r\n        }\r\n\r\n\r\n    });\r\n    navbar.el.addClass('white_nav');\r\n    node.addChild(navbar);\r\n}\r\n\r\n//\r\nfunction initContent(node,listsUser){\r\n    var _this = node;\r\n    var bgSize = App.width*315/750;\r\n    var headBg = _this.addChild();\r\n    headBg\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,bgSize)\r\n        .setPosition(0,44)\r\n        .el = new DOMElement(headBg,{\r\n        content:'<img width=\"100%\" src=\"./images/setting/grade_bg.jpg\">'\r\n    });\r\n\r\n    node.headBg = headBg;\r\n\r\n    var merchant = _this.addChild();\r\n    merchant\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,50)\r\n        .setPosition(0,44+bgSize)\r\n        .el = new DOMElement(merchant,{\r\n        classes:['merchant']\r\n    });\r\n\r\n    for(var i = 0; i<listsUser.length;i++){\r\n        var tab = merchant.addChild();\r\n        tab\r\n            .setAlign(i/3)\r\n            .setProportionalSize(1/3)\r\n            .el = new DOMElement(tab,{\r\n            classes:['tab'],\r\n            content:'<span>'+listsUser[i].name+'</span>'\r\n        });\r\n\r\n        tab.addUIEvent('click');\r\n        tab.listId = 'tab';\r\n        tab.gId = listsUser[i].id;\r\n\r\n        i == 0 &&  tab.el.addClass('tab_color');\r\n\r\n        _this.tabList.push(tab);\r\n    }\r\n\r\n    _this.mes = _this.addChild();\r\n    _this.mes\r\n        .setSizeMode('relative','absolute')\r\n        .setAbsoluteSize(null,App.height-44-bgSize-50-10)\r\n        .setPosition(0,44+bgSize+50+10)\r\n        .setAlign(.5)\r\n        .setMountPoint(.5)\r\n        .el = new DOMElement(_this.mes,{\r\n        classes:['mes','overflow_scoll']\r\n    });\r\n\r\n    new Ajax('/grade_config/lists_id')\r\n        .data({\r\n            'gid':1,\r\n            'id':_this.userId,\r\n            'did':App.uuid,\r\n            'tk':_this.token\r\n        })\r\n        .success(function(d){\r\n            if(d.status === 200){\r\n                var htmlStr = '';\r\n                var firData = d.data;\r\n\r\n                if(firData != null){\r\n                    for(var i = 0;i<firData.length;i++){\r\n                        htmlStr += `<li><em>${firData[i].name}</em><span>${firData[i].desc}</span></li>`;\r\n                    }\r\n                    _this.mes.el.setContent(`<ul>${htmlStr}</ul>`)\r\n                }else{\r\n                    _this.mes.el.setContent(`<img src=\"./images/setting/levelblank.png\">`)\r\n                }\r\n            }\r\n      }).post();\r\n\r\n}// initContent end\r\n\r\nmodule.exports = merchantGrade;","var DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Page = require('Page');\r\nvar Nav = require('navbar');\r\nvar Button = require('button');\r\nvar InputCustom = require('inputCustom');\r\nvar App = require('App');\r\nvar Tips = require('Tips');\r\nvar Ajax = require('Ajax');\r\n\r\n\r\nvar pwd = '',\r\n\trpwd = ''; \r\n\r\nclass ResetPwd extends Page{\r\n\tconstructor(data){\r\n\t\tsuper({id:'ResetPwd'});\r\n\r\n\t\tthis.data = data;\r\n\t\t// console.log(data);\r\n\t}\r\n\r\n\tonCreate(data){\r\n\t\tsuper.onCreate();\r\n\t\tinitHeader(this);\r\n\t\t\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tif(!this._formCon){\r\n\t\t\tinitForm(this);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tthis._formCon = null;\r\n\t}\r\n}\r\n\r\n//\r\nfunction initHeader(node){\r\n\tvar navbar = new Nav('');\r\n\tnavbar.el.addClass('no_color_nav');\r\n\tnode.addChild(navbar);\r\n\r\n\tvar resetBg = node.addChild();\r\n\r\n\tresetBg\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,0.741333*App.width)\r\n\t\t.el = new DOMElement(resetBg,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':'./images/sign/setpwd_bg.jpg'\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tvar logo = node.addChild();\r\n\t\r\n\tlogo\r\n\t\t.setSizeMode('absolute','absolute')\r\n\t\t.setAbsoluteSize(90,90)\r\n\t\t.setAlign(0.5,0.2)\r\n\t\t.setMountPoint(0.5,0.2)\r\n\t\t.el = new DOMElement(logo,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':'./images/sign/login_logo.png'\r\n\t\t\t}\r\n\t\t})\t\r\n\r\n}\r\n\r\n//\r\nfunction initForm(node){\r\n\tvar _this = node;\r\n\tvar FormCon = node.addChild();\r\n\r\n\tFormCon\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setProportionalSize(0.7,0.5)\r\n\t\t.setAlign(.5,.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(FormCon,{\r\n\t\t\tclasses:['form_con']\r\n\t\t})\r\n\r\n\tnode._formCon = FormCon; \t\r\n\r\n\t\r\n\r\n\r\n\tvar pwdInput_1 = FormCon.addChild(new InputCustom());\r\n\r\n\tpwdInput_1\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.8)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(pwdInput_1,{\r\n\t\t\tclasses:['pwd_input'],\r\n\t\t\tattributes:{\r\n\t\t\t\t'type':'password',\r\n\t\t\t\t'placeholder':'',\r\n\t\t\t\t'maxlength':12\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tpwdInput_1.inputEvent = function(e,p){\r\n\t\tpwd = p.value;\r\n\t}\r\n\r\n\tvar pwdInput_2 = FormCon.addChild(new InputCustom());\r\n\r\n\tpwdInput_2\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.8)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.setPosition(0,50+20)\r\n\t\t.el = new DOMElement(pwdInput_2,{\r\n\t\t\tclasses:['pwd_input'],\r\n\t\t\tattributes:{\r\n\t\t\t\t'type':'password',\r\n\t\t\t\t'placeholder':'',\r\n\t\t\t\t'maxlength':12\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tpwdInput_2.inputEvent = function(e,p){\r\n\t\trpwd = p.value;\r\n\t}\r\n\r\n\r\n\tvar submitBtn = FormCon.addChild(new Button(''));\r\n\r\n\tsubmitBtn\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setPosition(0,135+20)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(submitBtn,{\r\n\t\t\tclasses:['submit_btn']\r\n\t\t})\r\n\r\n\tsubmitBtn.clickEvent = function(e,p){\r\n\r\n\t\tif(!pwd || ! rpwd){\r\n\t\t\talert('','','','');\r\n\t\t\treturn false;\r\n\r\n\t\t}else if(pwd != rpwd){\r\n\t\t\talert('','','','');\r\n\t\t\treturn false;\r\n\t\t}else{\r\n\t\t\tnew Ajax('/users/retrieve')\r\n\t\t\t\t.data({\r\n\t\t\t\t\t'phone':_this.data.tel,\r\n\t\t\t\t\t'vcode':_this.data.vcode,\r\n\t\t\t\t\t'pwd':pwd,\r\n\t\t\t\t\t'rpwd':rpwd,\r\n\t\t\t\t\t'did':App.uuid\r\n\t\t\t\t})\r\n\t\t\t\t.success(function(d){\r\n\t\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\t\t_this.to('home');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\talert(d.msg,'','','');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).post();\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n}\r\n\r\nmodule.exports = ResetPwd;","var DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Page = require('Page');\r\nvar Button = require('button');\r\nvar InputCustom = require('inputCustom');\r\nvar Tips = require('Tips');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar sign = require('model/SignModel');\r\n\r\nvar phoneNum = '',\r\n\tpsd = '';\r\n\r\nclass Login extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'Login'});\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\r\n\t\tinitContent(this);\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\r\n\t}\r\n}\r\n\r\nfunction initContent(node){\r\n\tvar _this = node;\r\n\r\n\tvar logo = node.addChild();\r\n\t\r\n\tlogo\r\n\t\t.setSizeMode('absolute','absolute')\r\n\t\t.setAbsoluteSize(90,90)\r\n\t\t.setAlign(0.5,0.2)\r\n\t\t.setMountPoint(0.5,0.2)\r\n\t\t.el = new DOMElement(logo,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':'./images/sign/login_logo.png'\r\n\t\t\t}\r\n\t\t})\r\n\r\n\r\n\tvar loginCon = node.addChild();\r\n\r\n\tloginCon\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setProportionalSize(0.7,0.5)\r\n\t\t.setAlign(.5,.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(loginCon,{\r\n\t\t\tclasses:['login_con']\r\n\t\t})\r\n\r\n\t\r\n\r\n\t//input\r\n\tvar phoneInput = loginCon.addChild(new InputCustom());\r\n\r\n\tphoneInput\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.8)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(phoneInput,{\r\n\t\t\tclasses:['phone_input'],\r\n\t\t\tattributes:{\r\n\t\t\t\t'type':'tel',\r\n\t\t\t\t'maxlength':'11',\r\n\t\t\t\t'placeholder':''\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tphoneInput.inputEvent = function(e,p){\r\n\t\tphoneNum = p.value;\r\n\t}\r\n\r\n    //input\r\n\tvar pwdInput = loginCon.addChild(new InputCustom());\r\n\r\n\tpwdInput\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.8)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.setPosition(0,50+20)\r\n\t\t.el = new DOMElement(pwdInput,{\r\n\t\t\tclasses:['password_input'],\r\n\t\t\tattributes:{\r\n\t\t\t\t'type':'password',\r\n\t\t\t\t'placeholder':''\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tpwdInput.inputEvent = function(e,p){\r\n\t\tpsd = p.value;\r\n\t}\r\n\r\n\t//\r\n\tvar loginBtn = loginCon.addChild(new Button(''));\r\n\r\n\tloginBtn\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setPosition(0,135+20)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(loginBtn,{\r\n\t\t\tclasses:['login_btn']\r\n\t\t})\r\n\r\n\tloginBtn.clickEvent = function(e,p){\r\n\t\tif(!/^(\\+?86 ?)?1\\d{10}$/g.test(phoneNum)){\r\n\t\t\talert('','','','');\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar userSign = sign.findOne();\r\n\r\n\t\tnew Ajax('users/login')\r\n\t\t\t.data({'name':phoneNum,'pwd':psd,'did':App.uuid})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\tvar data = d.data;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(userSign){\r\n\t\t\t\t\t\tsign.update({'id':userSign.id},{'id':data.id,'token':data.tk,'tel':phoneNum,'first':false});\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsign.save({'id':data.id,'token':data.tk,'tel':phoneNum,'first':true});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_this.to('home',{data:{'checkLogin':0}});\r\n\t\t\t\t\tphoneInput.el.setAttribute('value','').draw();\r\n\t\t\t\t\tpwdInput.el.setAttribute('value','').draw();\r\n\t\t\t\t\tphoneNum = '';\r\n\t\t\t\t\tpsd = '';\r\n\r\n\t\t\t\t\t_this.onDestroy();\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\talert(d.msg,'','','');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.error(function(){\r\n\t\t\t\talert('','','','');\r\n\t\t\t})\r\n\t\t\t.timeout(function(){\r\n\t\t\t\talert('','','','');\r\n\t\t\t}).post();\r\n\t}\r\n\r\n\t//\r\n\tvar changePwd = loginCon.addChild(new Button(''));\r\n\r\n\tchangePwd\r\n\t\t.setSizeMode('absolute','absolute')\r\n\t\t.setAbsoluteSize(80,30)\r\n\t\t.setAlign(.5,.9)\r\n\t\t.setMountPoint(.5,.9)\r\n\t\t.el = new DOMElement(changePwd,{\r\n\t\t\tclasses:['change_pwd']\r\n\t\t})\r\n\r\n\tchangePwd.clickEvent = function(e,p){\r\n\t\t_this.to('resetPwd',{data:{'checkLogin':0}});\r\n\r\n\t}\r\n\t\t\r\n}\r\n\r\n\r\nmodule.exports = Login;\r\n","var DOMElement   = require('famous/dom-renderables/DOMElement');\r\nvar Page = require('Page');\r\nvar Nav = require('navbar');\r\nvar Button = require('button');\r\nvar InputCustom = require('inputCustom');\r\nvar App = require('App');\r\nvar Ajax = require('Ajax');\r\nvar Tips = require('Tips');\r\n\r\nvar phoneNum = '',\r\n\tcodeNum = '';\r\nvar timer = null;\r\nvar loading = false;\r\n\r\nclass ResetPwd extends Page{\r\n\tconstructor(){\r\n\t\tsuper({id:'ResetPwd'});\r\n\t}\r\n\r\n\tonCreate(){\r\n\t\tsuper.onCreate();\r\n\t\tinitHeader(this);\r\n\t}\r\n\r\n\tonResume(){\r\n\t\tsuper.onResume();\r\n\r\n\t\tif(!this._fromCon){\r\n\t\t\tinitForm(this);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tonDestroy(){\r\n\t\tvar _this = this,\r\n\t\tobj = this.getChildren(),\r\n\t\ti = obj.length;\r\n\r\n\t\twhile(i--)\r\n\t\t\tthis.removeChild(obj[i]);\r\n\r\n\t\tsuper.onDestroy();\r\n\t\tthis._fromCon = null;\r\n\t}\r\n}\r\n\r\nfunction initHeader(node){\r\n\tvar navbar = new Nav('');\r\n\tnavbar.el.addClass('no_color_nav');\r\n\tnode.addChild(navbar);\r\n\r\n\tvar resetBg = node.addChild();\r\n\r\n\tresetBg\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,0.741333*App.width)\r\n\t\t.el = new DOMElement(resetBg,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':'./images/sign/setpwd_bg.jpg'\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tvar logo = node.addChild();\r\n\t\r\n\tlogo\r\n\t\t.setSizeMode('absolute','absolute')\r\n\t\t.setAbsoluteSize(90,90)\r\n\t\t.setAlign(0.5,0.2)\r\n\t\t.setMountPoint(0.5,0.2)\r\n\t\t.el = new DOMElement(logo,{\r\n\t\t\ttagName:'img',\r\n\t\t\tattributes:{\r\n\t\t\t\t'src':'./images/sign/login_logo.png'\r\n\t\t\t}\r\n\t\t})\t\r\n\r\n}\r\n\r\nfunction initForm(node){\r\n\tvar _this = node;\r\n\tvar FormCon = node.addChild();\r\n\r\n\tFormCon\r\n\t\t.setSizeMode('relative','relative')\r\n\t\t.setProportionalSize(0.7,0.5)\r\n\t\t.setAlign(.5,.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(FormCon,{\r\n\t\t\tclasses:['form_con']\r\n\t\t})\r\n\r\n\tnode._fromCon = FormCon;\t\r\n\t\r\n\r\n\r\n\tvar phoneInput = FormCon.addChild(new InputCustom());\r\n\r\n\tphoneInput\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.8)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(phoneInput,{\r\n\t\t\tclasses:['phone_input'],\r\n\t\t\tattributes:{\r\n\t\t\t\t'type':'tel',\r\n\t\t\t\t'maxlength':'11',\r\n\t\t\t\t'placeholder':''\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tphoneInput.inputEvent = function(e,p){\r\n\t\tphoneNum = p.value;\r\n\t}\r\n\r\n\tvar codeBox = FormCon.addChild();\r\n\r\n\tcodeBox\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.8)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.setPosition(0,50+20)\r\n\t\t.el = new DOMElement(codeBox,{\r\n\t\t\tclasses:['code_box']\r\n\t\t})\r\n\r\n\tvar codeInput = codeBox.addChild(new InputCustom());\r\n\r\n\tcodeInput\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setProportionalSize(.4)\r\n\t\t.el = new DOMElement(codeInput,{\r\n\t\t\tclasses:['code_input'],\r\n\t\t\tattributes:{\r\n\t\t\t\t'type':'text',\r\n\t\t\t\t'placeholder':'',\r\n\t\t\t\t'maxlength':'6'\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tcodeInput.inputEvent = function(e,p){\r\n\t\tcodeNum = p.value;\r\n\t}\r\n\r\n\tvar codeBtn = codeBox.addChild(new Button(''));\r\n\r\n\tcodeBtn\r\n\t\t.setSizeMode('absolute','absolute')\r\n\t\t.setAbsoluteSize(85,25)\r\n\t\t.setPosition(0,18)\r\n\t\t.setAlign(1)\r\n\t\t.setMountPoint(1)\r\n\t\t.el = new DOMElement(codeBtn,{\r\n\t\t\tclasses:['code_btn']\r\n\t\t})\r\n\r\n\tcodeBtn.clickEvent = function(e,p){\r\n\t\t\r\n\t\tif(!/^(\\+?86 ?)?1\\d{10}$/g.test(phoneNum)){\r\n\t\t\talert('','','','');\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tnew Ajax('/users/vcode')\r\n\t\t\t.path({'phone':phoneNum,'gtype':2,'did':App.uuid})\r\n\t\t\t.success(function(d){\r\n\t\t\t\tif(d.status === 200){\r\n\t\t\t\t\talert('3',codeTimer(codeBtn,d.data.time),'','');\r\n\t\t\t\t}else{\r\n\t\t\t\t\talert(d.msg,'','','');\r\n\t\t\t\t}\r\n\t\t\t}).get();\r\n\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\r\n\tvar nextBtn = FormCon.addChild(new Button(''));\r\n\r\n\tnextBtn\r\n\t\t.setSizeMode('relative','absolute')\r\n\t\t.setAbsoluteSize(null,50)\r\n\t\t.setPosition(0,135+20)\r\n\t\t.setAlign(.5)\r\n\t\t.setMountPoint(.5)\r\n\t\t.el = new DOMElement(nextBtn,{\r\n\t\t\tclasses:['login_btn']\r\n\t\t})\r\n\r\n\tnextBtn.clickEvent = function(e,p){\r\n\t\tif(!/^(\\+?86 ?)?1\\d{10}$/g.test(phoneNum)){\r\n\t\t\talert('','','','');\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif(!codeNum){\r\n\t\t\talert('','','','');\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t_this.to('confirmPwd',{data:{'tel':phoneNum,'vcode':codeNum,'checkLogin':0}});\r\n\t\t\r\n\t\tphoneNum = '';\r\n\t\tcodeNum = '';\r\n\t\tclearValue([phoneInput,codeInput]);\r\n\t}\r\n}\r\n\r\n//\r\nfunction codeTimer(node,t){\r\n\tvar _this = node;\r\n\tvar time = t;\r\n\t\r\n\tif(!loading){\r\n\t\t_this.el.setContent(time+'s');\r\n\t\ttimer = setInterval(function(){\r\n\t\t\tloading = true;\r\n\t\t\ttime--;\r\n\t\t\tif(time < 0){\r\n\t\t\t\tclearInterval(timer);\r\n\t\t\t\t_this.el.setContent('');\r\n\t\t\t\tloading = false;\r\n\t\t\t}else{\r\n\t\t\t\t_this.el.setContent(time+'s');\r\n\t\t\t}\r\n\r\n\t\t},1000)\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n//value\r\nfunction clearValue(obj){\r\n\tobj.forEach(function(o){\r\n\t\to.el.setAttribute('value','').draw();\r\n\t});\r\n\t\r\n}\r\n\r\nmodule.exports = ResetPwd;","var FamousEngine = require('famous/core/FamousEngine');\r\nvar CrossCall = require('famous/core/CrossCall');\r\n\t// require( 'StorageModel' );\r\nvar App = require('App');\r\n\trequire( 'Dialogs' );\r\nvar Tips = require('Tips');\r\nvar sign = require('model/SignModel');\r\n\r\nnew CrossCall(function (){\r\n\tvar App = {};\r\n\r\n\t// \r\n\r\n\tvar device = {\r\n\t\tuuid: '0123456789',\r\n\t\tmodel: 'x86',\r\n\t\tversion: '9.0',\r\n\t\tplatform: 'android'\r\n\t};\r\n\r\n\tApp.height = screen.height;\r\n\t// \r\n\tApp.width = screen.width;\r\n\t// \r\n\tApp.devicePixelRatio = 2;\r\n\t// uuid\r\n\tApp.uuid = device.uuid.toLowerCase();\r\n\t// \r\n\tApp.model = device.model;\r\n\t// \r\n\tApp.version = device.version;\r\n\t//  IOS / ANDROID\r\n\tApp.platform = device.platform.toLowerCase();\r\n\r\n\tself._call(App);\r\n\t\r\n\t\r\n    \r\n}).exec(function (arg) {\r\n\t// FamousEngine.createScene();\r\n\tvar Scene = FamousEngine.createScene();\r\n   \r\n\t\r\n\tfor (var k in arg) {\r\n\t\tApp[k] = arg[k];\r\n\t}\r\n\r\n\tScene.addChild( Tips );\r\n\tTips.hide();\r\n    \r\n    var userSign = sign.findOne();\r\n\r\n    if(userSign && userSign.token){\r\n\t\trequire( 'Router' ).load('home').setAlign(0,0,0);\r\n    }else{\r\n    \trequire( 'Router' ).load('login').setAlign(0,0,0);\r\n    }\r\n\t\r\n\r\n\r\n});\r\n"],"sourceRoot":"/source/"}