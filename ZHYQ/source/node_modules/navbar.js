/*
navigation：顶部导航条
author：hei
*/

var FamousEngine = require('famous/core/FamousEngine');
var DOMElement   = require('famous/dom-renderables/DOMElement');
var Node = require('famous/core/Node');
var Button = require('button');

//顶部导航条
function navbar(title,fun){
	Node.call(this);
	this.fun = fun;
	var _this = this;
	this
		.setAlign(0,0)
		.setSizeMode(0,1)
		.setAbsoluteSize(null,44)
		.el = new DOMElement(this,{
			classes:["navbar"],
			content:"<p class='font-lg text-center'><a class='goback'></a><span>"+ title +"</span></p>"
		});
	this.backButton = this.addChild(new Button(" ","","navBackBtn"));
	this.backButton.setSizeMode('absolute','absolute')
				  .setAbsoluteSize(80,44)
				  .setPosition(0,0);
	this.backButton.el = new DOMElement(this.backButton);
	this.backButton.clickEvent = function(e,p){
			if(_this.fun){
				_this.fun();
			}
			_this.getParent().back();
			
			p.stopPropagation();
	};
	
}

navbar.prototype = Object.create(Node.prototype);
navbar.prototype.constructor = navbar;
navbar.prototype.setTitle = function(title){
	this.el.setContent("<p class='font-lg text-center'><a class='goback'></a><span>"+ title +"</span></p>")

};
module.exports = navbar;