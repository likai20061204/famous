var Node = require('famous/core/Node');
var DOMElement = require('famous/dom-renderables/DOMElement');

class IconText extends Node{
	constructor(obj,i,countX,sizeY,mt,cls){
		super()

		this
			.setSizeMode('relative','absolute')
			.setAbsoluteSize(null,sizeY)
			.setProportionalSize(1/countX)
			.setPosition(0,(Math.floor(i/countX)) * sizeY + (Math.floor(i/countX) + 1 ) * mt)
			.setAlign(i % countX/countX,0)
			.el = new DOMElement(this,{
				classes:[cls,'fa-button'],
				content:'<img src="'+obj.icon+'"><p>'+obj.text+'</p>'
			})

		this.listId = IconText;
		this.addUIEvent('touchstart');
		this.addUIEvent('touchend');
	
	}

	onReceive(e,p){
		if(e === 'touchstart'){
			this.el.addClass("bt-active");
		}else if( e === 'touchend'){
			this.el.removeClass("bt-active");
		}
	}
}

module.exports = IconText;